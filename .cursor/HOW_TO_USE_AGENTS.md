# Как использовать агентов в Cursor IDE

## Способ 1: Через чат Cursor (рекомендуется)

### Шаг 1: Откройте чат Cursor

1. Нажмите `Ctrl+L` (Windows) или `Cmd+L` (Mac) для открытия чата
2. Или нажмите на иконку чата в правом верхнем углу Cursor

### Шаг 2: Упомяните агента и Issue

Введите в чат:

```
@agent-idea-writer Разработай концепцию системы уведомлений для игры в стиле Cyberpunk 2077. Задача находится в Issue #9: https://github.com/gc-lover/necpgame-monorepo/issues/9
```

Или более короткий вариант:

```
@agent-idea-writer Работай с Issue #9 - разработай концепцию системы уведомлений
```

### Шаг 3: Агент автоматически

- Прочитает Issue #9 через MCP GitHub
- Применит правила из `.cursor/rules/agent-idea-writer.mdc`
- Создаст детальную концепцию
- Предложит обновить Issue с результатами

## Способ 2: Через контекст Issue

### Шаг 1: Откройте Issue в браузере

1. Откройте: https://github.com/gc-lover/necpgame-monorepo/issues/9
2. Скопируйте содержимое Issue

### Шаг 2: Вставьте в чат Cursor

1. Откройте чат Cursor (`Ctrl+L`)
2. Вставьте содержимое Issue
3. Добавьте команду:

```
@agent-idea-writer Проработай эту задачу согласно критериям приемки
```

## Способ 3: Через файл в проекте

### Шаг 1: Создайте файл с задачей

Создайте файл `tasks/issue-9-notifications.md`:

```markdown
# Issue #9: Система уведомлений

## Описание
[вставьте описание из Issue]

## Критерии приемки
[вставьте критерии]
```

### Шаг 2: Откройте файл и используйте чат

1. Откройте файл в Cursor
2. Нажмите `Ctrl+L` для чата
3. Введите:

```
@agent-idea-writer Проработай задачу из открытого файла
```

## Как агенты находят свои задачи

Агенты могут находить задачи тремя способами:

### Способ 1: Поиск через MCP GitHub (автоматический)

Вы можете попросить агента найти свои задачи:

```
@agent-idea-writer Покажи все открытые задачи для Idea Writer
```

Агент:
1. Использует MCP GitHub для поиска Issues с меткой `agent:idea-writer`
2. Проверяет Project статус через MCP GitHub
3. Показывает список найденных задач
4. Спрашивает, с какой начать

### Способ 2: Явное указание задачи

Вы можете явно указать задачу:

```
@agent-idea-writer Работай с Issue #9
```

Агент:
1. Прочитает Issue #9 через MCP GitHub
2. Проверит, что задача для него (метка `agent:idea-writer`)
3. Проверит статус (не обработана ли уже)
4. Начнет работу

### Способ 3: Автоматические уведомления

GitHub Actions автоматически:
- Добавляет метки при создании Issue
- Обновляет Project статус
- Комментирует в Issue, когда задача готова

Агент может проверить комментарии в Issue для понимания готовности.

**Подробнее:** см. `.cursor/rules/AGENT_TASK_DISCOVERY.md`

## Что происходит при использовании @agent-idea-writer

1. **Активация правил:**
   - Cursor загружает `.cursor/rules/agent-idea-writer.mdc`
   - Применяет правила для Idea Writer агента

2. **Поиск задачи:**
   - Если вы указали Issue #9, агент прочитает его через MCP GitHub
   - Если вы попросили найти задачи, агент выполнит поиск через MCP GitHub
   - Агент проверит статус задачи перед началом работы

3. **Чтение контекста:**
   - Агент прочитает Issue через MCP GitHub
   - Изучит критерии приемки
   - Поймет требования
   - Проверит, не обработана ли задача уже

4. **Создание концепции:**
   - Разработает детальное описание
   - Создаст лор для системы
   - Опишет визуальный дизайн
   - Определит типы уведомлений

5. **Формат вывода:**
   - Markdown формат
   - Структурированные разделы
   - Готово для обновления Issue

## Примеры команд для Idea Writer

### Базовый пример:
```
@agent-idea-writer Создай идею для системы крафта в стиле Cyberpunk 2077
```

### С Issue:
```
@agent-idea-writer Работай с Issue #9 - разработай концепцию системы уведомлений
```

### С детальными требованиями:
```
@agent-idea-writer Разработай концепцию системы уведомлений:
- Визуальные уведомления на HUD
- Звуковые сигналы
- Уведомления о квестах, сообщениях, достижениях
- Настройки персонализации
Стиль: Cyberpunk 2077
```

### С контекстом проекта:
```
@agent-idea-writer Изучи Issue #9 и создай детальную концепцию системы уведомлений. 
Учти, что это MMOFPS RPG игра в стиле Cyberpunk 2077 с лутинг шутер механиками.
```

## После работы агента

### Шаг 1: Проверьте результат

Агент создаст:
- Детальное описание концепции
- Лор для системы
- Визуальный дизайн
- Типы уведомлений
- Систему приоритетов

### Шаг 2: Обновите Issue

1. Скопируйте результат от агента
2. Откройте Issue #9 в GitHub
3. Добавьте комментарий с результатами
4. Или обновите описание Issue

### Шаг 3: Отметьте критерии приемки

После завершения работы отметьте чекбоксы в Issue:
```
- [x] Описана концепция визуального дизайна уведомлений
- [x] Определены типы уведомлений
- [x] Описана система приоритетов
- [x] Создан лор для системы уведомлений
- [x] Описаны настройки персонализации
```

### Шаг 4: Автоматический переход

После отметки всех чекбоксов:
- `agent-stage-transition.yml` автоматически переведет Issue на этап `architect`
- Обновятся метки и статус в Project

## Troubleshooting

### Агент не активируется

1. Проверьте, что файл `.cursor/rules/agent-idea-writer.mdc` существует
2. Убедитесь, что используете правильный синтаксис: `@agent-idea-writer`
3. Перезапустите Cursor

### Агент не читает Issue

1. Проверьте, что MCP GitHub настроен (см. `.cursor/AGENT_REVIEW_SETUP.md`)
2. Убедитесь, что Issue #9 существует и доступен
3. Попробуйте явно указать URL Issue в команде

### Агент не следует правилам

1. Проверьте, что `.cursor/rules/agent-idea-writer.mdc` закоммичен
2. Убедитесь, что `alwaysApply: false` (агент активируется только при упоминании)
3. Перезапустите Cursor

## Полезные ссылки

- Issue #9: https://github.com/gc-lover/necpgame-monorepo/issues/9
- Правила агента: `.cursor/rules/agent-idea-writer.mdc`
- Конфигурация агентов: `.cursor/agents-config.md`
- Тестирование workflow: `.github/TESTING_WORKFLOW.md`

