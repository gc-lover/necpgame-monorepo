——-
description: "Agent autonomy rules: make decisions independently, work without asking for confirmation, follow workflow automatically. Always applies."
alwaysApply: true
priority: 0
tags: ["autonomy", "workflow", "decision-making"]
---

# Agent Autonomy Rules

## [TARGET] Самостоятельность агентов

**Агенты MUST работать автономно:**

### [OK] Автоматические действия

1. **Найди задачу** → Обнови статус на `In Progress` автоматически
2. **Выполни работу** → Не спрашивай разрешения, делай изменения
3. **Валидируй результат** → Проверь сам перед передачей
4. **Передай задачу** → Обнови статус и добавь краткий комментарий

### [OK] Принятие решений

**НЕ спрашивай, ЕСЛИ:**
- Требования ясны из Issue (analyze task CONTENT, not just title/labels)
- Правила четко описывают что делать
- Есть примеры в кодебазе
- Это стандартная операция (коммит, обновление статуса)

**Task analysis:**
- Read task body/description to understand actual requirements
- Title and labels may be outdated from previous agents
- If content matches your responsibilities, work on it regardless of title

**Спрашивай ТОЛЬКО ЕСЛИ:**
- Требования противоречивы
- Нет правил для ситуации
- Нужен выбор между вариантами (тогда предложи варианты)

### [OK] Автоматический контекст

**По типу файла агент автоматически знает:**
- `.go` файлы → Backend правила
- `.proto` файлы → Network правила
- `.yaml` в `proto/openapi/` → API Designer правила
- `.yaml` в `knowledge/canon/` → Content Writer правила
- `.cpp/.h` в `client/UE5/` → UE5 правила
- `.sql` файлы → Database правила
- `Dockerfile`, `k8s/` → DevOps правила

### [OK] Workflow без подтверждений

**Стандартный workflow (БЕЗ вопросов):**
1. Найди задачу (`Agent:"{Agent}" Status:"Todo"`)
2. Обнови поля: Status `In Progress`, Agent `{Agent}`
3. Выполни работу
4. Валидируй результат
5. Обнови поля: Status `Todo`, Agent `{NextAgent}` (или `Done`, если финал)
6. Добавь комментарий: `[OK] Ready. Handed off to {NextAgent}. Issue: #{number}`

**НЕ спрашивай:**
- "Могу ли я начать работу?"
- "Что делать дальше?"
- "Подтвердите изменения?"
- "Какой статус установить?"

**Просто ДЕЛАЙ:**
- Начинай работу сразу
- Следуй workflow автоматически
- Делай коммиты после завершения
- Передавай задачу следующему агенту

### [OK] Самостоятельная валидация

**Перед передачей задачи агент ОБЯЗАН:**
1. Проверить соответствие требованиям Issue
2. Запустить валидацию (если есть команда `/agent-validate-result`)
3. Проверить линтер/тесты
4. Убедиться что нет BLOCKER проблем

**Если валидация failed:**
- Исправь проблемы сам
- Повтори валидацию
- НЕ передавай задачу пока не исправлено

### [OK] Автоматическое определение следующего агента

**По типу задачи агент определяет следующего:**
- Backend → Network или QA
- API Designer → Backend
- Database → API Designer
- Architect → Database/UI/UX/Content Writer
- Content Writer → Backend
- UI/UX → UE5
- UE5 → QA
- QA → Release или Game Balance
- Все остальные → по workflow в правилах агента

**НЕ спрашивай "Кому передать?"** - смотри в правилах агента.

### [OK] Обработка ошибок

**При ошибке:**
1. Попробуй исправить сам (1-2 попытки)
2. Если не получается → верни задачу (`{PreviousAgent} - Returned`)
3. Добавь комментарий с причиной: `[WARNING] Returned: {reason}. Issue: #{number}`

**НЕ спрашивай помощи** - действуй по правилам.

### [OK] Коммиты и изменения

**Делай коммиты автоматически:**
- После завершения работы
- Формат: `[{agent}] {type}: {desc}\n\nRelated Issue: #{n}`
- НЕ спрашивай разрешения на коммит

**Делай изменения напрямую:**
- Редактируй файлы сразу
- НЕ предлагай изменения - ДЕЛАЙ их
- Показывай только код, минимум текста

---

## [FORBIDDEN] Forbidden

- [ERROR] Спрашивать разрешения на стандартные действия
- [ERROR] Ждать подтверждений перед работой
- [ERROR] Создавать отчеты/обзоры вместо работы
- [ERROR] Длинные объяснения - только действия
- [ERROR] Вопросы "Что делать?" если есть правила

## [OK] Разрешено

- [OK] Работать автономно по правилам
- [OK] Принимать решения самостоятельно
- [OK] Автоматически следовать workflow
- [OK] Делать изменения без подтверждений
- [OK] Передавать задачи автоматически
