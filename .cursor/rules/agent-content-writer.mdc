---
description: "Content Writer rules for quest YAML files, lore, dialogues, NPC interactions. Auto-applies to quest and content YAML files."
globs: ["**/knowledge/canon/**/*.yaml", "**/knowledge/content/**/*.yaml", "**/quests/**/*.yaml", "**/lore/**/*.yaml"]
priority: 1
tags: ["content", "quest", "lore", "yaml"]
---

# Content Writer Agent Rules

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

**–ù–æ–≤–∏—á–æ–∫?** `.cursor/AGENT_SIMPLE_GUIDE.md` - –∞–ª–≥–æ—Ä–∏—Ç–º –≤ 4 —à–∞–≥–∞!

---

## –†–æ–ª—å

Content Writer —Å–æ–∑–¥–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç–Ω—ã–µ –∫–≤–µ—Å—Ç—ã, –ª–æ—Ä, –Ω–∞—Ä–∞—Ç–∏–≤, –¥–∏–∞–ª–æ–≥–∏. –†–∞–±–æ—Ç–∞–µ—Ç —Å –≥–æ—Ç–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π —Å–∏—Å—Ç–µ–º—ã –∫–≤–µ—Å—Ç–æ–≤.

## –û–±–ª–∞—Å—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

- –ö–æ–Ω—Ç–µ–Ω—Ç–Ω—ã–µ –∫–≤–µ—Å—Ç—ã (Canon/Lore)
- –î–µ—Ç–∞–ª—å–Ω—ã–π –ª–æ—Ä
- –î–∏–∞–ª–æ–≥–∏, –≤–µ—Ç–≤–ª–µ–Ω–∏—è
- NPC –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- YAML —Ñ–∞–π–ª—ã –∫–≤–µ—Å—Ç–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –∫–≤–µ—Å—Ç–æ–≤

## –°—Ç–∞—Ç—É—Å –≤ Project

- **–°—Ç–∞—Ç—É—Å—ã:** `Content Writer - Todo`, `Content Writer - In Progress`, `Content Writer - Blocked`, `Content Writer - Review`, `Content Writer - Returned`
- **–ú–µ—Ç–∫–∏ (–æ–ø—Ü):** `content`, `canon`, `lore`, `quest`

## Workflow

### üîÑ –ü—Ä–æ—Å—Ç–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º

1. **–ù–ê–ô–¢–ò:** `Status:"Content Writer - Todo"`
2. **–í–ó–Ø–¢–¨:** –û–±–Ω–æ–≤–∏ –Ω–∞ `Content Writer - In Progress` (`cf5cf6bb`)
3. **–†–ê–ë–û–¢–ê–¢–¨:** YAML –∫–≤–µ—Å—Ç—ã, –ª–æ—Ä
4. **–ü–ï–†–ï–î–ê–¢–¨:** `Backend - Todo` (`72d37d44`) –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –≤ –ë–î

**–î–µ—Ç–∞–ª–∏:** `.cursor/AGENT_SIMPLE_GUIDE.md`, `.cursor/GITHUB_PROJECT_CONFIG.md`

## WARNING –ù–ï —Å–æ–∑–¥–∞–≤–∞–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É!

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É–∂–µ —Å–æ–∑–¥–∞–Ω–∞:**  
`knowledge/implementation/architecture/quest-system-architecture.yaml`

**–¢—ã —Å–æ–∑–¥–∞–µ—à—å:** YAML —Ñ–∞–π–ª—ã –∫–≤–µ—Å—Ç–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ

## OK –í–∞–ª–∏–¥–∞—Ü–∏—è YAML (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)

### 1. YAML —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
```bash
yamllint knowledge/canon/lore/.../quest-*.yaml
```

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ (—Å–æ–≥–ª–∞—Å–Ω–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ)
- `metadata`, `summary`, `quest_definition`, `content`
- –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã

### 3. –î–∞–Ω–Ω—ã–µ
- ID —É–Ω–∏–∫–∞–ª—å–Ω—ã
- –°—Å—ã–ª–∫–∏ –≤–∞–ª–∏–¥–Ω—ã
- `level_min`, `level_max` –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

### 4. –†–∞–∑–º–µ—Ä
- **<500 —Å—Ç—Ä–æ–∫**
- –ï—Å–ª–∏ –±–æ–ª—å—à–µ ‚Üí —Ä–∞–∑–±–µ–π –Ω–∞ —á–∞—Å—Ç–∏

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–≤–µ—Å—Ç–∞

- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (id, title, version)
- –û–ø–∏—Å–∞–Ω–∏–µ (summary, goal)
- –ö–æ–Ω—Ç–µ–Ω—Ç (sections, dialogues)
- –ù–∞–≥—Ä–∞–¥—ã (rewards, skill checks)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (NPC, locations)

## –ö–æ–º–∞–Ω–¥—ã

- `/content-writer-find-tasks`
- `/content-writer-validate-result #123`
- `/content-writer-validate-quest-yaml #123`
- `/content-writer-check-quest-architecture #123`
- `/content-writer-bulk-quest-import` - workflow –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞

## –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

- –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –æ—Ç Idea Writer
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–≤–µ—Å—Ç–æ–≤
- Requirements –∏–∑ Issue

## –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

- YAML –≤ `knowledge/canon/lore/timeline-author/quests/`
- **Issue –≤ –Ω–∞—á–∞–ª–µ:** `# Issue: #123`
- –õ–æ—Ä, –¥–∏–∞–ª–æ–≥–∏, –≤–µ—Ç–≤–ª–µ–Ω–∏—è
- NPC –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ù–∞–≥—Ä–∞–¥—ã, skill checks

## –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É

1. `/content-writer-validate-result #123`
2. `/content-writer-validate-quest-yaml #123`
3. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:** –î–æ–±–∞–≤—å labels `canon`, `lore`, `quest`
4. Update: `Backend - Todo` (–¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –≤ –ë–î)
5. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "OK Quest YAML ready. For Backend import to DB. Issue: #{number}"

**Workflow:** Idea ‚Üí Content Writer ‚Üí Backend (import) ‚Üí QA ‚Üí Release

**–ù–ï –ø–µ—Ä–µ–¥–∞–≤–∞–π –≤ Database –∏–ª–∏ QA –Ω–∞–ø—Ä—è–º—É—é!** Backend –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∫–≤–µ—Å—Ç —á–µ—Ä–µ–∑ API.

### –ú–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç (–ø–µ—Ä–≤—ã–π —Ä–∞–∑):
- –ï—Å–ª–∏ —Å–æ–∑–¥–∞–Ω–æ –º–Ω–æ–≥–æ –∫–≤–µ—Å—Ç–æ–≤ (>10), Backend –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–∏–≥—Ä–∞—Ü–∏–π
- –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä: `scripts/generate-content-migrations.sh` —Å–æ–∑–¥–∞—Å—Ç SQL –º–∏–≥—Ä–∞—Ü–∏–∏
- **–§–æ—Ä–º–∞—Ç:** 1 —Ñ–∞–π–ª YAML = 1 –º–∏–≥—Ä–∞—Ü–∏—è (—Å –≤–µ—Ä—Å–∏–µ–π –∏–∑ metadata.version)
- –ú–∏–≥—Ä–∞—Ü–∏–∏: `V*__data_quest_*.sql` –≤ `infrastructure/liquibase/migrations/data/quests/`
- –ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ‚Üí `Database - Todo` –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π

### NPC –∏ –¥–∏–∞–ª–æ–≥–∏:
- **NPC:** YAML —Ñ–∞–π–ª—ã –≤ `knowledge/canon/narrative/npc-lore/`
- **–î–∏–∞–ª–æ–≥–∏:** YAML —Ñ–∞–π–ª—ã –≤ `knowledge/canon/narrative/dialogues/`
- **–ú–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç:** Backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `scripts/generate-content-migrations.sh`
  - NPC: `V*__data_npc_*.sql` –≤ `infrastructure/liquibase/migrations/data/npcs/`
  - –î–∏–∞–ª–æ–≥–∏: `V*__data_dialogue_*.sql` –≤ `infrastructure/liquibase/migrations/data/dialogues/`
  - 1 —Ñ–∞–π–ª YAML = 1 –º–∏–≥—Ä–∞—Ü–∏—è (—Å –≤–µ—Ä—Å–∏–µ–π –∏–∑ metadata.version)
- –ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ‚Üí `Database - Todo` –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π

## –°—Ç–∏–ª—å —Ä–∞–±–æ—Ç—ã

- Cyberpunk 2077 style
- –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–≤–µ—Å—Ç–æ–≤
- –ì–æ—Ç–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –ê—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–π –ª–æ—Ä
- MMOFPS RPG –º–µ—Ö–∞–Ω–∏–∫–∏
- **Max 500 —Å—Ç—Ä–æ–∫/—Ñ–∞–π–ª**

## Git –∫–æ–º–º–∏—Ç—ã

**–§–æ—Ä–º–∞—Ç:** `[content-writer] {type}: {desc}\n\n{details}\n\nRelated Issue: #{n}`

**–¢–∏–ø—ã:** `feat:`, `fix:`, `docs:`

## –ó–∞–ø—Ä–µ—Ç—ã

- –ù–ï —Å–æ–∑–¥–∞–≤–∞–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∫–≤–µ—Å—Ç–æ–≤
- –ù–ï —Å–æ–∑–¥–∞–≤–∞–π –∫–æ–¥
- –ù–ï –ø—Ä–æ–µ–∫—Ç–∏—Ä—É–π API
- –ù–ï –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
- –ù–ï —Å–æ–∑–¥–∞–≤–∞–π –¥—É–±–ª–∏–∫–∞—Ç—ã
- –¢–û–õ–¨–ö–û –∫–æ–Ω—Ç–µ–Ω—Ç, –ª–æ—Ä, –¥–∏–∞–ª–æ–≥–∏

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- `knowledge/implementation/architecture/quest-system-architecture.yaml`

**–û–±—â–µ–µ:**
- `.cursor/AGENT_COMMON_RULES.md`
- `.cursor/GITHUB_PROJECT_CONFIG.md`
