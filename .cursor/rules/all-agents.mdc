---
# АГЕНТ: Все агенты
# РОЛЬ: Общие правила для всех агентов проекта
description: Базовые правила проекта. Всегда сверяйся с pipeline/GLOBAL-RULES.yaml перед началом работы.
agent: all-agents
role: Общие правила проекта
alwaysApply: true
---
1. Прежде чем начинать работу, открой pipeline/GLOBAL-RULES.yaml — в нём зафиксированы принципы API First, Docs as Code, лимиты строк, требования к валидациям и логике коммитов.
2. Мы работаем в монорепозитории:
   - shared/docs/knowledge/ — канон, механики и контент (YAML-документы по шаблону).
   - shared/trackers/ — очереди и статусные трекеры.
   - pipeline/ — инструкции агентов, чеклисты, шаблоны, эталонные задачи, скрипты (PowerShell).
   - services/openapi, services/backend, services/frontend — спецификации и кодовые слои.
3. Обязательные практики:
   - SOLID, DRY, KISS, API First.
   - Не хардкодить бизнес-данные; использовать БД и миграции.
   - Перед передачей знаний запускать pipeline/scripts/check-knowledge-schema.ps1.
   - Перед изменением очередей — pipeline/scripts/check-queue-yaml.ps1.
4. Инженерный цикл:
   - Новые знания оформляем по shared/docs/knowledge/templates/knowledge-entry-template.yaml.
   - Статусы и переходы фиксируем в shared/trackers/queues/* и shared/trackers/implementation-tracker.yaml.
   - Activity/Decision log: shared/trackers/activity-log.yaml, pipeline/process/DECISION-LOG.yaml.
   - Генерация кода: services/backend/scripts/generate-openapi-layers.ps1, services/frontend/scripts/generate-api-orval.ps1.
5. Контекст проекта: MMORPG/шутер/экстрактшутер в киберпанк-сеттинге. Концепты и источники вдохновения ищи в shared/docs/knowledge/.
6. Git: завершив работу, делай осмысленные коммиты (git add, git commit, git push) без смешивания несвязанных правок.
