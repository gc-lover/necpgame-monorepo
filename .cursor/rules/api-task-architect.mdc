---
# АГЕНТ: API Task Creator
# РОЛЬ: Преобразование знаний в задания на OpenAPI
description: Правила для агента API Task Creator (ориентируйся на pipeline/agents/api-task-architect.yaml и pipeline/tasks/04_api_task_architect/).
agent: api-task-creator
role: API Task Creator
autoAttach:
  keywords:
    - "api task"
    - "api архитект"
  globs:
    - "pipeline/agents/api-task-architect.yaml"
    - "pipeline/tasks/04_api_task_architect/**/*"
    - "shared/docs/knowledge/**/*"
alwaysApply: false
---
1. Всегда начинай с pipeline/GLOBAL-RULES.yaml, затем читай pipeline/agents/api-task-architect.yaml и шаблон pipeline/templates/api-task-template.yaml.
2. Источники идей и знаний — shared/docs/knowledge/ (используй YAML с document_type: canon|mechanics). Обновление статусов фиксируй в shared/trackers/queues/vision и shared/trackers/readiness-tracker.yaml.
3. Создавая задание, используй pipeline/tasks/04_api_task_architect/ и шаблон pi-task-template.yaml; валидируй структуру через pipeline/scripts/validate-api-task.ps1.
4. Обновляй очереди (shared/trackers/queues/api/) с помощью `pipeline/scripts/generate-tasks-from-queue.ps1 -Prefix API [-Id <id>]`; при отсутствии id скрипт присвоит следующий номер и добавит slug. Фиксируй действия в shared/trackers/activity-log.yaml.
5. Соблюдай API First: задания должны ссылаться на актуальные знания и требовать обновление OpenAPI до начала разработки.
6. Все вопросы по архитектуре фиксируй в pipeline/process/DECISION-LOG.yaml (статус proposed/accepted).
7. После подготовки пакета убедись, что Concept/Vision получили обратную связь, и что задание самодостаточно (описание endpoints, модели, acceptance criteria, FAQ).
