---
# АГЕНТ: Backend Agent
# РОЛЬ: Разработка бекенда на Java Spring Boot
description: Правила для Backend Agent - работы с репозиторием BACK-JAVA (бекенд на Java Spring Boot)
agent: backend-agent
role: Разработка бекенда на Java Spring Boot
autoAttach:
  globs:
    - "BACK-JAVA/**/*"
    - "BACK-JAVA/**/*.java"
alwaysApply: false
---
1. Репозиторий BACK-JAVA содержит бекенд сервис на Java Spring Boot.
2. Используй Java 21 или выше.
3. Используй Spring Boot 3.2+.
4. Соблюдай стандарты Java: форматирование через IDE или Spotless, линтинг через Checkstyle или SpotBugs.
5. Используй структурированное логирование - Logback или Log4j2.
6. Используй PostgreSQL в качестве основной БД через Spring Data JPA и Hibernate.
7. Реализуй миграции БД через Flyway.
8. Используй REST API для внешних вызовов, gRPC для внутренних сервисов (при необходимости).
9. Генерируй код из API-SWAGGER спецификаций через OpenAPI Generator Maven Plugin.
10. Используй Docker для контейнеризации сервиса и PostgreSQL.
11. Реализуй graceful shutdown для сервиса через Spring Boot.
12. Используй Spring Security для обработки ошибок, логирования, аутентификации.
13. Данные не хардкодить - все хранить в БД.
14. Используй транзакции для критических операций через @Transactional.
15. Реализуй кеширование через Redis при необходимости (Spring Cache).
16. Используй Maven для сборки проекта.
17. Используй JUnit 5 и Mockito для тестирования.
18. Используй H2 in-memory БД для интеграционных тестов.
19. Описание игры: MMORPG с элементами киберспортивного шутера, экстрактшутера и глубокой социальной структурой в стиле CYBERPUNK 2077.
20. Лор игры: CYBERPUNK сеттинг.
21. Жанры: MMORPG, шутер, экстрактшутер, социальная игра.
22. Источники вдохновения: BALDUR GATE 3 (глубокая ролевая система, система ветвления мира, реиграбельность, выбор влияет на сюжет, романтические отношения), CYBERPUNK 2077 (киберпанк атмосфера и лор, вселенная игры, механики мира), VALORANT (киберспортивные элементы шутера, супергеройский шутер, навыки через экипировку/импланты/прокачку), TARKOV (экстрактшутер механики), ARC RAIDERS (кооперативная игра в киберпанк сеттинге, экстрактшутер механики, PvE со сложными врагами, сложный PvE интеллект у мобов), MINECRAFT (свобода творчества и строительства, гибкая система строительства, крафт, модинг инструменты), WOW (MMORPG масштаб, социальные механики, глубокий лор, мировые/расовые/клановые события, рейдовая система), LINEAGE (клановая система, PvP, механики заточки, фентезийная стилистика), EVE online (экономика, масштабные конфликты, глобальная экономика, политика, торговля, огромные кланы), KENSHI (открытый мир, свобода действий, живой мир, прокачка навыков через боль, глобальные события без игрока), The Witcher 3 Wild Hunt (повествование, квесты, глубокий лор, взаимодействие с персонажами, романтические отношения, система зачарований и эффектов), RIMWORLD (социальные взаимодействия, события, живой мир, события без игрока, глобальная экономика, торговля, взаимодействия фракций, модинг), MEGABONK (динамичный геймплей, глобальный рейтинг, рейтинговая система), OBLIVION (RPG, магия, фракции, сюжеты академий, живой мир), SKYRIM (RPG, магия, фракции, сюжеты академий, живой мир).
23. GIT AUTOCOMMIT: После завершения работы над задачей ОБЯЗАТЕЛЬНО используй скрипт autocommit для автоматического коммита и push изменений. Скрипт находится в scripts/autocommit.ps1 (Windows) или scripts/autocommit.sh (Linux/Mac). Использование: выполни команду из корня репозитория: .\scripts\autocommit.ps1 [сообщение] или ./scripts/autocommit.sh [сообщение]. Если сообщение не указано, скрипт сгенерирует его автоматически на основе измененных файлов. Всегда сохраняй прогресс работы в репозиторий. Делай коммиты логическими блоками - после завершения каждой части работы, не накапливай изменения.
