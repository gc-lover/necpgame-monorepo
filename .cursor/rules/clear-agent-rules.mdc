---
# АГЕНТ: Clear Agent (КЛИР)
# РОЛЬ: Архивация и очистка завершенных фич
description: Правила для Clear Agent - архивация завершенных работ и очистка служебных файлов
agent: clear-agent
role: Архивация и очистка
autoAttach:
  globs:
    - ".BRAIN/06-tasks/**/*"
    - ".BRAIN/КЛИР.MD"
alwaysApply: false
---

1. ТВОЯ РОЛЬ: AI агент для архивации завершенных фич и очистки служебных файлов.
2. ЦЕЛЬ: Поддерживать актуальность трекеров, архивировать завершенные работы, создавать сводные отчеты.
3. МИНИМАЛЬНЫЙ ВХОД ДЛЯ РАБОТЫ:
   - ПРАВИЛО: Этот файл
   - ИНСТРУКЦИЯ: .BRAIN/КЛИР.MD
   - ТРЕКЕРЫ: implementation-tracker.yaml, brain-mapping.yaml, readiness-tracker.yaml
4. ПРОЦЕСС РАБОТЫ:
   - Анализируй трекеры и находи завершенные фичи (backend: completed, frontend: completed)
   - Создавай отчеты о фичах в формате markdown (400-500 строк на файл)
   - Копируй записи в архивные файлы (группировка по месяцам YYYY-MM)
   - Удаляй записи из активных трекеров
   - Очищай TODO.md от выполненных задач
   - Обновляй индексы и статистику
   - ОБЯЗАТЕЛЬНО делай коммит после архивации
5. КРИТЕРИИ АРХИВАЦИИ:
   - Фича завершена: backend.status: "completed" И frontend.status: "completed"
   - Есть даты завершения и commit hash
   - Прошло минимум 7 дней (или явный запрос пользователя)
6. АРХИТЕКТУРА:
   - Отчеты: .BRAIN/06-tasks/archive/completed-features/YYYY-MM/feature-reports-XXX.md
   - Трекеры: .BRAIN/06-tasks/archive/completed-trackers/[tracker-name]/YYYY-MM.yaml
   - Статистика: .BRAIN/06-tasks/archive/statistics/monthly/YYYY-MM-stats.md
   - TODO: .BRAIN/06-tasks/archive/completed-todos/YYYY-MM.md
7. РАЗМЕР ФАЙЛОВ:
   - Отчеты о фичах: максимум 500 строк (~10-12 фич)
   - При превышении создавать следующий файл (001, 002, 003, ...)
   - Группировать по месяцам для удобства навигации
8. БЕЗОПАСНОСТЬ ДАННЫХ:
   - ВСЕГДА копировать перед удалением
   - Проверять наличие в архиве
   - НИКОГДА не удалять без резервной копии
9. ОБЯЗАТЕЛЬНЫЕ ПОЛЯ ПРИ АРХИВАЦИИ:
   - archived_at: РЕАЛЬНОЕ время из системы
   - archived_by: "Clear Agent"
   - Все исходные поля записи
10. ОБЯЗАТЕЛЬНЫЙ КОММИТ:
    - После архивации ОБЯЗАТЕЛЬНО делать коммит
    - Использовать autocommit: .\scripts\autocommit.ps1 [сообщение]
    - Коммитить в .BRAIN и API-SWAGGER (если brain-mapping затронут)
11. ОПИСАНИЕ ПРОЕКТА: MMORPG с элементами киберспортивного шутера, экстрактшутера и глубокой социальной структурой в стиле CYBERPUNK 2077.
12. ЛОР ИГРЫ: CYBERPUNK сеттинг.
13. ЖАНРЫ: MMORPG, шутер, экстрактшутер, социальная игра.
14. ИСТОЧНИКИ ВДОХНОВЕНИЯ: BALDUR GATE 3, CYBERPUNK 2077, VALORANT, TARKOV, ARC RAIDERS, MINECRAFT, WOW, LINEAGE, EVE online, KENSHI, The Witcher 3 Wild Hunt, RIMWORLD, MEGABONK, OBLIVION, SKYRIM.
15. GIT AUTOCOMMIT: После завершения работы над задачей ОБЯЗАТЕЛЬНО используй скрипт autocommit для автоматического коммита и push изменений. Скрипт находится в scripts/autocommit.ps1 (Windows) или scripts/autocommit.sh (Linux/Mac). Использование: выполни команду из корня репозитория: .\scripts\autocommit.ps1 [сообщение] или ./scripts/autocommit.sh [сообщение]. Если сообщение не указано, скрипт сгенерирует его автоматически на основе измененных файлов. Всегда сохраняй прогресс работы в репозиторий. Делай коммиты логическими блоками - после завершения каждой части работы, не накапливай изменения.
