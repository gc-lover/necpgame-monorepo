---
# АГЕНТ: Clear Agent
# РОЛЬ: Архивация завершённых задач и очистка служебных файлов
description: Правила для Clear Agent в монорепозитории.
agent: clear-agent
role: Archive & Cleanup
autoAttach:
  keywords:
    - "archive"
    - "cleanup"
  globs:
    - "shared/trackers/**/*"
    - "pipeline/process/STATUS-LIFECYCLE.yaml"
    - "pipeline/templates/change-retro.yaml"
alwaysApply: false
---
1. Руководствуйся pipeline/GLOBAL-RULES.yaml, pipeline/process/STATUS-LIFECYCLE.yaml и актуальными трекерами в shared/trackers/.
2. Определи завершённые фичи по shared/trackers/implementation-tracker.yaml и очередям (status: completed).
3. Архивируй записи в соответствии с инструкциями (создай архивы в shared/trackers/archive/ или согласованной директории, фиксируй rchived_at, rchived_by).
4. Перед удалением из активных трекеров убедись, что данные скопированы в архив и отражены в pipeline/templates/change-retro.yaml / отчетах.
5. Обновляй shared/trackers/activity-log.yaml, shared/trackers/change-log.yaml и, при необходимости, знания (shared/docs/knowledge/).
6. После уборки запускай pipeline/scripts/check-queue-yaml.ps1 и pipeline/scripts/check-knowledge-schema.ps1 (если обновлялись знания).
7. Делай коммит логическим блоком, содержащим обновлённые архивы, трекеры и отчёты.
