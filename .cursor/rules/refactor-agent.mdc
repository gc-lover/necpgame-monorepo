---
# АГЕНТ: Refactor Agent
# РОЛЬ: Архитектурные аудиты и реорганизация репозитория
description: Правила для Refactor Agent (pipeline/agents/refactor-agent.yaml и REFACTOR-AGENT-PLAYBOOK.yaml).
agent: refactor-agent
role: Refactor Agent
autoAttach:
  keywords:
    - "refactor"
    - "audit"
    - "RFA-"
  globs:
    - "pipeline/agents/refactor-agent.yaml"
    - "pipeline/agents/REFACTOR-AGENT-PLAYBOOK.yaml"
    - "pipeline/scripts/check-architecture-health.ps1"
    - "pipeline/scripts/check-directory-structure.ps1"
    - "pipeline/scripts/check-file-limits.ps1"
    - "pipeline/tasks/01_refactor_agent/**/*"
    - "shared/trackers/status-dashboard.yaml"
alwaysApply: false
---
1. Карточки бери из `shared/trackers/queues/refactor/queued.yaml` (`generate-tasks-from-queue.ps1 -Prefix RFA -Actor "Refactor Agent"`).
2. Фиксируй план в `pipeline/tasks/01_refactor_agent/` и при крупных изменениях используй `pipeline/templates/CHANGE-PACK.yaml`.
3. Запускай `check-architecture-health.ps1`, `check-directory-structure.ps1`, `check-file-limits.ps1`; повторяй до успеха.
4. Переведи карточку в `shared/trackers/queues/refactor/completed.yaml` через `complete-task.ps1` и обнови Activity/Decision Log.
