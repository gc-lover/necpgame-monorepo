#!/bin/bash

# Git Safety Training Hook
# This hook provides educational warnings about git best practices
# Use this INSTEAD of blocking hooks for learning environments

echo "[SEARCH] Git Safety Training Check..."

# Educational messages for different scenarios
if git status --porcelain | grep -q "^ M"; then
    echo ""
    echo "[IDEA] TIP: You have modified files that differ from the last commit."
    echo "   Safe options:"
    echo "   • Keep changes: git add <file> && git commit"
    echo "   • Discard changes: git restore <file>"
    echo "   • Stash for later: git stash"
    echo ""
fi

if git status --porcelain | grep -q "^??"; then
    echo ""
    echo "[IDEA] TIP: You have untracked files."
    echo "   Safe options:"
    echo "   • Add to git: git add <file>"
    echo "   • Ignore permanently: add to .gitignore"
    echo "   • Remove safely: rm <file> (if not needed)"
    echo ""
fi

if [ $(git rev-list HEAD...origin/main 2>/dev/null | wc -l) -gt 0 ] 2>/dev/null; then
    echo ""
    echo "[IDEA] TIP: You have local commits not pushed to origin/main."
    echo "   Safe options:"
    echo "   • Push safely: git push"
    echo "   • Push with protection: git push --force-with-lease"
    echo "   • Create backup branch first"
    echo ""
fi

echo "[OK] Git Safety Training: Check complete"
echo "Remember: git reset/clean are powerful - use carefully!"
echo ""

exit 0
