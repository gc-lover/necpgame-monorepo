# Economy Balance System Configuration
# Issue: #2237 - Game Balance configuration for economic stability and player wealth distribution
# Agent: GameBalance - Creates comprehensive economy balancing system for sustainable gameplay

metadata:
  id: economy-balance-system
  title: "Economy Balance System - NECPGAME"
  version: "1.0.0"
  description: "Comprehensive economic balancing with wealth distribution, inflation controls, and sustainable progression"
  last_updated: "2026-01-06"
  author: "GameBalance Agent"
  applicable_to: "player economy, market systems, reward distribution"

# Core Economic Constants
economic_constants:
  # Currency Systems
  currencies:
    eddies:
      base_value: 1.0
      inflation_target: 0.02    # 2% monthly inflation target
      velocity_target: 0.8      # Target money velocity
      description: "Primary currency for transactions"

    eurodollars:
      base_value: 100.0         # 100 eddies = 1 eurodollar
      scarcity_multiplier: 10.0 # 10x value due to scarcity
      description: "Rare high-value currency"

  # Economic Health Metrics
  health_metrics:
    wealth_gini_target: 0.65     # Target Gini coefficient
    inflation_tolerance: 0.05    # ±5% inflation tolerance
    velocity_tolerance: 0.2      # ±20% velocity tolerance

  # Player Progression
  progression:
    starting_capital: 500       # Starting eddies
    level_capital_multiplier: 1.5 # 50% more capital per level
    max_wealth_cap: 10000000   # 10M eddies maximum

# Income Sources Balance
income_sources:
  # Combat Rewards
  combat_rewards:
    base_kill_reward: 100
    headshot_bonus: 50
    melee_bonus: 25
    assist_bonus: 30
    team_bonus_multiplier: 0.1    # 10% per teammate

    streak_bonuses:
      - streak: 5
        multiplier: 1.2
      - streak: 10
        multiplier: 1.5
      - streak: 25
        multiplier: 2.0

    # TTK-based modifiers
    ttk_modifiers:
      fast_kill: 1.3    # < 5 seconds
      normal_kill: 1.0  # 5-10 seconds
      slow_kill: 0.8    # > 10 seconds

  # Quest Rewards
  quest_rewards:
    trivial:
      base_reward: 200
      exp_bonus: 100
    easy:
      base_reward: 500
      exp_bonus: 200
    normal:
      base_reward: 1000
      exp_bonus: 400
    hard:
      base_reward: 2000
      exp_bonus: 800
    nightmare:
      base_reward: 5000
      exp_bonus: 1600

    # Dynamic modifiers
    reputation_modifier: 0.2     # ±20% based on faction reputation
    time_bonus: 0.25             # 25% bonus for speed completion
    group_penalty: 0.15          # 15% penalty for large groups

  # Exploration Rewards
  exploration_rewards:
    area_discovery: 100
    secret_found: 250
    hidden_cache: 500
    rare_collectible: 1000

  # Social Rewards
  social_rewards:
    guild_contribution: 50       # per hour
    alliance_formation: 1000     # one-time
    reputation_quest: 300
    social_event_participation: 150

# Expenditure Categories
expenditure_categories:
  # Equipment Costs
  equipment_costs:
    weapons:
      pistol: 500
      assault_rifle: 2500
      sniper_rifle: 5000
      legendary_weapon: 15000

    armor:
      light: 300
      medium: 1500
      heavy: 3000
      cyberware: 5000

    attachments:
      sight: 200
      suppressor: 300
      extended_mag: 400

  # Service Costs
  service_costs:
    medical_treatment: 200
    weapon_repair: 100
    armor_repair: 150
    vehicle_repair: 500

  # Lifestyle Costs
  lifestyle_costs:
    food_water: 50       # per day
    accommodation: 100   # per day
    transportation: 75   # per trip
    entertainment: 25    # per activity

  # Investment Opportunities
  investments:
    stock_market: 1000   # minimum investment
    real_estate: 5000    # apartment purchase
    business_venture: 10000 # starting a business

# Market Dynamics
market_dynamics:
  # Item Scarcity System
  scarcity_levels:
    abundant: 1.0       # Base price
    common: 1.2         # 20% premium
    uncommon: 1.5       # 50% premium
    rare: 2.0           # 100% premium
    epic: 3.0           # 200% premium
    legendary: 5.0      # 400% premium

  # Dynamic Pricing
  dynamic_pricing:
    demand_multiplier: 1.5     # Price increase with high demand
    supply_multiplier: 0.7     # Price decrease with oversupply
    time_decay: 0.95           # 5% price decay per hour
    player_economy_factor: 0.8 # Adjustment based on player wealth

  # Market Events
  market_events:
    economic_boom:
      duration_hours: 24
      price_multiplier: 1.3
      trigger_condition: "player_spending > 2x_average"

    economic_crisis:
      duration_hours: 48
      price_multiplier: 0.7
      trigger_condition: "player_spending < 0.5x_average"

    black_market_surplus:
      duration_hours: 12
      affected_items: ["weapons", "cyberware"]
      price_multiplier: 0.6

# Wealth Distribution Controls
wealth_distribution:
  # Gini Coefficient Targets
  gini_targets:
    optimal: 0.65       # Balanced distribution
    warning: 0.75       # High inequality warning
    critical: 0.85      # Redistribution required

  # Redistribution Mechanisms
  redistribution_mechanisms:
    progressive_taxation:
      brackets:
        - threshold: 10000
          rate: 0.02
        - threshold: 50000
          rate: 0.05
        - threshold: 100000
          rate: 0.08
        - threshold: 500000
          rate: 0.12
      redistribution: "guild_funds"  # Redistributed to guild welfare

    lottery_system:
      ticket_cost: 100
      jackpot_pool: 0.1   # 10% of ticket sales
      frequency: "daily"
      description: "Random wealth redistribution"

    social_programs:
      universal_basic_income: 50  # Daily UBI for low-wealth players
      wealth_threshold: 1000      # Players below threshold qualify
      funding_source: "tax_revenue"

# Inflation Control System
inflation_control:
  # Monetary Policy
  monetary_policy:
    money_supply_target: 0.03    # 3% annual increase
    velocity_target: 0.8         # Target money velocity
    reserve_requirement: 0.1     # 10% reserve requirement

  # Price Controls
  price_controls:
    essential_goods: 0.02        # Max 2% monthly increase
    luxury_goods: 0.05           # Max 5% monthly increase
    services: 0.03               # Max 3% monthly increase

  # Anti-Inflation Measures
  anti_inflation_measures:
    price_freezing:
      trigger: "inflation > 0.08"
      duration: 30
      affected_categories: ["food", "medical"]

    money_supply_reduction:
      trigger: "inflation > 0.05"
      reduction_rate: 0.02
      duration: 90

    excess_profit_tax:
      trigger: "corporate_profits > 3x_average"
      tax_rate: 0.15
      duration: 60

# Player Progression Economics
progression_economics:
  # Level-based Economic Scaling
  level_economics:
    level_brackets:
      - level_range: [1, 10]
        income_multiplier: 1.0
        expense_multiplier: 1.0
        description: "Entry level, basic economy"

      - level_range: [11, 25]
        income_multiplier: 1.3
        expense_multiplier: 1.1
        description: "Mid-game progression"

      - level_range: [26, 40]
        income_multiplier: 1.6
        expense_multiplier: 1.3
        description: "High-level gameplay"

      - level_range: [41, 50]
        income_multiplier: 2.0
        expense_multiplier: 1.5
        description: "Endgame wealth accumulation"

  # Career Path Economics
  career_economics:
    solo_player:
      income_efficiency: 1.0
      expense_efficiency: 1.0
      risk_multiplier: 1.2

    guild_member:
      income_efficiency: 1.1
      expense_efficiency: 0.95
      risk_multiplier: 0.9

    business_owner:
      income_efficiency: 1.4
      expense_efficiency: 1.2
      risk_multiplier: 0.8

# Economic Balance Formulas
economic_formulas:
  # Player Wealth Calculation
  player_wealth: |
    combat_income = kills * base_reward * ttk_modifier * streak_bonus
    quest_income = quest_rewards * reputation_modifier * time_bonus
    exploration_income = discoveries * rarity_multiplier
    total_income = combat_income + quest_income + exploration_income

    equipment_expenses = weapon_costs + armor_costs + maintenance
    lifestyle_expenses = food + housing + transportation
    investment_expenses = stock_purchases + business_investments
    total_expenses = equipment_expenses + lifestyle_expenses + investment_expenses

    net_wealth_change = total_income - total_expenses
    wealth_with_interest = net_wealth_change * (1 + interest_rate)

  # Market Price Calculation
  market_price: |
    base_price = item_base_cost * scarcity_multiplier
    demand_factor = 1 + (demand_percentage / 100)
    supply_factor = 1 - (supply_percentage / 100)
    player_factor = 1 - (average_player_wealth_percentile / 100)
    time_factor = time_decay ^ hours_since_last_transaction

    final_price = base_price * demand_factor * supply_factor * player_factor * time_factor

  # Inflation Calculation
  inflation_rate: |
    price_change = (current_prices - previous_prices) / previous_prices
    weighted_inflation = sum(price_change * category_weight for each category)
    money_supply_inflation = (current_money_supply - previous_money_supply) / previous_money_supply
    velocity_inflation = (current_velocity - target_velocity) / target_velocity

    total_inflation = weighted_inflation + money_supply_inflation + velocity_inflation

# Economic Health Monitoring
economic_health:
  # Key Performance Indicators
  kpis:
    inflation_rate: "< 0.03"        # Target 3% annual
    gini_coefficient: "0.60-0.70"   # Balanced wealth distribution
    money_velocity: "0.7-0.9"       # Healthy money circulation
    player_satisfaction: "> 0.75"   # Economic satisfaction score

  # Alert Thresholds
  alert_thresholds:
    inflation_critical: 0.08        # 8% monthly inflation
    gini_critical: 0.85             # Extreme wealth inequality
    velocity_critical: 0.5          # Money stagnation
    satisfaction_critical: 0.6      # Player economic dissatisfaction

  # Automatic Corrections
  auto_corrections:
    inflation_high:
      action: "reduce_money_supply"
      threshold: 0.05
      correction_rate: 0.02

    wealth_inequality:
      action: "redistribute_wealth"
      threshold: 0.8
      mechanism: "progressive_taxation"

    money_stagnation:
      action: "increase_quest_rewards"
      threshold: 0.6
      multiplier: 1.15

# Economic Events System
economic_events:
  # Random Events
  random_events:
    market_crash:
      probability: 0.05    # 5% chance monthly
      duration: 168        # 1 week
      impact: -0.3         # 30% price drop
      description: "Sudden market downturn"

    economic_boom:
      probability: 0.03
      duration: 336        # 2 weeks
      impact: 0.4          # 40% price increase
      description: "Economic growth period"

    resource_shortage:
      probability: 0.08
      duration: 72         # 3 days
      impact: 2.0          # 100% price increase
      affected_items: ["ammo", "medical"]

  # Scheduled Events
  scheduled_events:
    monthly_payday:
      frequency: "monthly"
      impact: 0.1          # 10% spending increase
      description: "Monthly salary payments"

    seasonal_festival:
      frequency: "quarterly"
      impact: 0.15
      description: "Festive spending increase"

# Player Economic Classes
economic_classes:
  poverty:
    wealth_range: [0, 1000]
    income_multiplier: 1.0
    expense_multiplier: 1.0
    opportunities: "limited"
    description: "Struggling to survive"

  working_class:
    wealth_range: [1001, 10000]
    income_multiplier: 1.1
    expense_multiplier: 0.95
    opportunities: "moderate"
    description: "Stable but limited options"

  middle_class:
    wealth_range: [10001, 50000]
    income_multiplier: 1.2
    expense_multiplier: 0.9
    opportunities: "good"
    description: "Comfortable lifestyle"

  upper_class:
    wealth_range: [50001, 200000]
    income_multiplier: 1.4
    expense_multiplier: 0.8
    opportunities: "excellent"
    description: "Wealthy and influential"

  elite:
    wealth_range: [200001, 1000000]
    income_multiplier: 1.6
    expense_multiplier: 0.7
    opportunities: "premium"
    description: "Elite wealth and power"

  ultra_elite:
    wealth_range: [1000001, 10000000]
    income_multiplier: 2.0
    expense_multiplier: 0.6
    opportunities: "exclusive"
    description: "Ultra-wealthy, game-defining influence"

# Economic Testing Scenarios
testing_scenarios:
  stability_testing:
    - "Inflation control under high player activity"
    - "Wealth distribution maintenance"
    - "Market price stability"
    - "Economic recovery from crashes"

  edge_cases:
    - "Player wealth caps and redistribution"
    - "Economic impact of large player groups"
    - "Cross-faction economic interactions"
    - "Long-term economic trends"

# Monitoring Metrics
monitoring_metrics:
  economic_telemetry:
    - "player_wealth_distribution"
    - "inflation_rate_trends"
    - "market_price_volatility"
    - "money_velocity_changes"

  player_economics:
    - "average_income_per_hour"
    - "spending_patterns_by_category"
    - "investment_returns"
    - "economic_satisfaction_scores"

# Emergency Economic Interventions
emergency_interventions:
  hyperinflation_response:
    - condition: "inflation > 0.15"
      actions:
        - "freeze_all_prices"
        - "reduce_money_supply_by_20%"
        - "increase_quest_rewards_by_50%"
      duration: "7_days"

  wealth_gap_crisis:
    - condition: "gini_coefficient > 0.9"
      actions:
        - "implement_wealth_tax_20%"
        - "distribute_ubi_200_eddies_daily"
        - "adjust_drop_rates_for_poor_players"
      duration: "30_days"

  economic_depression:
    - condition: "velocity < 0.3"
      actions:
        - "double_quest_rewards"
        - "reduce_all_prices_by_30%"
        - "increase_daily_activities_bonus"
      duration: "14_days"

# Version History
version_history:
  - version: "1.0.0"
    date: "2026-01-06"
    changes:
      - "Initial comprehensive economy balance system"
      - "Wealth distribution controls and Gini targeting"
      - "Inflation control mechanisms"
      - "Dynamic market pricing system"
      - "Progressive taxation and social programs"
    author: "GameBalance Agent"
