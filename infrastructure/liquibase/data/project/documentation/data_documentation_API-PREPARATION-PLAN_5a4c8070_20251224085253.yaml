databaseChangeLog:
- changeSet:
    id: documentation-API-PREPARATION-PLAN-5a4c8070
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '1005755834396784'
        - column:
            name: doc_id
            value: implementation-api-preparation-plan
        - column:
            name: title
            value: План подготовки API документации
        - column:
            name: document_type
            value: implementation
        - column:
            name: category
            value: api
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-06 00:00:00+00:00
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: ''
        - column:
            name: owners
            value: '[{"role": "api_architect", "contact": "api@necp.game"}]'
        - column:
            name: tags
            value:
            - api
            - documentation
            - planning
        - column:
            name: topics
            value:
            - implementation
            - api
        - column:
            name: related_systems
            value:
            - api-gateway
            - developer-portal
        - column:
            name: related_documents
            value: '[{"id": "implementation-api-endpoints-complete", "relation": "planned"},
              {"id": "implementation-api-data-models", "relation": "planned"}, {"id":
              "implementation-api-integration-map", "relation": "planned"}]'
        - column:
            name: source
            value: shared/docs/knowledge/implementation/api-specs/API-PREPARATION-PLAN.yaml
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - implementation
            - backend
            - api
        - column:
            name: risk_level
            value: medium
        - column:
            name: content
            value: '{"metadata": {"id": "implementation-api-preparation-plan", "title":
              "План подготовки API документации", "document_type": "implementation",
              "category": "api", "status": "draft", "version": "1.0.0", "last_updated":
              "2025-11-06T00:00:00+00:00", "concept_approved": false, "concept_reviewed_at":
              "", "owners": [{"role": "api_architect", "contact": "api@necp.game"}],
              "tags": ["api", "documentation", "planning"], "topics": ["implementation",
              "api"], "related_systems": ["api-gateway", "developer-portal"], "related_documents":
              [{"id": "implementation-api-endpoints-complete", "relation": "planned"},
              {"id": "implementation-api-data-models", "relation": "planned"}, {"id":
              "implementation-api-integration-map", "relation": "planned"}], "source":
              "shared/docs/knowledge/implementation/api-specs/API-PREPARATION-PLAN.yaml",
              "visibility": "internal", "audience": ["implementation", "backend",
              "api"], "risk_level": "medium"}, "review": {"chain": [{"role": "api_architect",
              "reviewer": "", "reviewed_at": "", "status": "pending"}], "next_actions":
              []}, "summary": {"problem": "Необходимо подготовить полный пакет API-документации
              для переноса в репозиторий API-SWAGGER.", "goal": "Сформировать карты
              эндпоинтов, модели данных, интеграционную схему, безопасность и примеры.",
              "essence": "План описывает пять фаз работы с приоритетами и результатами
              для каждой группы файлов.", "key_points": ["Базовые игровые артефакты
              уже детализированы и готовы к описанию API.", "Первая очередь включает
              карту эндпоинтов, модели данных и интеграции.", "Второй приоритет посвящён
              безопасности и примерам использования."]}, "content": {"sections": [{"id":
              "baseline", "title": "Исходные материалы", "body": "Каталог знаний содержит
              более двухсот квестов, десятки способностей, оружия, валют и социальных
              механик. Эти\nдокументы служат основой для подготовки контрактов и демонстрируют
              полноту исходных данных.\n", "mechanics_links": [], "assets": []}, {"id":
              "phase1", "title": "Фаза 1 — API Endpoints Map", "body": "Требуется
              файл `api-endpoints-complete.md` с перечнем всех 300+ эндпоинтов, включая
              HTTP методы, параметры пути,\nquery-параметры и структуры запросов/ответов.
              Фаза имеет критический приоритет и запускает остальные составляющие.\n",
              "mechanics_links": [], "assets": []}, {"id": "phase2", "title": "Фаза
              2 — Data Models", "body": "В файле `api-data-models.md` описываются
              JSON-схемы для сущностей (Quest, NPC, Ability, Weapon, Currency и другие),\nсвязи
              между моделями и правила валидации. Завершение фазы гарантирует консистентность
              контрактов.\n", "mechanics_links": [], "assets": []}, {"id": "phase3",
              "title": "Фаза 3 — Integration Map", "body": "Документ `api-integration-map.md`
              фиксирует связи между системами, data flow диаграммы, зависимости и
              последовательные\nсценарии. Результат обеспечивает понимание взаимодействий
              сервисов и лэйеринг ответственности.\n", "mechanics_links": [], "assets":
              []}, {"id": "phase4", "title": "Фаза 4 — Authentication & Security",
              "body": "Файл `api-auth-security.md` содержит планы по токенам JWT,
              ролям и разрешениям, лимитам запросов и античит-защите.\nФаза имеет
              второй приоритет, но критична для соблюдения требований безопасности.\n",
              "mechanics_links": [], "assets": []}, {"id": "phase5", "title": "Фаза
              5 — Examples & Testing", "body": "`api-examples.md` собирает примеры
              запросов/ответов, сценарии использования, обработку ошибок и стратегии
              тестирования.\nФаза завершает пакет документации и облегчает внедрение
              и QA.\n", "mechanics_links": [], "assets": []}]}, "appendix": {"glossary":
              [], "references": [{"title": "API Endpoints Map", "link": "./api-endpoints-complete.md"},
              {"title": "API Data Models", "link": "./api-data-models.md"}, {"title":
              "API Integration Map", "link": "./api-integration-map.md"}, {"title":
              "API Auth & Security", "link": "./api-auth-security.md"}, {"title":
              "API Examples", "link": "./api-examples.md"}], "decisions": []}, "implementation":
              {"github_issue": 136, "needs_task": false, "queue_reference": ["shared/trackers/queues/concept/queued.yaml"],
              "blockers": []}, "history": [{"version": "1.0.0", "date": "2025-11-11",
              "author": "api_team", "changes": "План подготовки API документации перенесён
              в YAML с разделением по фазам."}], "validation": {"checksum": "", "schema_version":
              "1.0"}}'
        - column:
            name: metadata
            value: '{"id": "implementation-api-preparation-plan", "title": "План подготовки
              API документации", "document_type": "implementation", "category": "api",
              "status": "draft", "version": "1.0.0", "last_updated": "2025-11-06T00:00:00+00:00",
              "concept_approved": false, "concept_reviewed_at": "", "owners": [{"role":
              "api_architect", "contact": "api@necp.game"}], "tags": ["api", "documentation",
              "planning"], "topics": ["implementation", "api"], "related_systems":
              ["api-gateway", "developer-portal"], "related_documents": [{"id": "implementation-api-endpoints-complete",
              "relation": "planned"}, {"id": "implementation-api-data-models", "relation":
              "planned"}, {"id": "implementation-api-integration-map", "relation":
              "planned"}], "source": "shared/docs/knowledge/implementation/api-specs/API-PREPARATION-PLAN.yaml",
              "visibility": "internal", "audience": ["implementation", "backend",
              "api"], "risk_level": "medium"}'
        - column:
            name: source_file
            value: knowledge\implementation\api-specs\API-PREPARATION-PLAN.yaml
