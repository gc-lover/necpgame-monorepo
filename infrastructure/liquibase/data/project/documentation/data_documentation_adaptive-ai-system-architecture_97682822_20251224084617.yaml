databaseChangeLog:
- changeSet:
    id: documentation-adaptive-ai-system-architecture-97682822
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '-230140190931740'
        - column:
            name: doc_id
            value: adaptive-ai-system-architecture
        - column:
            name: title
            value: Архитектура системы адаптивного AI
        - column:
            name: document_type
            value: architecture
        - column:
            name: category
            value: systems
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-12-XXT00:00:00Z
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: null
        - column:
            name: owners
            value: '[{"role": "architect", "contact": "architect@necp.game"}]'
        - column:
            name: tags
            value:
            - architecture
            - ai
            - adaptive-ai
            - machine-learning
            - difficulty
            - hardcore
        - column:
            name: topics
            value: []
        - column:
            name: related_systems
            value:
            - gameplay-service
            - analytics-service
            - ai-service
        - column:
            name: related_documents
            value: '[{"id": "adaptive-ai-idea", "relation": "implements"}, {"id":
              "combat-ai-enemies-architecture", "relation": "extends"}]'
        - column:
            name: source
            value: ''
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - architect
            - backend
            - ai
            - api-designer
        - column:
            name: risk_level
            value: ''
        - column:
            name: content
            value: '{"metadata": {"id": "adaptive-ai-system-architecture", "title":
              "Архитектура системы адаптивного AI", "document_type": "architecture",
              "category": "systems", "status": "draft", "version": "1.0.0", "last_updated":
              "2025-12-XXT00:00:00Z", "owners": [{"role": "architect", "contact":
              "architect@necp.game"}], "tags": ["architecture", "ai", "adaptive-ai",
              "machine-learning", "difficulty", "hardcore"], "related_systems": ["gameplay-service",
              "analytics-service", "ai-service"], "related_documents": [{"id": "adaptive-ai-idea",
              "relation": "implements"}, {"id": "combat-ai-enemies-architecture",
              "relation": "extends"}], "github_issue": 1501, "visibility": "internal",
              "audience": ["architect", "backend", "ai", "api-designer"]}, "summary":
              {"problem": "Текущий AI использует фиксированные паттерны поведения,
              что делает бои предсказуемыми.\nНе хватает адаптивности AI, которая
              бы подстраивалась под тактики игроков.\n", "goal": "Создать архитектуру
              адаптивного AI, которая:\n- Анализирует тактики игроков в реальном времени\n-
              Адаптирует паттерны атак и защиту\n- Использует контр-стратегии против
              игроков\n- Усиливает слабые места команды\n", "essence": "Система адаптивного
              AI анализирует действия игроков и адаптирует поведение врагов\nв реальном
              времени. AI изучает тактики команды и применяет контр-стратегии.\n"},
              "architecture": {"overview": "Система адаптивного AI состоит из следующих
              компонентов:\n1. Tactics Analyzer - анализ тактик игроков\n2. Adaptation
              Engine - адаптация поведения AI\n3. Counter-Strategy Controller - применение
              контр-стратегий\n4. ML Training Pipeline - обучение моделей\n5. Adaptation
              Telemetry Collector - сбор телеметрии адаптаций\n", "microservices":
              [{"name": "ai-service", "port": 8090, "responsibility": "Обработка адаптивного
              AI:\n- Анализ тактик игроков\n- Адаптация поведения AI\n- Обучение моделей\n",
              "components": [{"tactics-analyzer": "анализ тактик"}, {"adaptation-engine":
              "адаптация поведения"}, {"counter-strategy-controller": "контр-стратегии"},
              {"ml-training-pipeline": "обучение моделей"}, {"adaptation-telemetry-collector":
              "сбор телеметрии"}], "endpoints": ["POST /api/v1/ai/analyze/tactics
              - анализ тактик команды", "GET /api/v1/ai/adaptations/{encounterId}
              - текущие адаптации", "POST /api/v1/ai/training/data - отправка данных
              для обучения", "GET /api/v1/ai/models/status - статус моделей"], "websocket_channels":
              ["wss://api.necp.game/v1/ai/adaptations/{encounterId} - события адаптаций"],
              "events_published": [{"ai.adaptation.applied": "применение адаптации"},
              {"ai.strategy.changed": "изменение стратегии"}, {"ai.training.completed":
              "завершение обучения"}]}, {"name": "gameplay-service", "port": 8083,
              "responsibility": "Сбор данных о действиях игроков:\n- Отслеживание
              позиций и способностей\n- Сбор данных для анализа\n- Применение адаптаций
              AI\n", "components": [{"player-action-tracker": "отслеживание действий"},
              {"adaptation-applicator": "применение адаптаций"}]}], "data_flows":
              {"tactics_analysis_flow": "1. Player Action Tracker собирает данные
              о действиях игроков\n2. Tactics Analyzer анализирует позиции, способности
              и паттерны\n3. Tactics Analyzer определяет слабые места команды\n4.
              Tactics Analyzer передает данные в Adaptation Engine\n5. AI Service
              публикует событие ai.tactics.analyzed\n", "adaptation_flow": "1. Adaptation
              Engine получает результаты анализа тактик\n2. Adaptation Engine определяет
              необходимые адаптации\n3. Counter-Strategy Controller выбирает контр-стратегии\n4.
              Adaptation Engine применяет адаптации к AI врагам\n5. AI Service публикует
              событие ai.adaptation.applied\n6. Gameplay Service применяет адаптации
              в бою\n", "training_flow": "1. Adaptation Telemetry Collector собирает
              данные за период\n2. ML Training Pipeline анализирует эффективность
              адаптаций\n3. ML Training Pipeline обучает модели на исторических данных\n4.
              ML Training Pipeline обновляет модели AI\n5. AI Service публикует событие
              ai.training.completed\n"}, "database_structure": {"tables": [{"name":
              "player_tactics_data", "description": "Данные о тактиках игроков", "columns":
              [{"id": "UUID PRIMARY KEY"}, {"encounter_id": "UUID FOREIGN KEY"}, {"player_id":
              "UUID FOREIGN KEY"}, {"position_data": "JSONB"}, {"ability_usage": "JSONB"},
              {"pattern_data": "JSONB"}, {"timestamp": "TIMESTAMP"}]}, {"name": "ai_adaptations",
              "description": "Адаптации AI", "columns": [{"id": "UUID PRIMARY KEY"},
              {"encounter_id": "UUID FOREIGN KEY"}, {"enemy_id": "UUID FOREIGN KEY"},
              {"adaptation_type": "VARCHAR(100)"}, {"adaptation_data": "JSONB"}, {"applied_at":
              "TIMESTAMP"}]}, {"name": "ai_training_data", "description": "Данные
              для обучения AI", "columns": [{"id": "UUID PRIMARY KEY"}, {"encounter_id":
              "UUID FOREIGN KEY"}, {"tactics_data": "JSONB"}, {"adaptation_data":
              "JSONB"}, {"effectiveness": "DECIMAL(5,2)"}, {"timestamp": "TIMESTAMP"}]}]},
              "integrations": {"analytics_service": "- Анализ данных о тактиках\n-
              Обучение моделей\n- Оптимизация AI\n"}, "technical_tasks": {"phases":
              {"phase_1": {"name": "Tactics Analyzer и Player Action Tracker", "tasks":
              ["Реализация Tactics Analyzer", "Реализация Player Action Tracker",
              "Анализ тактик игроков", "Определение слабых мест", "Интеграция с Gameplay
              Service"], "estimated_effort": "5 days"}, "phase_2": {"name": "Adaptation
              Engine и Counter-Strategy Controller", "tasks": ["Реализация Adaptation
              Engine", "Реализация Counter-Strategy Controller", "Адаптация поведения
              AI", "Применение контр-стратегий", "Интеграция с AI Service"], "estimated_effort":
              "6 days"}, "phase_3": {"name": "ML Training Pipeline", "tasks": ["Реализация
              ML Training Pipeline", "Обучение моделей", "Оптимизация AI", "Интеграция
              с Analytics Service"], "estimated_effort": "5 days"}}}}}'
        - column:
            name: metadata
            value: '{"id": "adaptive-ai-system-architecture", "title": "Архитектура
              системы адаптивного AI", "document_type": "architecture", "category":
              "systems", "status": "draft", "version": "1.0.0", "last_updated": "2025-12-XXT00:00:00Z",
              "owners": [{"role": "architect", "contact": "architect@necp.game"}],
              "tags": ["architecture", "ai", "adaptive-ai", "machine-learning", "difficulty",
              "hardcore"], "related_systems": ["gameplay-service", "analytics-service",
              "ai-service"], "related_documents": [{"id": "adaptive-ai-idea", "relation":
              "implements"}, {"id": "combat-ai-enemies-architecture", "relation":
              "extends"}], "github_issue": 1501, "visibility": "internal", "audience":
              ["architect", "backend", "ai", "api-designer"]}'
        - column:
            name: source_file
            value: knowledge\implementation\architecture\adaptive-ai-system-architecture.yaml
