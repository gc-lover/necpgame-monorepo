databaseChangeLog:
- changeSet:
    id: documentation-admin-moderation-core-3db95e67
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '-304456794378134'
        - column:
            name: doc_id
            value: admin-moderation-core
        - column:
            name: title
            value: Архитектура системы администрирования и модерации - Основная структура
        - column:
            name: document_type
            value: architecture
        - column:
            name: category
            value: systems
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.1.0
        - column:
            name: last_updated
            value: 2025-11-30 20:50:00+00:00
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: null
        - column:
            name: owners
            value: '[{"role": "architect", "contact": "architect@necp.game"}]'
        - column:
            name: tags
            value:
            - architecture
            - admin
            - moderation
            - backend
            - infrastructure
            - operations
        - column:
            name: topics
            value: []
        - column:
            name: related_systems
            value:
            - admin-api
            - character-service
            - economy-service-go
            - gameplay-service-go
            - social-service-go
            - analytics-service
        - column:
            name: related_documents
            value: '[{"id": "implementation-infrastructure-admin-moderation-tools",
              "relation": "extends"}, {"id": "admin-moderation-mechanics", "relation":
              "extends"}, {"id": "admin-moderation-data-flows", "relation": "extends"},
              {"id": "admin-moderation-database", "relation": "extends"}, {"id": "admin-moderation-integrations",
              "relation": "extends"}, {"id": "admin-moderation-technical", "relation":
              "extends"}]'
        - column:
            name: source
            value: ''
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - architect
            - backend
            - api-designer
            - operations
        - column:
            name: risk_level
            value: ''
        - column:
            name: content
            value: '{"metadata": {"id": "admin-moderation-core", "title": "Архитектура
              системы администрирования и модерации - Основная структура", "document_type":
              "architecture", "category": "systems", "status": "draft", "version":
              "1.1.0", "last_updated": "2025-11-30T20:50:00+00:00", "owners": [{"role":
              "architect", "contact": "architect@necp.game"}], "tags": ["architecture",
              "admin", "moderation", "backend", "infrastructure", "operations"], "related_systems":
              ["admin-api", "character-service", "economy-service-go", "gameplay-service-go",
              "social-service-go", "analytics-service"], "related_documents": [{"id":
              "implementation-infrastructure-admin-moderation-tools", "relation":
              "extends"}, {"id": "admin-moderation-mechanics", "relation": "extends"},
              {"id": "admin-moderation-data-flows", "relation": "extends"}, {"id":
              "admin-moderation-database", "relation": "extends"}, {"id": "admin-moderation-integrations",
              "relation": "extends"}, {"id": "admin-moderation-technical", "relation":
              "extends"}], "github_issue": 403, "visibility": "internal", "audience":
              ["architect", "backend", "api-designer", "operations"]}, "summary":
              {"problem": "Требуется спроектировать полную техническую архитектуру
              системы администрирования\nи модерации для управления игроками, экономикой,
              контентом и модерации через\nединую админ-панель с контролем доступа
              и аудитом действий.\n", "goal": "Создать архитектурную схему системы
              администрирования и модерации с определением:\n- Компонентов системы
              (микросервисы, модули)\n- API endpoints (высокоуровнево)\n- Потоков
              данных и интеграций\n- Системы ролей и доступов\n- Системы управления
              игроками\n- Системы управления экономикой\n- Системы управления контентом\n-
              Системы модерации\n- Системы аналитики\n- Системы аудита действий\n-
              Технического задания для реализации\n", "essence": "Инфраструктурная
              система администрирования и модерации для оперативного управления\nигроками,
              экономикой, контентом и модерации через единую админ-панель.\n"}, "architecture":
              {"overview": "Система администрирования и модерации состоит из восьми
              основных компонентов:\n1. Admin Panel Service - основной сервис админ-панели\n2.
              Player Management Module - управление игроками\n3. Economy Management
              Module - управление экономикой\n4. Content Management Module - управление
              контентом\n5. Moderation Module - модерация\n6. Analytics Dashboard
              Module - аналитическая панель\n7. Role & Permission Manager - управление
              ролями и доступами\n8. Audit Log Manager - управление аудитом действий\n",
              "components": [{"name": "Admin Panel Service", "location": "admin-api
              (основной сервис)", "responsibility": "- Единая точка входа для админ-панели\n-
              Аутентификация и авторизация администраторов\n- Маршрутизация запросов
              к модулям\n- Управление сессиями администраторов\n- Интеграция с другими
              сервисами\n", "endpoints": ["POST /api/v1/admin/auth/login - вход в
              админ-панель", "POST /api/v1/admin/auth/logout - выход из админ-панели",
              "GET /api/v1/admin/auth/me - информация о текущем администраторе", "GET
              /api/v1/admin/dashboard - главная панель"]}, {"name": "Player Management
              Module", "location": "admin-api (модуль player-management)", "responsibility":
              "- Управление профилями игроков\n- Просмотр истории входов\n- Просмотр
              истории транзакций\n- Редактирование параметров игроков\n- Выдача/отзыв
              санкций\n- Удаление учётных записей\n- Просмотр инвентаря игроков\n-
              Просмотр достижений игроков\n", "endpoints": ["GET /api/v1/admin/players
              - список игроков", "GET /api/v1/admin/players/{player_id} - профиль
              игрока", "PUT /api/v1/admin/players/{player_id} - обновление профиля",
              "DELETE /api/v1/admin/players/{player_id} - удаление игрока", "GET /api/v1/admin/players/{player_id}/sessions
              - история сессий", "GET /api/v1/admin/players/{player_id}/transactions
              - история транзакций", "GET /api/v1/admin/players/{player_id}/inventory
              - инвентарь", "GET /api/v1/admin/players/{player_id}/achievements -
              достижения", "POST /api/v1/admin/players/{player_id}/sanctions - выдача
              санкции", "DELETE /api/v1/admin/players/{player_id}/sanctions/{sanction_id}
              - отзыв санкции"]}, {"name": "Economy Management Module", "location":
              "admin-api (модуль economy-management)", "responsibility": "- Управление
              балансом игроков\n- Управление инвентарём игроков\n- Отслеживание активности
              рынка\n- Мониторинг подозрительных операций\n- Формирование отчётов
              по RMT\n- Управление предметами\n- Управление валютами\n", "endpoints":
              ["GET /api/v1/admin/economy/players/{player_id}/balance - баланс игрока",
              "PUT /api/v1/admin/economy/players/{player_id}/balance - изменение баланса",
              "GET /api/v1/admin/economy/market/activity - активность рынка", "GET
              /api/v1/admin/economy/market/suspicious - подозрительные операции",
              "GET /api/v1/admin/economy/reports/rmt - отчёты по RMT", "GET /api/v1/admin/economy/items
              - список предметов", "POST /api/v1/admin/economy/items - создание предмета",
              "PUT /api/v1/admin/economy/items/{item_id} - обновление предмета", "DELETE
              /api/v1/admin/economy/items/{item_id} - удаление предмета"]}, {"name":
              "Content Management Module", "location": "admin-api (модуль content-management)",
              "responsibility": "- Управление достижениями\n- Управление ежедневными
              заданиями\n- Управление глобальными событиями\n- Горячие правки диалогов
              NPC\n- Управление квестами\n- Управление NPC\n", "endpoints": ["GET
              /api/v1/admin/content/achievements - список достижений", "POST /api/v1/admin/content/achievements
              - создание достижения", "PUT /api/v1/admin/content/achievements/{achievement_id}
              - обновление достижения", "DELETE /api/v1/admin/content/achievements/{achievement_id}
              - удаление достижения", "GET /api/v1/admin/content/daily-quests - ежедневные
              задания", "POST /api/v1/admin/content/daily-quests - создание ежедневного
              задания", "PUT /api/v1/admin/content/daily-quests/{quest_id} - обновление
              задания", "GET /api/v1/admin/content/events - глобальные события", "POST
              /api/v1/admin/content/events - создание события", "PUT /api/v1/admin/content/events/{event_id}
              - обновление события", "GET /api/v1/admin/content/npcs/{npc_id}/dialogues
              - диалоги NPC", "PUT /api/v1/admin/content/npcs/{npc_id}/dialogues/{dialogue_id}
              - обновление диалога"]}, {"name": "Moderation Module", "location": "admin-api
              (модуль moderation)", "responsibility": "- Модерация чатов\n- Обработка
              репортов\n- Выдача временных санкций (до 7 дней)\n- Блокировка игроков\n-
              Разблокировка игроков\n- Управление банами\n", "endpoints": ["GET /api/v1/admin/moderation/reports
              - список репортов", "GET /api/v1/admin/moderation/reports/{report_id}
              - детали репорта", "POST /api/v1/admin/moderation/reports/{report_id}/resolve
              - разрешение репорта", "GET /api/v1/admin/moderation/chat/messages -
              сообщения чата", "DELETE /api/v1/admin/moderation/chat/messages/{message_id}
              - удаление сообщения", "POST /api/v1/admin/moderation/players/{player_id}/ban
              - бан игрока", "DELETE /api/v1/admin/moderation/players/{player_id}/ban
              - разбан игрока", "GET /api/v1/admin/moderation/bans - список банов"]},
              {"name": "Analytics Dashboard Module", "location": "admin-api (модуль
              analytics-dashboard)", "responsibility": "- Отображение онлайн игроков\n-
              Отображение активных матчей\n- Отображение операций торговли\n- Отображение
              нагрузки серверов\n- Отображение активности чатов\n- Выделение аномалий\n-
              Уведомления о проблемах\n", "endpoints": ["GET /api/v1/admin/analytics/players/online
              - онлайн игроки", "GET /api/v1/admin/analytics/matches/active - активные
              матчи", "GET /api/v1/admin/analytics/trade/operations - операции торговли",
              "GET /api/v1/admin/analytics/servers/load - нагрузка серверов", "GET
              /api/v1/admin/analytics/chat/activity - активность чатов", "GET /api/v1/admin/analytics/anomalies
              - аномалии", "GET /api/v1/admin/analytics/notifications - уведомления"]},
              {"name": "Role & Permission Manager", "location": "admin-api (модуль
              role-permission)", "responsibility": "- Управление ролями (Super Admin,
              Admin, Moderator)\n- Управление правами доступа\n- Проверка прав доступа\n-
              Управление администраторами\n", "endpoints": ["GET /api/v1/admin/roles
              - список ролей", "GET /api/v1/admin/roles/{role_id}/permissions - права
              роли", "GET /api/v1/admin/admins - список администраторов", "POST /api/v1/admin/admins
              - создание администратора", "PUT /api/v1/admin/admins/{admin_id} - обновление
              администратора", "DELETE /api/v1/admin/admins/{admin_id} - удаление
              администратора"]}, {"name": "Audit Log Manager", "location": "admin-api
              (модуль audit-log)", "responsibility": "- Логирование всех действий
              администраторов\n- Логирование всех действий модераторов\n- Хранение
              детальной информации о действиях\n- Поиск по логам\n- Экспорт логов\n-
              Анализ логов\n", "log_fields": "- Тип операции\n- Целевой пользователь\n-
              Детали операции\n- Причина операции\n- Время операции\n- IP адрес\n-
              User-Agent\n", "endpoints": ["GET /api/v1/admin/audit/logs - список
              логов", "GET /api/v1/admin/audit/logs/{log_id} - детали лога", "GET
              /api/v1/admin/audit/logs/search - поиск по логам", "GET /api/v1/admin/audit/logs/export
              - экспорт логов"]}]}}'
        - column:
            name: metadata
            value: '{"id": "admin-moderation-core", "title": "Архитектура системы
              администрирования и модерации - Основная структура", "document_type":
              "architecture", "category": "systems", "status": "draft", "version":
              "1.1.0", "last_updated": "2025-11-30T20:50:00+00:00", "owners": [{"role":
              "architect", "contact": "architect@necp.game"}], "tags": ["architecture",
              "admin", "moderation", "backend", "infrastructure", "operations"], "related_systems":
              ["admin-api", "character-service", "economy-service-go", "gameplay-service-go",
              "social-service-go", "analytics-service"], "related_documents": [{"id":
              "implementation-infrastructure-admin-moderation-tools", "relation":
              "extends"}, {"id": "admin-moderation-mechanics", "relation": "extends"},
              {"id": "admin-moderation-data-flows", "relation": "extends"}, {"id":
              "admin-moderation-database", "relation": "extends"}, {"id": "admin-moderation-integrations",
              "relation": "extends"}, {"id": "admin-moderation-technical", "relation":
              "extends"}], "github_issue": 403, "visibility": "internal", "audience":
              ["architect", "backend", "api-designer", "operations"]}'
        - column:
            name: source_file
            value: knowledge\implementation\architecture\admin-moderation-core.yaml
