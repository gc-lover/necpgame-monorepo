databaseChangeLog:
- changeSet:
    id: documentation-announcement-database-0951fbf3
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '-852285759185142'
        - column:
            name: doc_id
            value: announcement-database
        - column:
            name: title
            value: Архитектура системы объявлений - База данных
        - column:
            name: document_type
            value: architecture
        - column:
            name: category
            value: systems
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.1.0
        - column:
            name: last_updated
            value: 2025-11-30 20:30:00+00:00
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: null
        - column:
            name: owners
            value: '[]'
        - column:
            name: tags
            value: []
        - column:
            name: topics
            value: []
        - column:
            name: related_systems
            value: []
        - column:
            name: related_documents
            value: '[{"id": "announcement-core", "relation": "extends"}]'
        - column:
            name: source
            value: ''
        - column:
            name: visibility
            value: ''
        - column:
            name: audience
            value: []
        - column:
            name: risk_level
            value: ''
        - column:
            name: content
            value: '{"metadata": {"id": "announcement-database", "title": "Архитектура
              системы объявлений - База данных", "document_type": "architecture",
              "category": "systems", "status": "draft", "version": "1.1.0", "last_updated":
              "2025-11-30T20:30:00+00:00", "github_issue": 323, "related_documents":
              [{"id": "announcement-core", "relation": "extends"}]}, "database_structure":
              {"tables": [{"name": "announcements", "description": "Объявления", "columns":
              [{"id": "UUID PRIMARY KEY"}, {"type": "ENUM (game_news, patch_notes,
              maintenance, event, promotion, community, emergency)"}, {"priority":
              "ENUM (low, medium, high, critical)"}, {"display_style": "ENUM (news_feed,
              popup, modal, banner, toast)"}, {"title": "VARCHAR(255)"}, {"content":
              "TEXT"}, {"media_urls": "JSONB"}, {"targeting_criteria": "JSONB"}, {"delivery_channels":
              "JSONB"}, {"status": "ENUM (draft, scheduled, published, archived)"},
              {"scheduled_publish_at": "TIMESTAMP"}, {"published_at": "TIMESTAMP"},
              {"archived_at": "TIMESTAMP"}, {"created_by": "UUID FOREIGN KEY"}, {"created_at":
              "TIMESTAMP"}, {"updated_at": "TIMESTAMP"}]}, {"name": "player_announcement_reads",
              "description": "Прочтения объявлений игроками", "columns": [{"id": "UUID
              PRIMARY KEY"}, {"character_id": "UUID FOREIGN KEY"}, {"announcement_id":
              "UUID FOREIGN KEY"}, {"displayed_at": "TIMESTAMP"}, {"read_at": "TIMESTAMP"},
              {"clicked_at": "TIMESTAMP"}, {"dismissed_at": "TIMESTAMP"}, {"engagement_time":
              "INTEGER"}, {"created_at": "TIMESTAMP"}, {"updated_at": "TIMESTAMP"}]},
              {"name": "patch_notes", "description": "Патчноуты", "columns": [{"id":
              "UUID PRIMARY KEY"}, {"version": "VARCHAR(50) UNIQUE"}, {"release_date":
              "TIMESTAMP"}, {"improvements": "JSONB"}, {"bug_fixes": "JSONB"}, {"known_issues":
              "JSONB"}, {"attachments": "JSONB"}, {"announcement_id": "UUID FOREIGN
              KEY"}, {"created_at": "TIMESTAMP"}, {"updated_at": "TIMESTAMP"}]}, {"name":
              "announcement_telemetry", "description": "Телеметрия объявлений", "columns":
              [{"id": "UUID PRIMARY KEY"}, {"event_type": "VARCHAR(50)"}, {"announcement_id":
              "UUID FOREIGN KEY"}, {"character_id": "UUID FOREIGN KEY"}, {"event_data":
              "JSONB"}, {"created_at": "TIMESTAMP"}]}]}}'
        - column:
            name: metadata
            value: '{"id": "announcement-database", "title": "Архитектура системы
              объявлений - База данных", "document_type": "architecture", "category":
              "systems", "status": "draft", "version": "1.1.0", "last_updated": "2025-11-30T20:30:00+00:00",
              "github_issue": 323, "related_documents": [{"id": "announcement-core",
              "relation": "extends"}]}'
        - column:
            name: source_file
            value: knowledge\implementation\architecture\announcement-database.yaml
