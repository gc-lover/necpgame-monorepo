databaseChangeLog:
- changeSet:
    id: documentation-auction-operations-15cd712d
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '-651635576317408'
        - column:
            name: doc_id
            value: auction-house-operations
        - column:
            name: title
            value: Аукционный дом — операции и API
        - column:
            name: document_type
            value: mechanics
        - column:
            name: category
            value: economy
        - column:
            name: status
            value: approved
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-09 20:25:00+00:00
        - column:
            name: concept_approved
            value: true
        - column:
            name: concept_reviewed_at
            value: 2025-11-09 20:25:00+00:00
        - column:
            name: owners
            value: '[{"role": "concept_director", "contact": "concept@necp.game"}]'
        - column:
            name: tags
            value:
            - auction-house
            - api
            - operations
        - column:
            name: topics
            value:
            - service-contracts
            - marketplace-automation
        - column:
            name: related_systems
            value:
            - economy-service
            - wallet-service
            - notification-service
        - column:
            name: related_documents
            value: '[{"id": "auction-house-mechanics", "relation": "complements"},
              {"id": "auction-house-database", "relation": "references"}]'
        - column:
            name: source
            value: shared/docs/knowledge/mechanics/economy/auction-house/auction-operations.md
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - concept
            - economy
            - backend
        - column:
            name: risk_level
            value: medium
        - column:
            name: content
            value: '{"metadata": {"id": "auction-house-operations", "title": "Аукционный
              дом — операции и API", "document_type": "mechanics", "category": "economy",
              "status": "approved", "version": "1.0.0", "last_updated": "2025-11-09T20:25:00+00:00",
              "concept_approved": true, "concept_reviewed_at": "2025-11-09T20:25:00+00:00",
              "owners": [{"role": "concept_director", "contact": "concept@necp.game"}],
              "tags": ["auction-house", "api", "operations"], "topics": ["service-contracts",
              "marketplace-automation"], "related_systems": ["economy-service", "wallet-service",
              "notification-service"], "related_documents": [{"id": "auction-house-mechanics",
              "relation": "complements"}, {"id": "auction-house-database", "relation":
              "references"}], "source": "shared/docs/knowledge/mechanics/economy/auction-house/auction-operations.md",
              "visibility": "internal", "audience": ["concept", "economy", "backend"],
              "risk_level": "medium"}, "review": {"chain": [{"role": "economy_lead",
              "reviewer": "", "reviewed_at": "2025-11-09T20:25:00+00:00", "status":
              "approved"}], "next_actions": []}, "summary": {"problem": "Операционные
              требования аукционного дома и контракт API были описаны в Markdown и
              требовали структурированного представления.", "goal": "Зафиксировать
              публичные эндпоинты, ограничения безопасности, метрики и дорожную карту
              развития функции.", "essence": "Документ формализует REST/WS интерфейсы
              аукционного дома, правила антифрода и систему мониторинга.", "key_points":
              ["Описаны основные REST-эндпоинты для создания лотов, поиска, ставок
              и buyout с примерами запросов и ответов.", "Антифрод-логика включает
              валидацию ставок, защиту от снайпинга, обнаружение подставных сделок
              и контроль лимитов.", "Метрики фиксируют ключевые показатели (`active`,
              `bids.daily`, `sold.daily`, `buyout.rate`) для наблюдаемости сервиса.",
              "Дорожная карта определяет MVP возможности и фичи следующей фазы (reserve
              price, watch list, bid history)."]}, "content": {"sections": [{"id":
              "endpoints", "title": "Публичные эндпоинты", "body": "- `POST /api/v1/auctions`
              — создание лота, возвращает идентификатор и время истечения.\n- `GET
              /api/v1/auctions` — выдаёт каталог с фильтрами по поиску, диапазонам
              ставок и сортировкам.\n- `POST /api/v1/auctions/{id}/bid` — размещение
              ставки с ответом об актуальной цене и статусе.\n- `POST /api/v1/auctions/{id}/buyout`
              — мгновенный выкуп, возвращает сумму и содержимое передачи.\n", "mechanics_links":
              ["mechanics/economy/auction-house/auction-mechanics.yaml"]}, {"id":
              "security", "title": "Безопасность и лимиты", "body": "Валидация ставок,
              авто-продление, выявление подставных торгов и алертинг ценовых манипуляций.\nОграничения:
              максимум 10 активных лотов на игрока, минимальный шаг ставки 5%, максимальная\nдлительность
              торгов 7 дней.\n", "mechanics_links": ["mechanics/economy/auction-house/auction-mechanics.yaml"]},
              {"id": "metrics", "title": "Метрики наблюдаемости", "body": "`auctions.active`,
              `auctions.bids.daily`, `auctions.sold.daily`, `auctions.buyout.rate`
              — ключевые метрики\nдля мониторинга нагрузки, конверсии покупок и соотношения
              ставок к выкупам.\n", "mechanics_links": ["mechanics/economy/auction-house/auction-database.yaml"]},
              {"id": "roadmap", "title": "Дорожная карта", "body": "**MVP:** создание
              лотов, ставки, buyout, авто-закрытие.\n**Phase 2:** резервные цены,
              история ставок, списки отслеживания, расширенные уведомления.\n", "mechanics_links":
              ["mechanics/economy/auction-house/auction-mechanics.yaml"]}, {"id":
              "integrations", "title": "Интеграции и уведомления", "body": "Сервис
              взаимодействует с кошельками (резервы/расчёты), уведомлениями (push/email)
              и аналитикой.\nПредусмотрены события для мониторинга активности и оповещения
              игроков.\n", "mechanics_links": ["mechanics/economy/auction-house/auction-database.yaml"]}]},
              "appendix": {"glossary": [], "references": [], "decisions": []}, "implementation":
              {"needs_task": false, "github_issue": 82, "queue_reference": ["shared/trackers/queues/concept/queued.yaml"],
              "blockers": []}, "history": [{"version": "1.0.0", "date": "2025-11-07",
              "author": "brain_manager", "changes": "Определены сервисные интерфейсы,
              меры безопасности, метрики и дорожная карта аукционного дома."}], "validation":
              {"checksum": "", "schema_version": "1.0"}}'
        - column:
            name: metadata
            value: '{"id": "auction-house-operations", "title": "Аукционный дом —
              операции и API", "document_type": "mechanics", "category": "economy",
              "status": "approved", "version": "1.0.0", "last_updated": "2025-11-09T20:25:00+00:00",
              "concept_approved": true, "concept_reviewed_at": "2025-11-09T20:25:00+00:00",
              "owners": [{"role": "concept_director", "contact": "concept@necp.game"}],
              "tags": ["auction-house", "api", "operations"], "topics": ["service-contracts",
              "marketplace-automation"], "related_systems": ["economy-service", "wallet-service",
              "notification-service"], "related_documents": [{"id": "auction-house-mechanics",
              "relation": "complements"}, {"id": "auction-house-database", "relation":
              "references"}], "source": "shared/docs/knowledge/mechanics/economy/auction-house/auction-operations.md",
              "visibility": "internal", "audience": ["concept", "economy", "backend"],
              "risk_level": "medium"}'
        - column:
            name: source_file
            value: knowledge\mechanics\economy\auction-house\auction-operations.yaml
