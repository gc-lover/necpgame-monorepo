databaseChangeLog:
- changeSet:
    id: documentation-chat-system-overview-66938208
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '2077354658392690'
        - column:
            name: doc_id
            value: chat-system-overview
        - column:
            name: title
            value: Chat System — Обзор и компоненты
        - column:
            name: document_type
            value: architecture
        - column:
            name: category
            value: systems
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-12-14 15:00:00+00:00
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: null
        - column:
            name: owners
            value: '[{"role": "architect", "contact": "architect@necp.game"}]'
        - column:
            name: tags
            value: []
        - column:
            name: topics
            value: []
        - column:
            name: related_systems
            value: []
        - column:
            name: related_documents
            value: '[]'
        - column:
            name: source
            value: ''
        - column:
            name: visibility
            value: ''
        - column:
            name: audience
            value: []
        - column:
            name: risk_level
            value: ''
        - column:
            name: content
            value: '{"metadata": {"id": "chat-system-overview", "title": "Chat System
              — Обзор и компоненты", "document_type": "architecture", "category":
              "systems", "status": "draft", "version": "1.0.0", "last_updated": "2025-12-14T15:00:00+00:00",
              "owners": [{"role": "architect", "contact": "architect@necp.game"}]},
              "summary": {"problem": "Требуется спроектировать полную архитектуру
              Chat System для текстовой коммуникации игроков,\nвключая каналы, модерацию,
              форматирование и интеграцию с существующими социальными системами.\n",
              "goal": "Создать архитектурную схему Chat System с определением:\n-
              Компонентов и микросервисов\n- API контрактов (REST, WebSocket, Events)\n-
              Потоков данных и интеграций\n- Схемы базы данных\n- Систем каналов,
              модерации и форматирования\n- Технического задания для реализации\n",
              "essence": "Полная архитектура Chat System для управления коммуникациями
              в MMOFPS RPG,\nинтегрирующая текстовый чат, голосовую связь и модерацию.\n"},
              "architecture": {"overview": "Chat System - это комплексная система
              коммуникации игроков, обеспечивающая\nтекстовый чат, голосовую связь,
              модерацию контента и социальные взаимодействия.\nСистема построена на
              принципах микросервисной архитектуры с real-time коммуникацией.\n",
              "system_components": [{"name": "Chat Core Service", "type": "microservice",
              "description": "Основной сервис управления чатом", "responsibilities":
              ["Обработка сообщений и каналов", "Маршрутизация сообщений", "Управление
              участниками каналов", "Синхронизация состояния чата"], "technologies":
              ["Go (backend)", "PostgreSQL (primary storage)", "Redis (caching)",
              "Kafka (events)"]}, {"name": "Chat Moderation Service", "type": "microservice",
              "description": "Сервис модерации контента", "responsibilities": ["Фильтрация
              запрещенных выражений", "Обнаружение спама", "Управление банами", "Обработка
              жалоб"], "technologies": ["Go (backend)", "PostgreSQL (storage)", "Redis
              (caching)"]}, {"name": "Chat Formatting Engine", "type": "microservice",
              "description": "Движок форматирования сообщений", "responsibilities":
              ["Rich text formatting", "Emoji и ссылок обработка", "Slash-команды
              обработка", "XSS защита"], "technologies": ["Go (backend)", "Redis (caching)"]},
              {"name": "Chat Voice Gateway", "type": "microservice", "description":
              "Шлюз голосовой связи", "responsibilities": ["WebRTC сигнализация",
              "Управление голосовыми каналами", "Участников управление", "Качество
              звука оптимизация"], "technologies": ["Go (backend)", "WebRTC (protocol)",
              "Redis Pub/Sub (messaging)"]}, {"name": "Chat Translation Service",
              "type": "microservice", "description": "Сервис переводов сообщений",
              "responsibilities": ["Автоматическое определение языка", "Перевод сообщений",
              "Кеширование переводов", "Управление языковыми настройками"], "technologies":
              ["Go (backend)", "External translation APIs", "Redis (caching)"]}, {"name":
              "Chat Analytics Service", "type": "microservice", "description": "Аналитика
              и статистика чата", "responsibilities": ["Метрики использования каналов",
              "Модерации отчеты", "Пользовательской активности анализ", "Производительности
              мониторинг"], "technologies": ["Go (backend)", "PostgreSQL (storage)",
              "Elasticsearch (analytics)", "Grafana (visualization)"]}], "microservices_architecture":
              {"chat_core_service": {"port": 8090, "database": "social_db", "dependencies":
              ["character-service (user validation)", "moderation-service (content
              filtering)", "formatting-service (message processing)"]}, "chat_moderation_service":
              {"port": 8091, "dependencies": ["chat-core-service (message interception)",
              "security-service (ban enforcement)"]}, "chat_formatting_engine": {"port":
              8092, "dependencies": ["chat-core-service (message preprocessing)"]},
              "chat_voice_gateway": {"port": 8093, "dependencies": ["chat-core-service
              (channel management)", "party-service (group channels)"]}, "chat_translation_service":
              {"port": 8094, "dependencies": ["chat-core-service (message routing)"]},
              "chat_analytics": {"port": 8095, "dependencies": ["monitoring-service
              (metrics collection)"]}}, "integration_points": {"with_social_service":
              ["Shared user profiles and relationships", "Friend lists for private
              channels", "Social reputation for moderation"], "with_party_service":
              ["Party channels creation", "Group communication management", "Raid
              coordination"], "with_guild_service": ["Guild channels and officer chats",
              "Guild announcements", "Leadership communication"], "with_moderation_service":
              ["Content filtering integration", "Automated moderation rules", "Admin
              tools access"], "with_translation_service": ["Real-time message translation",
              "Language detection", "Cultural adaptation"]}}}'
        - column:
            name: metadata
            value: '{"id": "chat-system-overview", "title": "Chat System — Обзор и
              компоненты", "document_type": "architecture", "category": "systems",
              "status": "draft", "version": "1.0.0", "last_updated": "2025-12-14T15:00:00+00:00",
              "owners": [{"role": "architect", "contact": "architect@necp.game"}]}'
        - column:
            name: source_file
            value: knowledge\implementation\architecture\chat-system-overview.yaml
