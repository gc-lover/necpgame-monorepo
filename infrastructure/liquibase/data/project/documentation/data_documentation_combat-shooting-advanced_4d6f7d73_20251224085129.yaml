databaseChangeLog:
- changeSet:
    id: documentation-combat-shooting-advanced-4d6f7d73
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '2252784290270854'
        - column:
            name: doc_id
            value: combat-shooting-advanced
        - column:
            name: title
            value: Система стрельбы — расширенные механики
        - column:
            name: document_type
            value: mechanics
        - column:
            name: category
            value: combat
        - column:
            name: status
            value: approved
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-08 09:37:00+00:00
        - column:
            name: concept_approved
            value: true
        - column:
            name: concept_reviewed_at
            value: 2025-11-09 03:21:00+00:00
        - column:
            name: owners
            value: '[{"role": "concept_director", "contact": "concept@necp.game"}]'
        - column:
            name: tags
            value:
            - combat
            - shooting
            - ballistic
        - column:
            name: topics
            value:
            - weapon_systems
            - customisation
        - column:
            name: related_systems
            value:
            - gameplay-service
            - economy-service
            - analytics-service
        - column:
            name: related_documents
            value: '[{"id": "combat-shooting", "relation": "references"}, {"id": "economy-crafting",
              "relation": "complements"}, {"id": "combat-loadouts-system", "relation":
              "complements"}]'
        - column:
            name: source
            value: shared/docs/knowledge/mechanics/combat/combat-shooting-advanced.md
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - concept
            - gameplay
            - economy
        - column:
            name: risk_level
            value: high
        - column:
            name: content
            value: '{"metadata": {"id": "combat-shooting-advanced", "title": "Система
              стрельбы — расширенные механики", "document_type": "mechanics", "category":
              "combat", "status": "approved", "version": "1.0.0", "last_updated":
              "2025-11-08T09:37:00+00:00", "concept_approved": true, "concept_reviewed_at":
              "2025-11-09T03:21:00+00:00", "owners": [{"role": "concept_director",
              "contact": "concept@necp.game"}], "tags": ["combat", "shooting", "ballistic"],
              "topics": ["weapon_systems", "customisation"], "related_systems": ["gameplay-service",
              "economy-service", "analytics-service"], "related_documents": [{"id":
              "combat-shooting", "relation": "references"}, {"id": "economy-crafting",
              "relation": "complements"}, {"id": "combat-loadouts-system", "relation":
              "complements"}], "source": "shared/docs/knowledge/mechanics/combat/combat-shooting-advanced.md",
              "visibility": "internal", "audience": ["concept", "gameplay", "economy"],
              "risk_level": "high"}, "review": {"chain": [{"role": "concept_director",
              "reviewer": "", "reviewed_at": "2025-11-09T03:21:00+00:00", "status":
              "approved"}], "next_actions": []}, "summary": {"problem": "Требуется
              расширить базовую систему стрельбы, чтобы учитывать дистанцию, рикошеты
              и модульность оружия.", "goal": "Описать баллистику на дистанции, систему
              Smart Ricochet/Curved Shot, крафт модов и API интеграции.", "essence":
              "Расширенная стрельба вводит профили оружия по дальности, продвинутые
              траектории и модульную кастомизацию, поддерживаемые сервисами экономики
              и аналитики.", "key_points": ["Каждое оружие имеет профиль эффективности
              с формулами падения урона и отклонения.", "Рикошеты и закрученные выстрелы
              требуют специализированных имплантов, навыков и модов.", "Кастомизация
              реализована через модульные слоты и крафт, интегрированные с economy-service
              и REST/Async API."]}, "content": {"sections": [{"id": "distance_profiles",
              "title": "Профили дистанции и урона", "body": "Оружие разделено на классы
              с оптимальными дистанциями и коэффициентами падения урона. Формула урона
              учитывает\nдистанцию, тип боеприпаса и статусные бонусы от имплантов
              или модов. После оптимальной дистанции траектория\nиспользует конус
              отклонения, зависящий от модификаций и навыков.\n", "mechanics_links":
              ["mechanics/combat/combat-shooting.yaml"], "assets": []}, {"id": "advanced_ballistics",
              "title": "Рикошеты и закрученные выстрелы", "body": "Smart Ricochet
              2.0 использует смарт-прицелы, специальные патроны и перки для расчёта
              отскоков. Навык Curved Shot\nдоступен при комбинации имплантов и модов,
              позволяя обходить укрытия по bezier-траектории. Система ограничивает\nколичество
              рикошетов и урон, повышая статусные эффекты.\n", "mechanics_links":
              ["mechanics/combat/combat-implants-mechanics.yaml"], "assets": []},
              {"id": "weapon_customisation", "title": "Кастомизация и крафт оружия",
              "body": "Модульная структура оружия включает слоты стволов, прицелов,
              прикладов, чипов и патронников. Моды имеют уровни\nMK I–III и требуют
              материалы, рецепты и навыки. Распыление оружия даёт ресурсы, а сервисные
              станции позволяют\nперенастраивать модули без потерь.\n", "mechanics_links":
              ["mechanics/economy/economy-crafting.yaml"], "assets": []}, {"id": "skills_implants",
              "title": "Навыки и импланты", "body": "Навыки Trajectory Sculptor, Tactical
              Bounce и Ballistic Engineer усиливают точность, рикошеты и крафт. Импланты\nSmart
              Wrist Tendons, Neuro-Gyro Coupler и Ballistic Processor повышают контроль
              траекторий и скорость\nкастомизации. Сочетания поддерживают разные боевые
              роли.\n", "mechanics_links": ["mechanics/progression/progression-skills-mapping.yaml"],
              "assets": []}, {"id": "api_integration", "title": "API и события", "body":
              "REST эндпоинты включают симуляцию баллистики, обновление модов и создание
              крафтовых задач. Асинхронные события\n`combat.ballistics.events` и `economy.crafting.jobs`
              подключают аналитику, мониторинг и достижения.\nОписаны требования безопасности
              и лимиты нагрузки.\n", "mechanics_links": ["mechanics/api/gameplay/combat/ballistics.yaml"],
              "assets": []}, {"id": "telemetry_balance", "title": "Метрики и баланс",
              "body": "Введены KPI по точности, падению урона, использованию рикошетов
              и adoption модов. Данные публикуются в\ntelemetry-service для последующей
              балансировки и анализа популярности билдов.\n", "mechanics_links": ["mechanics/gameplay/telemetry/shooting-metrics.yaml"],
              "assets": []}]}, "appendix": {"glossary": [], "references": [], "decisions":
              []}, "implementation": {"needs_task": false, "github_issue": 59, "queue_reference":
              ["shared/trackers/queues/concept/queued.yaml#CON-2025-239"], "blockers":
              []}, "history": [{"version": "1.0.0", "date": "2025-11-08", "author":
              "concept_director", "changes": "Конвертировано из combat-shooting-advanced.md,
              добавлены разделы по дистанциям, рикошетам, кастомизации и API."}],
              "validation": {"checksum": "", "schema_version": "1.0"}}'
        - column:
            name: metadata
            value: '{"id": "combat-shooting-advanced", "title": "Система стрельбы
              — расширенные механики", "document_type": "mechanics", "category": "combat",
              "status": "approved", "version": "1.0.0", "last_updated": "2025-11-08T09:37:00+00:00",
              "concept_approved": true, "concept_reviewed_at": "2025-11-09T03:21:00+00:00",
              "owners": [{"role": "concept_director", "contact": "concept@necp.game"}],
              "tags": ["combat", "shooting", "ballistic"], "topics": ["weapon_systems",
              "customisation"], "related_systems": ["gameplay-service", "economy-service",
              "analytics-service"], "related_documents": [{"id": "combat-shooting",
              "relation": "references"}, {"id": "economy-crafting", "relation": "complements"},
              {"id": "combat-loadouts-system", "relation": "complements"}], "source":
              "shared/docs/knowledge/mechanics/combat/combat-shooting-advanced.md",
              "visibility": "internal", "audience": ["concept", "gameplay", "economy"],
              "risk_level": "high"}'
        - column:
            name: source_file
            value: knowledge\mechanics\combat\combat-shooting-advanced.yaml
