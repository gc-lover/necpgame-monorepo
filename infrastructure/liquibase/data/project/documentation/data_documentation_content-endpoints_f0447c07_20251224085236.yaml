databaseChangeLog:
- changeSet:
    id: documentation-content-endpoints-f0447c07
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '-414446169830654'
        - column:
            name: doc_id
            value: api-mvp-content-endpoints
        - column:
            name: title
            value: MVP Content Endpoints — Контент игры
        - column:
            name: document_type
            value: implementation
        - column:
            name: category
            value: api
        - column:
            name: status
            value: approved
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-07 06:05:00+00:00
        - column:
            name: concept_approved
            value: true
        - column:
            name: concept_reviewed_at
            value: 2025-11-07 06:05:00+00:00
        - column:
            name: owners
            value: '[{"role": "api_lead", "contact": "api@necp.game"}]'
        - column:
            name: tags
            value:
            - api
            - quests
            - combat
            - trading
        - column:
            name: topics
            value:
            - gameplay-service
            - social-service
            - economy-service
        - column:
            name: related_systems
            value:
            - gameplay-service
            - social-service
            - economy-service
        - column:
            name: related_documents
            value: '[{"id": "api-mvp-auth-endpoints", "relation": "complements"},
              {"id": "api-mvp-gameplay-endpoints", "relation": "complements"}, {"id":
              "api-mvp-system-endpoints", "relation": "complements"}]'
        - column:
            name: source
            value: shared/docs/knowledge/implementation/api-requirements/mvp-endpoints/content-endpoints.md
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - backend
            - api
            - content
        - column:
            name: risk_level
            value: high
        - column:
            name: content
            value: '{"metadata": {"id": "api-mvp-content-endpoints", "title": "MVP
              Content Endpoints — Контент игры", "document_type": "implementation",
              "category": "api", "status": "approved", "version": "1.0.0", "last_updated":
              "2025-11-07T06:05:00+00:00", "concept_approved": true, "concept_reviewed_at":
              "2025-11-07T06:05:00+00:00", "owners": [{"role": "api_lead", "contact":
              "api@necp.game"}], "tags": ["api", "quests", "combat", "trading"], "topics":
              ["gameplay-service", "social-service", "economy-service"], "related_systems":
              ["gameplay-service", "social-service", "economy-service"], "related_documents":
              [{"id": "api-mvp-auth-endpoints", "relation": "complements"}, {"id":
              "api-mvp-gameplay-endpoints", "relation": "complements"}, {"id": "api-mvp-system-endpoints",
              "relation": "complements"}], "source": "shared/docs/knowledge/implementation/api-requirements/mvp-endpoints/content-endpoints.md",
              "visibility": "internal", "audience": ["backend", "api", "content"],
              "risk_level": "high"}, "review": {"chain": [{"role": "api_lead", "reviewer":
              "", "reviewed_at": "2025-11-07T06:05:00+00:00", "status": "approved"}],
              "next_actions": []}, "summary": {"problem": "Требуется описать REST
              endpoint''ы контентных систем (квесты, NPC, бой, торговля) в рамках
              MVP.", "goal": "Задокументировать запросы и ответы для ключевых игровых
              взаимодействий, чтобы упростить генерацию OpenAPI и интеграцию команд.",
              "essence": "Документ структурирует API для получения/стартов квестов,
              взаимодействия с NPC, текстового боя и торговых операций.", "key_points":
              ["Endpoint''ы распределены между gameplay-, social- и economy-сервисами
              и доступны через gateway.", "Примеры JSON покрывают выбор веток квестов,
              взаимодействие с NPC и combat turn-based реакции.", "Торговые API описывают
              рыночные списки и покупку с расчётом стоимости."]}, "content": {"sections":
              [{"id": "service_mapping", "title": "Сопоставление сервисов", "body":
              "`/api/v1/gameplay/quests/*` и `/api/v1/gameplay/combat/*` обслуживает
              gameplay-service. `/api/v1/social/npcs/*` отвечает\nsocial-service,
              `/api/v1/economy/trading/*` — economy-service. Все endpoint''ы доступны
              через gateway.\n", "mechanics_links": [], "assets": []}, {"id": "quests_api",
              "title": "Квестовые endpoint''ы", "body": "Описаны получение доступных
              квестов, старт квеста, просмотр прогресса и выбор ветки. Примеры показывают
              структуру узлов,\nнаград и последствий выбора.\n", "mechanics_links":
              [], "assets": []}, {"id": "npc_api", "title": "Взаимодействие с NPC",
              "body": "`GET /api/v1/npcs/{npcId}` возвращает данные NPC, доступные
              квесты и диалоги. `POST /api/v1/npcs/{npcId}/interact`\nподдерживает
              типы взаимодействия (dialogue/trade/hire) и возвращает варианты ответов.\n",
              "mechanics_links": [], "assets": []}, {"id": "combat_api", "title":
              "Текстовый бой", "body": "`POST /api/v1/combat/start` запускает бой
              и возвращает состояние участников. `POST /api/v1/combat/{combatId}/action`\nописывает
              ход игрока, ответ врага, текущее HP и флаг завершения боя.\n", "mechanics_links":
              [], "assets": []}, {"id": "trading_api", "title": "Торговля", "body":
              "`GET /api/v1/trade/market/{city}` отдаёт рыночные листинги, `POST /api/v1/trade/buy`
              оформляет покупку и возвращает\nпредмет и потраченную сумму.\n", "mechanics_links":
              [], "assets": []}]}, "appendix": {"glossary": [], "references": [],
              "decisions": []}, "implementation": {"github_issue": 136, "needs_task":
              false, "queue_reference": ["shared/trackers/queues/concept/queued.yaml#api-mvp-content-endpoints"],
              "blockers": []}, "history": [{"version": "1.0.0", "date": "2025-11-07",
              "author": "ai_brain_manager", "changes": "Описаны квестовые, NPC, боевые
              и торговые endpoint''ы для MVP."}], "validation": {"checksum": "", "schema_version":
              "1.0"}}'
        - column:
            name: metadata
            value: '{"id": "api-mvp-content-endpoints", "title": "MVP Content Endpoints
              — Контент игры", "document_type": "implementation", "category": "api",
              "status": "approved", "version": "1.0.0", "last_updated": "2025-11-07T06:05:00+00:00",
              "concept_approved": true, "concept_reviewed_at": "2025-11-07T06:05:00+00:00",
              "owners": [{"role": "api_lead", "contact": "api@necp.game"}], "tags":
              ["api", "quests", "combat", "trading"], "topics": ["gameplay-service",
              "social-service", "economy-service"], "related_systems": ["gameplay-service",
              "social-service", "economy-service"], "related_documents": [{"id": "api-mvp-auth-endpoints",
              "relation": "complements"}, {"id": "api-mvp-gameplay-endpoints", "relation":
              "complements"}, {"id": "api-mvp-system-endpoints", "relation": "complements"}],
              "source": "shared/docs/knowledge/implementation/api-requirements/mvp-endpoints/content-endpoints.md",
              "visibility": "internal", "audience": ["backend", "api", "content"],
              "risk_level": "high"}'
        - column:
            name: source_file
            value: knowledge\implementation\api-requirements\mvp-endpoints\content-endpoints.yaml
