databaseChangeLog:
- changeSet:
    id: documentation-cosmetic-database-656f8b92
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '-176620713836943'
        - column:
            name: doc_id
            value: cosmetic-database
        - column:
            name: title
            value: Архитектура системы косметики - База данных
        - column:
            name: document_type
            value: architecture
        - column:
            name: category
            value: systems
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.1.0
        - column:
            name: last_updated
            value: 2025-11-30 20:50:00+00:00
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: null
        - column:
            name: owners
            value: '[]'
        - column:
            name: tags
            value: []
        - column:
            name: topics
            value: []
        - column:
            name: related_systems
            value: []
        - column:
            name: related_documents
            value: '[{"id": "cosmetic-core", "relation": "extends"}]'
        - column:
            name: source
            value: ''
        - column:
            name: visibility
            value: ''
        - column:
            name: audience
            value: []
        - column:
            name: risk_level
            value: ''
        - column:
            name: content
            value: '{"metadata": {"id": "cosmetic-database", "title": "Архитектура
              системы косметики - База данных", "document_type": "architecture", "category":
              "systems", "status": "draft", "version": "1.1.0", "last_updated": "2025-11-30T20:50:00+00:00",
              "github_issue": 315, "related_documents": [{"id": "cosmetic-core", "relation":
              "extends"}]}, "database_structure": {"tables": [{"name": "cosmetic_items",
              "description": "Каталог косметических предметов", "columns": [{"id":
              "UUID PRIMARY KEY"}, {"code": "VARCHAR(50) UNIQUE"}, {"name": "VARCHAR(255)"},
              {"category": "ENUM (character_skin, weapon_skin, emote, title, name_plate)"},
              {"rarity": "ENUM (common, rare, epic, legendary)"}, {"cost": "JSONB"},
              {"assets": "JSONB"}, {"description": "TEXT"}, {"is_exclusive": "BOOLEAN"},
              {"is_time_limited": "BOOLEAN"}, {"available_from": "TIMESTAMP"}, {"available_until":
              "TIMESTAMP"}, {"level_requirement": "INTEGER"}, {"created_at": "TIMESTAMP"},
              {"updated_at": "TIMESTAMP"}]}, {"name": "player_cosmetics", "description":
              "Владение косметикой игроками", "columns": [{"id": "UUID PRIMARY KEY"},
              {"character_id": "UUID FOREIGN KEY"}, {"cosmetic_id": "UUID FOREIGN
              KEY"}, {"source": "VARCHAR(50)"}, {"acquired_at": "TIMESTAMP"}, {"usage_count":
              "INTEGER"}, {"last_used_at": "TIMESTAMP"}]}, {"name": "player_equipped_cosmetics",
              "description": "Экипированная косметика игроков", "columns": [{"id":
              "UUID PRIMARY KEY"}, {"character_id": "UUID FOREIGN KEY"}, {"slot_type":
              "ENUM (character_skin, weapon_skin, emote, title, name_plate)"}, {"slot_name":
              "VARCHAR(50)"}, {"cosmetic_id": "UUID FOREIGN KEY"}, {"equipped_at":
              "TIMESTAMP"}, {"updated_at": "TIMESTAMP"}]}, {"name": "cosmetic_shop_rotations",
              "description": "Ротации магазина косметики", "columns": [{"id": "UUID
              PRIMARY KEY"}, {"rotation_type": "ENUM (daily, weekly)"}, {"start_date":
              "TIMESTAMP"}, {"end_date": "TIMESTAMP"}, {"items": "JSONB"}, {"created_at":
              "TIMESTAMP"}]}, {"name": "cosmetic_telemetry", "description": "Телеметрия
              косметики", "columns": [{"id": "UUID PRIMARY KEY"}, {"event_type": "VARCHAR(50)"},
              {"character_id": "UUID FOREIGN KEY"}, {"cosmetic_id": "UUID FOREIGN
              KEY"}, {"event_data": "JSONB"}, {"created_at": "TIMESTAMP"}]}]}}'
        - column:
            name: metadata
            value: '{"id": "cosmetic-database", "title": "Архитектура системы косметики
              - База данных", "document_type": "architecture", "category": "systems",
              "status": "draft", "version": "1.1.0", "last_updated": "2025-11-30T20:50:00+00:00",
              "github_issue": 315, "related_documents": [{"id": "cosmetic-core", "relation":
              "extends"}]}'
        - column:
            name: source_file
            value: knowledge\implementation\architecture\cosmetic-database.yaml
