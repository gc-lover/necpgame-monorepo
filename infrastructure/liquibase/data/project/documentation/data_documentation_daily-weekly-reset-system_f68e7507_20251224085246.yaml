databaseChangeLog:
- changeSet:
    id: documentation-daily-weekly-reset-system-f68e7507
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '4789844248548254'
        - column:
            name: doc_id
            value: backend-daily-weekly-reset-system
        - column:
            name: title
            value: Daily/Weekly Reset System
        - column:
            name: document_type
            value: implementation
        - column:
            name: category
            value: backend
        - column:
            name: status
            value: approved
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-07 00:18:00+00:00
        - column:
            name: concept_approved
            value: true
        - column:
            name: concept_reviewed_at
            value: 2025-11-07 05:20:00+00:00
        - column:
            name: owners
            value: '[{"role": "world_lead", "contact": "world@necp.game"}]'
        - column:
            name: tags
            value:
            - resets
            - engagement
        - column:
            name: topics
            value:
            - gameplay-infra
            - liveops
        - column:
            name: related_systems
            value:
            - world-service
            - gameplay-service
            - economy-service
            - social-service
        - column:
            name: related_documents
            value: '[{"id": "backend-leaderboard-system", "relation": "references"}]'
        - column:
            name: source
            value: shared/docs/knowledge/implementation/backend/daily-weekly-reset-system.md
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - backend
            - world
        - column:
            name: risk_level
            value: medium
        - column:
            name: content
            value: '{"metadata": {"id": "backend-daily-weekly-reset-system", "title":
              "Daily/Weekly Reset System", "document_type": "implementation", "category":
              "backend", "status": "approved", "version": "1.0.0", "last_updated":
              "2025-11-07T00:18:00+00:00", "concept_approved": true, "concept_reviewed_at":
              "2025-11-07T05:20:00+00:00", "owners": [{"role": "world_lead", "contact":
              "world@necp.game"}], "tags": ["resets", "engagement"], "topics": ["gameplay-infra",
              "liveops"], "related_systems": ["world-service", "gameplay-service",
              "economy-service", "social-service"], "related_documents": [{"id": "backend-leaderboard-system",
              "relation": "references"}], "source": "shared/docs/knowledge/implementation/backend/daily-weekly-reset-system.md",
              "visibility": "internal", "audience": ["backend", "world"], "risk_level":
              "medium"}, "review": {"chain": [{"role": "world_lead", "reviewer": "",
              "reviewed_at": "2025-11-07T05:20:00+00:00", "status": "approved"}],
              "next_actions": []}, "summary": {"problem": "Система ежедневных и еженедельных
              сбросов требовала описания процессов, расписаний и интеграций.", "goal":
              "Документировать архитектуру reset jobs, типы сбросов, БД и API.", "essence":
              "Документ охватывает сбросы квестов, логин-вознаграждения, расписания,
              базы данных и уведомления.", "key_points": ["Описаны daily/weekly resets,
              цели и контент.", "Перечислены системы квестов, логин наград, ограничения.",
              "SQL таблицы для пулов квестов, трекинга и логин наград.", "Cron процессы
              и уведомления для игроков."]}, "content": {"sections": [{"id": "overview",
              "title": "Краткое описание", "body": "Reset System управляет ежедневными
              и еженедельными сбросами для квестов, наград и ограничений, повышая
              retention.\n", "mechanics_links": []}, {"id": "types", "title": "Типы
              сбросов", "body": "Расписаны списки daily и weekly сбросов, включая
              примеры квестов, наград и lockouts.\n", "mechanics_links": []}, {"id":
              "quests", "title": "Daily/Weekly Quest Systems", "body": "Описаны категории
              квестов, rotation, награды и weekly/guild задания.\n", "mechanics_links":
              []}, {"id": "login_rewards", "title": "Login Rewards", "body": "Таблицы
              дневных/месячных наград и правила сбросов при пропуске дней.\n", "mechanics_links":
              []}, {"id": "database", "title": "Структура БД", "body": "SQL схемы
              для `daily_quests_pool`, `player_daily_quests`, `reset_tracking`, `login_rewards_tracking`.\n",
              "mechanics_links": []}, {"id": "processes", "title": "Reset процессы
              и уведомления", "body": "Cron задания daily/weekly, шаги обработки,
              отправка уведомлений и API для статусов.\n", "mechanics_links": []}]},
              "appendix": {"glossary": [], "references": [], "decisions": []}, "implementation":
              {"github_issue": 136, "needs_task": false, "queue_reference": ["shared/trackers/queues/concept/queued.yaml"],
              "blockers": []}, "history": [{"version": "1.0.0", "date": "2025-11-06",
              "author": "world_lead", "changes": "Создана документация системы сбросов."}],
              "validation": {"checksum": "", "schema_version": "1.0"}}'
        - column:
            name: metadata
            value: '{"id": "backend-daily-weekly-reset-system", "title": "Daily/Weekly
              Reset System", "document_type": "implementation", "category": "backend",
              "status": "approved", "version": "1.0.0", "last_updated": "2025-11-07T00:18:00+00:00",
              "concept_approved": true, "concept_reviewed_at": "2025-11-07T05:20:00+00:00",
              "owners": [{"role": "world_lead", "contact": "world@necp.game"}], "tags":
              ["resets", "engagement"], "topics": ["gameplay-infra", "liveops"], "related_systems":
              ["world-service", "gameplay-service", "economy-service", "social-service"],
              "related_documents": [{"id": "backend-leaderboard-system", "relation":
              "references"}], "source": "shared/docs/knowledge/implementation/backend/daily-weekly-reset-system.md",
              "visibility": "internal", "audience": ["backend", "world"], "risk_level":
              "medium"}'
        - column:
            name: source_file
            value: knowledge\implementation\backend\daily-weekly-reset-system.yaml
