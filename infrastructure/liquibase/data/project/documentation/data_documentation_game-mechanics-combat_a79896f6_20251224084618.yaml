databaseChangeLog:
- changeSet:
    id: documentation-game-mechanics-combat-a79896f6
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '-195042170594866'
        - column:
            name: doc_id
            value: game-mechanics-combat
        - column:
            name: title
            value: Архитектура систем игровых механик - Боевые системы
        - column:
            name: document_type
            value: architecture
        - column:
            name: category
            value: systems
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-23 13:00:00+00:00
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: null
        - column:
            name: owners
            value: '[{"role": "architect", "contact": "architect@necp.game"}]'
        - column:
            name: tags
            value:
            - architecture
            - mechanics
            - gameplay
            - combat
        - column:
            name: topics
            value: []
        - column:
            name: related_systems
            value: []
        - column:
            name: related_documents
            value: '[{"id": "game-mechanics-core", "relation": "extends"}]'
        - column:
            name: source
            value: ''
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - architect
            - backend
            - gameplay
        - column:
            name: risk_level
            value: ''
        - column:
            name: content
            value: '{"metadata": {"id": "game-mechanics-combat", "title": "Архитектура
              систем игровых механик - Боевые системы", "document_type": "architecture",
              "category": "systems", "status": "draft", "version": "1.0.0", "last_updated":
              "2025-11-23T13:00:00+00:00", "owners": [{"role": "architect", "contact":
              "architect@necp.game"}], "tags": ["architecture", "mechanics", "gameplay",
              "combat"], "related_documents": [{"id": "game-mechanics-core", "relation":
              "extends"}], "github_issue": 104, "visibility": "internal", "audience":
              ["architect", "backend", "gameplay"]}, "architecture": {"microservices":
              [{"name": "gameplay-service", "port": 8083, "responsibility": "Обработка
              боевых механик и игрового процесса:\n- Боевая система (стрельба, стелс,
              паркур, способности)\n- Импланты и киберпсихоз\n- PvP/PvE баланс\n-
              Экстракт-механики\n- Арена и лутинг\n- Интеграция с progression-service\n",
              "components": [{"combat-engine": "обработка боевых действий"}, {"ability-system":
              "система способностей"}, {"implant-manager": "управление имплантами"},
              {"stealth-system": "стелс механики"}, {"freerun-system": "паркур и мобильность"},
              {"extract-zone-manager": "управление экстракт-зонами"}, {"arena-manager":
              "управление аренами"}, {"loot-generator": "генерация лута в бою"}],
              "endpoints": ["POST /api/v1/gameplay/combat/attack - атака", "POST /api/v1/gameplay/combat/ability
              - использование способности", "POST /api/v1/gameplay/combat/stealth
              - стелс действие", "POST /api/v1/gameplay/combat/freerun - паркур действие",
              "POST /api/v1/gameplay/extract/enter - вход в экстракт-зону", "POST
              /api/v1/gameplay/extract/extract - экстракция", "GET /api/v1/gameplay/combat/loadout
              - текущий лоадаут", "POST /api/v1/gameplay/combat/loadout - изменение
              лоадаута", "GET /api/v1/gameplay/implants/list - список имплантов",
              "POST /api/v1/gameplay/implants/install - установка импланта", "POST
              /api/v1/gameplay/implants/remove - удаление импланта", "GET /api/v1/gameplay/arena/list
              - список арен", "POST /api/v1/gameplay/arena/join - присоединение к
              арене"]}], "data_flows": {"combat_flow": "1. Клиент отправляет действие
              (атака, способность)\n2. Gameplay Service обрабатывает действие через
              Combat Engine\n3. Combat Engine проверяет условия (выносливость, кулдауны)\n4.
              Combat Engine рассчитывает урон/эффект\n5. Combat Engine обновляет состояние
              боя\n6. Combat Engine публикует событие combat:action-executed\n7. Progression
              Service получает событие и обновляет опыт\n8. Economy Service получает
              событие и генерирует лут (если применимо)\n9. Realtime Gateway отправляет
              обновление клиентам\n"}}}'
        - column:
            name: metadata
            value: '{"id": "game-mechanics-combat", "title": "Архитектура систем игровых
              механик - Боевые системы", "document_type": "architecture", "category":
              "systems", "status": "draft", "version": "1.0.0", "last_updated": "2025-11-23T13:00:00+00:00",
              "owners": [{"role": "architect", "contact": "architect@necp.game"}],
              "tags": ["architecture", "mechanics", "gameplay", "combat"], "related_documents":
              [{"id": "game-mechanics-core", "relation": "extends"}], "github_issue":
              104, "visibility": "internal", "audience": ["architect", "backend",
              "gameplay"]}'
        - column:
            name: source_file
            value: knowledge\implementation\architecture\game-mechanics-combat.yaml
