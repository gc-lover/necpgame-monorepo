databaseChangeLog:
- changeSet:
    id: documentation-game-mechanics-economy-ceb4f7b1
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '-794627065466805'
        - column:
            name: doc_id
            value: game-mechanics-economy
        - column:
            name: title
            value: Архитектура систем игровых механик - Экономические системы
        - column:
            name: document_type
            value: architecture
        - column:
            name: category
            value: systems
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-23 13:00:00+00:00
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: null
        - column:
            name: owners
            value: '[{"role": "architect", "contact": "architect@necp.game"}]'
        - column:
            name: tags
            value:
            - architecture
            - mechanics
            - economy
        - column:
            name: topics
            value: []
        - column:
            name: related_systems
            value: []
        - column:
            name: related_documents
            value: '[{"id": "game-mechanics-core", "relation": "extends"}]'
        - column:
            name: source
            value: ''
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - architect
            - backend
            - economy
        - column:
            name: risk_level
            value: ''
        - column:
            name: content
            value: '{"metadata": {"id": "game-mechanics-economy", "title": "Архитектура
              систем игровых механик - Экономические системы", "document_type": "architecture",
              "category": "systems", "status": "draft", "version": "1.0.0", "last_updated":
              "2025-11-23T13:00:00+00:00", "owners": [{"role": "architect", "contact":
              "architect@necp.game"}], "tags": ["architecture", "mechanics", "economy"],
              "related_documents": [{"id": "game-mechanics-core", "relation": "extends"}],
              "github_issue": 104, "visibility": "internal", "audience": ["architect",
              "backend", "economy"]}, "architecture": {"microservices": [{"name":
              "economy-service", "port": 8085, "responsibility": "Экономические механики:\n-
              Торговля (игроковый рынок, аукционы, биржа)\n- Крафт и производство\n-
              Валюты и ресурсы\n- Инвентарь\n- Торговые маршруты\n- Инвестиции и аналитика\n",
              "components": [{"trading-engine": "обработка торговли"}, {"crafting-system":
              "система крафта"}, {"inventory-manager": "управление инвентарем"}, {"currency-manager":
              "управление валютами"}, {"market-manager": "управление рынками"}, {"auction-house":
              "аукционный дом"}, {"stock-exchange": "биржа"}, {"production-chains":
              "производственные цепочки"}, {"resource-manager": "управление ресурсами"}],
              "endpoints": ["GET /api/v1/economy/inventory - инвентарь игрока", "POST
              /api/v1/economy/inventory/move - перемещение предмета", "POST /api/v1/economy/trading/sell
              - продажа предмета", "POST /api/v1/economy/trading/buy - покупка предмета",
              "GET /api/v1/economy/market/listings - список предложений", "POST /api/v1/economy/market/create-listing
              - создание предложения", "POST /api/v1/economy/crafting/craft - создание
              предмета", "GET /api/v1/economy/crafting/recipes - доступные рецепты",
              "GET /api/v1/economy/auction/list - список аукционов", "POST /api/v1/economy/auction/bid
              - ставка на аукционе", "GET /api/v1/economy/stock/list - список акций",
              "POST /api/v1/economy/stock/buy - покупка акций", "POST /api/v1/economy/stock/sell
              - продажа акций", "GET /api/v1/economy/currencies - валюты игрока",
              "POST /api/v1/economy/currencies/exchange - обмен валют"]}], "data_flows":
              {"trading_flow": "1. Игрок создает предложение на рынке\n2. Economy
              Service валидирует предложение\n3. Economy Service создает листинг в
              БД\n4. Economy Service публикует событие economy:listing-created\n5.
              Другие игроки видят предложение\n6. Игрок покупает предмет\n7. Economy
              Service проверяет наличие средств\n8. Economy Service переводит предмет
              и валюту\n9. Economy Service публикует событие economy:transaction-completed\n10.
              Social Service обновляет репутацию (если применимо)\n", "crafting_flow":
              "1. Игрок выбирает рецепт для крафта\n2. Economy Service проверяет наличие
              ресурсов\n3. Economy Service проверяет навыки игрока через Progression
              Service\n4. Economy Service рассчитывает шанс успеха\n5. Economy Service
              списывает ресурсы\n6. Economy Service генерирует предмет\n7. Economy
              Service добавляет предмет в инвентарь\n8. Progression Service обновляет
              опыт крафта\n9. Economy Service публикует событие economy:item-crafted\n"}}}'
        - column:
            name: metadata
            value: '{"id": "game-mechanics-economy", "title": "Архитектура систем
              игровых механик - Экономические системы", "document_type": "architecture",
              "category": "systems", "status": "draft", "version": "1.0.0", "last_updated":
              "2025-11-23T13:00:00+00:00", "owners": [{"role": "architect", "contact":
              "architect@necp.game"}], "tags": ["architecture", "mechanics", "economy"],
              "related_documents": [{"id": "game-mechanics-core", "relation": "extends"}],
              "github_issue": 104, "visibility": "internal", "audience": ["architect",
              "backend", "economy"]}'
        - column:
            name: source_file
            value: knowledge\implementation\architecture\game-mechanics-economy.yaml
