databaseChangeLog:
- changeSet:
    id: documentation-game-mechanics-progression-e560059e
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '1970117417156086'
        - column:
            name: doc_id
            value: game-mechanics-progression
        - column:
            name: title
            value: Архитектура систем игровых механик - Прогрессия
        - column:
            name: document_type
            value: architecture
        - column:
            name: category
            value: systems
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-23 13:00:00+00:00
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: null
        - column:
            name: owners
            value: '[{"role": "architect", "contact": "architect@necp.game"}]'
        - column:
            name: tags
            value:
            - architecture
            - mechanics
            - progression
        - column:
            name: topics
            value: []
        - column:
            name: related_systems
            value: []
        - column:
            name: related_documents
            value: '[{"id": "game-mechanics-core", "relation": "extends"}]'
        - column:
            name: source
            value: ''
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - architect
            - backend
            - progression
        - column:
            name: risk_level
            value: ''
        - column:
            name: content
            value: '{"metadata": {"id": "game-mechanics-progression", "title": "Архитектура
              систем игровых механик - Прогрессия", "document_type": "architecture",
              "category": "systems", "status": "draft", "version": "1.0.0", "last_updated":
              "2025-11-23T13:00:00+00:00", "owners": [{"role": "architect", "contact":
              "architect@necp.game"}], "tags": ["architecture", "mechanics", "progression"],
              "related_documents": [{"id": "game-mechanics-core", "relation": "extends"}],
              "github_issue": 104, "visibility": "internal", "audience": ["architect",
              "backend", "progression"]}, "architecture": {"microservices": [{"name":
              "progression-service", "port": 8087, "responsibility": "Прогрессия персонажа:\n-
              Атрибуты и характеристики\n- Навыки\n- Перки\n- Классы\n- Перерождение\n-
              Опыт и уровни\n", "components": [{"attribute-manager": "управление атрибутами"},
              {"skill-manager": "управление навыками"}, {"perk-manager": "управление
              перками"}, {"class-manager": "управление классами"}, {"xp-calculator":
              "расчет опыта"}, {"rebirth-system": "система перерождения"}], "endpoints":
              ["GET /api/v1/progression/attributes - атрибуты персонажа", "POST /api/v1/progression/attributes/allocate
              - распределение очков", "GET /api/v1/progression/skills - навыки персонажа",
              "POST /api/v1/progression/skills/train - тренировка навыка", "GET /api/v1/progression/perks
              - доступные перки", "POST /api/v1/progression/perks/unlock - открытие
              перка", "GET /api/v1/progression/classes - классы", "POST /api/v1/progression/classes/select
              - выбор класса", "GET /api/v1/progression/xp - текущий опыт", "POST
              /api/v1/progression/rebirth - перерождение"]}], "data_flows": {"progression_flow":
              "1. Игрок выполняет действие (бой, крафт, квест)\n2. Соответствующий
              сервис публикует событие с опытом\n3. Progression Service получает событие\n4.
              Progression Service рассчитывает опыт для навыков\n5. Progression Service
              обновляет прогресс навыков\n6. Если навык повысился, Progression Service
              проверяет доступные перки\n7. Progression Service публикует событие
              progression:skill-leveled\n8. Realtime Gateway отправляет уведомление
              игроку\n"}}}'
        - column:
            name: metadata
            value: '{"id": "game-mechanics-progression", "title": "Архитектура систем
              игровых механик - Прогрессия", "document_type": "architecture", "category":
              "systems", "status": "draft", "version": "1.0.0", "last_updated": "2025-11-23T13:00:00+00:00",
              "owners": [{"role": "architect", "contact": "architect@necp.game"}],
              "tags": ["architecture", "mechanics", "progression"], "related_documents":
              [{"id": "game-mechanics-core", "relation": "extends"}], "github_issue":
              104, "visibility": "internal", "audience": ["architect", "backend",
              "progression"]}'
        - column:
            name: source_file
            value: knowledge\implementation\architecture\game-mechanics-progression.yaml
