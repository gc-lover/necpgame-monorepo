databaseChangeLog:
- changeSet:
    id: documentation-guild-contract-board-ded352f3
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '8545523756249666'
        - column:
            name: doc_id
            value: guild-contract-board
        - column:
            name: title
            value: Guild Contract Board UI
        - column:
            name: document_type
            value: implementation
        - column:
            name: category
            value: ui
        - column:
            name: status
            value: approved
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-07 23:05:00+00:00
        - column:
            name: concept_approved
            value: true
        - column:
            name: concept_reviewed_at
            value: 2025-11-07
        - column:
            name: owners
            value: '[{"role": "concept_director", "contact": "concept@necp.game"}]'
        - column:
            name: tags
            value:
            - ui
            - guild
            - economy
        - column:
            name: topics
            value:
            - user-interface
            - live-operations
        - column:
            name: related_systems
            value:
            - world-service
            - economy-service
            - social-service
        - column:
            name: related_documents
            value: '[{"id": "specter-hq-overview", "relation": "references"}, {"id":
              "helios-countermesh-ops", "relation": "references"}, {"id": "city-unrest-system",
              "relation": "references"}]'
        - column:
            name: source
            value: ''
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - concept
            - vision
            - frontend
            - backend
        - column:
            name: risk_level
            value: high
        - column:
            name: content
            value: '{"metadata": {"id": "guild-contract-board", "title": "Guild Contract
              Board UI", "document_type": "implementation", "category": "ui", "status":
              "approved", "version": "1.0.0", "last_updated": "2025-11-07T23:05:00+00:00",
              "concept_approved": true, "concept_reviewed_at": "2025-11-07", "owners":
              [{"role": "concept_director", "contact": "concept@necp.game"}], "tags":
              ["ui", "guild", "economy"], "topics": ["user-interface", "live-operations"],
              "related_systems": ["world-service", "economy-service", "social-service"],
              "related_documents": [{"id": "specter-hq-overview", "relation": "references"},
              {"id": "helios-countermesh-ops", "relation": "references"}, {"id": "city-unrest-system",
              "relation": "references"}], "source": "", "visibility": "internal",
              "audience": ["concept", "vision", "frontend", "backend"], "risk_level":
              "high"}, "review": {"chain": [{"role": "concept_director", "reviewer":
              "", "reviewed_at": "", "status": "pending"}], "next_actions": []}, "summary":
              {"problem": "Необходима единая точка управления гильдейскими контрактами
              Specter/Helios и влиянием City Unrest.", "goal": "Описать UI, UX-потоки
              и API Guild Contract Board для интеграции фронтенда и сервисов мира.",
              "essence": "Комплексная спецификация борда контрактов с поддержкой ролей,
              телеметрии и событий.", "key_points": ["Три основных вкладки объединяют
              Specter Ops, Helios Countermesh и City Response.", "Зафиксированы UX-потоки
              для лидеров гильдий и участников.", "Определены REST и WebSocket интеграции,
              включая требования к телеметрии и SLA."]}, "content": {"sections": [{"id":
              "context", "title": "Назначение и роли", "body": "Guild Contract Board
              служит центральным интерфейсом для Specter HQ и союзных гильдий. Цель
              — соединить рейдовые валюты, Helios операции и уровни City Unrest в
              одном управляемом пространстве.\n\nПользовательские роли:\n- Guild Leader
              и Officer управляют контрактами, апгрейдами и распределением наград.\n-
              Member принимает задания и отслеживает таймеры.\n- Helios Collaborator
              работает с альтернативными PvPvE операциями и влияет на баланс.\n",
              "mechanics_links": [], "assets": []}, {"id": "ux-flows", "title": "UX-потоки",
              "body": "Specter HQ:\n1. Открыть Contract Board и выбрать вкладку Specter
              Ops.\n2. Просмотреть списки Active, Pending, Completed.\n3. Принять
              контракт при соблюдении требований и лимитов.\n4. После выполнения —
              отправить результаты и распределить specter-favor.\n\nHelios Countermesh:\n1.
              Игрок открывает вкладку Helios Countermesh.\n2. Выбирает операцию с
              оценкой риска и влияния.\n3. Завершение обновляет helios.alert и связанные
              показатели.\n\nCity Unrest:\n1. Правая панель показывает текущий уровень
              unrest и активный сценарий.\n2. Кнопка Mitigate открывает список мероприятий.\n3.
              Обновления приходят через события реального времени.\n", "mechanics_links":
              [], "assets": []}, {"id": "ui-layout", "title": "Визуальная структура",
              "body": "Макет:\n┌────────────────────────────────────────────────────────┐\n│
              GUILD CONTRACT BOARD           City Unrest: 62 (Crisis)│\n├──────────────┬──────────────────────┬──────────────────┤\n│
              Specter Ops  │ Helios Countermesh   │ City Response    │\n├──────────────┴──────────────────────┴──────────────────┤\n│
              Active Contracts list with controls and status timers  │\n│ Active Scenario
              summary with progress and rewards      │\n└────────────────────────────────────────────────────────┘\n",
              "mechanics_links": [], "assets": []}, {"id": "api-requirements", "title":
              "API и интеграции", "body": "REST:\n- GET /api/v1/world/specter-hq/contracts\n-
              POST /api/v1/world/specter-hq/contracts/{contractId}/accept\n- POST
              /api/v1/world/specter-hq/contracts/{contractId}/complete\n- GET /api/v1/world/helios-ops/available\n-
              POST /api/v1/world/helios-ops/{opId}/join\n- GET /api/v1/world/city-unrest/state\n\nWebSocket
              события: CITY_UNREST_UPDATE, CONTRACT_PROGRESS_UPDATE, HELIOS_OP_UPDATE.\nДополнительно
              требуется RBAC роль guild.officer и экономика распределения наград.\n",
              "mechanics_links": [], "assets": []}, {"id": "persistence-telemetry",
              "title": "Данные, телеметрия и SLA", "body": "- Таблицы: guild_contracts,
              guild_contract_assignments, guild_contract_history с индексами по guild_id,
              contract_type, status.\n- События телеметрии: contract_viewed, contract_accepted,
              contract_completed, helios_op_joined.\n- KPI: среднее принятие ≤ 5 минут,
              завершение ≥ 80%.\n- Латентность: contract_fetch ≤ 150 мс, contract_action
              ≤ 200 мс.\n- Дашборды Grafana и алерты PagerDuty обеспечивают наблюдаемость.\n",
              "mechanics_links": [], "assets": []}]}, "appendix": {"glossary": [],
              "references": [], "decisions": []}, "implementation": {"needs_task":
              false, "github_issue": 38, "queue_reference": ["shared/trackers/queues/concept/queued.yaml"],
              "blockers": []}, "history": [{"version": "1.0.0", "date": "2025-11-07",
              "author": "AI Brain Manager", "changes": "Перенесён Guild Contract Board
              UI из Markdown в структурированный YAML."}], "validation": {"checksum":
              "", "schema_version": "1.0"}}'
        - column:
            name: metadata
            value: '{"id": "guild-contract-board", "title": "Guild Contract Board
              UI", "document_type": "implementation", "category": "ui", "status":
              "approved", "version": "1.0.0", "last_updated": "2025-11-07T23:05:00+00:00",
              "concept_approved": true, "concept_reviewed_at": "2025-11-07", "owners":
              [{"role": "concept_director", "contact": "concept@necp.game"}], "tags":
              ["ui", "guild", "economy"], "topics": ["user-interface", "live-operations"],
              "related_systems": ["world-service", "economy-service", "social-service"],
              "related_documents": [{"id": "specter-hq-overview", "relation": "references"},
              {"id": "helios-countermesh-ops", "relation": "references"}, {"id": "city-unrest-system",
              "relation": "references"}], "source": "", "visibility": "internal",
              "audience": ["concept", "vision", "frontend", "backend"], "risk_level":
              "high"}'
        - column:
            name: source_file
            value: knowledge\implementation\ui\guild-contract-board.yaml
