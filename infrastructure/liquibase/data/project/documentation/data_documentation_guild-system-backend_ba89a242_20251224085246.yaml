databaseChangeLog:
- changeSet:
    id: documentation-guild-system-backend-ba89a242
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '-803903656270026'
        - column:
            name: doc_id
            value: guild-system-backend
        - column:
            name: title
            value: Backend системы гильдий
        - column:
            name: document_type
            value: implementation
        - column:
            name: category
            value: systems
        - column:
            name: status
            value: approved
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-07 05:20:00+00:00
        - column:
            name: concept_approved
            value: true
        - column:
            name: concept_reviewed_at
            value: 2025-11-07 05:20:00+00:00
        - column:
            name: owners
            value: '[{"role": "concept_director", "contact": "concept@necp.game"}]'
        - column:
            name: tags
            value:
            - guilds
            - social
            - backend
        - column:
            name: topics
            value:
            - membership
            - ranks
            - wars
        - column:
            name: related_systems
            value:
            - social-service
            - economy-service
            - world-service
        - column:
            name: related_documents
            value: '[{"id": "guilds-overview", "relation": "references"}]'
        - column:
            name: source
            value: ''
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - concept
            - social
            - backend
        - column:
            name: risk_level
            value: high
        - column:
            name: content
            value: '{"metadata": {"id": "guild-system-backend", "title": "Backend
              системы гильдий", "document_type": "implementation", "category": "systems",
              "status": "approved", "version": "1.0.0", "last_updated": "2025-11-07T05:20:00+00:00",
              "concept_approved": true, "concept_reviewed_at": "2025-11-07T05:20:00+00:00",
              "owners": [{"role": "concept_director", "contact": "concept@necp.game"}],
              "tags": ["guilds", "social", "backend"], "topics": ["membership", "ranks",
              "wars"], "related_systems": ["social-service", "economy-service", "world-service"],
              "related_documents": [{"id": "guilds-overview", "relation": "references"}],
              "source": "", "visibility": "internal", "audience": ["concept", "social",
              "backend"], "risk_level": "high"}, "review": {"chain": [{"role": "concept_director",
              "reviewer": "", "reviewed_at": "2025-11-07T05:20:00+00:00", "status":
              "approved"}], "next_actions": []}, "summary": {"problem": "Гильдиям
              необходим централизованный backend для управления участниками, банком
              и войнами.", "goal": "Описать архитектуру и данные, поддерживающие создание
              гильдий, ранги и прогрессию.", "essence": "Social-service обслуживает
              API гильдий, взаимодействуя с экономикой и миром, и управляет событиями
              гильдий.", "key_points": ["Поддержка сценариев создания, приглашения,
              исключения и рангов.", "Общий банк и прогресс гильдии с уровнями и перками.",
              "Поддержка гильдейских войн и территорий через world-service."]}, "content":
              {"sections": [{"id": "architecture", "title": "Микросервисная архитектура",
              "body": "Гильдейный сервис работает в social-service (порт 8084) и доступен
              по маршруту\n`/api/v1/social/guilds/*`. Он публикует события `guild:created`,
              `guild:member-joined`,\n`guild:leveled-up`, `guild:war-started`, а также
              подписывается на уровни персонажей\nи захват территорий для прогресса
              гильдии.\n", "mechanics_links": [], "assets": []}, {"id": "data-model",
              "title": "Модель данных", "body": "Таблица `guilds` хранит ключевые
              параметры гильдии: лидер, уровень, банк, описание\nи статус. Таблица
              `guild_members` фиксирует состав, ранги и разрешения. Дополнительные\nтаблицы
              (банк, события) расширяют функциональность. Индексы оптимизируют поиск
              по\nимени, тегу и членам.\n", "mechanics_links": [], "assets": []},
              {"id": "features", "title": "Основные функции", "body": "Сервис поддерживает
              создание гильдии, управление приглашениями и правами, планирование\nсобытий
              и ведение войн. Банк гильдии взаимодействует с economy-service для транзакций,\nа
              world-service уведомляется о владении территориями и статусе войн.\n",
              "mechanics_links": [], "assets": []}]}, "appendix": {"glossary": [],
              "references": [{"type": "repository", "path": "shared/code/backend/social/guild-service/"}],
              "decisions": [{"id": "adr-guild-service", "summary": "Утверждена архитектура
              гильдейного сервиса с поддержкой рангов, банка и войн."}]}, "implementation":
              {"needs_task": false, "github_issue": 79, "queue_reference": ["shared/trackers/queues/concept/queued.yaml"],
              "blockers": []}, "history": [{"version": "1.0.0", "date": "2025-11-07",
              "author": "Concept Director", "changes": "Описана архитектура backend
              системы гильдий."}], "validation": {"checksum": "", "schema_version":
              "1.0"}}'
        - column:
            name: metadata
            value: '{"id": "guild-system-backend", "title": "Backend системы гильдий",
              "document_type": "implementation", "category": "systems", "status":
              "approved", "version": "1.0.0", "last_updated": "2025-11-07T05:20:00+00:00",
              "concept_approved": true, "concept_reviewed_at": "2025-11-07T05:20:00+00:00",
              "owners": [{"role": "concept_director", "contact": "concept@necp.game"}],
              "tags": ["guilds", "social", "backend"], "topics": ["membership", "ranks",
              "wars"], "related_systems": ["social-service", "economy-service", "world-service"],
              "related_documents": [{"id": "guilds-overview", "relation": "references"}],
              "source": "", "visibility": "internal", "audience": ["concept", "social",
              "backend"], "risk_level": "high"}'
        - column:
            name: source_file
            value: knowledge\implementation\backend\guild-system-backend.yaml
