databaseChangeLog:
- changeSet:
    id: documentation-leaderboard-system-6b891560
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '-761973498043845'
        - column:
            name: doc_id
            value: backend-leaderboard-system
        - column:
            name: title
            value: Leaderboard System
        - column:
            name: document_type
            value: implementation
        - column:
            name: category
            value: backend
        - column:
            name: status
            value: approved
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-08 18:10:00+00:00
        - column:
            name: concept_approved
            value: true
        - column:
            name: concept_reviewed_at
            value: 2025-11-07 05:20:00+00:00
        - column:
            name: owners
            value: '[{"role": "world_lead", "contact": "world@necp.game"}]'
        - column:
            name: tags
            value:
            - leaderboards
            - rankings
        - column:
            name: topics
            value:
            - engagement
            - gameplay-infra
        - column:
            name: related_systems
            value:
            - world-service
            - social-service
            - character-service
        - column:
            name: related_documents
            value: '[{"id": "backend-achievement-system", "relation": "references"}]'
        - column:
            name: source
            value: shared/docs/knowledge/implementation/backend/leaderboard-system.md
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - backend
            - world
        - column:
            name: risk_level
            value: medium
        - column:
            name: content
            value: '{"metadata": {"id": "backend-leaderboard-system", "title": "Leaderboard
              System", "document_type": "implementation", "category": "backend", "status":
              "approved", "version": "1.0.0", "last_updated": "2025-11-08T18:10:00+00:00",
              "concept_approved": true, "concept_reviewed_at": "2025-11-07T05:20:00+00:00",
              "owners": [{"role": "world_lead", "contact": "world@necp.game"}], "tags":
              ["leaderboards", "rankings"], "topics": ["engagement", "gameplay-infra"],
              "related_systems": ["world-service", "social-service", "character-service"],
              "related_documents": [{"id": "backend-achievement-system", "relation":
              "references"}], "source": "shared/docs/knowledge/implementation/backend/leaderboard-system.md",
              "visibility": "internal", "audience": ["backend", "world"], "risk_level":
              "medium"}, "review": {"chain": [{"role": "world_lead", "reviewer": "",
              "reviewed_at": "2025-11-08T18:10:00+00:00", "status": "approved"}],
              "next_actions": []}, "summary": {"problem": "Не хватало стандартизированной
              документации по глобальной системе рейтингов и обновлений.", "goal":
              "Задокументировать архитектуру, типы лидербордов, метрики, БД и API.",
              "essence": "Документ описывает глобальные/сезонные рейтинги, обновления,
              структурирование данных и endpoints.", "key_points": ["Перечислены типы
              лидербордов (global, class, seasonal, friend, guild).", "Описаны метрики,
              частота обновлений и хранилища (Redis, мат. представления).", "Приведены
              SQL примеры таблиц `leaderboards`, `seasonal_leaderboards`.", "Перечислены
              ключевые API маршруты."]}, "content": {"sections": [{"id": "overview",
              "title": "Краткое описание", "body": "Leaderboard System управляет глобальными,
              сезонными, дружественными и гильдийными рейтингами, используя события
              и\nRedis sorted sets.\n", "mechanics_links": []}, {"id": "types", "title":
              "Типы Leaderboards", "body": "Перечислены примеры глобальных, классовых,
              сезонных, friend и guild рейтингов с примерами отображения.\n", "mechanics_links":
              []}, {"id": "metrics", "title": "Ranking Metrics и обновления", "body":
              "Описаны метрики для игроков и гильдий, а также частота обновлений (real-time/hours/daily/weekly).\n",
              "mechanics_links": []}, {"id": "database", "title": "База данных и материалы",
              "body": "Представлены таблицы `leaderboards`, materialized view `leaderboard_global_level`
              и `seasonal_leaderboards`.\n", "mechanics_links": []}, {"id": "api",
              "title": "API", "body": "Основные endpoints: global, seasonal, guild,
              friends leaderboards, rank lookup и соседние позиции.\n", "mechanics_links":
              []}]}, "appendix": {"glossary": [], "references": [], "decisions": []},
              "implementation": {"github_issue": 136, "needs_task": false, "queue_reference":
              ["shared/trackers/queues/concept/queued.yaml"], "blockers": []}, "history":
              [{"version": "1.0.0", "date": "2025-11-06", "author": "world_lead",
              "changes": "Создана документация leaderboard system."}], "validation":
              {"checksum": "", "schema_version": "1.0"}}'
        - column:
            name: metadata
            value: '{"id": "backend-leaderboard-system", "title": "Leaderboard System",
              "document_type": "implementation", "category": "backend", "status":
              "approved", "version": "1.0.0", "last_updated": "2025-11-08T18:10:00+00:00",
              "concept_approved": true, "concept_reviewed_at": "2025-11-07T05:20:00+00:00",
              "owners": [{"role": "world_lead", "contact": "world@necp.game"}], "tags":
              ["leaderboards", "rankings"], "topics": ["engagement", "gameplay-infra"],
              "related_systems": ["world-service", "social-service", "character-service"],
              "related_documents": [{"id": "backend-achievement-system", "relation":
              "references"}], "source": "shared/docs/knowledge/implementation/backend/leaderboard-system.md",
              "visibility": "internal", "audience": ["backend", "world"], "risk_level":
              "medium"}'
        - column:
            name: source_file
            value: knowledge\implementation\backend\leaderboard-system.yaml
