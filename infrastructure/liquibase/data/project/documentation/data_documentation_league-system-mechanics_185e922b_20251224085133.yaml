databaseChangeLog:
- changeSet:
    id: documentation-league-system-mechanics-185e922b
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '-883336837656117'
        - column:
            name: doc_id
            value: league-system-mechanics
        - column:
            name: title
            value: Сезонная система лиг
        - column:
            name: document_type
            value: mechanics
        - column:
            name: category
            value: meta
        - column:
            name: status
            value: approved
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-07 01:50:00+00:00
        - column:
            name: concept_approved
            value: true
        - column:
            name: concept_reviewed_at
            value: 2025-11-06
        - column:
            name: owners
            value: '[{"role": "concept_director", "contact": "concept@necp.game"}]'
        - column:
            name: tags
            value:
            - seasons
            - meta-progression
            - reset
        - column:
            name: topics
            value:
            - game-systems
            - seasonal-content
        - column:
            name: related_systems
            value:
            - league-service
            - progression-service
            - telemetry-service
        - column:
            name: related_documents
            value: '[{"id": "simulation-reality-truth", "relation": "references"},
              {"id": "necp-main-story-2090-2093", "relation": "references"}]'
        - column:
            name: source
            value: shared/docs/knowledge/mechanics/meta/league-system-mechanics.md
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - concept
            - vision
            - gameplay
            - analytics
        - column:
            name: risk_level
            value: high
        - column:
            name: content
            value: '{"metadata": {"id": "league-system-mechanics", "title": "Сезонная
              система лиг", "document_type": "mechanics", "category": "meta", "status":
              "approved", "version": "1.0.0", "last_updated": "2025-11-07T01:50:00+00:00",
              "concept_approved": true, "concept_reviewed_at": "2025-11-06", "owners":
              [{"role": "concept_director", "contact": "concept@necp.game"}], "tags":
              ["seasons", "meta-progression", "reset"], "topics": ["game-systems",
              "seasonal-content"], "related_systems": ["league-service", "progression-service",
              "telemetry-service"], "related_documents": [{"id": "simulation-reality-truth",
              "relation": "references"}, {"id": "necp-main-story-2090-2093", "relation":
              "references"}], "source": "shared/docs/knowledge/mechanics/meta/league-system-mechanics.md",
              "visibility": "internal", "audience": ["concept", "vision", "gameplay",
              "analytics"], "risk_level": "high"}, "review": {"chain": [{"role": "concept_director",
              "reviewer": "", "reviewed_at": "", "status": "pending"}], "next_actions":
              []}, "summary": {"problem": "Необходимо зафиксировать циклическую механику
              лиг с глобальным сбросом и мета-прогрессом.", "goal": "Описать продолжительность,
              фазы, сброс, награды и интеграцию сезонной системы для NECPGAME.", "essence":
              "Лиги представляют повторяемый таймлайн с мягким сохранением статуса
              игрока и уникальными вариациями мира.", "key_points": ["Каждая лига
              охватывает игровой период 2020-2093 и длится 3-6 реальных месяцев.",
              "Глобальный сброс очищает персонажей и экономику, сохраняя достижения
              и мета-награды.", "Мета-прогресс поддерживает титулы, косметику, рейтинг
              и легаси-предметы."]}, "content": {"sections": [{"id": "overview", "title":
              "Концепция и философия", "body": "Лиги являются ядром сезонного цикла
              NECPGAME. Игроки проживают полный таймлайн Night City, после чего происходит
              сброс и старт новой итерации. Тон задают философия вечного возвращения
              и жанровые референсы к Path of Exile.\n\nЦели системы:\n- Обеспечить
              регулярные рестарты экономики и социального метагейма.\n- Поддерживать
              высокий интерес через эксклюзивные награды и вариативность событий.\n-
              Синхронизировать PvE и PvP активности с глобальными сюжетными арками.\n",
              "mechanics_links": ["mechanics/progression/progression-attributes.yaml"],
              "assets": []}, {"id": "league-structure", "title": "Длительность и фазы
              лиги", "body": "Игровая длительность: 73 года 6 месяцев 27 дней (2020-01-01
              — 2093-07-27).\nРеальная длительность: 3-6 месяцев, задаётся активностью
              игроков и производственным календарём.\n\nФазы:\n- Start (месяц 1):
              создание персонажей, выбор фракций, ранняя эра 2020-2030.\n- Rise (месяцы
              2-3): корпоративные войны и построение империй (2030-2060).\n- Crisis
              (месяцы 4-5): поздние конфликты, Blackwall и Пятая война (2060-2090).\n-
              Endgame (последние 2 недели): кульминация сюжета и подготовка к финалу.\n-
              Finale (27 июля 2093): концерт Архитектора, глобальный сброс и выдача
              итоговых наград.\n\nУскорение времени масштабируется от 15 до 30 игровых
              дней за реальный день. Сценарные события могут временно замедлять прогресс
              для драматургии.\n", "mechanics_links": ["mechanics/progression/progression-skills.yaml"],
              "assets": []}, {"id": "global-reset", "title": "Глобальный сброс", "body":
              "В момент 27 июля 2093, 00:00:00 лиговый сервер выполняет wipe. Удаляются
              персонажи, прогресс квестов, экономики и репутации текущей итерации.
              Гильдии распускаются, но участники могут восстановить составы в новой
              лиге.\n\nСохраняемый мета-прогресс:\n- Аккаунт игрока и социальные связи.\n-
              Глобальный рейтинг (MMR/ELO) с мягким сбросом 20%.\n- Достижения, титулы
              и косметика.\n- Legacy Items, дающие ограниченное преимущество на старте
              новой лиги.\n- Hall of Fame, фиксирующий ключевых игроков прошлых итераций.\n",
              "mechanics_links": ["mechanics/economy/stock-exchange/stock-exchange-overview.yaml"],
              "assets": []}, {"id": "meta-progression", "title": "Мета-прогресс и
              наследие", "body": "Достижения формируют постоянную коллекцию с наградами
              в виде титулов, косметики и очков Legacy. Коллекция охватывает сюжетные
              концовки, экономические достижения и уникальные события.\n\nТитулы выбираются
              игроком и отображаются в профиле и над персонажем. Редкие титулы повышают
              престиж и доступ к сезонным функциям.\n\nКосметика включает скины, эмоции,
              эффекты и голосовые пакеты. Разблокировка осуществляется через апекс-награды,
              Legacy Shop и сезонные эвенты.\n\nLegacy Items — мощные предметы старта
              новой лиги. Они выравниваются с регулярным лутом к середине сезона и
              служат мотивацией завершать предыдущие итерации.\n\nГлобальный рейтинг
              используется в матчмейкинге и Hall of Fame. Частичный сброс позволяет
              новым игрокам догонять ветеранов без потери статуса для лидеров.\n",
              "mechanics_links": ["mechanics/progression/progression-perks.yaml"],
              "assets": []}, {"id": "hall-of-fame", "title": "Hall of Fame", "body":
              "Hall of Fame — постоянный монумент в Corpo Plaza, отображающий лучших
              игроков каждой лиги. Категории охватывают первые прохождения сюжета,
              экономические достижения, PvP доминирование и альтернативные режимы
              игры.\n\nНаграды включают уникальную косметику и вечное отображение
              имени. Статуя победителя лиги представляет собой 3D-модель персонажа
              и обновляется после каждого финала.\n", "mechanics_links": ["mechanics/social/mentorship-system.yaml"],
              "assets": []}, {"id": "dynamic-variation", "title": "Вариативность миров
              и событий", "body": "Каждая лига формируется с использованием случайного
              seed. Основные события и ключевые NPC сохраняют каноничный каркас, тогда
              как побочные задания, второстепенные персонажи и результаты фракционных
              войн изменяются.\n\nРешения игроков влияют на политический баланс, распределение
              ресурсов и итоговые отчёты Hall of Fame. Пример: массовая поддержка
              Militech в одной лиге приводит к доминированию корпорации; в следующей
              лиге игроки могут сместить баланс в пользу Arasaka.\n", "mechanics_links":
              ["mechanics/quests/quest-system.yaml"], "assets": []}, {"id": "rewards",
              "title": "Награды конца лиги", "body": "Автоматические награды:\n- Legacy
              Points за участие, уровни персонажа и завершенные квесты.\n- Cosmetic
              Crate с гарантированной косметикой.\n\nРейтинговые награды:\n- Top 100
              получают титул Legend of League X.\n- Top 10 получают дополнительную
              визуальную ауру.\n- Top 1 получает статую в Hall of Fame.\n\nКвестовые
              награды распределяются по концовкам основного сюжета и предоставляют
              Legacy Items, влияющие на старт следующей лиги.\n", "mechanics_links":
              ["mechanics/progression/progression-attributes.yaml"], "assets": []},
              {"id": "developer-integration", "title": "Требования к разработке и
              API", "body": "REST API:\n- GET /api/v1/league/current — текущие параметры
              лиги.\n- GET /api/v1/league/{leagueId}/statistics — статистика прошедшей
              лиги.\n- GET /api/v1/league/countdown — таймер до конца текущей итерации.\n-
              POST /api/v1/league/end-event/register — регистрация на финальный эвент.\n-
              GET /api/v1/player/legacy-progress — мета-прогресс игрока.\n\nДата-модели
              включают League, PlayerLegacy и LeagueStatistics. Телеметрия фиксирует
              ключевые события (contract_viewed, league_phase_transition, hall_of_fame_update)
              и обеспечивает аналитические панели.\n\nСистема поддерживает сценарные
              загадки и мета-нарратив, включая прогресс к раскрытию личности Архитектора
              и альтернативные концовки.\n", "mechanics_links": ["mechanics/quests/quest-system.yaml"],
              "assets": []}]}, "appendix": {"glossary": [], "references": [], "decisions":
              []}, "implementation": {"needs_task": false, "github_issue": 83, "queue_reference":
              ["shared/trackers/queues/concept/queued.yaml"], "blockers": []}, "history":
              [{"version": "1.0.0", "date": "2025-11-06", "author": "AI Brain Manager",
              "changes": "Сконвертирована сезонная система лиг из Markdown в структурированный
              формат."}], "validation": {"checksum": "", "schema_version": "1.0"}}'
        - column:
            name: metadata
            value: '{"id": "league-system-mechanics", "title": "Сезонная система лиг",
              "document_type": "mechanics", "category": "meta", "status": "approved",
              "version": "1.0.0", "last_updated": "2025-11-07T01:50:00+00:00", "concept_approved":
              true, "concept_reviewed_at": "2025-11-06", "owners": [{"role": "concept_director",
              "contact": "concept@necp.game"}], "tags": ["seasons", "meta-progression",
              "reset"], "topics": ["game-systems", "seasonal-content"], "related_systems":
              ["league-service", "progression-service", "telemetry-service"], "related_documents":
              [{"id": "simulation-reality-truth", "relation": "references"}, {"id":
              "necp-main-story-2090-2093", "relation": "references"}], "source": "shared/docs/knowledge/mechanics/meta/league-system-mechanics.md",
              "visibility": "internal", "audience": ["concept", "vision", "gameplay",
              "analytics"], "risk_level": "high"}'
        - column:
            name: source_file
            value: knowledge\mechanics\meta\league-system-mechanics.yaml
