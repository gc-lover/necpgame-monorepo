databaseChangeLog:
- changeSet:
    id: documentation-maintenance-mode-mechanics-6e584bb4
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '-223119941408070'
        - column:
            name: doc_id
            value: maintenance-mode-mechanics
        - column:
            name: title
            value: Архитектура системы режима обслуживания - Механики
        - column:
            name: document_type
            value: architecture
        - column:
            name: category
            value: systems
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.1.0
        - column:
            name: last_updated
            value: 2025-11-30 20:55:00+00:00
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: null
        - column:
            name: owners
            value: '[]'
        - column:
            name: tags
            value: []
        - column:
            name: topics
            value: []
        - column:
            name: related_systems
            value: []
        - column:
            name: related_documents
            value: '[{"id": "maintenance-mode-core", "relation": "extends"}]'
        - column:
            name: source
            value: ''
        - column:
            name: visibility
            value: ''
        - column:
            name: audience
            value: []
        - column:
            name: risk_level
            value: ''
        - column:
            name: content
            value: '{"metadata": {"id": "maintenance-mode-mechanics", "title": "Архитектура
              системы режима обслуживания - Механики", "document_type": "architecture",
              "category": "systems", "status": "draft", "version": "1.1.0", "last_updated":
              "2025-11-30T20:55:00+00:00", "github_issue": 316, "related_documents":
              [{"id": "maintenance-mode-core", "relation": "extends"}]}, "maintenance_types":
              [{"name": "scheduled", "description": "Плановое обслуживание - запланированное
              заранее", "characteristics": [{"advance_notice": "заблаговременное уведомление"},
              {"scheduled_time": "запланированное время"}, {"duration_estimate": "оценка
              длительности"}]}, {"name": "emergency", "description": "Экстренное обслуживание
              - незапланированное срочное", "characteristics": [{"immediate": "немедленное
              начало"}, {"no_advance_notice": "без заблаговременного уведомления"},
              {"critical": "критическая ситуация"}]}, {"name": "hot_fix", "description":
              "Хотфикс - быстрое исправление критических багов", "characteristics":
              [{"quick": "быстрое выполнение"}, {"minimal_impact": "минимальное влияние"},
              {"urgent": "срочное"}]}, {"name": "rollback", "description": "Откат
              - возврат к предыдущей версии", "characteristics": [{"version_rollback":
              "откат версии"}, {"data_integrity": "сохранение целостности данных"},
              {"quick_recovery": "быстрое восстановление"}]}, {"name": "upgrade",
              "description": "Обновление - обновление системы", "characteristics":
              [{"version_upgrade": "обновление версии"}, {"feature_additions": "добавление
              функций"}, {"performance_improvements": "улучшение производительности"}]}],
              "maintenance_statuses": [{"name": "planned", "description": "Запланировано
              - окно обслуживания запланировано", "actions": [{"notification": "уведомление
              игроков"}, {"preparation": "подготовка к обслуживанию"}]}, {"name":
              "starting", "description": "Начинается - обслуживание начинается", "actions":
              [{"connection_blocking": "блокировка новых соединений"}, {"graceful_shutdown_start":
              "начало graceful shutdown"}]}, {"name": "in_progress", "description":
              "В процессе - обслуживание выполняется", "actions": [{"maintenance_operations":
              "выполнение операций обслуживания"}, {"monitoring": "мониторинг процесса"}]},
              {"name": "ending", "description": "Завершается - обслуживание завершается",
              "actions": [{"system_restart": "перезапуск системы"}, {"connection_unblocking":
              "разблокировка соединений"}]}, {"name": "completed", "description":
              "Завершено - обслуживание завершено", "actions": [{"notification": "уведомление
              о завершении"}, {"status_update": "обновление статуса"}]}, {"name":
              "cancelled", "description": "Отменено - обслуживание отменено", "actions":
              [{"notification": "уведомление об отмене"}, {"status_update": "обновление
              статуса"}]}], "scheduled_maintenance_flow": {"steps": [{"planning":
              "планирование окна обслуживания"}, {"notification_advance": "заблаговременное
              уведомление (24 часа, 1 час)"}, {"maintenance_start": "начало обслуживания"},
              {"connection_blocking": "блокировка новых соединений"}, {"graceful_shutdown":
              "graceful shutdown активных соединений"}, {"maintenance_operations":
              "выполнение операций обслуживания"}, {"system_restart": "перезапуск
              системы"}, {"connection_unblocking": "разблокировка соединений"}, {"maintenance_end":
              "завершение обслуживания"}, {"notification_completion": "уведомление
              о завершении"}]}, "emergency_maintenance_flow": {"steps": [{"trigger":
              "триггер экстренного обслуживания"}, {"immediate_notification": "немедленное
              уведомление"}, {"connection_blocking": "блокировка новых соединений"},
              {"graceful_shutdown": "graceful shutdown активных соединений"}, {"emergency_operations":
              "выполнение экстренных операций"}, {"system_restart": "перезапуск системы"},
              {"connection_unblocking": "разблокировка соединений"}, {"maintenance_end":
              "завершение обслуживания"}, {"notification_completion": "уведомление
              о завершении"}]}, "graceful_shutdown": {"process": [{"stop_accepting_new_requests":
              "остановка приема новых запросов"}, {"wait_for_active_requests": "ожидание
              завершения активных запросов"}, {"close_connections": "закрытие соединений"},
              {"save_state": "сохранение состояния"}, {"shutdown_services": "выключение
              сервисов"}], "timeout": [{"default": "30 секунд"}, {"configurable":
              "настраиваемый таймаут"}, {"force_shutdown": "принудительное выключение
              после таймаута"}]}, "connection_blocking": {"mechanism": [{"middleware":
              "middleware для блокировки"}, {"status_check": "проверка статуса обслуживания"},
              {"response_503": "возврат статуса 503"}, {"admin_bypass": "обход для
              администраторов"}], "response": [{"status_code": 503}, {"message": "Service
              Unavailable - Maintenance in progress"}, {"retry_after": "время до завершения
              обслуживания"}]}, "notifications": {"types": [{"advance_24h": "уведомление
              за 24 часа"}, {"advance_1h": "уведомление за 1 час"}, {"immediate":
              "немедленное уведомление"}, {"completion": "уведомление о завершении"}],
              "channels": [{"in_game": "в игре"}, {"email": "email"}, {"push": "push
              уведомления"}, {"social_media": "социальные сети"}], "content": [{"start_time":
              "время начала"}, {"estimated_duration": "оценка длительности"}, {"reason":
              "причина обслуживания"}, {"impact": "влияние на игроков"}]}}'
        - column:
            name: metadata
            value: '{"id": "maintenance-mode-mechanics", "title": "Архитектура системы
              режима обслуживания - Механики", "document_type": "architecture", "category":
              "systems", "status": "draft", "version": "1.1.0", "last_updated": "2025-11-30T20:55:00+00:00",
              "github_issue": 316, "related_documents": [{"id": "maintenance-mode-core",
              "relation": "extends"}]}'
        - column:
            name: source_file
            value: knowledge\implementation\architecture\maintenance-mode-mechanics.yaml
