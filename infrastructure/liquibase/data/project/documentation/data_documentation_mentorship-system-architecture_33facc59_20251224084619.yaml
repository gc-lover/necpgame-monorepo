databaseChangeLog:
- changeSet:
    id: documentation-mentorship-system-architecture-33facc59
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '7835650267486309'
        - column:
            name: doc_id
            value: mentorship-system-architecture
        - column:
            name: title
            value: Архитектура системы наставничества
        - column:
            name: document_type
            value: architecture
        - column:
            name: category
            value: systems
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-23 23:45:00+00:00
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: null
        - column:
            name: owners
            value: '[{"role": "architect", "contact": "architect@necp.game"}]'
        - column:
            name: tags
            value:
            - architecture
            - social
            - mentorship
            - education
        - column:
            name: topics
            value: []
        - column:
            name: related_systems
            value:
            - social-service
            - economy-service
            - world-service
            - gameplay-service
            - content-service
        - column:
            name: related_documents
            value: '[{"id": "mentorship-system-detailed", "relation": "implements"}]'
        - column:
            name: source
            value: ''
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - architect
            - backend
            - social
            - api-designer
        - column:
            name: risk_level
            value: ''
        - column:
            name: content
            value: '{"metadata": {"id": "mentorship-system-architecture", "title":
              "Архитектура системы наставничества", "document_type": "architecture",
              "category": "systems", "status": "draft", "version": "1.0.0", "last_updated":
              "2025-11-23T23:45:00+00:00", "owners": [{"role": "architect", "contact":
              "architect@necp.game"}], "tags": ["architecture", "social", "mentorship",
              "education"], "related_systems": ["social-service", "economy-service",
              "world-service", "gameplay-service", "content-service"], "related_documents":
              [{"id": "mentorship-system-detailed", "relation": "implements"}], "github_issue":
              303, "visibility": "internal", "audience": ["architect", "backend",
              "social", "api-designer"]}, "summary": {"problem": "Требуется спроектировать
              архитектуру системы наставничества, включающую:\n- Типы наставничества
              (игрок→игрок, игрок→NPC, NPC→игрок, NPC→NPC, академии)\n- Пайплайн наставничества
              (инициирование, договоры, расписание, уроки, оценка)\n- Форматы обучения
              (теоретические, практические, контентные, экзаменационные, групповые,
              VR)\n- Навыки и награды\n- Репутацию наставника\n- Академии и образовательные
              центры\n- Цепочки наставничества\n- Экономику наставничества\n", "goal":
              "Создать архитектурную схему системы наставничества с определением:\n-
              Компонентов для управления наставничеством\n- REST, WebSocket и Event
              Bus контрактов\n- Интеграций с другими системами\n- Структуры БД\n-
              Технического задания для реализации\n", "essence": "Объединенная архитектура
              системы наставничества с поддержкой типов наставничества,\nпроцесса
              обучения, академий, цепочек наставничества и экономики.\n"}, "architecture":
              {"overview": "Архитектура системы наставничества состоит из следующих
              компонентов:\n1. Mentorship Manager - управление наставничеством\n2.
              Mentorship Discovery Service - поиск наставников и учеников\n3. Contract
              Manager - управление договорами наставничества\n4. Schedule Manager
              - управление расписанием уроков\n5. Lesson Manager - управление уроками\n6.
              Learning Format Manager - управление форматами обучения\n7. Skill Progress
              Tracker - отслеживание прогресса навыков\n8. Mentor Reputation Manager
              - управление репутацией наставника\n9. Academy Manager - управление
              академиями\n10. Mentorship Chain Manager - управление цепочками наставничества\n11.
              Content Manager - управление учебным контентом\n12. Economy Manager
              - управление экономикой наставничества\n13. Mentorship Telemetry Collector
              - сбор телеметрии\n", "microservices": [{"name": "social-service", "port":
              8084, "responsibility": "Обработка наставничества:\n- Управление наставничеством\n-
              Поиск наставников и учеников\n- Управление договорами\n- Управление
              расписанием\n- Управление уроками\n- Управление форматами обучения\n-
              Отслеживание прогресса навыков\n- Управление репутацией наставника\n-
              Управление академиями\n- Управление цепочками наставничества\n- Управление
              учебным контентом\n- Управление экономикой наставничества\n- Сбор телеметрии\n",
              "components": [{"mentorship-manager": "управление наставничеством"},
              {"mentorship-discovery-service": "поиск наставников и учеников"}, {"contract-manager":
              "управление договорами наставничества"}, {"schedule-manager": "управление
              расписанием уроков"}, {"lesson-manager": "управление уроками"}, {"learning-format-manager":
              "управление форматами обучения"}, {"skill-progress-tracker": "отслеживание
              прогресса навыков"}, {"mentor-reputation-manager": "управление репутацией
              наставника"}, {"academy-manager": "управление академиями"}, {"mentorship-chain-manager":
              "управление цепочками наставничества"}, {"content-manager": "управление
              учебным контентом"}, {"economy-manager": "управление экономикой наставничества"},
              {"mentorship-telemetry-collector": "сбор телеметрии"}], "endpoints":
              ["GET /api/v1/social/mentorship/mentors - поиск наставников", "GET /api/v1/social/mentorship/mentees
              - поиск учеников", "GET /api/v1/social/mentorship/mentors/{mentorId}
              - информация о наставнике", "POST /api/v1/social/mentorship/proposal/create
              - создание предложения наставничества", "POST /api/v1/social/mentorship/proposal/{proposalId}/accept
              - принятие предложения", "POST /api/v1/social/mentorship/proposal/{proposalId}/reject
              - отклонение предложения", "POST /api/v1/social/mentorship/contract/create
              - создание договора", "GET /api/v1/social/mentorship/contracts - список
              договоров", "GET /api/v1/social/mentorship/contracts/{contractId} -
              информация о договоре", "POST /api/v1/social/mentorship/contracts/{contractId}/terminate
              - расторжение договора", "POST /api/v1/social/mentorship/schedule/create
              - создание расписания", "GET /api/v1/social/mentorship/schedule/{contractId}
              - расписание договора", "POST /api/v1/social/mentorship/schedule/{scheduleId}/update
              - обновление расписания", "POST /api/v1/social/mentorship/lesson/create
              - создание урока", "GET /api/v1/social/mentorship/lessons/{contractId}
              - список уроков", "GET /api/v1/social/mentorship/lessons/{lessonId}
              - информация об уроке", "POST /api/v1/social/mentorship/lessons/{lessonId}/start
              - начало урока", "POST /api/v1/social/mentorship/lessons/{lessonId}/complete
              - завершение урока", "POST /api/v1/social/mentorship/lessons/{lessonId}/evaluate
              - оценка урока", "GET /api/v1/social/mentorship/skills/progress/{contractId}
              - прогресс навыков", "GET /api/v1/social/mentorship/reputation/{mentorId}
              - репутация наставника", "POST /api/v1/social/mentorship/reputation/{mentorId}/review
              - отзыв о наставнике", "GET /api/v1/social/mentorship/academies - список
              академий", "GET /api/v1/social/mentorship/academies/{academyId} - информация
              об академии", "POST /api/v1/social/mentorship/academies/{academyId}/enroll
              - запись в академию", "GET /api/v1/social/mentorship/academies/{academyId}/programs
              - программы академии", "POST /api/v1/social/mentorship/chains/create
              - создание цепочки наставничества", "GET /api/v1/social/mentorship/chains/{characterId}
              - цепочки наставничества персонажа", "GET /api/v1/social/mentorship/content
              - поиск учебного контента", "POST /api/v1/social/mentorship/content/create
              - создание учебного контента", "GET /api/v1/social/mentorship/content/{contentId}
              - информация о контенте", "GET /api/v1/social/mentorship/economy/payments
              - платежи наставничества", "POST /api/v1/social/mentorship/economy/pay
              - обработка платежа"], "websocket_channels": ["wss://api.necp.game/v1/social/mentorship/{characterId}
              - поток обновлений наставничества и уроков"], "events_published": [{"social.mentorship.proposal-created":
              "создано предложение наставничества"}, {"social.mentorship.proposal-accepted":
              "предложение принято"}, {"social.mentorship.proposal-rejected": "предложение
              отклонено"}, {"social.mentorship.contract-created": "создан договор"},
              {"social.mentorship.contract-terminated": "расторгнут договор"}, {"social.mentorship.schedule-created":
              "создано расписание"}, {"social.mentorship.lesson-created": "создан
              урок"}, {"social.mentorship.lesson-started": "урок начат"}, {"social.mentorship.lesson-completed":
              "урок завершен"}, {"social.mentorship.lesson-evaluated": "урок оценен"},
              {"social.mentorship.skill-progress-updated": "обновлен прогресс навыков"},
              {"social.mentorship.reputation-updated": "обновлена репутация наставника"},
              {"social.mentorship.academy-enrolled": "запись в академию"}, {"social.mentorship.chain-created":
              "создана цепочка наставничества"}, {"social.mentorship.content-created":
              "создан учебный контент"}, {"social.mentorship.payment-processed": "обработан
              платеж"}], "events_subscribed": [{"quest.completed": "завершение квеста"},
              {"character.level-up": "повышение уровня персонажа"}, {"skill.level-up":
              "повышение уровня навыка"}, {"reputation.changed": "изменение репутации"},
              {"economy.transaction": "транзакция в экономике"}, {"world.event": "событие
              мира"}, {"npc.interaction": "взаимодействие с NPC"}]}], "mentorship_types":
              [{"name": "player_to_player", "description": "Игрок → Игрок - Teacher-класс
              обучает других игроков", "subclasses": [{"mentor": "фокус на новичках
              и базовых навыках"}, {"professor": "углублённое обучение и создание
              учебного контента"}, {"trainer": "боевые и технические интенсивы"}],
              "requirements": [{"active_teacher_class": true}, {"skill_level_exceeds_student":
              true}, {"student_consent": true}], "limits": [{"max_students": "зависит
              от уровня наставника"}, {"one_mentor_per_skill": true}, {"high_stats_required":
              true}]}, {"name": "player_to_npc", "description": "Игрок → NPC - игроки-Teacher
              прокачивают NPC", "features": [{"high_cost": "высокая стоимость времени
              и ресурсов"}, {"npc_enhancement": "расширение возможностей NPC"}, {"story_impact":
              "влияние на сюжетные ветки"}]}, {"name": "npc_to_player", "description":
              "NPC → Игрок - NPC-наставники обучают игроков", "requirements": [{"reputation":
              "требуется репутация"}, {"special_quests": "специальные квесты"}, {"npc_conditions":
              "соответствие условиям NPC"}], "limits": [{"limited_skill_set": true},
              {"time_windows": true}, {"story_dependencies": true}]}, {"name": "npc_to_npc",
              "description": "NPC → NPC - фоновая симуляция обучения между NPC", "features":
              [{"world_simulation": "поддержка живости мира"}, {"resource_redistribution":
              "перераспределение сил"}, {"event_triggers": "вызов событий, влияющих
              на экономику и конфликты"}]}, {"name": "academy", "description": "Академии
              - корпоративные, бандитские и независимые образовательные центры", "types":
              [{"corporate": "корпоративные академии"}, {"gang": "бандитские академии"},
              {"independent": "независимые академии"}], "features": [{"schedule_management":
              "управление расписаниями"}, {"ratings": "рейтинги"}, {"events": "события"},
              {"educational_hubs": "образовательные хабы городов"}]}], "mentorship_pipeline":
              {"initiation": "- Поиск наставника или ученика\n- Создание предложения
              наставничества\n- Проверка требований и ограничений\n- Отправка предложения\n",
              "contract": "- Принятие или отклонение предложения\n- Создание договора
              наставничества\n- Определение условий договора\n- Фиксация обязанностей
              сторон\n- Тип оплаты и вознаграждения\n", "schedule": "- Планирование
              расписания уроков\n- Определение формата обучения\n- Установка времени
              и места\n- Настройка ресурсов\n", "execution": "- Проведение уроков\n-
              Отслеживание прогресса\n- Оценка результатов\n- Обновление навыков\n",
              "evaluation": "- Оценка урока\n- Обновление репутации наставника\n-
              Начисление наград\n- Решение о продолжении\n"}, "learning_formats":
              [{"name": "theoretical", "description": "Теоретическое обучение - ускоряет
              освоение основ навыка", "requirements": [{"resources": "минимальные"},
              {"time": "короткое"}, {"interaction": "низкое"}]}, {"name": "practical",
              "description": "Практическое обучение - демонстрация и тренировки",
              "requirements": [{"resources": "средние"}, {"time": "среднее"}, {"interaction":
              "высокое"}]}, {"name": "content_based", "description": "Контентное обучение
              - использование учебных материалов", "requirements": [{"resources":
              "зависит от контента"}, {"time": "зависит от контента"}, {"interaction":
              "среднее"}]}, {"name": "examination", "description": "Экзаменационное
              обучение - проверка знаний", "requirements": [{"resources": "минимальные"},
              {"time": "короткое"}, {"interaction": "низкое"}]}, {"name": "group",
              "description": "Групповое обучение - обучение нескольких учеников",
              "requirements": [{"resources": "высокие"}, {"time": "длинное"}, {"interaction":
              "высокое"}]}, {"name": "vr", "description": "VR-обучение - виртуальные
              кампусы и симуляции", "requirements": [{"resources": "очень высокие"},
              {"time": "зависит от симуляции"}, {"interaction": "очень высокое"}]}],
              "skill_tracks": [{"name": "combat", "description": "Боевые навыки",
              "categories": ["weapons", "tactics", "survival"]}, {"name": "social",
              "description": "Социальные навыки", "categories": ["negotiation", "leadership",
              "networking"]}, {"name": "technical", "description": "Технические навыки",
              "categories": ["engineering", "hacking", "crafting"]}, {"name": "economic",
              "description": "Экономические навыки", "categories": ["trading", "investment",
              "management"]}], "mentor_reputation": {"factors": "- Опыт наставника\n-
              Отзывы учеников\n- Количество успешных выпускников\n- Качество учебного
              контента\n- Рейтинг академии\n", "benefits": "- Доступ к элитным программам\n-
              Повышенные вознаграждения\n- Приоритет в рекомендациях\n- Доступ к эксклюзивному
              контенту\n", "penalties": "- Санкции за жалобы\n- Штрафы за нарушения\n-
              Снижение репутации\n- Ограничение доступа\n"}, "academy_features": {"schedule_management":
              "- Управление расписаниями программ\n- Бронирование времени\n- Автоматизация
              расписаний\n", "ratings": "- Рейтинги академий\n- Рейтинги программ\n-
              Рейтинги наставников\n", "events": "- Образовательные события\n- Фестивали
              наставников\n- Выпускные церемонии\n", "educational_hubs": "- Образовательные
              хабы городов\n- Виртуальные кампусы\n- Интеграция с миром\n"}, "mentorship_chains":
              {"linear_chains": "- Последовательное обучение\n- Передача знаний от
              наставника к ученику\n- Ученик становится наставником\n", "network_chains":
              "- Сетевые цепочки обучения\n- Множественные наставники\n- Коллективное
              обучение\n", "faction_chains": "- Фракционные программы\n- Обучение
              внутри фракций\n- Влияние на фракции\n", "academy_chains": "- Академические
              программы\n- Структурированное обучение\n- Сертификация\n"}, "mentorship_economy":
              {"payment_models": "- Платные курсы\n- Гранты\n- Очки влияния\n- Ресурсы
              академий\n", "monetization": "- Создание и продажа учебного контента\n-
              Комиссии за обучение\n- Подписки на программы\n- Премиум доступ\n",
              "taxation": "- Налогообложение доходов наставников\n"}}}'
        - column:
            name: metadata
            value: '{"id": "mentorship-system-architecture", "title": "Архитектура
              системы наставничества", "document_type": "architecture", "category":
              "systems", "status": "draft", "version": "1.0.0", "last_updated": "2025-11-23T23:45:00+00:00",
              "owners": [{"role": "architect", "contact": "architect@necp.game"}],
              "tags": ["architecture", "social", "mentorship", "education"], "related_systems":
              ["social-service", "economy-service", "world-service", "gameplay-service",
              "content-service"], "related_documents": [{"id": "mentorship-system-detailed",
              "relation": "implements"}], "github_issue": 303, "visibility": "internal",
              "audience": ["architect", "backend", "social", "api-designer"]}'
        - column:
            name: source_file
            value: knowledge\implementation\architecture\mentorship-system-architecture.yaml
