databaseChangeLog:
- changeSet:
    id: documentation-netfaction-npc-integration-architecture-6b057743
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '3647285531549207'
        - column:
            name: doc_id
            value: netfaction-npc-integration-architecture
        - column:
            name: title
            value: Архитектура интеграции NPC лидеров сетевых фракций с системами
              хакерства и операций за Blackwall (на примере Маманы Брижит)
        - column:
            name: document_type
            value: architecture
        - column:
            name: category
            value: systems
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-23 15:00:00+00:00
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: null
        - column:
            name: owners
            value: '[{"role": "architect", "contact": "architect@necp.game"}]'
        - column:
            name: tags
            value:
            - architecture
            - npc
            - netfaction
            - hacking
            - blackwall
            - cyberspace
            - integration
        - column:
            name: topics
            value: []
        - column:
            name: related_systems
            value:
            - gameplay-service-go
            - world-service-go
            - quest-engine
            - hacking-system
        - column:
            name: related_documents
            value: '[{"id": "npc-integration-system-architecture", "relation": "extends"},
              {"id": "npc-brigitte", "relation": "extends"}, {"id": "combat-hacking-types",
              "relation": "references"}]'
        - column:
            name: source
            value: ''
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - architect
            - backend
            - game-design
            - api-designer
        - column:
            name: risk_level
            value: ''
        - column:
            name: content
            value: '{"metadata": {"id": "netfaction-npc-integration-architecture",
              "title": "Архитектура интеграции NPC лидеров сетевых фракций с системами
              хакерства и операций за Blackwall (на примере Маманы Брижит)", "document_type":
              "architecture", "category": "systems", "status": "draft", "version":
              "1.0.0", "last_updated": "2025-11-23T15:00:00+00:00", "owners": [{"role":
              "architect", "contact": "architect@necp.game"}], "tags": ["architecture",
              "npc", "netfaction", "hacking", "blackwall", "cyberspace", "integration"],
              "related_systems": ["gameplay-service-go", "world-service-go", "quest-engine",
              "hacking-system"], "related_documents": [{"id": "npc-integration-system-architecture",
              "relation": "extends"}, {"id": "npc-brigitte", "relation": "extends"},
              {"id": "combat-hacking-types", "relation": "references"}], "github_issue":
              29, "visibility": "internal", "audience": ["architect", "backend", "game-design",
              "api-designer"]}, "summary": {"problem": "NPC лидеры сетевых фракций
              (такие как Мамана Брижит из Voodoo Boys) требуют специфической интеграции\nс
              системами хакерства, операций за Blackwall, киберпространства и сетевых
              операций,\nкоторые отличаются от обычных NPC интеграций.\n", "goal":
              "Создать архитектурную схему интеграции NPC лидеров сетевых фракций
              с игровыми системами:\n- Интеграция с системами хакерства\n- Операции
              за Blackwall\n- Киберпространство и сетевые операции\n- Управление информацией
              и данными\n- API endpoints (высокоуровнево)\n- Техническое задание для
              реализации\n", "essence": "Архитектура интеграции NPC лидеров сетевых
              фракций с системами хакерства и операций за Blackwall\nдля обеспечения
              динамического контента сетевых операций и киберпространства.\n"}, "architecture":
              {"overview": "Система интеграции NPC лидеров сетевых фракций расширяет
              общую архитектуру NPC интеграции\nследующими компонентами:\n1. Net Operation
              Manager - управление сетевыми операциями\n2. Blackwall Operation Coordinator
              - координация операций за Blackwall\n3. Cyberspace Mission System -
              система миссий в киберпространстве\n4. Network Intelligence System -
              система сетевой разведки\n5. Hacking Resource Manager - управление хакерскими
              ресурсами\n6. Information Control System - система контроля информации\n7.
              Net Faction Reputation Tracker - отслеживание репутации сетевых фракций\n",
              "microservices": [{"name": "net-operation-manager", "location": "gameplay-service-go
              (модуль net-operations)", "responsibility": "Управление сетевыми операциями:\n-
              Создание сетевых операций от NPC\n- Координация участников операций\n-
              Управление целями операций\n- Отслеживание результатов операций\n",
              "operation_types": ["Network Infiltration (проникновение в сети)", "Data
              Extraction (извлечение данных)", "System Sabotage (саботаж систем)",
              "Intelligence Gathering (сбор разведданных)"], "endpoints": ["GET /api/v1/netfaction/{faction_id}/operations
              - доступные операции", "POST /api/v1/netfaction/{faction_id}/operations/{op_id}/start
              - запуск операции", "GET /api/v1/netfaction/{faction_id}/operations/{op_id}/status
              - статус операции", "POST /api/v1/netfaction/{faction_id}/operations/{op_id}/complete
              - завершение операции"]}, {"name": "blackwall-operation-coordinator",
              "location": "gameplay-service-go (модуль blackwall-operations)", "responsibility":
              "Координация операций за Blackwall:\n- Планирование операций за Blackwall\n-
              Координация участников операций\n- Управление рисками операций\n- Отслеживание
              результатов операций\n", "blackwall_features": ["Operation planning
              (планирование операций)", "Risk management (управление рисками)", "Team
              coordination (координация команды)", "Data retrieval (извлечение данных)"],
              "endpoints": ["GET /api/v1/blackwall/operations - доступные операции
              за Blackwall", "POST /api/v1/blackwall/operations/{op_id}/plan - планирование
              операции", "POST /api/v1/blackwall/operations/{op_id}/start - запуск
              операции", "GET /api/v1/blackwall/operations/{op_id}/status - статус
              операции", "POST /api/v1/blackwall/operations/{op_id}/complete - завершение
              операции"]}, {"name": "cyberspace-mission-system", "location": "gameplay-service-go
              (модуль cyberspace-missions)", "responsibility": "Система миссий в киберпространстве:\n-
              Создание миссий в киберпространстве\n- Управление киберпространственными
              зонами\n- Координация участников миссий\n- Управление наградами за миссии\n",
              "mission_types": ["Hub Missions (миссии в хабах)", "Arena Missions (миссии
              в аренах)", "Event Missions (событийные миссии)", "Raid Missions (рейдовые
              миссии)"], "endpoints": ["GET /api/v1/cyberspace/missions - доступные
              миссии", "GET /api/v1/cyberspace/missions/{mission_id} - информация
              о миссии", "POST /api/v1/cyberspace/missions/{mission_id}/start - запуск
              миссии", "GET /api/v1/cyberspace/missions/{mission_id}/status - статус
              миссии", "POST /api/v1/cyberspace/missions/{mission_id}/complete - завершение
              миссии"]}, {"name": "network-intelligence-system", "location": "gameplay-service-go
              (модуль network-intelligence)", "responsibility": "Система сетевой разведки:\n-
              Сбор разведывательных данных\n- Управление информацией\n- Анализ сетевых
              данных\n- Интеграция с квестами\n", "intelligence_features": ["Data
              collection (сбор данных)", "Information analysis (анализ информации)",
              "Intelligence sharing (обмен разведданными)", "Data security (безопасность
              данных)"], "endpoints": ["GET /api/v1/network/intelligence/data - доступные
              данные разведки", "POST /api/v1/network/intelligence/data/{data_id}/collect
              - сбор данных", "GET /api/v1/network/intelligence/data/{data_id}/analyze
              - анализ данных", "POST /api/v1/network/intelligence/data/{data_id}/share
              - обмен данными"]}, {"name": "hacking-resource-manager", "location":
              "gameplay-service-go (модуль hacking-resources)", "responsibility":
              "Управление хакерскими ресурсами:\n- Управление доступом к хакерским
              программам\n- Контроль кибердеков и демонов\n- Управление уникальным
              софтом\n- Интеграция с экономикой\n", "resource_types": ["Hacking Programs
              (хакерские программы)", "Cyberdecks (кибердеки)", "Daemons (демоны)",
              "Unique Software (уникальный софт)"], "endpoints": ["GET /api/v1/netfaction/{faction_id}/hacking-resources
              - доступные ресурсы", "GET /api/v1/netfaction/{faction_id}/hacking-resources/{resource_id}
              - информация о ресурсе", "POST /api/v1/netfaction/{faction_id}/hacking-resources/{resource_id}/request
              - запрос ресурса", "GET /api/v1/netfaction/{faction_id}/hacking-resources/{resource_id}/access
              - проверка доступа"]}, {"name": "information-control-system", "location":
              "world-service-go (модуль information-control)", "responsibility": "Система
              контроля информации:\n- Управление доступом к информации\n- Контроль
              распространения данных\n- Управление секретностью\n- Интеграция с квестами\n",
              "control_features": ["Access control (контроль доступа)", "Data distribution
              (распространение данных)", "Secrecy management (управление секретностью)",
              "Information flow (поток информации)"], "endpoints": ["GET /api/v1/information/access/{player_id}
              - уровень доступа игрока", "POST /api/v1/information/data/{data_id}/share
              - распространение данных", "GET /api/v1/information/data/{data_id}/secrecy
              - уровень секретности", "POST /api/v1/information/data/{data_id}/restrict
              - ограничение доступа"]}, {"name": "net-faction-reputation-tracker",
              "location": "gameplay-service-go (модуль netfaction-reputation)", "responsibility":
              "Отслеживание репутации сетевых фракций:\n- Управление репутацией с
              сетевыми фракциями\n- Отслеживание истории взаимодействий\n- Влияние
              на доступность контента\n- Интеграция с системой доверия\n", "reputation_features":
              ["Reputation levels (уровни репутации)", "Trust tracking (отслеживание
              доверия)", "Content gating (ограничение доступа)", "Relationship history
              (история отношений)"], "endpoints": ["GET /api/v1/netfaction/{faction_id}/reputation/{player_id}
              - репутация игрока", "GET /api/v1/netfaction/{faction_id}/reputation/{player_id}/history
              - история репутации", "POST /api/v1/netfaction/{faction_id}/reputation/{player_id}/update
              - обновление репутации", "GET /api/v1/netfaction/{faction_id}/trust/{player_id}
              - уровень доверия"]}], "data_flow": {"net_operation_flow": "1. Игрок
              взаимодействует с NPC Маманой Брижит\n2. NPC Dialogue System показывает
              опцию \"Получить сетевую операцию\"\n3. Net Operation Manager проверяет
              условия доступа\n4. Игрок получает сетевую операцию\n5. Игрок присоединяется
              к операции\n6. Net Operation Manager координирует участников\n7. Операция
              проходит в киберпространстве\n8. Net Operation Manager отслеживает прогресс\n9.
              При завершении операции выдаются награды\n10. Net Faction Reputation
              Tracker обновляет репутацию\n", "blackwall_operation_flow": "1. NPC
              Мамана Брижит планирует операцию за Blackwall\n2. Blackwall Operation
              Coordinator создаёт операцию\n3. Игроки получают уведомление о операции\n4.
              Игроки присоединяются к операции\n5. Blackwall Operation Coordinator
              координирует команду\n6. Операция проходит за Blackwall\n7. Blackwall
              Operation Coordinator отслеживает риски\n8. При успешном выполнении
              извлекаются данные\n9. Network Intelligence System обрабатывает данные\n10.
              Net Faction Reputation Tracker обновляет репутацию\n", "cyberspace_mission_flow":
              "1. NPC Мамана Брижит создаёт миссию в киберпространстве\n2. Cyberspace
              Mission System публикует миссию\n3. Игроки просматривают доступные миссии\n4.
              Игроки присоединяются к миссии\n5. Cyberspace Mission System координирует
              участников\n6. Миссия проходит в киберпространстве\n7. Cyberspace Mission
              System отслеживает прогресс\n8. При завершении миссии выдаются награды\n9.
              Hacking Resource Manager открывает доступ к ресурсам\n", "intelligence_gathering_flow":
              "1. NPC Мамана Брижит даёт задание на сбор разведданных\n2. Network
              Intelligence System создаёт задание\n3. Игрок выполняет задание в сети\n4.
              Network Intelligence System собирает данные\n5. Network Intelligence
              System анализирует данные\n6. Information Control System определяет
              уровень секретности\n7. Игрок получает доступ к информации\n8. Net Faction
              Reputation Tracker обновляет репутацию\n"}, "integrations": {"with_npc_integration_system":
              "- Использование NPC Quest Manager для квестов\n- Использование NPC
              Relationship Tracker для отношений\n- Использование NPC Dialogue System
              для диалогов\n- Использование NPC Event Trigger System для событий\n",
              "with_hacking_system": "- Интеграция с системами хакерства\n- Управление
              хакерскими программами\n- Координация сетевых операций\n- Управление
              кибердеками и демонами\n", "with_cyberspace_system": "- Интеграция с
              киберпространством\n- Управление зонами киберпространства\n- Координация
              миссий в киберпространстве\n- Управление хабами и аренами\n", "with_quest_engine":
              "- Создание квестов сетевых операций\n- Интеграция с цепочками квестов\n-
              Управление наградами за квесты\n", "with_world_service": "- Управление
              сетевыми событиями\n- Синхронизация состояния операций\n- Интеграция
              с Live Ops\n"}, "database_schema": {"tables": [{"name": "net_operations",
              "description": "Сетевые операции", "fields": [{"id": "UUID (PK)"}, {"faction_id":
              "VARCHAR(50) (FK net_factions)"}, {"operation_type": "ENUM (infiltration,
              data_extraction, sabotage, intelligence)"}, {"title": "VARCHAR(255)"},
              {"description": "TEXT"}, {"requirements": "JSONB (требования для участия)"},
              {"rewards": "JSONB (награды за операцию)"}, {"status": "ENUM (pending,
              active, completed, failed)"}, {"participants": "UUID[] (array of player
              IDs)"}, {"created_at": "TIMESTAMP"}, {"updated_at": "TIMESTAMP"}], "indexes":
              ["faction_id, status", "operation_type, status"]}, {"name": "blackwall_operations",
              "description": "Операции за Blackwall", "fields": [{"id": "UUID (PK)"},
              {"faction_id": "VARCHAR(50) (FK net_factions)"}, {"operation_name":
              "VARCHAR(255)"}, {"risk_level": "ENUM (low, medium, high, extreme)"},
              {"objectives": "JSONB (цели операции)"}, {"team_members": "UUID[] (array
              of player IDs)"}, {"status": "ENUM (planned, active, completed, failed,
              lost)"}, {"data_retrieved": "JSONB (извлечённые данные)"}, {"created_at":
              "TIMESTAMP"}, {"updated_at": "TIMESTAMP"}], "indexes": ["faction_id,
              status", "risk_level, status"]}, {"name": "cyberspace_missions", "description":
              "Миссии в киберпространстве", "fields": [{"id": "UUID (PK)"}, {"faction_id":
              "VARCHAR(50) (FK net_factions, nullable)"}, {"mission_type": "ENUM (hub,
              arena, event, raid)"}, {"zone_id": "UUID (FK cyberspace_zones)"}, {"title":
              "VARCHAR(255)"}, {"description": "TEXT"}, {"requirements": "JSONB (требования
              для участия)"}, {"rewards": "JSONB (награды за миссию)"}, {"status":
              "ENUM (available, active, completed, failed)"}, {"participants": "UUID[]
              (array of player IDs)"}, {"created_at": "TIMESTAMP"}, {"updated_at":
              "TIMESTAMP"}], "indexes": ["faction_id, status", "mission_type, status",
              "zone_id, status"]}, {"name": "network_intelligence_data", "description":
              "Данные сетевой разведки", "fields": [{"id": "UUID (PK)"}, {"data_type":
              "ENUM (corporate, military, personal, blackwall)"}, {"data_source":
              "VARCHAR(255)"}, {"content": "JSONB (содержимое данных)"}, {"secrecy_level":
              "ENUM (public, restricted, confidential, top_secret)"}, {"access_control":
              "JSONB (контроль доступа)"}, {"collected_by": "UUID (FK accounts, nullable)"},
              {"collected_at": "TIMESTAMP"}, {"created_at": "TIMESTAMP"}, {"updated_at":
              "TIMESTAMP"}], "indexes": ["data_type, secrecy_level", "collected_by"]},
              {"name": "hacking_resources", "description": "Хакерские ресурсы", "fields":
              [{"id": "UUID (PK)"}, {"faction_id": "VARCHAR(50) (FK net_factions)"},
              {"resource_type": "ENUM (program, cyberdeck, daemon, software)"}, {"resource_id":
              "VARCHAR(50) (FK на соответствующие таблицы)"}, {"access_level": "ENUM
              (public, member, trusted, elite)"}, {"availability": "INTEGER (количество
              доступных)"}, {"requirements": "JSONB (требования для доступа)"}, {"created_at":
              "TIMESTAMP"}, {"updated_at": "TIMESTAMP"}], "indexes": ["faction_id,
              resource_type", "access_level, availability"]}, {"name": "information_access_control",
              "description": "Контроль доступа к информации", "fields": [{"id": "UUID
              (PK)"}, {"player_id": "UUID (FK accounts)"}, {"data_id": "UUID (FK network_intelligence_data)"},
              {"access_level": "ENUM (none, read, write, full)"}, {"granted_by": "VARCHAR(50)
              (FK npcs, nullable)"}, {"granted_at": "TIMESTAMP"}, {"expires_at": "TIMESTAMP
              (nullable)"}, {"created_at": "TIMESTAMP"}, {"updated_at": "TIMESTAMP"}],
              "constraints": "- UNIQUE(player_id, data_id)\n", "indexes": ["player_id,
              access_level", "data_id, access_level"]}, {"name": "netfaction_reputation",
              "description": "Репутация игроков с сетевыми фракциями", "fields": [{"id":
              "UUID (PK)"}, {"player_id": "UUID (FK accounts)"}, {"faction_id": "VARCHAR(50)
              (FK net_factions)"}, {"reputation_level": "ENUM (hated, disliked, neutral,
              trusted, respected, legendary)"}, {"reputation_points": "INTEGER (очки
              репутации)"}, {"trust_level": "INTEGER (уровень доверия, 0-100)"}, {"interaction_count":
              "INTEGER (количество взаимодействий)"}, {"last_interaction": "TIMESTAMP"},
              {"created_at": "TIMESTAMP"}, {"updated_at": "TIMESTAMP"}]}]}}}'
        - column:
            name: metadata
            value: '{"id": "netfaction-npc-integration-architecture", "title": "Архитектура
              интеграции NPC лидеров сетевых фракций с системами хакерства и операций
              за Blackwall (на примере Маманы Брижит)", "document_type": "architecture",
              "category": "systems", "status": "draft", "version": "1.0.0", "last_updated":
              "2025-11-23T15:00:00+00:00", "owners": [{"role": "architect", "contact":
              "architect@necp.game"}], "tags": ["architecture", "npc", "netfaction",
              "hacking", "blackwall", "cyberspace", "integration"], "related_systems":
              ["gameplay-service-go", "world-service-go", "quest-engine", "hacking-system"],
              "related_documents": [{"id": "npc-integration-system-architecture",
              "relation": "extends"}, {"id": "npc-brigitte", "relation": "extends"},
              {"id": "combat-hacking-types", "relation": "references"}], "github_issue":
              29, "visibility": "internal", "audience": ["architect", "backend", "game-design",
              "api-designer"]}'
        - column:
            name: source_file
            value: knowledge\implementation\architecture\netfaction-npc-integration-architecture.yaml
