databaseChangeLog:
- changeSet:
    id: documentation-part1-architecture-zones-e1ff3347
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '9079242343779560'
        - column:
            name: doc_id
            value: backend-realtime-server-part1-architecture-zones
        - column:
            name: title
            value: 'Realtime Server — Part 1: Architecture & Zones'
        - column:
            name: document_type
            value: implementation
        - column:
            name: category
            value: backend
        - column:
            name: status
            value: approved
        - column:
            name: version
            value: 1.0.1
        - column:
            name: last_updated
            value: 2025-11-07 17:05:00+00:00
        - column:
            name: concept_approved
            value: true
        - column:
            name: concept_reviewed_at
            value: 2025-11-07 02:12:00+00:00
        - column:
            name: owners
            value: '[{"role": "realtime_lead", "contact": "realtime@necp.game"}]'
        - column:
            name: tags
            value:
            - realtime
            - networking
            - zones
        - column:
            name: topics
            value:
            - gameplay-infra
            - server-architecture
        - column:
            name: related_systems
            value:
            - world-service
            - gameplay-service
            - api-gateway
        - column:
            name: related_documents
            value: '[{"id": "backend-realtime-server-part2-protocol-optimization",
              "relation": "follows"}, {"id": "backend-realtime-server-part3-performance-profiles",
              "relation": "precedes"}]'
        - column:
            name: source
            value: shared/docs/knowledge/implementation/backend/realtime-server/part1-architecture-zones.md
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - backend
            - infrastructure
            - gameplay
        - column:
            name: risk_level
            value: high
        - column:
            name: content
            value: '{"metadata": {"id": "backend-realtime-server-part1-architecture-zones",
              "title": "Realtime Server — Part 1: Architecture & Zones", "document_type":
              "implementation", "category": "backend", "status": "approved", "version":
              "1.0.1", "last_updated": "2025-11-07T17:05:00+00:00", "concept_approved":
              true, "concept_reviewed_at": "2025-11-07T02:12:00+00:00", "owners":
              [{"role": "realtime_lead", "contact": "realtime@necp.game"}], "tags":
              ["realtime", "networking", "zones"], "topics": ["gameplay-infra", "server-architecture"],
              "related_systems": ["world-service", "gameplay-service", "api-gateway"],
              "related_documents": [{"id": "backend-realtime-server-part2-protocol-optimization",
              "relation": "follows"}, {"id": "backend-realtime-server-part3-performance-profiles",
              "relation": "precedes"}], "source": "shared/docs/knowledge/implementation/backend/realtime-server/part1-architecture-zones.md",
              "visibility": "internal", "audience": ["backend", "infrastructure",
              "gameplay"], "risk_level": "high"}, "review": {"chain": [{"role": "realtime_lead",
              "reviewer": "", "reviewed_at": "2025-11-07T02:12:00+00:00", "status":
              "approved"}], "next_actions": []}, "summary": {"problem": "Требуется
              формализовать архитектуру realtime-сервера для синхронизации игрового
              состояния и управления зонами.", "goal": "Описать high-level архитектуру,
              game loop, зонирование и протоколы синхронизации для MMORPG NECPGAME.",
              "essence": "Документ фиксирует структуру инстансов, interest management,
              синхронизацию игроков и обновления по частоте.", "key_points": ["Game
              server instances обслуживают набор зон с независимым game loop.", "Зоны
              делятся на ячейки для interest management, минимизируя трафик.", "Реализована
              детальная схема синхронизации состояний и протокол обмена сообщениями.",
              "Определена логика тикрейта и приоритетов обновлений."]}, "content":
              {"sections": [{"id": "high_level_architecture", "title": "Архитектура",
              "body": "Реализация включает клиентов, API Gateway и пул game server
              instances. Каждый инстанс обслуживает 1–5 зон\n(Watson, Westbrook и
              т.д.), использует Redis, PostgreSQL и event bus для общих сервисов.\n",
              "mechanics_links": []}, {"id": "game_loop", "title": "Game Server Instance
              и цикл", "body": "Инстанс управляет зонами и активными игроками, обновляя
              state до 20 раз в секунду. Game loop проходит обработку\nинпута, обновление
              состояния, физики, AI, рассылку клиентам и очистку. Предусмотрены проверки
              и предупреждения при\nпревышении 50 мс на тик.\n", "mechanics_links":
              []}, {"id": "zones", "title": "Управление зонами", "body": "Зоны описываются
              в базе (`zones`), включают координаты, лимиты игроков и статусы. Interest
              management реализован\nчерез ячейки 100x100 м, игрок видит свою и 8
              соседних ячеек.\n", "mechanics_links": []}, {"id": "state_sync", "title":
              "Синхронизация состояния игрока", "body": "Определены поля state, форматы
              сообщений client→server и server→client. Частота обновлений адаптивна
              (combat 60 Hz,\nmovement 20 Hz, idle 5 Hz). Приведён Java код получения
              игроков в области интереса.\n", "mechanics_links": []}]}, "appendix":
              {"glossary": [], "references": [], "decisions": []}, "implementation":
              {"github_issue": 136, "needs_task": false, "queue_reference": ["shared/trackers/queues/concept/queued.yaml"],
              "blockers": []}, "history": [{"version": "1.0.1", "date": "2025-11-07",
              "author": "realtime_lead", "changes": "Обновлены сценарии interest management
              и синхронизации для инстансов."}], "validation": {"checksum": "", "schema_version":
              "1.0"}}'
        - column:
            name: metadata
            value: '{"id": "backend-realtime-server-part1-architecture-zones", "title":
              "Realtime Server — Part 1: Architecture & Zones", "document_type": "implementation",
              "category": "backend", "status": "approved", "version": "1.0.1", "last_updated":
              "2025-11-07T17:05:00+00:00", "concept_approved": true, "concept_reviewed_at":
              "2025-11-07T02:12:00+00:00", "owners": [{"role": "realtime_lead", "contact":
              "realtime@necp.game"}], "tags": ["realtime", "networking", "zones"],
              "topics": ["gameplay-infra", "server-architecture"], "related_systems":
              ["world-service", "gameplay-service", "api-gateway"], "related_documents":
              [{"id": "backend-realtime-server-part2-protocol-optimization", "relation":
              "follows"}, {"id": "backend-realtime-server-part3-performance-profiles",
              "relation": "precedes"}], "source": "shared/docs/knowledge/implementation/backend/realtime-server/part1-architecture-zones.md",
              "visibility": "internal", "audience": ["backend", "infrastructure",
              "gameplay"], "risk_level": "high"}'
        - column:
            name: source_file
            value: knowledge\implementation\backend\realtime-server\part1-architecture-zones.yaml
