databaseChangeLog:
- changeSet:
    id: documentation-part1-core-progression-bbfe6633
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '-239338182866576'
        - column:
            name: doc_id
            value: backend-battle-pass-part1-core
        - column:
            name: title
            value: 'Battle Pass — Part 1: Core & Progression'
        - column:
            name: document_type
            value: implementation
        - column:
            name: category
            value: backend
        - column:
            name: status
            value: approved
        - column:
            name: version
            value: 1.0.1
        - column:
            name: last_updated
            value: 2025-11-07 23:58:00+00:00
        - column:
            name: concept_approved
            value: true
        - column:
            name: concept_reviewed_at
            value: 2025-11-07 02:40:00+00:00
        - column:
            name: owners
            value: '[{"role": "economy_lead", "contact": "economy@necp.game"}]'
        - column:
            name: tags
            value:
            - battle-pass
            - progression
        - column:
            name: topics
            value:
            - monetization
            - gameplay-infra
        - column:
            name: related_systems
            value:
            - economy-service
            - analytics-service
            - notification-service
        - column:
            name: related_documents
            value: '[{"id": "backend-battle-pass-overview", "relation": "references"},
              {"id": "backend-battle-pass-part2-rewards", "relation": "precedes"}]'
        - column:
            name: source
            value: shared/docs/knowledge/implementation/backend/battle-pass/part1-core-progression.md
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - backend
            - economy
        - column:
            name: risk_level
            value: high
        - column:
            name: content
            value: '{"metadata": {"id": "backend-battle-pass-part1-core", "title":
              "Battle Pass — Part 1: Core & Progression", "document_type": "implementation",
              "category": "backend", "status": "approved", "version": "1.0.1", "last_updated":
              "2025-11-07T23:58:00+00:00", "concept_approved": true, "concept_reviewed_at":
              "2025-11-07T02:40:00+00:00", "owners": [{"role": "economy_lead", "contact":
              "economy@necp.game"}], "tags": ["battle-pass", "progression"], "topics":
              ["monetization", "gameplay-infra"], "related_systems": ["economy-service",
              "analytics-service", "notification-service"], "related_documents": [{"id":
              "backend-battle-pass-overview", "relation": "references"}, {"id": "backend-battle-pass-part2-rewards",
              "relation": "precedes"}], "source": "shared/docs/knowledge/implementation/backend/battle-pass/part1-core-progression.md",
              "visibility": "internal", "audience": ["backend", "economy"], "risk_level":
              "high"}, "review": {"chain": [{"role": "economy_lead", "reviewer": "",
              "reviewed_at": "2025-11-07T23:58:00+00:00", "status": "approved"}],
              "next_actions": []}, "summary": {"problem": "Базовая механика battle
              pass требовала формализованного описания: прогресс, базы данных, премиум-треки.",
              "goal": "Документировать ядро battle pass: схемы сезонов, наград и прогресса
              игроков; логику XP и покупки премиума.", "essence": "Часть 1 описывает
              таблицы, XP систему и обработку премиум-покупок, включая уведомления
              и аналитику.", "key_points": ["SQL схемы `battle_pass_seasons`, `battle_pass_rewards`,
              `player_battle_pass_progress`.", "Система XP источников и Java метод
              `awardXP`.", "Логика покупки премиума с проверками валюты и аналитикой."]},
              "content": {"sections": [{"id": "overview", "title": "Краткое описание",
              "body": "Battle Pass предоставляет бесплатный и премиальный треки на
              100 уровней, поддерживает еженедельные испытания и\nначисляет сезонные
              награды.\n", "mechanics_links": []}, {"id": "database", "title": "Схемы
              базы данных", "body": "Подробно описаны таблицы сезонов, наград и прогресса
              игрока с ограничениями, индексами и полями для премиума.\n", "mechanics_links":
              []}, {"id": "xp_system", "title": "Система опыта", "body": "Перечислены
              источники XP и приведён Java код `awardXP`, обрабатывающий уровни, уведомления
              и события.\n", "mechanics_links": []}, {"id": "premium", "title": "Покупка
              премиума", "body": "Метод `purchasePremium` проверяет наличие премиум-валюты,
              списывает её, активирует премиум трек и публикует события.\n", "mechanics_links":
              []}]}, "appendix": {"glossary": [], "references": [], "decisions": []},
              "implementation": {"github_issue": 136, "needs_task": false, "queue_reference":
              ["shared/trackers/queues/concept/queued.yaml"], "blockers": []}, "history":
              [{"version": "1.0.1", "date": "2025-11-07", "author": "economy_lead",
              "changes": "Добавлены схемы, XP система и логика премиум-покупки."}],
              "validation": {"checksum": "", "schema_version": "1.0"}}'
        - column:
            name: metadata
            value: '{"id": "backend-battle-pass-part1-core", "title": "Battle Pass
              — Part 1: Core & Progression", "document_type": "implementation", "category":
              "backend", "status": "approved", "version": "1.0.1", "last_updated":
              "2025-11-07T23:58:00+00:00", "concept_approved": true, "concept_reviewed_at":
              "2025-11-07T02:40:00+00:00", "owners": [{"role": "economy_lead", "contact":
              "economy@necp.game"}], "tags": ["battle-pass", "progression"], "topics":
              ["monetization", "gameplay-infra"], "related_systems": ["economy-service",
              "analytics-service", "notification-service"], "related_documents": [{"id":
              "backend-battle-pass-overview", "relation": "references"}, {"id": "backend-battle-pass-part2-rewards",
              "relation": "precedes"}], "source": "shared/docs/knowledge/implementation/backend/battle-pass/part1-core-progression.md",
              "visibility": "internal", "audience": ["backend", "economy"], "risk_level":
              "high"}'
        - column:
            name: source_file
            value: knowledge\implementation\backend\battle-pass\part1-core-progression.yaml
