databaseChangeLog:
- changeSet:
    id: documentation-party-system-58fc4b55
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '3907742852991042'
        - column:
            name: doc_id
            value: backend-party-system
        - column:
            name: title
            value: Party System Backend
        - column:
            name: document_type
            value: implementation
        - column:
            name: category
            value: backend
        - column:
            name: status
            value: approved
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-07 00:00:00+00:00
        - column:
            name: concept_approved
            value: true
        - column:
            name: concept_reviewed_at
            value: 2025-11-07 05:20:00+00:00
        - column:
            name: owners
            value: '[{"role": "social_lead", "contact": "social@necp.game"}]'
        - column:
            name: tags
            value:
            - party
            - social
            - backend
        - column:
            name: topics
            value:
            - gameplay-infra
            - social-systems
        - column:
            name: related_systems
            value:
            - social-service
            - gameplay-service
            - economy-service
        - column:
            name: related_documents
            value: '[{"id": "backend-loot-system", "relation": "references"}, {"id":
              "backend-matchmaking-queue", "relation": "references"}]'
        - column:
            name: source
            value: shared/docs/knowledge/implementation/backend/party-system.md
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - backend
            - social
        - column:
            name: risk_level
            value: medium
        - column:
            name: content
            value: '{"metadata": {"id": "backend-party-system", "title": "Party System
              Backend", "document_type": "implementation", "category": "backend",
              "status": "approved", "version": "1.0.0", "last_updated": "2025-11-07T00:00:00+00:00",
              "concept_approved": true, "concept_reviewed_at": "2025-11-07T05:20:00+00:00",
              "owners": [{"role": "social_lead", "contact": "social@necp.game"}],
              "tags": ["party", "social", "backend"], "topics": ["gameplay-infra",
              "social-systems"], "related_systems": ["social-service", "gameplay-service",
              "economy-service"], "related_documents": [{"id": "backend-loot-system",
              "relation": "references"}, {"id": "backend-matchmaking-queue", "relation":
              "references"}], "source": "shared/docs/knowledge/implementation/backend/party-system.md",
              "visibility": "internal", "audience": ["backend", "social"], "risk_level":
              "medium"}, "review": {"chain": [{"role": "social_lead", "reviewer":
              "", "reviewed_at": "2025-11-08T17:45:00+00:00", "status": "approved"}],
              "next_actions": []}, "summary": {"problem": "Требовалось структурированное
              описание backend-системы групп для кооперативного контента.", "goal":
              "Определить архитектуру party-сервиса, взаимодействия с другими системами,
              события и схему хранения.", "essence": "Документ описывает микросервис
              social-service для управления группами, интеграции с gameplay/economy
              и настройки добычи.", "key_points": ["Party функционирует через social-service
              c API `/api/v1/social/party/*`.", "Поддерживаются события `party:created`,
              `member-joined`, `loot-rolled`.", "Приведена таблица `parties` с массивом
              участников и настройками лута.", "Партии интегрируются с quest progress
              и matchmaking."]}, "content": {"sections": [{"id": "overview", "title":
              "Краткое описание", "body": "Party System управляет группами до пяти
              игроков, поддерживает приглашения, роли, общие задания и режимы распределения
              лута.\n", "mechanics_links": []}, {"id": "architecture", "title": "Микросервисная
              архитектура", "body": "Сервис реализуется в social-service (порт 8084)
              и взаимодействует с gameplay-, economy- и matchmaking-сервисами.\nИспользует
              event bus для публикации и подписки на ключевые события.\n", "mechanics_links":
              []}, {"id": "database_schema", "title": "Схема базы данных", "body":
              "Таблица `parties` хранит лидера, список участников, лимиты, режим распределения
              лута и статус. Указаны индексы и связи.\n", "mechanics_links": []},
              {"id": "integrations", "title": "Интеграции", "body": "Party-события
              обновляют прогресс квестов, распределяют лут через economy-сервис и
              позволяют использовать party-очереди\nв матчмейкинге.\n", "mechanics_links":
              []}]}, "appendix": {"glossary": [], "references": [], "decisions": []},
              "implementation": {"github_issue": 136, "needs_task": false, "queue_reference":
              ["shared/trackers/queues/concept/queued.yaml"], "blockers": []}, "history":
              [{"version": "1.0.0", "date": "2025-11-07", "author": "social_lead",
              "changes": "Стартовое описание backend-архитектуры системы групп."}],
              "validation": {"checksum": "", "schema_version": "1.0"}}'
        - column:
            name: metadata
            value: '{"id": "backend-party-system", "title": "Party System Backend",
              "document_type": "implementation", "category": "backend", "status":
              "approved", "version": "1.0.0", "last_updated": "2025-11-07T00:00:00+00:00",
              "concept_approved": true, "concept_reviewed_at": "2025-11-07T05:20:00+00:00",
              "owners": [{"role": "social_lead", "contact": "social@necp.game"}],
              "tags": ["party", "social", "backend"], "topics": ["gameplay-infra",
              "social-systems"], "related_systems": ["social-service", "gameplay-service",
              "economy-service"], "related_documents": [{"id": "backend-loot-system",
              "relation": "references"}, {"id": "backend-matchmaking-queue", "relation":
              "references"}], "source": "shared/docs/knowledge/implementation/backend/party-system.md",
              "visibility": "internal", "audience": ["backend", "social"], "risk_level":
              "medium"}'
        - column:
            name: source_file
            value: knowledge\implementation\backend\party-system.yaml
