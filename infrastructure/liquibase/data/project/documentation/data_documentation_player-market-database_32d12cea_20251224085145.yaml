databaseChangeLog:
- changeSet:
    id: documentation-player-market-database-32d12cea
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '2638177344998173'
        - column:
            name: doc_id
            value: player-market-database
        - column:
            name: title
            value: Player Market — База данных и UI
        - column:
            name: document_type
            value: mechanics
        - column:
            name: category
            value: economy
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-11 03:15:00+00:00
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: ''
        - column:
            name: owners
            value: '[{"role": "concept_director", "contact": "concept@necp.game"}]'
        - column:
            name: tags
            value:
            - player-market
            - database-schema
            - ui-wireframes
        - column:
            name: topics
            value:
            - data_architecture
            - marketplace_design
        - column:
            name: related_systems
            value:
            - economy-service
            - database-service
            - ui-service
        - column:
            name: related_documents
            value: '[{"id": "player-market-core", "relation": "references"}, {"id":
              "player-market-api", "relation": "complements"}, {"id": "player-market-analytics",
              "relation": "references"}]'
        - column:
            name: source
            value: shared/docs/knowledge/mechanics/economy/player-market/player-market-database.md
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - concept
            - economy
            - backend
        - column:
            name: risk_level
            value: medium
        - column:
            name: content
            value: '{"metadata": {"id": "player-market-database", "title": "Player
              Market — База данных и UI", "document_type": "mechanics", "category":
              "economy", "status": "draft", "version": "1.0.0", "last_updated": "2025-11-11T03:15:00+00:00",
              "concept_approved": false, "concept_reviewed_at": "", "owners": [{"role":
              "concept_director", "contact": "concept@necp.game"}], "tags": ["player-market",
              "database-schema", "ui-wireframes"], "topics": ["data_architecture",
              "marketplace_design"], "related_systems": ["economy-service", "database-service",
              "ui-service"], "related_documents": [{"id": "player-market-core", "relation":
              "references"}, {"id": "player-market-api", "relation": "complements"},
              {"id": "player-market-analytics", "relation": "references"}], "source":
              "shared/docs/knowledge/mechanics/economy/player-market/player-market-database.md",
              "visibility": "internal", "audience": ["concept", "economy", "backend"],
              "risk_level": "medium"}, "review": {"chain": [{"role": "concept_director",
              "reviewer": "", "reviewed_at": "", "status": "pending"}], "next_actions":
              []}, "summary": {"problem": "Необходимо зафиксировать структуру БД Player
              Market и основные UI-концепции.", "goal": "Описать таблицы листингов,
              сделок, отзывов и ключевые экранные сценарии.", "essence": "Схемы хранят
              данные объявлений и истории торгов, а UI-макеты обеспечивают удобный
              доступ к предложениям.", "key_points": ["Таблицы `market_listings`,
              `trade_history` и `seller_reviews` поддерживают полный цикл сделки.",
              "Индексы и ограничения обеспечивают производительность и целостность.",
              "UI-шаблоны описывают основные экраны просмотра и создания объявлений."]},
              "content": {"sections": [{"id": "introduction", "title": "Введение",
              "body": "Player Market строится на специализированной схеме БД, которая
              хранит активные листинги, историю сделок и\nотзывы продавцов. Документ
              также фиксирует ключевые UI-паттерны для браузинга и создания объявлений.\n",
              "mechanics_links": ["mechanics/economy/player-market/player-market-core.yaml"],
              "assets": []}, {"id": "listings_table", "title": "Таблица листингов",
              "body": "`market_listings` хранит идентификаторы продавца, предмета,
              цену, количество, статус и временные метки. Индексы\nоптимизируют выборку
              активных объявлений, сортировку по цене и времени создания. Ограничения
              предотвращают\nнекорректные статусы и обеспечивают каскадное удаление.\n",
              "mechanics_links": ["mechanics/economy/player-market/player-market-api.yaml"],
              "assets": []}, {"id": "trade_history", "title": "История сделок", "body":
              "`trade_history` фиксирует данные о покупателе, продавце, сумме, количестве
              и времени завершения сделок. Индексы\nподдерживают аналитические запросы
              по покупателям, продавцам и предметам. Внешние ключи очищают записи
              при\nудалении игроков.\n", "mechanics_links": ["mechanics/economy/player-market/player-market-analytics.yaml"],
              "assets": []}, {"id": "seller_reviews", "title": "Отзывы продавцов",
              "body": "`seller_reviews` объединяет оценки, комментарии и ссылки на
              сделки. Ограничение уникальности защищает от\nдублирующих отзывов, а
              каскадные зависимости обеспечивают согласованность. Метрики рейтингов
              интегрируются с\nантискам-логикой.\n", "mechanics_links": ["mechanics/social/reputation-formulas.yaml"],
              "assets": []}, {"id": "ui_browse", "title": "UI — экран просмотра",
              "body": "Экран каталога содержит блок поиска, фильтры по типам и цене,
              список карточек товаров и быстрые действия «Buy\nNow» и «Contact Seller».
              Макет отображает рейтинг продавца, количество продаж и текущую цену.\n",
              "mechanics_links": ["mechanics/implementation/frontend/modules/ui/finance-dashboard.yaml"],
              "assets": []}, {"id": "ui_create", "title": "UI — создание объявления",
              "body": "Экран создания листинга показывает выбранный предмет, доступное
              количество, расчёт комиссии и итоговую сумму.\nПользователь задаёт срок
              действия, подтверждает листинг и получает обратную связь об удерживаемой
              комиссии.\n", "mechanics_links": ["mechanics/economy/player-market/player-market-core.yaml"],
              "assets": []}]}, "appendix": {"glossary": [], "references": [], "decisions":
              []}, "implementation": {"needs_task": false, "github_issue": 61, "queue_reference":
              ["shared/trackers/queues/concept/queued.yaml#CON-2025-233"], "blockers":
              []}, "history": [{"version": "1.0.0", "date": "2025-11-11", "author":
              "concept_director", "changes": "Конвертировано из player-market-database.md
              и структурировано по шаблону знаний."}], "validation": {"checksum":
              "", "schema_version": "1.0"}}'
        - column:
            name: metadata
            value: '{"id": "player-market-database", "title": "Player Market — База
              данных и UI", "document_type": "mechanics", "category": "economy", "status":
              "draft", "version": "1.0.0", "last_updated": "2025-11-11T03:15:00+00:00",
              "concept_approved": false, "concept_reviewed_at": "", "owners": [{"role":
              "concept_director", "contact": "concept@necp.game"}], "tags": ["player-market",
              "database-schema", "ui-wireframes"], "topics": ["data_architecture",
              "marketplace_design"], "related_systems": ["economy-service", "database-service",
              "ui-service"], "related_documents": [{"id": "player-market-core", "relation":
              "references"}, {"id": "player-market-api", "relation": "complements"},
              {"id": "player-market-analytics", "relation": "references"}], "source":
              "shared/docs/knowledge/mechanics/economy/player-market/player-market-database.md",
              "visibility": "internal", "audience": ["concept", "economy", "backend"],
              "risk_level": "medium"}'
        - column:
            name: source_file
            value: knowledge\mechanics\economy\player-market\player-market-database.yaml
