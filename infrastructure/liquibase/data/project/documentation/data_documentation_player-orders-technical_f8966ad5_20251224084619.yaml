databaseChangeLog:
- changeSet:
    id: documentation-player-orders-technical-f8966ad5
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '4831682866322232'
        - column:
            name: doc_id
            value: player-orders-technical
        - column:
            name: title
            value: Архитектура системы заказов от игроков - Технические задачи и диаграммы
        - column:
            name: document_type
            value: architecture
        - column:
            name: category
            value: systems
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-23 23:55:00+00:00
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: null
        - column:
            name: owners
            value: '[{"role": "architect", "contact": "architect@necp.game"}]'
        - column:
            name: tags
            value:
            - architecture
            - social
            - player-orders
            - technical
        - column:
            name: topics
            value: []
        - column:
            name: related_systems
            value: []
        - column:
            name: related_documents
            value: '[{"id": "player-orders-core", "relation": "extends"}]'
        - column:
            name: source
            value: ''
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - architect
            - backend
            - social
        - column:
            name: risk_level
            value: ''
        - column:
            name: content
            value: '{"metadata": {"id": "player-orders-technical", "title": "Архитектура
              системы заказов от игроков - Технические задачи и диаграммы", "document_type":
              "architecture", "category": "systems", "status": "draft", "version":
              "1.0.0", "last_updated": "2025-11-23T23:55:00+00:00", "owners": [{"role":
              "architect", "contact": "architect@necp.game"}], "tags": ["architecture",
              "social", "player-orders", "technical"], "related_documents": [{"id":
              "player-orders-core", "relation": "extends"}], "github_issue": 305,
              "visibility": "internal", "audience": ["architect", "backend", "social"]},
              "architecture": {"technical_specification": {"subtasks": [{"id": "order-manager",
              "title": "Реализация менеджера заказов", "description": "Реализация
              Order Manager с управлением заказами,\nжизненным циклом и интеграцией
              с другими компонентами.\n", "dependencies": [], "estimated_effort":
              "5 days"}, {"id": "order-creation-manager", "title": "Реализация менеджера
              создания заказов", "description": "Реализация Order Creation Manager
              с созданием заказов,\nпроверкой требований и публикацией.\n", "dependencies":
              ["order-manager"], "estimated_effort": "4 days"}, {"id": "order-execution-manager",
              "title": "Реализация менеджера выполнения заказов", "description": "Реализация
              Order Execution Manager с отслеживанием прогресса,\nпроверкой выполнения
              и завершением заказов.\n", "dependencies": ["order-manager"], "estimated_effort":
              "4 days"}, {"id": "multi-executor-manager", "title": "Реализация менеджера
              мульти-исполнительных заказов", "description": "Реализация Multi-Executor
              Manager с управлением командами,\nраспределением ролей и наград.\n",
              "dependencies": ["order-manager"], "estimated_effort": "5 days"}, {"id":
              "auction-manager", "title": "Реализация менеджера аукционов", "description":
              "Реализация Auction Manager с поддержкой типов аукционов,\nобработкой
              ставок и определением победителей.\n", "dependencies": ["order-manager"],
              "estimated_effort": "5 days"}, {"id": "options-manager", "title": "Реализация
              менеджера опционов", "description": "Реализация Options Manager с покупкой
              опционов,\nрасчетом премий и использованием опционов.\n", "dependencies":
              ["order-manager"], "estimated_effort": "4 days"}, {"id": "arbitration-manager",
              "title": "Реализация менеджера арбитража", "description": "Реализация
              Arbitration Manager с обработкой жалоб,\nсбором доказательств и вынесением
              решений.\n", "dependencies": ["order-manager"], "estimated_effort":
              "5 days"}, {"id": "insurance-manager", "title": "Реализация менеджера
              страхования", "description": "Реализация Insurance Manager с покупкой
              страховки,\nрасчетом премий и обработкой страховых случаев.\n", "dependencies":
              ["order-manager"], "estimated_effort": "4 days"}, {"id": "order-rating-manager",
              "title": "Реализация менеджера рейтингов", "description": "Реализация
              Order Rating Manager с управлением рейтингами,\nрасчетом средних оценок
              и выдачей бейджей.\n", "dependencies": ["order-manager"], "estimated_effort":
              "3 days"}, {"id": "order-reputation-manager", "title": "Реализация менеджера
              репутации", "description": "Реализация Order Reputation Manager с управлением
              репутацией,\nрасчетом уровня доверия и влиянием на доступ.\n", "dependencies":
              ["order-manager"], "estimated_effort": "4 days"}, {"id": "order-economy-manager",
              "title": "Реализация менеджера экономики заказов", "description": "Реализация
              Order Economy Manager с расчетом стоимости,\nобработкой платежей и комиссий.\n",
              "dependencies": ["order-manager"], "estimated_effort": "4 days"}, {"id":
              "order-telemetry-collector", "title": "Реализация сборщика телеметрии",
              "description": "Реализация Order Telemetry Collector с логированием
              операций,\nсбором метрик и интеграцией с Analytics Service.\n", "dependencies":
              ["order-manager"], "estimated_effort": "3 days"}, {"id": "websocket-channels",
              "title": "Реализация WebSocket каналов", "description": "Реализация
              WebSocket каналов для realtime обновлений заказов,\nаукционов и уведомлений.\n",
              "dependencies": ["order-manager", "auction-manager"], "estimated_effort":
              "3 days"}, {"id": "event-bus-integration", "title": "Интеграция с Event
              Bus", "description": "Реализация публикации и подписки на события через
              Kafka\nдля всех компонентов системы заказов.\n", "dependencies": ["order-manager"],
              "estimated_effort": "2 days"}, {"id": "database-schema", "title": "Создание
              схемы БД", "description": "Создание таблиц БД для заказов, мульти-исполнителей,
              аукционов,\nопционов, арбитража, страхования, рейтингов, репутации,
              экономики\nи телеметрии с миграциями Liquibase.\n", "dependencies":
              [], "estimated_effort": "4 days"}]}}, "diagrams": {"component_diagram":
              "```mermaid\ngraph TB\n    Client[UE5 Client] --> Gateway[API Gateway]\n\n    Gateway
              --> SocialService[Social Service<br/>8084]\n\n    SocialService -->
              OM[Order Manager]\n    SocialService --> OCM[Order Creation Manager]\n    SocialService
              --> OEM[Order Execution Manager]\n    SocialService --> MEM[Multi-Executor
              Manager]\n    SocialService --> AM[Auction Manager]\n    SocialService
              --> OPM[Options Manager]\n    SocialService --> ARM[Arbitration Manager]\n    SocialService
              --> IM[Insurance Manager]\n    SocialService --> ORM[Order Rating Manager]\n    SocialService
              --> ORPM[Order Reputation Manager]\n    SocialService --> OEM2[Order
              Economy Manager]\n    SocialService --> OTC[Order Telemetry Collector]\n\n    OM
              --> OCM\n    OM --> OEM\n    OM --> MEM\n    OM --> AM\n    OM --> OPM\n    OM
              --> ARM\n    OM --> IM\n    OM --> ORM\n    OM --> ORPM\n    OM -->
              OEM2\n\n    SocialService --> EconomyService[Economy Service]\n    SocialService
              --> ReputationService[Reputation Service]\n    SocialService --> QuestService[Quest
              Service]\n    SocialService --> WorldService[World Service]\n    SocialService
              --> GameplayService[Gameplay Service]\n    SocialService --> NPCService[NPC
              Service]\n    SocialService --> AnalyticsService[Analytics Service]\n\n    SocialService
              --> EventBus[Event Bus<br/>Kafka]\n    EventBus --> RealtimeGateway[Realtime
              Gateway]\n\n    SocialService --> DB[(Social DB)]\n\n    Client -->
              WSOrders[WebSocket<br/>Orders]\n    WSOrders --> SocialService\n```\n",
              "order_lifecycle_diagram": "```mermaid\nsequenceDiagram\n    participant
              C as Customer\n    participant OCM as Order Creation Manager\n    participant
              OM as Order Manager\n    participant E as Executor\n    participant
              OEM as Order Execution Manager\n    participant EB as Event Bus\n\n    C->>OCM:
              Create order\n    OCM->>OCM: Validate requirements\n    OCM->>OM: Publish
              order\n    OM->>EB: Publish social.player-order.created\n    E->>OM:
              Accept order\n    OM->>OEM: Start execution\n    OEM->>OEM: Track progress\n    OEM->>OEM:
              Complete order\n    OEM->>EB: Publish social.player-order.completed\n```\n",
              "auction_flow_diagram": "```mermaid\nsequenceDiagram\n    participant
              C as Customer\n    participant AM as Auction Manager\n    participant
              B1 as Bidder 1\n    participant B2 as Bidder 2\n    participant EB as
              Event Bus\n\n    C->>AM: Create auction\n    AM->>AM: Publish auction\n    B1->>AM:
              Place bid\n    AM->>EB: Publish social.player-order.auction.bid-placed\n    B2->>AM:
              Place bid\n    AM->>EB: Publish social.player-order.auction.bid-placed\n    AM->>AM:
              Close auction\n    AM->>EB: Publish social.player-order.auction.closed\n```\n"}}'
        - column:
            name: metadata
            value: '{"id": "player-orders-technical", "title": "Архитектура системы
              заказов от игроков - Технические задачи и диаграммы", "document_type":
              "architecture", "category": "systems", "status": "draft", "version":
              "1.0.0", "last_updated": "2025-11-23T23:55:00+00:00", "owners": [{"role":
              "architect", "contact": "architect@necp.game"}], "tags": ["architecture",
              "social", "player-orders", "technical"], "related_documents": [{"id":
              "player-orders-core", "relation": "extends"}], "github_issue": 305,
              "visibility": "internal", "audience": ["architect", "backend", "social"]}'
        - column:
            name: source_file
            value: knowledge\implementation\architecture\player-orders-technical.yaml
