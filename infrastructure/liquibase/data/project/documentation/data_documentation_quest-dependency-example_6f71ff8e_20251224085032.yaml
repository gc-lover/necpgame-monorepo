databaseChangeLog:
- changeSet:
    id: documentation-quest-dependency-example-6f71ff8e
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '6810954207587407'
        - column:
            name: doc_id
            value: narrative-coherence-visualization-quest-dependency
        - column:
            name: title
            value: Пример графа зависимостей квестов
        - column:
            name: document_type
            value: canon
        - column:
            name: category
            value: narrative-coherence
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-06 23:58:00+00:00
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: ''
        - column:
            name: owners
            value: '[{"role": "concept_director", "contact": "concept@necp.game"}]'
        - column:
            name: tags
            value:
            - visualization
            - quest-graph
            - dependency
        - column:
            name: topics
            value:
            - narrative-branching
            - quest-management
        - column:
            name: related_systems
            value:
            - narrative-service
        - column:
            name: related_documents
            value: '[{"id": "narrative-coherence-quest-triggers", "relation": "references"},
              {"id": "narrative-coherence-quest-blockers", "relation": "references"},
              {"id": "narrative-coherence-visualization-critical-paths", "relation":
              "references"}]'
        - column:
            name: source
            value: shared/docs/knowledge/canon/narrative/narrative-coherence/phase6-documentation/visualization/quest-dependency-example.mermaid.md
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - concept
            - narrative
            - qa
        - column:
            name: risk_level
            value: low
        - column:
            name: content
            value: '{"metadata": {"id": "narrative-coherence-visualization-quest-dependency",
              "title": "Пример графа зависимостей квестов", "document_type": "canon",
              "category": "narrative-coherence", "status": "draft", "version": "1.0.0",
              "last_updated": "2025-11-06T23:58:00+00:00", "concept_approved": false,
              "concept_reviewed_at": "", "owners": [{"role": "concept_director", "contact":
              "concept@necp.game"}], "tags": ["visualization", "quest-graph", "dependency"],
              "topics": ["narrative-branching", "quest-management"], "related_systems":
              ["narrative-service"], "related_documents": [{"id": "narrative-coherence-quest-triggers",
              "relation": "references"}, {"id": "narrative-coherence-quest-blockers",
              "relation": "references"}, {"id": "narrative-coherence-visualization-critical-paths",
              "relation": "references"}], "source": "shared/docs/knowledge/canon/narrative/narrative-coherence/phase6-documentation/visualization/quest-dependency-example.mermaid.md",
              "visibility": "internal", "audience": ["concept", "narrative", "qa"],
              "risk_level": "low"}, "review": {"chain": [{"role": "concept_director",
              "reviewer": "", "reviewed_at": "", "status": "pending"}], "next_actions":
              []}, "summary": {"problem": "Необходимы примеры визуализации ветвлений
              и блокировок, чтобы синхронизировать работу авторов и интеграторов.",
              "goal": "Показать цепочку выбора NetWatch vs Voodoo и сценарии взаимного
              исключения квестов.", "essence": "Mermaid-диаграммы иллюстрируют, как
              выборы открывают или блокируют контент и ведут к различным финалам.",
              "key_points": ["Демонстрируется влияние выбора NetWatch/Voodoo на квесты
              и финал Трансцендентности.", "Показан паттерн mutual exclusion для параллельных
              квестов 2078 года.", "Расшифрована легенда цветов для блокировок и финалов."]},
              "content": {"sections": [{"id": "overview", "title": "Описание", "body":
              "Примерные графы помогают авторам быстро оценить влияние нарративных
              выборов и блокировок в системе квестов. Материал служит шаблоном для
              построения аналогичных диаграмм.\n", "mechanics_links": [], "assets":
              []}, {"id": "netwatch-voodoo", "title": "Цепочка NetWatch vs Voodoo
              Boys", "body": "```mermaid\ngraph TD\n    MQ2020-001[MQ-2020-001: Первые
              шаги] --> MQ2020-002[MQ-2020-002: Узел Триака]\n\n    MQ2020-002 -->
              Choice{MQ-2020-005: Чистый канал}\n\n    Choice -->|NetWatch| SQ2020-003[SQ-2020-003:
              Защита канала]\n    Choice -->|Voodoo| BlockNW[[ERROR] NetWatch квесты
              заблокированы]\n\n    SQ2020-003 --> SQ2030-002[SQ-2030-002: Аудит купола]\n    SQ2030-002
              --> SQ2045-001[SQ-2045-001: Охота на фантомов]\n    SQ2045-001 --> MQ2045-005[MQ-2045-005:
              Часовые Blackwall]\n\n    Choice -->|Voodoo| SQ2045-003[SQ-2045-003:
              Choir conversion]\n    SQ2045-003 --> SQ2078-004[SQ-2078-004: Blackwall
              expedition]\n    SQ2078-004 --> Transcendence[[DINGBAT] Финал: Трансцендентность]\n\n    SQ2045-001
              --> Block2[[ERROR] Blackwall expedition заблокирована]\n\n    style
              Choice fill:#95e1d3\n    style Transcendence fill:#4ecdc4\n    style
              BlockNW fill:#ff6b6b\n    style Block2 fill:#ff6b6b\n```\n", "mechanics_links":
              [], "assets": []}, {"id": "legend", "title": "Легенда", "body": "- Зелёный
              узел — критический выбор.\n- Синий узел — активный квест.\n- Красный
              узел — заблокированный контент.\n- Бирюзовый узел — финальный исход.\n",
              "mechanics_links": [], "assets": []}, {"id": "mutual-exclusion", "title":
              "Паттерн взаимного исключения", "body": "```mermaid\ngraph LR\n    MQ2078-001[MQ-2078-001:
              Параметрические ярмарки]\n\n    MQ2078-001 --> Choice{Выбор стратегии}\n\n    Choice
              -->|Легальный| SQ2078-001[SQ-2078-001: Войны лицензий]\n    Choice -->|Теневой|
              SQ2078-002[SQ-2078-002: Манипуляция]\n\n    SQ2078-001 --> Block2[[ERROR]
              SQ-2078-002 заблокирован]\n    SQ2078-002 --> Block1[[ERROR] SQ-2078-001
              заблокирован]\n\n    SQ2078-001 --> SQ2078-003A[SQ-2078-003: Craft Fair
              легально]\n    SQ2078-002 --> SQ2078-003B[SQ-2078-003: Craft Fair теневой]\n\n    style
              Block1 fill:#ff6b6b\n    style Block2 fill:#ff6b6b\n    style Choice
              fill:#95e1d3\n```\n", "mechanics_links": [], "assets": []}]}, "appendix":
              {"glossary": [], "references": [], "decisions": []}, "implementation":
              {"github_issue": 109, "needs_task": false, "queue_reference": [], "blockers":
              []}, "history": [{"version": "1.0.0", "date": "2025-11-06", "author":
              "concept_director", "changes": "Добавлены примерные графы зависимостей
              квестов."}], "validation": {"checksum": "", "schema_version": "1.0"}}'
        - column:
            name: metadata
            value: '{"id": "narrative-coherence-visualization-quest-dependency", "title":
              "Пример графа зависимостей квестов", "document_type": "canon", "category":
              "narrative-coherence", "status": "draft", "version": "1.0.0", "last_updated":
              "2025-11-06T23:58:00+00:00", "concept_approved": false, "concept_reviewed_at":
              "", "owners": [{"role": "concept_director", "contact": "concept@necp.game"}],
              "tags": ["visualization", "quest-graph", "dependency"], "topics": ["narrative-branching",
              "quest-management"], "related_systems": ["narrative-service"], "related_documents":
              [{"id": "narrative-coherence-quest-triggers", "relation": "references"},
              {"id": "narrative-coherence-quest-blockers", "relation": "references"},
              {"id": "narrative-coherence-visualization-critical-paths", "relation":
              "references"}], "source": "shared/docs/knowledge/canon/narrative/narrative-coherence/phase6-documentation/visualization/quest-dependency-example.mermaid.md",
              "visibility": "internal", "audience": ["concept", "narrative", "qa"],
              "risk_level": "low"}'
        - column:
            name: source_file
            value: knowledge\canon\narrative\narrative-coherence\phase6-documentation\visualization\quest-dependency-example.yaml
