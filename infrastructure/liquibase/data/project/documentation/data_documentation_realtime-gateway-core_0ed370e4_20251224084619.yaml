databaseChangeLog:
- changeSet:
    id: documentation-realtime-gateway-core-0ed370e4
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '4723250159069651'
        - column:
            name: doc_id
            value: realtime-gateway-core
        - column:
            name: title
            value: Архитектура Realtime Gateway System - Основная структура
        - column:
            name: document_type
            value: architecture
        - column:
            name: category
            value: systems
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-30 20:50:00+00:00
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: null
        - column:
            name: owners
            value: '[{"role": "architect", "contact": "architect@necp.game"}]'
        - column:
            name: tags
            value:
            - architecture
            - realtime
            - infrastructure
            - networking
        - column:
            name: topics
            value: []
        - column:
            name: related_systems
            value:
            - realtime-gateway-service
            - world-service
            - gameplay-service
            - social-service
        - column:
            name: related_documents
            value: '[{"id": "backend-realtime-server-overview", "relation": "references"},
              {"id": "backend-realtime-server-part1-architecture-zones", "relation":
              "references"}, {"id": "backend-realtime-server-part2-protocol-optimization",
              "relation": "references"}, {"id": "backend-realtime-server-part3-performance-profiles",
              "relation": "references"}, {"id": "realtime-gateway-mechanics", "relation":
              "extends"}, {"id": "realtime-gateway-data-flows", "relation": "extends"},
              {"id": "realtime-gateway-database", "relation": "extends"}, {"id": "realtime-gateway-integrations",
              "relation": "extends"}, {"id": "realtime-gateway-technical", "relation":
              "extends"}]'
        - column:
            name: source
            value: ''
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - architect
            - backend
            - infrastructure
            - networking
            - api-designer
        - column:
            name: risk_level
            value: ''
        - column:
            name: content
            value: '{"metadata": {"id": "realtime-gateway-core", "title": "Архитектура
              Realtime Gateway System - Основная структура", "document_type": "architecture",
              "category": "systems", "status": "draft", "version": "1.0.0", "last_updated":
              "2025-11-30T20:50:00+00:00", "owners": [{"role": "architect", "contact":
              "architect@necp.game"}], "tags": ["architecture", "realtime", "infrastructure",
              "networking"], "related_systems": ["realtime-gateway-service", "world-service",
              "gameplay-service", "social-service"], "related_documents": [{"id":
              "backend-realtime-server-overview", "relation": "references"}, {"id":
              "backend-realtime-server-part1-architecture-zones", "relation": "references"},
              {"id": "backend-realtime-server-part2-protocol-optimization", "relation":
              "references"}, {"id": "backend-realtime-server-part3-performance-profiles",
              "relation": "references"}, {"id": "realtime-gateway-mechanics", "relation":
              "extends"}, {"id": "realtime-gateway-data-flows", "relation": "extends"},
              {"id": "realtime-gateway-database", "relation": "extends"}, {"id": "realtime-gateway-integrations",
              "relation": "extends"}, {"id": "realtime-gateway-technical", "relation":
              "extends"}], "github_issue": 390, "visibility": "internal", "audience":
              ["architect", "backend", "infrastructure", "networking", "api-designer"]},
              "summary": {"problem": "Требуется спроектировать полную техническую
              архитектуру Realtime Gateway System\nдля обеспечения realtime коммуникации
              через WebSocket, синхронизации состояния игры\nи push-уведомлений с
              поддержкой зон, оптимизации протокола и профилей производительности.\n",
              "goal": "Создать архитектурную схему Realtime Gateway System с определением:\n-
              Компонентов системы (микросервисы, модули)\n- API endpoints (высокоуровнево)\n-
              Потоков данных и интеграций\n- Системы зон (zones)\n- Оптимизации протокола\n-
              Профилей производительности\n- Технического задания для реализации\n",
              "essence": "Полная архитектура Realtime Gateway System с поддержкой
              WebSocket коммуникации,\nсинхронизации состояния игры, управления зонами,
              оптимизации протокола и профилей производительности.\n"}, "architecture":
              {"overview": "Архитектура Realtime Gateway System состоит из следующих
              компонентов:\n1. Realtime Gateway Manager - управление системой realtime
              коммуникации\n2. Zone Manager - управление зонами и распределение нагрузки\n3.
              Connection Manager - управление WebSocket соединениями\n4. Message Router
              - маршрутизация сообщений по топикам\n5. State Synchronizer - синхронизация
              состояния игры\n6. Protocol Optimizer - оптимизация протокола и компрессия\n7.
              Performance Profile Manager - управление профилями производительности\n8.
              Interest Manager - управление областью интереса (interest management)\n9.
              Realtime Analytics Collector - сбор аналитики\n10. Realtime Telemetry
              Collector - сбор телеметрии\n", "microservices": [{"name": "realtime-gateway-service",
              "port": 8086, "responsibility": "Обработка realtime коммуникации:\n-
              Управление системой realtime коммуникации\n- Управление зонами и распределение
              нагрузки\n- Управление WebSocket соединениями\n- Маршрутизация сообщений
              по топикам\n- Синхронизация состояния игры\n- Оптимизация протокола
              и компрессия\n- Управление профилями производительности\n- Управление
              областью интереса\n- Сбор аналитики\n- Сбор телеметрии\n", "components":
              [{"realtime-gateway-manager": "управление системой realtime коммуникации"},
              {"zone-manager": "управление зонами и распределение нагрузки"}, {"connection-manager":
              "управление WebSocket соединениями"}, {"message-router": "маршрутизация
              сообщений по топикам"}, {"state-synchronizer": "синхронизация состояния
              игры"}, {"protocol-optimizer": "оптимизация протокола и компрессия"},
              {"performance-profile-manager": "управление профилями производительности"},
              {"interest-manager": "управление областью интереса"}, {"realtime-analytics-collector":
              "сбор аналитики"}, {"realtime-telemetry-collector": "сбор телеметрии"}],
              "endpoints": ["WS /ws/game - основной WebSocket endpoint для игровых
              событий", "WS /ws/zone/{zoneId}/players - WebSocket для обновлений игроков
              в зоне", "WS /ws/character/{characterId}/combat - WebSocket для боевых
              событий персонажа", "WS /ws/zone/{zoneId}/chat - WebSocket для чата
              в зоне", "WS /ws/world/events - WebSocket для мировых событий", "GET
              /api/v1/realtime/zones - список зон", "GET /api/v1/realtime/zones/{zoneId}
              - информация о зоне", "GET /api/v1/realtime/connections - статистика
              соединений", "GET /api/v1/realtime/performance - метрики производительности"],
              "websocket_channels": ["wss://api.necp.game/ws/game - основной канал
              для игровых событий", "wss://api.necp.game/ws/zone/{zoneId}/players
              - обновления игроков в зоне", "wss://api.necp.game/ws/character/{characterId}/combat
              - боевые события персонажа", "wss://api.necp.game/ws/zone/{zoneId}/chat
              - чат в зоне", "wss://api.necp.game/ws/world/events - мировые события"],
              "events_published": [{"realtime.connection.opened": "открыто соединение"},
              {"realtime.connection.closed": "закрыто соединение"}, {"realtime.zone.joined":
              "присоединение к зоне"}, {"realtime.zone.left": "выход из зоны"}, {"realtime.state.synchronized":
              "синхронизировано состояние"}, {"realtime.message.routed": "маршрутизировано
              сообщение"}], "events_subscribed": [{"character.position-updated": "обновлена
              позиция персонажа"}, {"combat.action-performed": "выполнено боевое действие"},
              {"chat.message-sent": "отправлено сообщение в чат"}, {"world.event-occurred":
              "произошло мировое событие"}]}]}}'
        - column:
            name: metadata
            value: '{"id": "realtime-gateway-core", "title": "Архитектура Realtime
              Gateway System - Основная структура", "document_type": "architecture",
              "category": "systems", "status": "draft", "version": "1.0.0", "last_updated":
              "2025-11-30T20:50:00+00:00", "owners": [{"role": "architect", "contact":
              "architect@necp.game"}], "tags": ["architecture", "realtime", "infrastructure",
              "networking"], "related_systems": ["realtime-gateway-service", "world-service",
              "gameplay-service", "social-service"], "related_documents": [{"id":
              "backend-realtime-server-overview", "relation": "references"}, {"id":
              "backend-realtime-server-part1-architecture-zones", "relation": "references"},
              {"id": "backend-realtime-server-part2-protocol-optimization", "relation":
              "references"}, {"id": "backend-realtime-server-part3-performance-profiles",
              "relation": "references"}, {"id": "realtime-gateway-mechanics", "relation":
              "extends"}, {"id": "realtime-gateway-data-flows", "relation": "extends"},
              {"id": "realtime-gateway-database", "relation": "extends"}, {"id": "realtime-gateway-integrations",
              "relation": "extends"}, {"id": "realtime-gateway-technical", "relation":
              "extends"}], "github_issue": 390, "visibility": "internal", "audience":
              ["architect", "backend", "infrastructure", "networking", "api-designer"]}'
        - column:
            name: source_file
            value: knowledge\implementation\architecture\realtime-gateway-core.yaml
