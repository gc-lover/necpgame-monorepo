databaseChangeLog:
- changeSet:
    id: documentation-realtime-gateway-database-1843e965
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '-676126686129117'
        - column:
            name: doc_id
            value: realtime-gateway-database
        - column:
            name: title
            value: Архитектура Realtime Gateway System - База данных
        - column:
            name: document_type
            value: architecture
        - column:
            name: category
            value: systems
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-30 20:50:00+00:00
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: null
        - column:
            name: owners
            value: '[]'
        - column:
            name: tags
            value: []
        - column:
            name: topics
            value: []
        - column:
            name: related_systems
            value: []
        - column:
            name: related_documents
            value: '[{"id": "realtime-gateway-core", "relation": "extends"}]'
        - column:
            name: source
            value: ''
        - column:
            name: visibility
            value: ''
        - column:
            name: audience
            value: []
        - column:
            name: risk_level
            value: ''
        - column:
            name: content
            value: '{"metadata": {"id": "realtime-gateway-database", "title": "Архитектура
              Realtime Gateway System - База данных", "document_type": "architecture",
              "category": "systems", "status": "draft", "version": "1.0.0", "last_updated":
              "2025-11-30T20:50:00+00:00", "github_issue": 390, "related_documents":
              [{"id": "realtime-gateway-core", "relation": "extends"}]}, "database_structure":
              {"tables": [{"name": "realtime_connections", "description": "WebSocket
              соединения", "columns": [{"id": "UUID PRIMARY KEY"}, {"character_id":
              "UUID FOREIGN KEY"}, {"zone_id": "UUID FOREIGN KEY"}, {"connection_state":
              "ENUM (connecting, connected, disconnecting, disconnected)"}, {"last_heartbeat":
              "TIMESTAMP"}, {"created_at": "TIMESTAMP"}, {"updated_at": "TIMESTAMP"},
              {"disconnected_at": "TIMESTAMP"}]}, {"name": "realtime_zones", "description":
              "Зоны realtime", "columns": [{"id": "UUID PRIMARY KEY"}, {"name": "VARCHAR(255)"},
              {"type": "ENUM (open_world, combat_zone, raid_zone, social_zone)"},
              {"max_players": "INTEGER"}, {"current_players": "INTEGER"}, {"tick_rate":
              "INTEGER"}, {"interest_cell_size": "INTEGER"}, {"performance_profile":
              "VARCHAR(50)"}, {"is_active": "BOOLEAN"}, {"created_at": "TIMESTAMP"},
              {"updated_at": "TIMESTAMP"}]}, {"name": "realtime_zone_participants",
              "description": "Участники зон", "columns": [{"id": "UUID PRIMARY KEY"},
              {"zone_id": "UUID FOREIGN KEY"}, {"character_id": "UUID FOREIGN KEY"},
              {"connection_id": "UUID FOREIGN KEY"}, {"interest_cell_x": "INTEGER"},
              {"interest_cell_y": "INTEGER"}, {"joined_at": "TIMESTAMP"}, {"left_at":
              "TIMESTAMP"}]}, {"name": "realtime_telemetry", "description": "Телеметрия
              realtime", "columns": [{"id": "UUID PRIMARY KEY"}, {"event_type": "VARCHAR(50)"},
              {"connection_id": "UUID FOREIGN KEY"}, {"zone_id": "UUID FOREIGN KEY"},
              {"character_id": "UUID FOREIGN KEY"}, {"event_data": "JSONB"}, {"created_at":
              "TIMESTAMP"}]}]}}'
        - column:
            name: metadata
            value: '{"id": "realtime-gateway-database", "title": "Архитектура Realtime
              Gateway System - База данных", "document_type": "architecture", "category":
              "systems", "status": "draft", "version": "1.0.0", "last_updated": "2025-11-30T20:50:00+00:00",
              "github_issue": 390, "related_documents": [{"id": "realtime-gateway-core",
              "relation": "extends"}]}'
        - column:
            name: source_file
            value: knowledge\implementation\architecture\realtime-gateway-database.yaml
