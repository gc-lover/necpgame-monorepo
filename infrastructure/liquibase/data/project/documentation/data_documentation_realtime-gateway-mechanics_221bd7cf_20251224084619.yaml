databaseChangeLog:
- changeSet:
    id: documentation-realtime-gateway-mechanics-221bd7cf
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '6649005968780901'
        - column:
            name: doc_id
            value: realtime-gateway-mechanics
        - column:
            name: title
            value: Архитектура Realtime Gateway System - Механики
        - column:
            name: document_type
            value: architecture
        - column:
            name: category
            value: systems
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-30 20:50:00+00:00
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: null
        - column:
            name: owners
            value: '[]'
        - column:
            name: tags
            value: []
        - column:
            name: topics
            value: []
        - column:
            name: related_systems
            value: []
        - column:
            name: related_documents
            value: '[{"id": "realtime-gateway-core", "relation": "extends"}]'
        - column:
            name: source
            value: ''
        - column:
            name: visibility
            value: ''
        - column:
            name: audience
            value: []
        - column:
            name: risk_level
            value: ''
        - column:
            name: content
            value: '{"metadata": {"id": "realtime-gateway-mechanics", "title": "Архитектура
              Realtime Gateway System - Механики", "document_type": "architecture",
              "category": "systems", "status": "draft", "version": "1.0.0", "last_updated":
              "2025-11-30T20:50:00+00:00", "github_issue": 390, "related_documents":
              [{"id": "realtime-gateway-core", "relation": "extends"}]}, "zones":
              {"structure": "Зоны описываются в базе данных (таблица zones), включают
              координаты, лимиты игроков и статусы.\nКаждый game server instance обслуживает
              1-5 зон с независимым game loop.\n", "interest_management": "Interest
              management реализован через ячейки 100x100 м. Игрок видит свою ячейку
              и 8 соседних ячеек.\nЭто минимизирует трафик, отправляя обновления только
              для видимых игроков.\n", "zone_types": [{"name": "open_world", "description":
              "Открытый мир - большие зоны с множеством игроков", "max_players": 500,
              "tick_rate": "20 Hz", "interest_cell_size": 100}, {"name": "combat_zone",
              "description": "Боевая зона - зоны для PvP и PvE боев", "max_players":
              50, "tick_rate": "60 Hz", "interest_cell_size": 50}, {"name": "raid_zone",
              "description": "Рейдовая зона - зоны для рейдов", "max_players": 24,
              "tick_rate": "30 Hz", "interest_cell_size": 75}, {"name": "social_zone",
              "description": "Социальная зона - зоны для общения", "max_players":
              200, "tick_rate": "10 Hz", "interest_cell_size": 150}]}, "protocol_optimization":
              {"transport": "WebSocket (TCP) выбран для универсальной совместимости
              и надёжной доставки.\nMessagePack используется для сериализации сообщений.\n",
              "lag_compensation": "Client prediction немедленно применяет вход, хранит
              очередь pendingInputs и повторно применяет их после ответа сервера.\nНа
              сервере выполняется reconciliation и античит проверки скорости.\nДля
              боёв реализован rewind positions с проверкой попаданий.\n", "bandwidth_optimization":
              "Delta-компрессия сохраняет последнее состояние и отправляет только
              изменения.\nВводится приоритезация обновлений по близости, боевому статусу
              и принадлежности к party.\nОграничение — максимум 50 обновлений за тик.\n"},
              "performance_profiles": [{"name": "esports", "description": "Esports
              профиль - высокий тикрейт для соревнований", "tick_rate": "128 Hz",
              "snapshot_interval": "8 ms", "input_buffer": "3 frames", "max_players":
              10, "ai_budget": "5 ms"}, {"name": "siege", "description": "Siege профиль
              - средний тикрейт для осад", "tick_rate": "60 Hz", "snapshot_interval":
              "16 ms", "input_buffer": "2 frames", "max_players": 50, "ai_budget":
              "10 ms"}, {"name": "extraction", "description": "Extraction профиль
              - средний тикрейт для экстракций", "tick_rate": "60 Hz", "snapshot_interval":
              "16 ms", "input_buffer": "2 frames", "max_players": 20, "ai_budget":
              "8 ms"}, {"name": "open_world", "description": "Open World профиль -
              низкий тикрейт для открытого мира", "tick_rate": "20 Hz", "snapshot_interval":
              "50 ms", "input_buffer": "1 frame", "max_players": 500, "ai_budget":
              "20 ms"}, {"name": "raids", "description": "Raids профиль - средний
              тикрейт для рейдов", "tick_rate": "30 Hz", "snapshot_interval": "33
              ms", "input_buffer": "1 frame", "max_players": 24, "ai_budget": "15
              ms"}, {"name": "massive_warfront", "description": "Massive Warfront
              профиль - низкий тикрейт для массовых битв", "tick_rate": "20 Hz", "snapshot_interval":
              "50 ms", "input_buffer": "1 frame", "max_players": 2000, "ai_budget":
              "30 ms"}, {"name": "casual", "description": "Casual профиль - низкий
              тикрейт для казуального контента", "tick_rate": "10 Hz", "snapshot_interval":
              "100 ms", "input_buffer": "1 frame", "max_players": 100, "ai_budget":
              "10 ms"}, {"name": "social", "description": "Social профиль - очень
              низкий тикрейт для социальных зон", "tick_rate": "5 Hz", "snapshot_interval":
              "200 ms", "input_buffer": "1 frame", "max_players": 200, "ai_budget":
              "5 ms"}]}'
        - column:
            name: metadata
            value: '{"id": "realtime-gateway-mechanics", "title": "Архитектура Realtime
              Gateway System - Механики", "document_type": "architecture", "category":
              "systems", "status": "draft", "version": "1.0.0", "last_updated": "2025-11-30T20:50:00+00:00",
              "github_issue": 390, "related_documents": [{"id": "realtime-gateway-core",
              "relation": "extends"}]}'
        - column:
            name: source_file
            value: knowledge\implementation\architecture\realtime-gateway-mechanics.yaml
