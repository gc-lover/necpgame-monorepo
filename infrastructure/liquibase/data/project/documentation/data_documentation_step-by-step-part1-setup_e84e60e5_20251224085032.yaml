databaseChangeLog:
- changeSet:
    id: documentation-step-by-step-part1-setup-e84e60e5
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '7682874891806027'
        - column:
            name: doc_id
            value: narrative-coherence-step-by-step-part1-setup
        - column:
            name: title
            value: Step-by-Step Backend Setup — Part 1 (Setup & Database)
        - column:
            name: document_type
            value: canon
        - column:
            name: category
            value: narrative-coherence
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-07 00:47:00+00:00
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: ''
        - column:
            name: owners
            value: '[{"role": "concept_director", "contact": "concept@necp.game"}]'
        - column:
            name: tags
            value:
            - onboarding
            - backend
            - narrative-coherence
        - column:
            name: topics
            value:
            - environment-setup
            - database
        - column:
            name: related_systems
            value:
            - quest-service
            - narrative-service
            - data-platform
        - column:
            name: related_documents
            value: '[{"id": "narrative-coherence-step-by-step-part2-code", "relation":
              "continues"}, {"id": "narrative-coherence-step-by-step-part3-testing",
              "relation": "continues"}]'
        - column:
            name: source
            value: shared/docs/knowledge/canon/narrative/narrative-coherence/phase6-documentation/dev-guides/step-by-step-part1-setup.md
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - concept
            - backend
            - platform
        - column:
            name: risk_level
            value: medium
        - column:
            name: content
            value: '{"metadata": {"id": "narrative-coherence-step-by-step-part1-setup",
              "title": "Step-by-Step Backend Setup — Part 1 (Setup & Database)", "document_type":
              "canon", "category": "narrative-coherence", "status": "draft", "version":
              "1.0.0", "last_updated": "2025-11-07T00:47:00+00:00", "concept_approved":
              false, "concept_reviewed_at": "", "owners": [{"role": "concept_director",
              "contact": "concept@necp.game"}], "tags": ["onboarding", "backend",
              "narrative-coherence"], "topics": ["environment-setup", "database"],
              "related_systems": ["quest-service", "narrative-service", "data-platform"],
              "related_documents": [{"id": "narrative-coherence-step-by-step-part2-code",
              "relation": "continues"}, {"id": "narrative-coherence-step-by-step-part3-testing",
              "relation": "continues"}], "source": "shared/docs/knowledge/canon/narrative/narrative-coherence/phase6-documentation/dev-guides/step-by-step-part1-setup.md",
              "visibility": "internal", "audience": ["concept", "backend", "platform"],
              "risk_level": "medium"}, "review": {"chain": [{"role": "concept_director",
              "reviewer": "", "reviewed_at": "", "status": "pending"}], "next_actions":
              []}, "summary": {"problem": "Командам не хватает пошагового руководства
              для подготовки окружения и БД перед интеграцией нарративного сервиса.",
              "goal": "Описать подготовку инструментов, запуск PostgreSQL и Redis,
              применение миграций и переноса данных для квестового домена.", "essence":
              "Документ даёт чеклисты и команды для приведения окружения backend к
              готовности перед реализацией кода.", "key_points": ["Перечень обязательных
              зависимостей и команд проверки версий.", "Последовательное применение
              SQL-миграций и валидация структуры.", "Экспорт JSON-данных и настройка
              зависимостей проекта."]}, "content": {"sections": [{"id": "navigation",
              "title": "Навигация", "body": "Part 1 покрывает подготовку окружения
              и базу данных. Продолжение представлено в Part 2 (код) и Part 3 (тестирование
              и деплой).\n", "mechanics_links": [], "assets": []}, {"id": "prerequisites",
              "title": "Предварительные требования", "body": "Требуемые версии инструментов:
              Java 17+, Spring Boot 3.x, PostgreSQL 14+, Redis и Maven 3.8+. Руководство
              включает команды проверки `java -version`, `psql --version`, `redis-cli
              ping` и `mvn -version`.\n", "mechanics_links": ["infrastructure/tooling/runtime-versions.yaml"],
              "assets": []}, {"id": "environment-setup", "title": "Настройка окружения",
              "body": "Построение окружения охватывает создание БД `necpgame`, запуск
              Redis на Linux/Mac или через Docker под Windows, проверку доступности
              сервисов и контрольные точки готовности.\n", "mechanics_links": ["services/backend/database/postgresql-setup.yaml"],
              "assets": []}, {"id": "migrations", "title": "Применение миграций",
              "body": "Инструкции по копированию SQL-миграций из каталога `.BRAIN`,
              установке переменных окружения и автоматическому или ручному применению
              через `psql`. Контрольная проверка ожидает 13 созданных таблиц.\n",
              "mechanics_links": ["services/backend/database/migration-playbook.yaml"],
              "assets": []}, {"id": "data-export", "title": "Экспорт и перенос данных",
              "body": "Описаны зависимости Python/Node для конвертеров, команды генерации
              JSON-файлов и копирование результатов в `BACK-JAVA/src/main/resources/data/narrative/`
              с проверкой структуры.\n", "mechanics_links": ["services/backend/narrative/data-export.yaml"],
              "assets": []}, {"id": "dependencies", "title": "Зависимости проекта",
              "body": "Руководство фиксирует необходимость подключения Hibernate Types,
              Redis и WebSocket стартеров в `pom.xml`, а также запуск `mvn clean install`
              для проверки сборки.\n", "mechanics_links": ["services/backend/narrative/dependency-list.yaml"],
              "assets": []}, {"id": "package-structure", "title": "Структура пакетов",
              "body": "Раздел описывает создание пакетов `entity`, `repository`, `service`,
              `controller`, `dto` и `config` для домена `com.necpgame.narrative` и
              подтверждает готовность структуры.\n", "mechanics_links": ["services/backend/narrative/project-structure.yaml"],
              "assets": []}]}, "appendix": {"glossary": [], "references": [], "decisions":
              []}, "implementation": {"github_issue": 109, "needs_task": false, "queue_reference":
              [], "blockers": []}, "history": [{"version": "1.0.0", "date": "2025-11-07",
              "author": "concept_director", "changes": "Конвертировано руководство
              Step-by-Step Part 1 в YAML и структурировано по этапам настройки."}],
              "validation": {"checksum": "", "schema_version": "1.0"}}'
        - column:
            name: metadata
            value: '{"id": "narrative-coherence-step-by-step-part1-setup", "title":
              "Step-by-Step Backend Setup — Part 1 (Setup & Database)", "document_type":
              "canon", "category": "narrative-coherence", "status": "draft", "version":
              "1.0.0", "last_updated": "2025-11-07T00:47:00+00:00", "concept_approved":
              false, "concept_reviewed_at": "", "owners": [{"role": "concept_director",
              "contact": "concept@necp.game"}], "tags": ["onboarding", "backend",
              "narrative-coherence"], "topics": ["environment-setup", "database"],
              "related_systems": ["quest-service", "narrative-service", "data-platform"],
              "related_documents": [{"id": "narrative-coherence-step-by-step-part2-code",
              "relation": "continues"}, {"id": "narrative-coherence-step-by-step-part3-testing",
              "relation": "continues"}], "source": "shared/docs/knowledge/canon/narrative/narrative-coherence/phase6-documentation/dev-guides/step-by-step-part1-setup.md",
              "visibility": "internal", "audience": ["concept", "backend", "platform"],
              "risk_level": "medium"}'
        - column:
            name: source_file
            value: knowledge\canon\narrative\narrative-coherence\phase6-documentation\dev-guides\step-by-step-part1-setup.yaml
