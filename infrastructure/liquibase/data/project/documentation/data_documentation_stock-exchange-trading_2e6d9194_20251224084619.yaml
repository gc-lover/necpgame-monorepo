databaseChangeLog:
- changeSet:
    id: documentation-stock-exchange-trading-2e6d9194
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '7293166015034884'
        - column:
            name: doc_id
            value: stock-exchange-trading
        - column:
            name: title
            value: Архитектура системы фондовой биржи - Торговый движок
        - column:
            name: document_type
            value: architecture
        - column:
            name: category
            value: systems
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-23 14:30:00+00:00
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: null
        - column:
            name: owners
            value: '[{"role": "architect", "contact": "architect@necp.game"}]'
        - column:
            name: tags
            value:
            - architecture
            - economy
            - stock-exchange
            - trading
        - column:
            name: topics
            value: []
        - column:
            name: related_systems
            value: []
        - column:
            name: related_documents
            value: '[{"id": "stock-exchange-core", "relation": "extends"}]'
        - column:
            name: source
            value: ''
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - architect
            - backend
            - economy
        - column:
            name: risk_level
            value: ''
        - column:
            name: content
            value: '{"metadata": {"id": "stock-exchange-trading", "title": "Архитектура
              системы фондовой биржи - Торговый движок", "document_type": "architecture",
              "category": "systems", "status": "draft", "version": "1.0.0", "last_updated":
              "2025-11-23T14:30:00+00:00", "owners": [{"role": "architect", "contact":
              "architect@necp.game"}], "tags": ["architecture", "economy", "stock-exchange",
              "trading"], "related_documents": [{"id": "stock-exchange-core", "relation":
              "extends"}], "github_issue": 393, "visibility": "internal", "audience":
              ["architect", "backend", "economy"]}, "architecture": {"components":
              [{"name": "Stock Trading Engine", "location": "economy-service", "responsibility":
              "Исполнение ордеров на покупку/продажу:\n- Matching buy и sell ордеров\n-
              Исполнение сделок по best price\n- Обновление портфелей игроков\n- Расчет
              комиссий\n- Логирование всех сделок\n", "dependencies": ["Order Book
              Manager", "Portfolio Manager", "Wallet Service", "Event Bus"]}, {"name":
              "Stock Pricing Engine", "location": "economy-service", "responsibility":
              "Расчет цен на акции:\n- Цена на основе спроса/предложения\n- Реакция
              на события (price impact)\n- Волатильность и spread\n- Обновление цен
              в реальном времени\n- История цен\n", "dependencies": ["Order Book Manager",
              "Stock Events Handler", "Event Bus"]}, {"name": "Portfolio Manager",
              "location": "economy-service", "responsibility": "Управление портфелями
              игроков:\n- Хранение позиций игроков\n- Расчет стоимости портфеля\n-
              История транзакций\n- P&L (прибыль/убыток)\n- Средняя цена покупки\n",
              "dependencies": ["Stock Pricing Engine", "Database"]}, {"name": "Corporation
              Registry", "location": "economy-service", "responsibility": "Реестр
              корпораций и их акций:\n- Список корпораций на бирже\n- Типы акций (Common,
              Preferred)\n- IPO и делистинг\n- Базовая информация о корпорациях\n-
              Связь с фракциями\n", "dependencies": ["Database", "Social Service (фракции)"]},
              {"name": "Order Book Manager", "location": "economy-service", "responsibility":
              "Управление ордербуком:\n- Хранение активных ордеров\n- Сортировка по
              цене и времени\n- Matching логика\n- Частичное исполнение\n- Time-in-force
              (GTC, IOC, FOK)\n", "dependencies": ["Database", "Redis (для realtime)"]},
              {"name": "Trade Executor", "location": "economy-service", "responsibility":
              "Исполнение сделок:\n- Создание trade records\n- Обновление балансов\n-
              Расчет комиссий\n- Публикация событий\n- Уведомления игрокам\n", "dependencies":
              ["Wallet Service", "Notification Service", "Event Bus"]}]}}'
        - column:
            name: metadata
            value: '{"id": "stock-exchange-trading", "title": "Архитектура системы
              фондовой биржи - Торговый движок", "document_type": "architecture",
              "category": "systems", "status": "draft", "version": "1.0.0", "last_updated":
              "2025-11-23T14:30:00+00:00", "owners": [{"role": "architect", "contact":
              "architect@necp.game"}], "tags": ["architecture", "economy", "stock-exchange",
              "trading"], "related_documents": [{"id": "stock-exchange-core", "relation":
              "extends"}], "github_issue": 393, "visibility": "internal", "audience":
              ["architect", "backend", "economy"]}'
        - column:
            name: source_file
            value: knowledge\implementation\architecture\stock-exchange-trading.yaml
