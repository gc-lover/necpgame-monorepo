databaseChangeLog:
- changeSet:
    id: documentation-transport-system-architecture-a51e2905
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '2397461103471519'
        - column:
            name: doc_id
            value: transport-system-architecture
        - column:
            name: title
            value: Архитектура системы транспорта
        - column:
            name: document_type
            value: architecture
        - column:
            name: category
            value: systems
        - column:
            name: status
            value: draft
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-29 12:00:00+00:00
        - column:
            name: concept_approved
            value: false
        - column:
            name: concept_reviewed_at
            value: null
        - column:
            name: owners
            value: '[{"role": "architect", "contact": "architect@necp.game"}]'
        - column:
            name: tags
            value:
            - architecture
            - transport
            - vehicle
            - gameplay
            - world
        - column:
            name: topics
            value: []
        - column:
            name: related_systems
            value:
            - gameplay-service-go
            - economy-service-go
            - world-service-go
            - movement-service-go
        - column:
            name: related_documents
            value: '[{"id": "transport-system-microservices", "relation": "extends"},
              {"id": "transport-system-database", "relation": "extends"}]'
        - column:
            name: source
            value: ''
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - architect
            - backend
            - gameplay
            - api-designer
        - column:
            name: risk_level
            value: ''
        - column:
            name: content
            value: '{"metadata": {"id": "transport-system-architecture", "title":
              "Архитектура системы транспорта", "document_type": "architecture", "category":
              "systems", "status": "draft", "version": "1.0.0", "last_updated": "2025-11-29T12:00:00+00:00",
              "owners": [{"role": "architect", "contact": "architect@necp.game"}],
              "tags": ["architecture", "transport", "vehicle", "gameplay", "world"],
              "related_systems": ["gameplay-service-go", "economy-service-go", "world-service-go",
              "movement-service-go"], "related_documents": [{"id": "transport-system-microservices",
              "relation": "extends"}, {"id": "transport-system-database", "relation":
              "extends"}], "github_issue": 1452, "visibility": "internal", "audience":
              ["architect", "backend", "gameplay", "api-designer"]}, "summary": {"problem":
              "Требуется спроектировать архитектуру системы транспорта для управления\nразличными
              видами транспортных средств (автомобили, мотоциклы, ави, корабли,\nвоздушные
              корабли, шатлы) с поддержкой управления, физики движения,\nвладения,
              ремонта и кастомизации.\n", "goal": "Создать архитектурную схему системы
              транспорта с определением:\n- Микросервисов для управления транспортом\n-
              Компонентов для физики движения и управления\n- Системы владения транспортом\n-
              Системы ремонта и обслуживания\n- Системы кастомизации\n- API endpoints
              (высокоуровнево)\n- Структуры БД\n- Технического задания для реализации\n",
              "essence": "Комплексная система управления транспортом с поддержкой
              различных типов\nтранспортных средств, физики движения, владения, ремонта
              и кастомизации.\n"}, "architecture": {"overview": "Система транспорта
              состоит из следующих компонентов:\n1. Transport Service - управление
              транспортом и владением\n2. Vehicle Physics Service - физика движения
              транспорта\n3. Vehicle Control Service - управление транспортом\n4.
              Vehicle Maintenance Service - ремонт и обслуживание\n5. Vehicle Customization
              Service - кастомизация транспорта\n", "vehicle_types": [{"type": "ground",
              "subtypes": [{"automobile": "автомобили"}, {"motorcycle": "мотоциклы"}],
              "characteristics": [{"movement_type": "ground"}, {"physics": "ground_physics"},
              {"control": "ground_control"}]}, {"type": "air", "subtypes": [{"avi":
              "летающие авто"}, {"airship": "воздушные корабли"}], "characteristics":
              [{"movement_type": "air"}, {"physics": "air_physics"}, {"control": "air_control"}]},
              {"type": "water", "subtypes": [{"ship": "корабли"}], "characteristics":
              [{"movement_type": "water"}, {"physics": "water_physics"}, {"control":
              "water_control"}]}, {"type": "space", "subtypes": [{"shuttle": "шатлы"}],
              "characteristics": [{"movement_type": "space"}, {"physics": "space_physics"},
              {"control": "space_control"}]}], "microservices": [{"name": "transport-service",
              "location": "gameplay-service-go (модуль transport)", "port": 8083,
              "responsibility": "Управление транспортом и владением:\n- CRUD операции
              с транспортными средствами\n- Управление владением транспортом\n- Хранение
              транспорта\n- Список транспорта игрока\n- Интеграция с экономикой для
              покупки/продажи\n", "endpoints": ["GET /api/v1/gameplay/transport/{characterId}/vehicles
              - список транспорта", "GET /api/v1/gameplay/transport/vehicles/{vehicleId}
              - информация о транспорте", "POST /api/v1/gameplay/transport/vehicles
              - создание транспорта", "PUT /api/v1/gameplay/transport/vehicles/{vehicleId}
              - обновление транспорта", "DELETE /api/v1/gameplay/transport/vehicles/{vehicleId}
              - удаление транспорта", "POST /api/v1/gameplay/transport/vehicles/{vehicleId}/claim
              - заявление права владения", "POST /api/v1/gameplay/transport/vehicles/{vehicleId}/store
              - хранение транспорта", "POST /api/v1/gameplay/transport/vehicles/{vehicleId}/retrieve
              - извлечение транспорта"]}, {"name": "vehicle-physics-service", "location":
              "movement-service-go (модуль vehicle-physics)", "port": 8082, "responsibility":
              "Физика движения транспорта:\n- Расчет физики движения для различных
              типов транспорта\n- Обработка коллизий\n- Управление скоростью и ускорением\n-
              Обработка повреждений от столкновений\n- Синхронизация позиции транспорта\n",
              "endpoints": ["POST /api/v1/movement/vehicles/{vehicleId}/physics/update
              - обновление физики", "GET /api/v1/movement/vehicles/{vehicleId}/physics/state
              - состояние физики", "POST /api/v1/movement/vehicles/{vehicleId}/physics/collision
              - обработка коллизий", "POST /api/v1/movement/vehicles/{vehicleId}/physics/damage
              - применение повреждений"]}, {"name": "vehicle-control-service", "location":
              "gameplay-service-go (модуль vehicle-control)", "port": 8083, "responsibility":
              "Управление транспортом:\n- Обработка команд управления от клиента\n-
              Валидация команд управления\n- Применение команд к физике\n- Управление
              входом/выходом из транспорта\n- Управление пассажирами\n", "endpoints":
              ["POST /api/v1/gameplay/transport/vehicles/{vehicleId}/control - команды
              управления", "POST /api/v1/gameplay/transport/vehicles/{vehicleId}/enter
              - вход в транспорт", "POST /api/v1/gameplay/transport/vehicles/{vehicleId}/exit
              - выход из транспорта", "GET /api/v1/gameplay/transport/vehicles/{vehicleId}/passengers
              - список пассажиров", "POST /api/v1/gameplay/transport/vehicles/{vehicleId}/passengers/{characterId}
              - добавление пассажира", "DELETE /api/v1/gameplay/transport/vehicles/{vehicleId}/passengers/{characterId}
              - удаление пассажира"]}, {"name": "vehicle-maintenance-service", "location":
              "economy-service-go (модуль vehicle-maintenance)", "port": 8085, "responsibility":
              "Ремонт и обслуживание транспорта:\n- Управление состоянием транспорта
              (износ, повреждения)\n- Ремонт транспорта\n- Обслуживание транспорта\n-
              Замена деталей\n- Интеграция с экономикой для оплаты ремонта\n", "endpoints":
              ["GET /api/v1/economy/transport/vehicles/{vehicleId}/condition - состояние
              транспорта", "POST /api/v1/economy/transport/vehicles/{vehicleId}/repair
              - ремонт транспорта", "POST /api/v1/economy/transport/vehicles/{vehicleId}/maintenance
              - обслуживание транспорта", "GET /api/v1/economy/transport/vehicles/{vehicleId}/repair-cost
              - стоимость ремонта", "POST /api/v1/economy/transport/vehicles/{vehicleId}/parts/replace
              - замена деталей"]}, {"name": "vehicle-customization-service", "location":
              "economy-service-go (модуль vehicle-customization)", "port": 8085, "responsibility":
              "Кастомизация транспорта:\n- Управление внешним видом транспорта\n-
              Установка модификаций\n- Управление цветами и материалами\n- Управление
              декоративными элементами\n- Интеграция с экономикой для покупки модификаций\n",
              "endpoints": ["GET /api/v1/economy/transport/vehicles/{vehicleId}/customization
              - кастомизация транспорта", "POST /api/v1/economy/transport/vehicles/{vehicleId}/customization
              - применение кастомизации", "GET /api/v1/economy/transport/customization/options
              - доступные опции кастомизации", "POST /api/v1/economy/transport/vehicles/{vehicleId}/mods
              - установка модификаций"]}], "data_flow": {"vehicle_ownership": "1.
              Игрок покупает транспорт через Economy Service\n2. Transport Service
              создает запись о транспорте\n3. Transport Service назначает владельца\n4.
              Транспорт добавляется в список транспорта игрока\n5. Realtime Gateway
              синхронизирует изменения\n", "vehicle_control": "1. Игрок входит в транспорт
              через Vehicle Control Service\n2. Vehicle Control Service валидирует
              вход\n3. Vehicle Physics Service инициализирует физику транспорта\n4.
              Клиент отправляет команды управления\n5. Vehicle Control Service обрабатывает
              команды\n6. Vehicle Physics Service обновляет физику\n7. Movement Service
              синхронизирует позицию\n8. Realtime Gateway отправляет обновления другим
              игрокам\n", "vehicle_repair": "1. Игрок запрашивает ремонт через Vehicle
              Maintenance Service\n2. Vehicle Maintenance Service проверяет состояние
              транспорта\n3. Economy Service рассчитывает стоимость ремонта\n4. Economy
              Service списывает валюту\n5. Vehicle Maintenance Service применяет ремонт\n6.
              Transport Service обновляет состояние транспорта\n7. Realtime Gateway
              синхронизирует изменения\n"}, "integrations": {"economy_service": "-
              Покупка/продажа транспорта\n- Оплата ремонта и обслуживания\n- Покупка
              модификаций и кастомизации\n- Экономические транзакции\n", "movement_service":
              "- Синхронизация позиции транспорта\n- Обработка физики движения\n-
              Управление коллизиями\n", "world_service": "- Размещение транспорта
              в мире\n- Интеграция с игровым миром\n- Управление зонами для транспорта\n",
              "character_service": "- Владение транспортом\n- Управление персонажами
              в транспорте\n- Применение характеристик персонажа к управлению\n"},
              "tickrate_and_network_requirements": {"vehicle_physics": "tickrate:
              20-30 Hz\nnetwork_load: |\n  - Позиция транспорта: 20-30 updates/sec\n  -
              Состояние транспорта: 5-10 updates/sec\n  - Команды управления: 20-30
              updates/sec\n  - Общий трафик: ~2-5 KB/sec на транспорт\n", "vehicle_control":
              "tickrate: 20-30 Hz\nnetwork_load: |\n  - Команды управления: 20-30
              updates/sec\n  - Состояние входа/выхода: event-based\n  - Общий трафик:
              ~1-2 KB/sec на транспорт\n", "vehicle_maintenance": "tickrate: 1-5 Hz\nnetwork_load:
              |\n  - Состояние транспорта: 1-5 updates/sec\n  - События ремонта: event-based\n  -
              Общий трафик: ~0.1-0.5 KB/sec на транспорт\n"}, "technical_tasks": {"phase_1":
              {"name": "Transport Service Core", "tasks": ["Реализация Transport Service",
              "CRUD операции с транспортом", "Управление владением", "Интеграция с
              Economy Service"], "estimated_effort": "5 days"}, "phase_2": {"name":
              "Vehicle Physics Service", "tasks": ["Реализация Vehicle Physics Service",
              "Физика для различных типов транспорта", "Обработка коллизий", "Синхронизация
              позиции"], "estimated_effort": "7 days"}, "phase_3": {"name": "Vehicle
              Control Service", "tasks": ["Реализация Vehicle Control Service", "Обработка
              команд управления", "Управление входом/выходом", "Управление пассажирами"],
              "estimated_effort": "5 days"}, "phase_4": {"name": "Vehicle Maintenance
              Service", "tasks": ["Реализация Vehicle Maintenance Service", "Управление
              состоянием транспорта", "Система ремонта", "Интеграция с Economy Service"],
              "estimated_effort": "4 days"}, "phase_5": {"name": "Vehicle Customization
              Service", "tasks": ["Реализация Vehicle Customization Service", "Система
              кастомизации", "Управление модификациями", "Интеграция с Economy Service"],
              "estimated_effort": "4 days"}, "phase_6": {"name": "Интеграции", "tasks":
              ["Интеграция с Movement Service", "Интеграция с World Service", "Интеграция
              с Character Service", "WebSocket каналы"], "estimated_effort": "3 days"},
              "total_estimated_effort": "28 days"}}}'
        - column:
            name: metadata
            value: '{"id": "transport-system-architecture", "title": "Архитектура
              системы транспорта", "document_type": "architecture", "category": "systems",
              "status": "draft", "version": "1.0.0", "last_updated": "2025-11-29T12:00:00+00:00",
              "owners": [{"role": "architect", "contact": "architect@necp.game"}],
              "tags": ["architecture", "transport", "vehicle", "gameplay", "world"],
              "related_systems": ["gameplay-service-go", "economy-service-go", "world-service-go",
              "movement-service-go"], "related_documents": [{"id": "transport-system-microservices",
              "relation": "extends"}, {"id": "transport-system-database", "relation":
              "extends"}], "github_issue": 1452, "visibility": "internal", "audience":
              ["architect", "backend", "gameplay", "api-designer"]}'
        - column:
            name: source_file
            value: knowledge\implementation\architecture\transport-system-architecture.yaml
