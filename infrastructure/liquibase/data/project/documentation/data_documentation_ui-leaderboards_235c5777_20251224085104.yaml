databaseChangeLog:
- changeSet:
    id: documentation-ui-leaderboards-235c5777
    author: content-migration-generator
    changes:
    - insert:
        tableName: project.documentation
        columns:
        - column:
            name: id
            value: '3354309931851120'
        - column:
            name: doc_id
            value: ui-leaderboards
        - column:
            name: title
            value: UI Leaderboard System
        - column:
            name: document_type
            value: implementation
        - column:
            name: category
            value: ui
        - column:
            name: status
            value: approved
        - column:
            name: version
            value: 1.0.0
        - column:
            name: last_updated
            value: 2025-11-08 00:59:00+00:00
        - column:
            name: concept_approved
            value: true
        - column:
            name: concept_reviewed_at
            value: 2025-11-08 00:59:00+00:00
        - column:
            name: owners
            value: '[{"role": "concept_director", "contact": "concept@necp.game"}]'
        - column:
            name: tags
            value:
            - ui
            - leaderboard
            - social
            - progression
        - column:
            name: topics
            value:
            - leaderboards
            - player_engagement
        - column:
            name: related_systems
            value:
            - social-service
            - leaderboard-service
            - frontend-leaderboard-modules
        - column:
            name: related_documents
            value: '[{"id": "backend-leaderboard-core", "relation": "references"},
              {"id": "ui-achievements-main", "relation": "references"}, {"id": "ui-profile",
              "relation": "references"}]'
        - column:
            name: source
            value: shared/docs/knowledge/implementation/ui/leaderboards/ui-leaderboards.md
        - column:
            name: visibility
            value: internal
        - column:
            name: audience
            value:
            - concept
            - frontend
            - ui
        - column:
            name: risk_level
            value: medium
        - column:
            name: content
            value: '{"metadata": {"id": "ui-leaderboards", "title": "UI Leaderboard
              System", "document_type": "implementation", "category": "ui", "status":
              "approved", "version": "1.0.0", "last_updated": "2025-11-08T00:59:00+00:00",
              "concept_approved": true, "concept_reviewed_at": "2025-11-08T00:59:00+00:00",
              "owners": [{"role": "concept_director", "contact": "concept@necp.game"}],
              "tags": ["ui", "leaderboard", "social", "progression"], "topics": ["leaderboards",
              "player_engagement"], "related_systems": ["social-service", "leaderboard-service",
              "frontend-leaderboard-modules"], "related_documents": [{"id": "backend-leaderboard-core",
              "relation": "references"}, {"id": "ui-achievements-main", "relation":
              "references"}, {"id": "ui-profile", "relation": "references"}], "source":
              "shared/docs/knowledge/implementation/ui/leaderboards/ui-leaderboards.md",
              "visibility": "internal", "audience": ["concept", "frontend", "ui"],
              "risk_level": "medium"}, "review": {"chain": [{"role": "concept_director",
              "reviewer": "", "reviewed_at": "2025-11-08T00:59:00+00:00", "status":
              "approved"}], "next_actions": []}, "summary": {"problem": "Отсутствует
              структурированная документация UI для глобальных и сезонных рейтингов,
              синхронизированная с социальными сервисами.", "goal": "Определить UX
              и функциональные компоненты Leaderboard System, обеспечивающие многомерные
              рейтинги и контекст игрока.", "essence": "Фронтенд-модули рейтингов
              предоставляют настраиваемые категории, фильтры по охвату, карточки игрока
              и стриминг обновлений в реальном времени.", "key_points": ["Многоуровневая
              навигация: категории рейтингов, фильтры охвата, сезонные лиги.", "Карточка
              позиции игрока и таблица Top 100 строятся на обобщённых React-компонентах.",
              "WebSocket канал и периодическое обновление обеспечивают live-данные
              без перегрузки API."]}, "content": {"sections": [{"id": "introduction",
              "title": "Введение", "body": "UI Leaderboard System охватывает глобальные,
              региональные и серверные рейтинги.\nДокумент описывает ключевые экраны,
              структуру компонентов и интеграции с социальным сервисом.\n", "mechanics_links":
              [], "assets": []}, {"id": "scope_and_status", "title": "Область и состояние",
              "body": "- Статус: approved.\n- Приоритет: высокий для фронтенд-реализации.\n-
              Автор: AI Brain Manager, ревью 2025-11-08.\n- API readiness: ready,
              WebSocket `wss://api.necp.game/v1/social/leaderboard`.\n", "mechanics_links":
              [], "assets": []}, {"id": "main_screen_layout", "title": "Главный экран
              рейтингов", "body": "ASCII-макет иллюстрирует верхнюю панель сезона,
              вкладки категорий, фильтры охвата и блоки с позицией игрока.\nТаблица
              Top 100 выводит ранги, игроков, очки и динамику, поддерживает пагинацию
              через кнопку `Load More`.\n", "mechanics_links": [], "assets": []},
              {"id": "components", "title": "Ключевые компоненты", "body": "**Leaderboard**\n-
              Принимает `type`, `scope`, `seasonId`.\n- Использует `useLeaderboard`
              для запросов и отображает карточку игрока,Nearby Players и таблицу.\n\n**PlayerPositionCard**\n-
              Показывает ранк, счёт, изменение за 24 часа.\n- Включает прогресс к
              следующему tier c инверсным прогресс-баром.\n\n**LeaderboardRow**\n-
              Подсвечивает текущего игрока, отображает медали TOP-3.\n- Опционально
              показывает гильдию и изменение ранка.\n\n**CategoryTabs и ScopeFilter**\n-
              Предоставляют переключение между категориями (Overall, Combat, Economy
              и др.) и охватами (global, regional, server).\n\n**SeasonalLeagueView**\n-
              Заголовок сезона, мета-данные и грид наград по tier.\n- Встраивает компонент
              Leaderboard с `seasonId`.\n", "mechanics_links": [], "assets": []},
              {"id": "realtime_and_updates", "title": "Обновления в реальном времени",
              "body": "WebSocket канал `wss://api.necp.game/v1/social/leaderboard`
              обрабатывает события `rank_change` и `new_leader`.\nПри изменении ранга
              вызываются уведомления и локальное обновление списка игроков.\nКлиентский
              хук задаёт интервал опроса 60 секунд для синхронизации с API.\n", "mechanics_links":
              [], "assets": []}, {"id": "api_integration", "title": "API-интеграция",
              "body": "**useLeaderboard**\n- `GET /api/v1/leaderboards/{type}` c параметрами
              `scope` и `seasonId`.\n- Хранит данные в react-query с ключом `[''leaderboard'',
              type, scope, seasonId]`.\n\n**usePlayerPosition**\n- `GET /api/v1/leaderboards/{leaderboardCode}/player/{playerId}`.\n\nОбновления
              выполняются без избыточных запросов благодаря кешированию и WebSocket
              событиям.\n", "mechanics_links": [], "assets": []}]}, "appendix": {"glossary":
              [], "references": ["../../backend/leaderboard/leaderboard-core.md",
              "../achievements/ui-achievements-main.md", "../profile/ui-profile.md"],
              "decisions": []}, "implementation": {"github_issue": 136, "needs_task":
              false, "queue_reference": ["shared/trackers/queues/concept/queued.yaml"],
              "blockers": []}, "history": [{"version": "1.0.0", "date": "2025-11-08",
              "author": "ai_brain_manager", "changes": "Сформирована спецификация
              UI Leaderboard System."}], "validation": {"checksum": "", "schema_version":
              "1.0"}}'
        - column:
            name: metadata
            value: '{"id": "ui-leaderboards", "title": "UI Leaderboard System", "document_type":
              "implementation", "category": "ui", "status": "approved", "version":
              "1.0.0", "last_updated": "2025-11-08T00:59:00+00:00", "concept_approved":
              true, "concept_reviewed_at": "2025-11-08T00:59:00+00:00", "owners":
              [{"role": "concept_director", "contact": "concept@necp.game"}], "tags":
              ["ui", "leaderboard", "social", "progression"], "topics": ["leaderboards",
              "player_engagement"], "related_systems": ["social-service", "leaderboard-service",
              "frontend-leaderboard-modules"], "related_documents": [{"id": "backend-leaderboard-core",
              "relation": "references"}, {"id": "ui-achievements-main", "relation":
              "references"}, {"id": "ui-profile", "relation": "references"}], "source":
              "shared/docs/knowledge/implementation/ui/leaderboards/ui-leaderboards.md",
              "visibility": "internal", "audience": ["concept", "frontend", "ui"],
              "risk_level": "medium"}'
        - column:
            name: source_file
            value: knowledge\implementation\ui\leaderboards\ui-leaderboards.yaml
