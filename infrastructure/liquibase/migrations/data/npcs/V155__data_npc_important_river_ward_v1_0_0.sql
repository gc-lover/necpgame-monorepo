-- Issue: #50
-- Import NPC from: important\river-ward.yaml
-- Version: 1.0.0
-- Generated: 2025-12-13T21:13:36.937852
-- WARNING  WARNING: Requires 'npc_definitions' table (create via Database agent)

BEGIN;

-- NPC: npc-river-ward
INSERT INTO narrative.npc_definitions (npc_id, title, content_data, version, is_active) VALUES ('npc-river-ward', 'Ривер Уорд — принципиальный детектив NCPD', '{"metadata": {"id": "npc-river-ward", "title": "Ривер Уорд — принципиальный детектив NCPD", "document_type": "canon", "category": "narrative", "status": "approved", "version": "1.0.0", "last_updated": "2025-12-02T18:50:00+00:00", "concept_approved": true, "concept_reviewed_at": "", "owners": [{"role": "narrative_director", "contact": "narrative@necp.game"}], "tags": ["npc", "ncpd", "detective"], "topics": ["npc-biographies", "investigation-systems"], "related_systems": ["social-service", "gameplay-service", "narrative-service", "character-service", "quest-service"], "related_documents": [{"id": "mechanics/world/events/world-events-framework", "relation": "complements"}, {"id": "canon-narrative/stories/cyberpunk-inspiration-stories", "relation": "references"}], "source": "shared/docs/knowledge/canon/narrative/npc-lore/important/river-ward.md", "visibility": "internal", "audience": ["concept", "narrative", "live_ops"], "risk_level": "medium"}, "review": {"chain": [{"role": "narrative_director", "reviewer": "", "reviewed_at": "", "status": "pending"}], "next_actions": []}, "summary": {"problem": "Описание Ривера было в Markdown и не связывалось с системами расследований и сюжетами справедливости.", "goal": "Структурировать данные о детективе NCPD для квестов расследований, романтической линии и событий защиты невинных.", "essence": "Честный следователь, готовый сотрудничать с игроком ради справедливости даже вопреки коррумпированной системе.", "key_points": ["Детектив NCPD, работающий по сложным делам и защищающий семью.", "Конфликтует с коррупцией, вступает в войны с Maelstrom и организованной преступностью.", "Запускает расследовательские цепочки, влияющие на репутацию NCPD и общественный порядок.", "Возможен романтический интерес; отношение зависит от действий игрока."]}, "content": {"sections": [{"id": "profile", "title": "Профиль", "body": "Ривер Уорд (ID `npc-river-ward`) — высокорослый детектив NCPD 35–40 лет. Носит практичную броню, оснащён\\nимплантами анализа данных и связи. Работает по всему Night City, особенно в делах, касающихся исчезновений и\\nкоррупции.\\n", "mechanics_links": [], "assets": []}, {"id": "background", "title": "История и мотивация", "body": "Вырос в Night City, видел несправедливость и пошёл в полицию ради перемен. Карьера построена на громких делах,\\nвключая расследование похищений детей. Боится потерять невинных и не дать справедливости восторжествовать.\\n", "mechanics_links": ["mechanics/social/relationships-system.yaml"], "assets": []}, {"id": "relationships", "title": "Связи", "body": "Доверяет честным офицерам NCPD, конфликтует с коррумпированными коллегами и бандами (особенно Maelstrom).\\nЗаботится о племяннике, поддерживает связь с семьёй. С игроком выстраивает доверие через совместные дела.\\n", "mechanics_links": [], "assets": []}, {"id": "gameplay", "title": "Игровая роль", "body": "Выдаёт миссии «Расследование», «Справедливость», «Защита невинных» и сценарии похищений. Обеспечивает доступ к\\nдетективным ресурсам, подозреваемым и доказательствам. Награды — репутация NCPD, доступ к оперативным каналам и\\nромантическая ветка.\\n", "mechanics_links": ["mechanics/world/events/live-events-system.yaml"], "assets": []}, {"id": "dialogue", "title": "Диалоговый тон", "body": "Реплики: «Справедливость превыше всего.», «Мы должны защитить невинных.», «Я работаю для правды, а не для системы.»\\nМанера — спокойная, профессиональная, с доброжелательной нотой в адрес союзников.\\n", "mechanics_links": [], "assets": []}]}, "appendix": {"glossary": [], "references": [], "decisions": []}, "implementation": {"needs_task": false, "github_issue": 20, "queue_reference": ["shared/trackers/queues/concept/queued.yaml#canon-npc-river-ward"], "blockers": []}, "history": [{"version": "0.1.0", "date": "2025-11-12", "author": "narrative_team", "changes": "Конвертирован профиль Ривера Уорда и интегрирован в расследовательские механики NCPD."}], "validation": {"checksum": "", "schema_version": "1.0"}}'::jsonb, 1, true) ON CONFLICT (npc_id) DO UPDATE SET title = EXCLUDED.title, content_data = EXCLUDED.content_data, updated_at = CURRENT_TIMESTAMP;

COMMIT;

-- Total imported: 1 NPC