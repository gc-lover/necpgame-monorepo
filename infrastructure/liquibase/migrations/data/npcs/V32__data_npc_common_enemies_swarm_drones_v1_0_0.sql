-- Issue: #50
-- Import NPC from: common\enemies\swarm-drones.yaml
-- Version: 1.0.0
-- Generated: 2025-12-14T16:03:07.572305
-- WARNING  WARNING: Requires 'npc_definitions' table (create via Database agent)

BEGIN;

-- NPC: npc-common-enemy-swarm-drones-1821
INSERT INTO narrative.npc_definitions (npc_id, title, content_data, version, is_active) VALUES ('npc-common-enemy-swarm-drones-1821', 'Роевые дроны (стайка + ядро роевода)', '{"metadata": {"id": "npc-common-enemy-swarm-drones-1821", "title": "Роевые дроны (стайка + ядро роевода)", "document_type": "canon", "category": "narrative", "status": "draft", "version": "1.0.0", "last_updated": "2025-12-12T00:00:00+00:00", "concept_approved": false, "concept_reviewed_at": "", "owners": [{"role": "concept_director", "contact": "concept@necp.game"}], "tags": ["npc", "enemy", "drones", "swarm"], "topics": ["area-denial", "burst-dps"], "related_systems": ["narrative-service", "gameplay-service", "ai-service", "analytics-service"], "related_documents": [{"id": "mechanics-combat-ai-enemies", "relation": "references"}], "source": "shared/docs/knowledge/canon/narrative/npc-lore/common/enemies/swarm-drones.md", "visibility": "internal", "audience": ["concept", "narrative", "gameplay"], "risk_level": "medium"}, "review": {"chain": [{"role": "concept_director", "reviewer": "", "reviewed_at": "", "status": "pending"}], "next_actions": []}, "summary": {"problem": "Нужен профиль роя малых дронов с ядром роевода, баффами и суицидным наскоком.", "goal": "Зафиксировать размер роя, баффы, суицидный триггер, ядро и телеметрию.", "essence": "Стайка 8–15 дронов, бафф от роевода, stacked fury при потерях, суицид при низком HP; убийство роевода снимает баффы.", "key_points": ["Рой 8–15 дронов, общий бафф скорости/точности от роевода.", "Stacked fury при потерях; суицидный наскок при низком HP.", "Убийство роевода распадает рой.", "Телеметрия: time-to-clear, урон по игрокам, суициды."]}, "content": {"sections": [{"id": "profile", "title": "Профиль", "body": "Стайка малых дронов с общим ядром-роеводом. Низкое HP, высокий DPS, усиления распространяются от ядра.\\nПотеря дронов усиливает оставшихся (stacked fury), но смерть роевода снимает баффы и дезориентирует рой.\\n", "mechanics_links": [], "assets": []}, {"id": "abilities", "title": "Способности", "body": "• Бафф роевода: скорость/точность, распределяется по рою.  \\n• Stacked fury: при потере дронов оставшиеся получают кратковременный бафф.  \\n• Суицидный наскок: при низком HP дрон бросается и взрывается.  \\n• Визуал слабого ядра (роевода) для таргета.\\n", "mechanics_links": [], "assets": []}, {"id": "behavior", "title": "Поведение", "body": "• Фокус по меткам (scent tag и др.), смена цели при высоком уроне по роеводу.  \\n• Отступление к меху-ремонтнику при потере >50% роя.  \\n• Распад при смерти роевода (дезориент на 2с).\\n", "mechanics_links": [], "assets": []}, {"id": "counters", "title": "Контр-игра", "body": "• AOE/EMP против роя; фокус по роеводу.  \\n• Сбивать stacked fury контролем.  \\n• Избегать плотных групп, чтобы не ловить суицид.\\n", "mechanics_links": [], "assets": []}, {"id": "telemetry", "title": "Телеметрия", "body": "• time_to_clear, player_damage, suicide_triggers, swarm_leader_deaths.  \\n• buff_uptime, fury_stacks_avg, retreat_events.  \\n• Цели: time_to_clear краткое при AOE, buff_uptime падает при смерти роевода.\\n", "mechanics_links": [], "assets": []}, {"id": "loot", "title": "Лут", "body": "• Батареи, микросхемы; редкий шанс на роевой контроллер.  \\n• Низкие креды.\\n", "mechanics_links": [], "assets": []}]}, "appendix": {"glossary": [], "references": [], "decisions": []}, "implementation": {"github_issue": 1821, "needs_task": false, "queue_reference": [], "blockers": []}, "history": [{"version": "1.0.0", "date": "2025-12-12", "author": "content_writer", "changes": "Создан профиль роевых дронов с роеводом, fury-стэками и телеметрией."}], "validation": {"checksum": "", "schema_version": "1.0"}}'::jsonb, 1, true) ON CONFLICT (npc_id) DO UPDATE SET title = EXCLUDED.title, content_data = EXCLUDED.content_data, updated_at = CURRENT_TIMESTAMP;

COMMIT;

-- Total imported: 1 NPC