-- Issue: #50
-- Import NPC from: common\service\ncpd-patrol-officer.yaml
-- Version: 1.0.0
-- Generated: 2025-12-14T12:57:10.149616
-- WARNING  WARNING: Requires 'npc_definitions' table (create via Database agent)

BEGIN;

-- NPC: common-service-ncpd-patrol-001
INSERT INTO narrative.npc_definitions (npc_id, title, content_data, version, is_active) VALUES ('common-service-ncpd-patrol-001', 'Патрульный офицер NCPD', '{"metadata": {"id": "common-service-ncpd-patrol-001", "title": "Патрульный офицер NCPD", "document_type": "canon", "category": "npc-lore", "status": "draft", "version": "1.0.0", "last_updated": "2025-11-12T00:00:00+00:00", "concept_approved": false, "concept_reviewed_at": "", "owners": [{"role": "concept_director", "contact": "concept@necp.game"}], "tags": ["npc", "ncpd", "patrol"], "topics": ["law_enforcement", "urban_security"], "related_systems": ["narrative-service", "police-system"], "related_documents": [{"id": "mechanics/world/world-state/player-impact-systems", "relation": "references"}], "source": "shared/docs/knowledge/canon/narrative/npc-lore/common/service/ncpd-patrol-officer.md", "visibility": "internal", "audience": ["concept", "narrative"], "risk_level": "medium"}, "review": {"chain": [{"role": "concept_director", "reviewer": "", "reviewed_at": "", "status": "pending"}], "next_actions": []}, "summary": {"problem": "Патрульные офицеры NCPD были описаны в Markdown и не входили в структурированную базу NPC.", "goal": "Стандартизировать профиль патрульного для использования в сценариях охраны общественного порядка.", "essence": "Базовый офицер NCPD реагирует на вызовы, проверяет документы и эскалирует угрозы при необходимости.", "key_points": ["Контролирует улицы, проверяет подозреваемых и выписывает штрафы.", "Вызывает подкрепление при росте угрозы и устанавливает кордоны.", "Связан с системой репутации NCPD и штрафов."]}, "content": {"sections": [{"id": "profile", "title": "Профиль", "body": "Офицер патрулирует улицы Найт-Сити, реагирует на вызовы и поддерживает порядок в районах повышенного риска.\\nРаботает парами, имеет стандартный бронежилет и набор фиксированных маршрутов. Данные патрулей синхронизируются с\\nцентральным узлом NCPD каждые две смены.\\n", "mechanics_links": ["mechanics/social/relationships-system.yaml"], "assets": []}, {"id": "duties", "title": "Обязанности", "body": "- Проверка удостоверений и транспортных средств.\\n- Задержание нарушителей и передача их в участок.\\n- Вызов усиления или MAX-TAC при эскалации угрозы.\\n- Мониторинг камер и передача отчётов в штаб NCPD.\\n", "mechanics_links": ["mechanics/world/world-state/player-impact-systems.yaml"], "assets": []}, {"id": "gameplay", "title": "Игровые взаимодействия", "body": "Игрок может столкнуться с патрулём при повышении розыска, получить штраф или попробовать подкупить офицера.\\nВысокая репутация с NCPD снижает размер штрафов, а агрессивные действия ведут к вызову подкрепления и\\nблокировке района.\\n", "mechanics_links": ["mechanics/combat/combat-pvp-pve.yaml"], "assets": []}, {"id": "dialogue", "title": "Речь и поведение", "body": "Классическая фраза: «Сделаем по-хорошему — и разойдёмся.» Офицер сохраняет официальный тон, но может проявить\\nгибкость при нейтральном отношении игрока. При агрессии мгновенно переходит на боевые команды.\\n", "mechanics_links": [], "assets": []}]}, "appendix": {"glossary": [], "references": [], "decisions": []}, "implementation": {"github_issue": 133, "needs_task": false, "queue_reference": [], "blockers": []}, "history": [{"version": "1.0.0", "date": "2025-11-12", "author": "concept_director", "changes": "Конвертирован профиль патрульного офицера NCPD в формат знаний."}], "validation": {"checksum": "", "schema_version": "1.0"}}'::jsonb, 1, true) ON CONFLICT (npc_id) DO UPDATE SET title = EXCLUDED.title, content_data = EXCLUDED.content_data, updated_at = CURRENT_TIMESTAMP;

COMMIT;

-- Total imported: 1 NPC