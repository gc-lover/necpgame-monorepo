-- Issue: #50
-- Import NPC from: common\service\trauma-team-paramedic.yaml
-- Version: 1.0.0
-- Generated: 2025-12-21T02:15:38.022118
-- [WARNING]  WARNING: Requires 'npc_definitions' table (create via Database agent)

BEGIN;

-- NPC: common-service-trauma-paramedic-001
INSERT INTO narrative.npc_definitions (npc_id, title, content_data, version, is_active)
VALUES ('common-service-trauma-paramedic-001', 'Парамедик Trauma Team',
        '{"metadata": {"id": "common-service-trauma-paramedic-001", "title": "Парамедик Trauma Team", "document_type": "canon", "category": "npc-lore", "status": "draft", "version": "1.0.0", "last_updated": "2025-11-12T00:00:00+00:00", "concept_approved": false, "concept_reviewed_at": "", "owners": [{"role": "concept_director", "contact": "concept@necp.game"}], "tags": ["npc", "trauma-team", "medical"], "topics": ["emergency_response", "insurance_contracts"], "related_systems": ["narrative-service", "health-system"], "related_documents": [{"id": "mechanics/economy/economy-contracts", "relation": "references"}], "source": "shared/docs/knowledge/canon/narrative/npc-lore/common/service/trauma-team-paramedic.md", "visibility": "internal", "audience": ["concept", "narrative"], "risk_level": "medium"}, "review": {"chain": [{"role": "concept_director", "reviewer": "", "reviewed_at": "", "status": "pending"}], "next_actions": []}, "summary": {"problem": "Парамедики Trauma Team описывались в Markdown и не использовались в системах страховки и эвакуации.", "goal": "Структурировать профиль сотрудника Trauma Team для сценариев быстрой медицинской помощи подписчикам.", "essence": "Парамедик прибывает на вызовы страхователей, стабилизирует пациентов и организует эвакуацию в лечебный модуль.", "key_points": ["Реагирует исключительно на клиентов с активным полисом.", "Работает в составе мобильной ударной бригады Trauma Team.", "Контролирует штрафы за несанкционированные вызовы и уровень обслуживания."]}, "content": {"sections": [{"id": "rapid_response", "title": "Оперативное реагирование", "body": "Экипаж вылетает на AV, время прибытия — до 3 минут в черте Найт-Сити. Парамедик проверяет полис, стабилизирует\\nжизненные показатели и готовит пациента к транспортировке. При угрозе активирует боевое прикрытие отрядов Trauma Team.\\n", "mechanics_links": ["mechanics/world/world-state/player-impact-systems.yaml"], "assets": []}, {"id": "services", "title": "Услуги и лимиты", "body": "- Срочная эвакуация подписчика к ближайшему филиалу.\\n- Стабилизация и установка временных киберпротезов.\\n- Выписка штрафа за ложный вызов.\\n- Продление или апгрейд полиса по рекомендациям риппердоков.\\n", "mechanics_links": ["mechanics/economy/economy-contracts.yaml"], "assets": []}, {"id": "gameplay", "title": "Игровые взаимодействия", "body": "Игрок может вызвать Trauma Team при наличии страховки, получить Evac во время миссий или стать целью для эвакуации NPC.\\nНеподписчики сталкиваются с отказом и потенциальным штрафом за попытку использовать канал экстренной помощи.\\n", "mechanics_links": ["mechanics/combat/combat-pvp-pve.yaml"], "assets": []}, {"id": "dialogue", "title": "Речевые паттерны", "body": "Сначала проверяет полис: «Полис покажите. Быстро.» После подтверждения действует профессионально, сообщает протокол\\nлечения и предупреждает об обязательных платежах.\\n", "mechanics_links": [], "assets": []}]}, "appendix": {"glossary": [], "references": [], "decisions": []}, "implementation": {"github_issue": 133, "needs_task": false, "queue_reference": [], "blockers": []}, "history": [{"version": "1.0.0", "date": "2025-11-12", "author": "concept_director", "changes": "Конвертирован профиль парамедика Trauma Team в формат знаний."}], "validation": {"checksum": "", "schema_version": "1.0"}}'::jsonb,
        1, true) ON CONFLICT (npc_id) DO
UPDATE
    SET title = EXCLUDED.title, content_data = EXCLUDED.content_data, updated_at = CURRENT_TIMESTAMP;

COMMIT;

-- Total imported: 1 NPC