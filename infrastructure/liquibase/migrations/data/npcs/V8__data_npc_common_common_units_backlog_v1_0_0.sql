-- Issue: #50
-- Import NPC from: common\common-units-backlog.yaml
-- Version: 1.0.0
-- Generated: 2025-12-06T21:13:00.426758
-- WARNING  WARNING: Requires 'npc_definitions' table (create via Database agent)

BEGIN;

-- NPC: canon-narrative-npc-common-backlog
INSERT INTO narrative.npc_definitions (npc_id, title, content_data, version, is_active) VALUES ('canon-narrative-npc-common-backlog', 'NPC common units — бэклог', '{"metadata": {"id": "canon-narrative-npc-common-backlog", "title": "NPC common units — бэклог", "document_type": "canon", "category": "narrative", "status": "draft", "version": "1.0.0", "last_updated": "2025-11-12T00:00:00+00:00", "concept_approved": false, "concept_reviewed_at": "", "owners": [{"role": "npc_lead", "contact": "npc@necp.game"}], "tags": ["npc", "backlog", "common"], "topics": ["narrative", "content-planning"], "related_systems": ["npc-service"], "related_documents": [{"id": "canon-narrative-npc-lore-overview", "relation": "references"}], "source": "shared/docs/knowledge/canon/narrative/npc-lore/common/common-units-backlog.md", "visibility": "internal", "audience": ["narrative", "content"], "risk_level": "medium"}, "review": {"chain": [{"role": "npc_lead", "reviewer": "", "reviewed_at": "", "status": "pending"}], "next_actions": []}, "summary": {"problem": "Индекс common NPC существовал в Markdown и не был структурирован для отслеживания категорий и приоритетов.", "goal": "Зафиксировать бэклог массовых NPC по типам с идентификаторами, ролями и ожидаемыми игровыми функциями.", "essence": "Документ агрегирует плановые юниты для торговли, сервисов, граждан, преступников, NCPD, банд и культов, задавая направления наполнения мира.", "key_points": ["Восемь категорий охватывают торговцев, риппердоков, сервис, граждан, преступников, полицию, банды и культовые группы.", "Каждый юнит имеет код, район и краткое описание функций или сюжетных хуков.", "План ориентирован на MVP+ с расширением в сезонных обновлениях."]}, "content": {"sections": [{"id": "traders", "title": "Торговцы", "body": "Пул TR-001—TR-005 описывает уличных и корпоративных продавцов, покрывающих расходники, импланты и случайные лоты с разным\\nуровнем доступа и риском.\\n", "mechanics_links": [], "assets": []}, {"id": "ripperdocs", "title": "Риппердоки", "body": "Три сценария риппердоков (бюджетный, премиум, серый) в разных районах формируют разнообразие медицинских услуг и моральных\\nдилемм.\\n", "mechanics_links": [], "assets": []}, {"id": "services", "title": "Сервис", "body": "Юниты SV-001—SV-003 охватывают водителей, механиков и полевых медтехов, поддерживающих экономику и логистику квестов.\\n", "mechanics_links": [], "assets": []}, {"id": "citizens", "title": "Горожане", "body": "Пул CT-001—CT-004 фиксирует рабочих, журналистов, музыкантов и беженцев, создавая социальные и атмосферные ветки.\\n", "mechanics_links": [], "assets": []}, {"id": "criminals", "title": "Преступники", "body": "Сценарии CR-001—CR-003 задают мелкие криминальные угрозы, контрабанду и случайные столкновения в ключевых районах.\\n", "mechanics_links": [], "assets": []}, {"id": "ncpd", "title": "Полиция NCPD", "body": "PD-001—PD-003 описывают патрульных, детективов и операторов SWAT с разной степенью вовлечения игроков в расследования и зачистки.\\n", "mechanics_links": [], "assets": []}, {"id": "gangs", "title": "Банды", "body": "Юниты GN-001—GN-004 представляют рядовых членов Tyger Claws, Animals, Valentinos и 6th Street, отражая территориальные конфликты.\\n", "mechanics_links": [], "assets": []}, {"id": "cults", "title": "Культы и городские сумасшедшие", "body": "Планы CU-001—CU-003 описывают проповедников, техно-адептов и сумасшедших, расширяющих диапазон идеологических и странных взаимодействий.\\n", "mechanics_links": [], "assets": []}]}, "appendix": {"glossary": [], "references": [{"title": "Обзор NPC лора", "link": "../README.yaml"}], "decisions": []}, "implementation": {"github_issue": 133, "needs_task": false, "queue_reference": ["shared/trackers/queues/concept/queued.yaml"], "blockers": []}, "history": [{"version": "1.0.0", "date": "2025-11-12", "author": "npc_team", "changes": "Бэклог common NPC структурирован в YAML по категориям и идентификаторам."}], "validation": {"checksum": "", "schema_version": "1.0"}}'::jsonb, 1, true) ON CONFLICT (npc_id) DO UPDATE SET title = EXCLUDED.title, content_data = EXCLUDED.content_data, updated_at = CURRENT_TIMESTAMP;

COMMIT;

-- Total imported: 1 NPC