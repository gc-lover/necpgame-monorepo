-- Issue: #50
-- Import quest from: america\mexico-city\2020-2029\quest-012-sustainable-megalopolis.yaml
-- Generated: 2025-12-21T02:15:34.641756

BEGIN;

-- Quest: canon-quest-mexico-city-sustainable-megalopolis
INSERT INTO gameplay.quest_definitions (quest_id, title, description, quest_type, level_min, level_max, requirements,
                                        objectives, rewards, branches, content_data, version, is_active)
VALUES ('canon-quest-mexico-city-sustainable-megalopolis', 'Mexico City 2020-2029 — «Устойчивое развитие мегаполиса»',
        'Мехико-сити как модель устойчивого развития для других мегаполисов мира.', 'side', NULL, NULL, '{}'::jsonb,
        '[]'::jsonb, '{}'::jsonb, '[]'::jsonb,
        '{"metadata": {"id": "canon-quest-mexico-city-sustainable-megalopolis", "title": "Mexico City 2020-2029 — «Устойчивое развитие мегаполиса»", "document_type": "canon", "category": "timeline-author", "status": "draft", "version": "0.1.0", "last_updated": "2025-12-14T11:59:46+00:00", "concept_approved": false, "concept_reviewed_at": "", "owners": [{"role": "narrative_team", "contact": "narrative@necp.game"}], "tags": ["mexico-city", "sustainable", "megapolis", "environment", "technology"], "topics": ["sustainability", "environment", "technology"], "related_systems": ["narrative-service", "environment-system", "sustainability-system"], "related_documents": [{"id": "canon-region-america-mexico-city-2020-2029", "relation": "contextualizes"}], "source": "shared/docs/knowledge/canon/lore/_03-lore/timeline-author/quests/america/mexico-city/2020-2029/quest-012-sustainable-megalopolis.md", "visibility": "internal", "audience": ["narrative", "quest-design", "live_ops"], "risk_level": "low"}, "review": {"chain": [{"role": "narrative_lead", "reviewer": "", "reviewed_at": "", "status": "pending"}], "next_actions": []}, "summary": {"problem": "Мехико-сити внедряет зеленые технологии для борьбы с загрязнением воздуха и водными ресурсами, но сталкивается с проблемами масштабирования.", "goal": "Игрок помогает реализовать проекты устойчивого развития и интегрировать экологические технологии в повседневную жизнь города.", "essence": "Мехико-сити как модель устойчивого развития для других мегаполисов мира.", "key_points": ["Вертикальные сады и зеленые крыши для очистки воздуха.", "Солнечные панели и ветровые турбины на зданиях.", "Финальная трансформация города в зеленый мегаполис."]}, "content": {"sections": [{"id": "pollution_crisis", "title": "Кризис загрязнения", "body": "Игрок исследует проблемы загрязнения воздуха и воды в Мехико-сити. Знакомство с экологическими активистами и инженерами.\\n", "mechanics_links": [], "assets": []}, {"id": "green_technologies", "title": "Зеленые технологии", "body": "Мини-игра: установка солнечных панелей и вертикальных садов. Решение проблем интеграции в существующую инфраструктуру.\\n", "mechanics_links": [], "assets": []}, {"id": "community_resistance", "title": "Сопротивление сообщества", "body": "Жители сопротивляются изменениям в привычном образе жизни. Игрок организует образовательные кампании.\\n", "mechanics_links": [], "assets": []}, {"id": "sustainable_showcase", "title": "Зеленая витрина", "body": "Финальная демонстрация устойчивого района Мехико-сити. Определение будущего экологичного развития городов.\\n", "mechanics_links": [], "assets": []}, {"id": "rewards", "title": "Награды", "body": "- 1050 XP.\\n- Издержки: −42 кредов.\\n- Бафф «Эко-воин +20% эффективности в экологических задачах на 15 часов».\\n- Ачивка «Зеленый мегаполис».\\n", "mechanics_links": [], "assets": []}]}, "appendix": {"glossary": [{"term": "Urban Sustainability Tech", "definition": "Технологии для создания устойчивых городов, включая зеленую энергетику и очистку окружающей среды."}], "references": [], "decisions": []}, "implementation": {"github_issue": 140876051, "needs_task": false, "queue_reference": [], "blockers": []}, "history": [{"version": "0.1.0", "date": "2025-12-14", "author": "content_agent", "changes": "Создание квеста «Устойчивое развитие мегаполиса» для Mexico City 2020-2029."}], "validation": {"checksum": "", "schema_version": "1.0"}}'::jsonb,
        1, true) ON CONFLICT (quest_id) DO
UPDATE
    SET title = EXCLUDED.title, description = EXCLUDED.description, quest_type = EXCLUDED.quest_type, level_min = EXCLUDED.level_min, level_max = EXCLUDED.level_max, requirements = EXCLUDED.requirements, objectives = EXCLUDED.objectives, rewards = EXCLUDED.rewards, branches = EXCLUDED.branches, content_data = EXCLUDED.content_data, updated_at = CURRENT_TIMESTAMP;

COMMIT;

-- Total imported: 1 quest