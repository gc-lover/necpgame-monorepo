-- Issue: #50
-- Import quest from: america\buenos-aires\2020-2029\quest-005-football-passion.yaml
-- Generated: 2025-12-06T21:12:57.121843

BEGIN;

-- Quest: quest-buenos-aires-2029-005-superclasico
INSERT INTO gameplay.quest_definitions (quest_id, title, description, quest_type, level_min, level_max, requirements, objectives, rewards, branches, content_data, version, is_active) VALUES ('quest-buenos-aires-2029-005-superclasico', 'Буэнос-Айрес: Футбольная страсть', 'Игрок погружается в религию аргентинского футбола, переживая матч на La Bombonera или Monumental.', 'side', 3, NULL, '{"required_quests": [], "required_flags": [], "required_reputation": {}, "required_items": []}'::jsonb, '[{"id": "buy_ticket_choose_side", "text": "Приобрести билет и выбрать трибуну (Boca или River)", "type": "choice", "target": "team_selection", "count": 1, "optional": false}, {"id": "prepare_match_day", "text": "Подготовиться к матч-дню: песни, атрибутика, встречи с фан-клубом", "type": "interact", "target": "match_day_preparation", "count": 1, "optional": false}, {"id": "experience_match", "text": "Пережить матч, соблюдать инструкции безопасности", "type": "interact", "target": "superclasico_match", "count": 1, "optional": false}, {"id": "finish_quest", "text": "Завершить квест побегом от возможного конфликта или празднованием победы", "type": "choice", "target": "match_outcome", "count": 1, "optional": false}]'::jsonb, '{"xp": 3000, "currency": -50, "items": [], "reputation": {"sports": 30}, "achievements": [{"id": "superclasico_witness", "name": "Свидетель Superclásico"}], "skill_boosts": {"adrenaline": 40}}'::jsonb, '[]'::jsonb, '{"metadata": {"id": "quest-buenos-aires-2029-005-superclasico", "title": "Буэнос-Айрес: Футбольная страсть", "document_type": "canon", "category": "city-quest", "status": "draft", "version": "2.0.0", "last_updated": "2025-11-29T11:23:00+00:00", "concept_approved": true, "concept_reviewed_at": "", "owners": [{"role": "concept_director", "contact": "concept@necp.game"}], "tags": ["buenos-aires", "football", "superclasico"], "topics": ["city-lore"], "related_systems": ["social-mechanics", "event-service"], "related_documents": [], "source": "shared/docs/knowledge/canon/lore/_03-lore/timeline-author/quests/america/buenos-aires/2020-2029/quest-005-football-passion.md", "visibility": "internal", "audience": ["concept", "narrative"], "risk_level": "medium"}, "review": {"chain": [{"role": "concept_director", "reviewer": "", "reviewed_at": "", "status": "pending"}], "next_actions": []}, "summary": {"problem": "Необходимо структурировать квест о посещении Superclásico между Boca Juniors и River Plate.", "goal": "Описать ветвления выбора трибуны, взаимодействий с фанатами и рисков безопасности.", "essence": "Игрок погружается в религию аргентинского футбола, переживая матч на La Bombonera или Monumental.", "key_points": ["Покупка билетов и выбор стороны дерби.", "Стадионный опыт с пением, фаерами и барабанами.", "Управление рисками драки и репутацией среди фанатов."]}, "quest_definition": {"quest_type": "side", "level_min": 3, "level_max": null, "requirements": {"required_quests": [], "required_flags": [], "required_reputation": {}, "required_items": []}, "objectives": [{"id": "buy_ticket_choose_side", "text": "Приобрести билет и выбрать трибуну (Boca или River)", "type": "choice", "target": "team_selection", "count": 1, "optional": false}, {"id": "prepare_match_day", "text": "Подготовиться к матч-дню: песни, атрибутика, встречи с фан-клубом", "type": "interact", "target": "match_day_preparation", "count": 1, "optional": false}, {"id": "experience_match", "text": "Пережить матч, соблюдать инструкции безопасности", "type": "interact", "target": "superclasico_match", "count": 1, "optional": false}, {"id": "finish_quest", "text": "Завершить квест побегом от возможного конфликта или празднованием победы", "type": "choice", "target": "match_outcome", "count": 1, "optional": false}], "rewards": {"xp": 3000, "currency": -50, "items": [], "reputation": {"sports": 30}, "achievements": [{"id": "superclasico_witness", "name": "Свидетель Superclásico"}], "skill_boosts": {"adrenaline": 40}}, "branches": []}, "content": {"sections": [{"id": "overview", "title": "Кратко", "body": "- Квестовый ID: `BUENOSAIRES-2029-005`\\n- Тип: event, сложность средняя, solo, длительность 4+ часов\\n- Стадионы: La Bombonera (Boca) и Monumental (River)\\n", "mechanics_links": ["mechanics/quests/quest-system.yaml"]}, {"id": "flow", "title": "Маршрут события", "body": "1. Приобрести билет и выбрать трибуну (Boca или River).\\n2. Подготовиться к матч-дню: песни, атрибутика, встречи с фан-клубом.\\n3. Пережить матч, соблюдать инструкции безопасности.\\n4. Завершить квест побегом от возможного конфликта или празднованием победы.\\n", "mechanics_links": ["mechanics/social/social-mechanics-overview.yaml"]}, {"id": "cultural_notes", "title": "Факты и риски", "body": "- Superclásico признан одним из самых эмоциональных дерби мира.\\n- Наследие Диего Марадоны и легенд River формирует локальную мифологию.\\n- Высокий риск стычек требует проверок на эмпатию и осторожность.\\n", "mechanics_links": []}, {"id": "rewards", "title": "Награды", "body": "- 3000 XP, расходы 50 арг. кредитов на билет и атрибутику.\\n- Бафф «Адреналин» +40, ачивка «Свидетель Superclásico».\\n", "mechanics_links": ["mechanics/progression/progression-skills.yaml"]}]}, "appendix": {"glossary": [], "references": [], "decisions": []}, "implementation": {"github_issue": 140891756, "needs_task": false, "queue_reference": [], "blockers": []}, "history": [{"version": "2.0.0", "date": "2025-11-09", "author": "concept_team", "changes": "Конверсия квеста «Футбольная страсть» в формат знаний."}], "validation": {"checksum": "", "schema_version": "1.0"}}'::jsonb, 1, true) ON CONFLICT (quest_id) DO UPDATE SET title = EXCLUDED.title, description = EXCLUDED.description, quest_type = EXCLUDED.quest_type, level_min = EXCLUDED.level_min, level_max = EXCLUDED.level_max, requirements = EXCLUDED.requirements, objectives = EXCLUDED.objectives, rewards = EXCLUDED.rewards, branches = EXCLUDED.branches, content_data = EXCLUDED.content_data, updated_at = CURRENT_TIMESTAMP;

COMMIT;

-- Total imported: 1 quest