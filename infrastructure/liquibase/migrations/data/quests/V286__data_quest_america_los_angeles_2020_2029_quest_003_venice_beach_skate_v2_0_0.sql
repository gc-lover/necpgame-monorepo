-- Issue: #50
-- Import quest from: america\los-angeles\2020-2029\quest-003-venice-beach-skate.yaml
-- Version: 2.0.0
-- Generated: 2025-12-07T01:14:45.905880

BEGIN;

-- Quest: canon-quest-los-angeles-venice-beach-skate-2020-2029
INSERT INTO gameplay.quest_definitions (quest_id, title, description, quest_type, level_min, level_max, requirements, objectives, rewards, branches, content_data, version, is_active) VALUES ('canon-quest-los-angeles-venice-beach-skate-2020-2029', 'Лос-Анджелес: скейт на Venice Beach', 'Игрок прибывает на Venice Beach, выполняет трюки в турнире и взаимодействует с местной сценой.', 'side', 5, NULL, '{"required_quests": [], "required_flags": [], "required_reputation": {}, "required_items": []}'::jsonb, '[{"id": "arrive_venice_beach", "text": "Прибыть на Venice Beach и найти скейт-парк", "type": "interact", "target": "venice_beach_location", "count": 1, "optional": false}, {"id": "enter_tournament", "text": "Зарегистрироваться в локальном скейт-соревновании", "type": "interact", "target": "skate_tournament_registration", "count": 1, "optional": false}, {"id": "perform_tricks", "text": "Выполнить трюки в турнире (техника, стиль, креативность)", "type": "interact", "target": "skate_tournament_performance", "count": 1, "optional": false}, {"id": "interact_scene", "text": "Взаимодействовать с местной скейт-сценой", "type": "interact", "target": "venice_skate_scene", "count": 1, "optional": false}]'::jsonb, '{"xp": 2000, "currency": 1000, "items": [{"id": "unique_skateboard", "name": "Уникальный скейтборд", "quantity": 1}], "reputation": {"skate_culture": 60}, "achievements": [{"id": "venice_skate_champion", "name": "Чемпион Venice Beach"}], "skill_boosts": {}}'::jsonb, '[{"condition": "Победа в турнире", "outcome": "Уникальный борд и максимальные награды", "next_quests": []}, {"condition": "Участие без победы", "outcome": "Стандартные награды", "next_quests": []}]'::jsonb, '{"metadata": {"id": "canon-quest-los-angeles-venice-beach-skate-2020-2029", "title": "Лос-Анджелес: скейт на Venice Beach", "document_type": "canon", "category": "quests", "status": "draft", "version": "2.0.0", "last_updated": "2025-11-29T00:00:00+00:00", "concept_approved": true, "concept_reviewed_at": "", "owners": [{"role": "concept_director", "contact": "concept@necp.game"}], "tags": ["los-angeles", "skate", "quest"], "topics": ["sports", "subculture", "quests"], "related_systems": ["narrative-service", "gameplay-service", "quest-service", "character-service", "economy-service", "social-service", "liveops-service"], "related_documents": [{"id": "canon-lore-regions-america-2020-2093", "relation": "references"}, {"id": "github-issue-1125", "title": "GitHub Issue", "link": "https://github.com/gc-lover/necpgame-monorepo/issues/1125", "relation": "migrated_to", "migrated_at": "2025-11-23T03:00:00+00:00"}], "source": "shared/docs/knowledge/canon/lore/timeline-author/quests/america/los-angeles/2020-2029/quest-003-venice-beach-skate.md", "visibility": "internal", "audience": ["concept", "narrative", "live-ops"], "risk_level": "low"}, "review": {"chain": [{"role": "concept_director", "reviewer": "", "reviewed_at": "", "status": "pending"}], "next_actions": []}, "summary": {"problem": "Пляжная ветка Лос-Анджелеса не включала квест о культовом Venice Beach Skatepark и его турнирах.", "goal": "Позволить игроку участвовать в локальном скейт-соревновании и почувствовать атмосферу калифорнийской субкультуры.", "essence": "Игрок прибывает на Venice Beach, выполняет трюки в турнире и взаимодействует с местной сценой.", "key_points": ["Турнир оценивает технику, стиль и креативность, как в легендарных событиях ЛА.", "Локация соединяет скейт-культуру, street art и пляжные активности.", "Победа приносит уникальный борд и значимые награды."]}, "quest_definition": {"quest_type": "side", "level_min": 5, "level_max": null, "requirements": {"required_quests": [], "required_flags": [], "required_reputation": {}, "required_items": []}, "objectives": [{"id": "arrive_venice_beach", "text": "Прибыть на Venice Beach и найти скейт-парк", "type": "interact", "target": "venice_beach_location", "count": 1, "optional": false}, {"id": "enter_tournament", "text": "Зарегистрироваться в локальном скейт-соревновании", "type": "interact", "target": "skate_tournament_registration", "count": 1, "optional": false}, {"id": "perform_tricks", "text": "Выполнить трюки в турнире (техника, стиль, креативность)", "type": "interact", "target": "skate_tournament_performance", "count": 1, "optional": false}, {"id": "interact_scene", "text": "Взаимодействовать с местной скейт-сценой", "type": "interact", "target": "venice_skate_scene", "count": 1, "optional": false}], "rewards": {"xp": 2000, "currency": 1000, "items": [{"id": "unique_skateboard", "name": "Уникальный скейтборд", "quantity": 1}], "reputation": {"skate_culture": 60}, "achievements": [{"id": "venice_skate_champion", "name": "Чемпион Venice Beach"}], "skill_boosts": {}}, "branches": [{"condition": "Победа в турнире", "outcome": "Уникальный борд и максимальные награды", "next_quests": []}, {"condition": "Участие без победы", "outcome": "Стандартные награды", "next_quests": []}]}, "content": {"sections": [{"id": "overview", "title": "Обзор квеста", "body": "Квест сфокусирован на соревновании в Venice Beach Skatepark. Игрок выполняет трюки, взаимодействует с судьями и\\nчувствует энергетику бордволка, street performers и Muscle Beach.\\n", "mechanics_links": ["mechanics/quests/quest-system.yaml"], "assets": []}, {"id": "stages", "title": "Последовательность этапов", "body": "1. Прибытие на Venice Beach и регистрация на турнир.\\n2. Разведка чаш, рамп и rail-площадок, знакомство с местными скейтерами.\\n3. Квалификационный заезд: лучший трюк под музыку и комментарии.\\n4. Финальный раунд перед судьями по критериям техника/стиль/креативность.\\n5. Награждение, фотосессия и возможность остаться тренером для NPC.\\n", "mechanics_links": [], "assets": []}, {"id": "regional_context", "title": "Региональные детали", "body": "- Venice Beach — колыбель современной скейт-культуры и street art.\\n- Boardwalk объединяет музыкантов, художников и скейтеров.\\n- Muscle Beach и океан создают уникальный микс спорта и пляжной атмосферы.\\n", "mechanics_links": [], "assets": []}, {"id": "rewards", "title": "Награды и эффекты", "body": "- Победа: 20 000 Eddies и легендарный скейтборд.\\n- Участие: 1 500 XP.\\n", "mechanics_links": [], "assets": []}, {"id": "mechanics", "title": "Задействованные механики", "body": "- Мини-игра скейт-трюков с комбинированием движений.\\n- Турнирная система с судейскими оценками.\\n- Социальная интеграция с пляжной субкультурой.\\n", "mechanics_links": ["mechanics/social/player-orders-creation.yaml"], "assets": []}, {"id": "connections", "title": "Связи и продолжения", "body": "Квест открывает доступ к сериям соревнований West Coast, сотрудничеству со скейт-брендами и сюжетам о street art.\\n", "mechanics_links": [], "assets": []}]}, "appendix": {"glossary": [], "references": [], "decisions": []}, "implementation": {"github_issue": 1125, "needs_task": false, "queue_reference": [], "blockers": []}, "history": [{"version": "2.0.0", "date": "2025-11-12", "author": "concept_team", "changes": "Создан YAML-квест «Скейт на Venice Beach» с турнирными механиками и пляжным контекстом."}], "validation": {"checksum": "", "schema_version": "1.0"}}'::jsonb, 1, true) ON CONFLICT (quest_id) DO UPDATE SET title = EXCLUDED.title, description = EXCLUDED.description, quest_type = EXCLUDED.quest_type, level_min = EXCLUDED.level_min, level_max = EXCLUDED.level_max, requirements = EXCLUDED.requirements, objectives = EXCLUDED.objectives, rewards = EXCLUDED.rewards, branches = EXCLUDED.branches, content_data = EXCLUDED.content_data, updated_at = CURRENT_TIMESTAMP;

COMMIT;

-- Total imported: 1 quest