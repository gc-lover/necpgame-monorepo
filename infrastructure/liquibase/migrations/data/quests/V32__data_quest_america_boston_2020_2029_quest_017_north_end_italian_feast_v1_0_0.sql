-- Issue: #50
-- Import quest from: america\boston\2020-2029\quest-017-north-end-italian-feast.yaml
-- Generated: 2025-12-21T02:15:33.960693

BEGIN;

-- Quest: quest-boston-2029-017-north-end-italian-feast
INSERT INTO gameplay.quest_definitions (quest_id, title, description, quest_type, level_min, level_max, requirements, objectives, rewards, branches, content_data, version, is_active) VALUES ('quest-boston-2029-017-north-end-italian-feast', 'Бостон — North End Italian Feast', 'Игрок посещает итальянскую семью в North End, участвует в приготовлении традиционных блюд и узнает историю иммиграции.', 'side', 4, NULL, '{"required_quests": [], "required_flags": [], "required_reputation": {}, "required_items": []}'::jsonb, '[{"id": "find_family", "text": "Найти итальянскую семью Росси в North End районе", "type": "travel", "target": "rossi_family_restaurant", "count": 1, "optional": false}, {"id": "help_preparation", "text": "Помочь приготовить традиционные итальянские блюда", "type": "minigame", "target": "cooking_minigame", "count": 1, "optional": false}, {"id": "learn_history", "text": "Послушать рассказы о прибытии семьи в Бостон в 1890-х", "type": "interact", "target": "family_stories", "count": 1, "optional": false}, {"id": "share_meal", "text": "Принять участие в семейном ужине с разговорами о традициях", "type": "interact", "target": "family_dinner", "count": 1, "optional": false}, {"id": "collect_recipes", "text": "Получить рецепты бабушкиных блюд для коллекции", "type": "collect", "target": "family_recipes", "count": 3, "optional": true}]'::jsonb, '{"experience": 900, "money": {"type": "eddies", "value": -25}, "reputation": {"gastronomy": 12, "social": 8}, "unlocks": {"achievements": [{"id": "italian_tradition", "name": "Хранитель Традиций"}], "flags": []}}'::jsonb, '[]'::jsonb, '{"metadata": {"id": "quest-boston-2029-017-north-end-italian-feast", "title": "Бостон — North End Italian Feast", "document_type": "canon", "category": "quest", "status": "approved", "version": "1.0.0", "last_updated": "2025-12-14T13:25:00+00:00", "concept_approved": true, "concept_reviewed_at": "2025-12-14T13:25:00+00:00", "owners": [{"role": "narrative_team", "contact": "narrative@necp.game"}], "tags": ["boston", "north-end", "italian-culture", "gastronomy", "family"], "topics": ["timeline_author", "immigration", "cultural-heritage"], "related_systems": ["social-service", "economy-service", "family-system"], "related_documents": [{"id": "questline-boston-immigration", "relation": "collection"}], "source": "knowledge/canon/lore/_03-lore/timeline-author/quests/america/boston/2020-2029/quest-017-north-end-italian-feast.yaml", "visibility": "internal", "audience": ["concept", "narrative", "liveops"], "risk_level": "low"}, "review": {"chain": [{"role": "content_writer", "reviewer": "Content Writer Agent", "reviewed_at": "2025-12-14T13:25:00+00:00", "status": "approved"}], "next_actions": []}, "summary": {"problem": "Итальянское наследие North End не представлено в квестах и не связано с семейными традициями.", "goal": "Создать культурный квест о семейном итальянском ужине и традициях иммигрантов.", "essence": "Игрок посещает итальянскую семью в North End, участвует в приготовлении традиционных блюд и узнает историю иммиграции.", "key_points": ["Аутентичная итальянская кухня North End района.", "Семейные традиции и история иммиграции.", "Культурный обмен и социальные связи.", "Связь с современными иммигрантскими сообществами Бостона."]}, "quest_definition": {"quest_type": "side", "level_min": 4, "level_max": null, "requirements": {"required_quests": [], "required_flags": [], "required_reputation": {}, "required_items": []}, "objectives": [{"id": "find_family", "text": "Найти итальянскую семью Росси в North End районе", "type": "travel", "target": "rossi_family_restaurant", "count": 1, "optional": false}, {"id": "help_preparation", "text": "Помочь приготовить традиционные итальянские блюда", "type": "minigame", "target": "cooking_minigame", "count": 1, "optional": false}, {"id": "learn_history", "text": "Послушать рассказы о прибытии семьи в Бостон в 1890-х", "type": "interact", "target": "family_stories", "count": 1, "optional": false}, {"id": "share_meal", "text": "Принять участие в семейном ужине с разговорами о традициях", "type": "interact", "target": "family_dinner", "count": 1, "optional": false}, {"id": "collect_recipes", "text": "Получить рецепты бабушкиных блюд для коллекции", "type": "collect", "target": "family_recipes", "count": 3, "optional": true}], "rewards": {"experience": 900, "money": {"type": "eddies", "value": -25}, "reputation": {"gastronomy": 12, "social": 8}, "unlocks": {"achievements": [{"id": "italian_tradition", "name": "Хранитель Традиций"}], "flags": []}}, "branches": []}, "content": {"sections": [{"id": "cultural_immersion", "title": "Культурное погружение", "body": "North End — старейший итальянский район Бостона с 150-летней историей.\\nИгрок погружается в атмосферу семейных традиций, ароматов базилика и звука итальянской речи.\\n", "mechanics_links": [], "assets": []}, {"id": "culinary_experience", "title": "Кулинарный опыт", "body": "- Участие в приготовлении пасты, пиццы и десертов.\\n- Мини-игра по смешиванию ингредиентов и соблюдению рецептов.\\n- Дегустация аутентичных блюд с объяснением их значения.\\n", "mechanics_links": [], "assets": []}, {"id": "immigration_stories", "title": "Истории иммиграции", "body": "Рассказы о прибытии итальянцев в Бостон, их борьбе за выживание,\\nвкладе в развитие города и сохранении культурного наследия.\\n", "mechanics_links": [], "assets": []}, {"id": "community_bonds", "title": "Сообщество и связи", "body": "Знакомство с местными жителями, приглашения на фестивали,\\nвозможность помощи в семейных делах и укрепление социальных связей.\\n", "mechanics_links": [], "assets": []}]}, "appendix": {"glossary": [{"term": "North End", "definition": "Итальянский квартал Бостона, центр итальянской культуры и кухни"}], "references": [{"title": "Boston North End History", "link": "https://en.wikipedia.org/wiki/North_End,_Boston"}], "decisions": []}, "implementation": {"github_issue": 140875688, "needs_task": false, "queue_reference": [], "blockers": []}, "history": [{"version": "1.0.0", "date": "2025-12-14", "author": "content_writer_agent", "changes": "Создан квест итальянского семейного ужина в North End с фокусом на культурное наследие."}], "validation": {"checksum": "", "schema_version": "1.0"}}'::jsonb, 1, true) ON CONFLICT (quest_id) DO UPDATE SET title = EXCLUDED.title, description = EXCLUDED.description, quest_type = EXCLUDED.quest_type, level_min = EXCLUDED.level_min, level_max = EXCLUDED.level_max, requirements = EXCLUDED.requirements, objectives = EXCLUDED.objectives, rewards = EXCLUDED.rewards, branches = EXCLUDED.branches, content_data = EXCLUDED.content_data, updated_at = CURRENT_TIMESTAMP;

COMMIT;

-- Total imported: 1 quest