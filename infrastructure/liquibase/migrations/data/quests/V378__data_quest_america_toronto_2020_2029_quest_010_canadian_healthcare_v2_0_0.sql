-- Issue: #50
-- Import quest from: america\toronto\2020-2029\quest-010-canadian-healthcare.yaml
-- Version: 2.0.0
-- Generated: 2025-12-07T01:14:46.692971

BEGIN;

-- Quest: quest-toronto-2029-canadian-healthcare
INSERT INTO gameplay.quest_definitions (quest_id, title, description, quest_type, level_min, level_max, requirements, objectives, rewards, branches, content_data, version, is_active) VALUES ('quest-toronto-2029-canadian-healthcare', 'Торонто 2020-2029 — Канадская медицина', 'Игрок посещает клиники, сталкивается с очередями и сравнивает систему с платной моделью США.', 'side', 3, NULL, '{"required_quests": [], "required_flags": [], "required_reputation": {}, "required_items": []}'::jsonb, '[{"id": "visit_clinic", "text": "Посетить клинику Medicare и столкнуться с очередями", "type": "interact", "target": "medicare_clinic_toronto", "count": 1, "optional": false}, {"id": "understand_medicare", "text": "Понять устройство системы Medicare и её финансирование", "type": "interact", "target": "medicare_education", "count": 1, "optional": false}, {"id": "compare_with_us_system", "text": "Сравнить канадскую систему с платной моделью США", "type": "choice", "target": "healthcare_comparison", "count": 1, "optional": true}]'::jsonb, '{"experience": 800, "money": 0, "items": [{"item_id": "achievement_medicare_understanding", "quantity": 1}], "reputation": {"Toronto_Social_Community": 15}, "unlocks": ["healthcare_dialogues", "political_discussions"]}'::jsonb, '[{"branch_id": "healthcare_advocate_path", "description": "Стать защитником системы Medicare", "consequences": {"skills": {"social": 20, "politics": 15}, "reputation": {"Toronto_Social_Community": 25}}}]'::jsonb, '{"metadata": {"id": "quest-toronto-2029-canadian-healthcare", "title": "Торонто 2020-2029 — Канадская медицина", "document_type": "canon", "category": "timeline-quest", "status": "draft", "version": "2.0.0", "last_updated": "2025-11-23T02:30:00+00:00", "concept_approved": true, "concept_reviewed_at": "", "owners": [{"role": "concept_director", "contact": "concept@necp.game"}], "tags": ["toronto", "healthcare", "social_policy"], "topics": ["welfare_state", "civic_services"], "related_systems": ["gameplay-service", "quest-service", "character-service", "economy-service", "social-service"], "related_documents": [{"id": "timeline-author-quests-index", "relation": "references"}, {"id": "github-issue-1057", "title": "GitHub Issue", "link": "https://github.com/gc-lover/necpgame-monorepo/issues/1057", "relation": "migrated_to", "migrated_at": "2025-11-23T02:30:00+00:00"}], "source": "shared/docs/knowledge/canon/lore/timeline-author/quests/america/toronto/2020-2029/quest-010-canadian-healthcare.md", "visibility": "internal", "audience": ["concept", "narrative"], "risk_level": "medium"}, "review": {"chain": [{"role": "concept_director", "reviewer": "", "reviewed_at": "", "status": "pending"}], "next_actions": []}, "summary": {"problem": "Социальная линия Канады не объясняла устройство системы Medicare и её влияние на игроков.", "goal": "Продемонстрировать сильные и слабые стороны бесплатного здравоохранения через сюжетный опыт в Торонто.", "essence": "Игрок посещает клиники, сталкивается с очередями и сравнивает систему с платной моделью США.", "key_points": ["Medicare финансируется налогами, обеспечивая бесплатный доступ к основным услугам.", "Очереди на плановые процедуры остаются ключевой проблемой жителей.", "Система является источником национальной гордости и политических дискуссий."]}, "quest_definition": {"quest_type": "side", "level_min": 3, "level_max": null, "requirements": {"required_quests": [], "required_flags": [], "required_reputation": {}, "required_items": []}, "objectives": [{"id": "visit_clinic", "text": "Посетить клинику Medicare и столкнуться с очередями", "type": "interact", "target": "medicare_clinic_toronto", "count": 1, "optional": false}, {"id": "understand_medicare", "text": "Понять устройство системы Medicare и её финансирование", "type": "interact", "target": "medicare_education", "count": 1, "optional": false}, {"id": "compare_with_us_system", "text": "Сравнить канадскую систему с платной моделью США", "type": "choice", "target": "healthcare_comparison", "count": 1, "optional": true}], "rewards": {"experience": 800, "money": 0, "items": [{"item_id": "achievement_medicare_understanding", "quantity": 1}], "reputation": {"Toronto_Social_Community": 15}, "unlocks": ["healthcare_dialogues", "political_discussions"]}, "branches": [{"branch_id": "healthcare_advocate_path", "description": "Стать защитником системы Medicare", "consequences": {"skills": {"social": 20, "politics": 15}, "reputation": {"Toronto_Social_Community": 25}}}]}, "content": {"sections": [{"id": "overview", "title": "Описание", "body": "Квест погружает игрока в канадскую систему здравоохранения: от оформления карты здоровья до ожидания приёма\\nи обсуждения реформ со специалистами.\\n", "mechanics_links": [], "assets": []}, {"id": "stages", "title": "Этапы", "body": "1. Изучить правила Medicare и подтвердить право на бесплатное обслуживание.\\n2. Посетить семейного врача, продемонстрировать карту здоровья и оценить время ожидания.\\n3. Получить направление на МРТ, зарегистрировать длительность очереди и реакцию NPC.\\n4. Сравнить результаты с американскими клиниками, проанализировать стоимость аналогичных процедур.\\n5. Сделать вывод о справедливости и эффективности системы.\\n", "mechanics_links": [], "assets": []}, {"id": "regional_details", "title": "Региональные детали", "body": "Канадская модель строится на провинциальных программах, финансируемых федеральным правительством. Система\\nобеспечивает базовую помощь, но сталкивается с недостатком ресурсов и персонала в мегаполисах.\\n", "mechanics_links": [], "assets": []}, {"id": "rewards", "title": "Награды", "body": "- Опыт: 3 000 XP\\n- Атрибут «Социальный»: +20\\n- Ачивка: «Знаток Medicare»\\n", "mechanics_links": [], "assets": []}, {"id": "mechanics", "title": "Механики", "body": "Квест использует социальные и политические механики, влияя на доступ к медицинским услугам и отношение к\\nгосударственным институтам.\\n", "mechanics_links": [], "assets": []}, {"id": "connections", "title": "Связи", "body": "Связан с социальной линией Канады, сюжетами о налоговой системе и миссиями по гражданской ответственности.\\n", "mechanics_links": [], "assets": []}]}, "appendix": {"glossary": [], "references": [], "decisions": []}, "implementation": {"github_issue": 1057, "needs_task": false, "queue_reference": [], "blockers": []}, "history": [{"version": "2.0.0", "date": "2025-11-12", "author": "concept_team", "changes": "Конвертирован квест «Канадская медицина» в формат знаний."}], "validation": {"checksum": "", "schema_version": "1.0"}}'::jsonb, 1, true) ON CONFLICT (quest_id) DO UPDATE SET title = EXCLUDED.title, description = EXCLUDED.description, quest_type = EXCLUDED.quest_type, level_min = EXCLUDED.level_min, level_max = EXCLUDED.level_max, requirements = EXCLUDED.requirements, objectives = EXCLUDED.objectives, rewards = EXCLUDED.rewards, branches = EXCLUDED.branches, content_data = EXCLUDED.content_data, updated_at = CURRENT_TIMESTAMP;

COMMIT;

-- Total imported: 1 quest