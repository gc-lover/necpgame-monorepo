# Стандарты сетевых характеристик для киберспортивных игр

## Источники
На основе требований популярных киберспортивных игр: CS:GO, VALORANT, Overwatch, Rainbow Six Siege.

## Latency (Ping) - Задержка сети

### Классификация по качеству:

| Качество | Latency | Описание |
|----------|---------|----------|
| **Отличное** | < 30 ms | Идеально для профессионального киберспорта |
| **Хорошее** | 30-50 ms | Отличное качество, подходит для соревнований |
| **Приемлемое** | 50-100 ms | Играбельно, но заметна задержка |
| **Плохое** | 100-150 ms | Заметная задержка, влияет на геймплей |
| **Критическое** | > 150 ms | Неиграбельно для киберспорта |

### Пороги для тестирования:

- **Максимально допустимая latency**: 50 ms (хорошее качество)
- **Приемлемая latency**: 100 ms (минимально играбельно)
- **Критическая latency**: 150 ms (тест останавливается)

## Error Rate (Packet Loss) - Процент ошибок/потери пакетов

### Классификация по качеству:

| Качество | Error Rate | Описание |
|----------|------------|----------|
| **Отличное** | 0% | Идеально, без потерь |
| **Хорошее** | < 0.1% | Практически незаметно |
| **Приемлемое** | 0.1-0.5% | Минимальные потери, играбельно |
| **Плохое** | 0.5-1% | Заметные потери, влияет на геймплей |
| **Критическое** | > 1% | Неприемлемо для киберспорта |

### Пороги для тестирования:

- **Максимально допустимый error rate**: 0.5% (приемлемо для соревнований)
- **Критический error rate**: 1.0% (тест останавливается при превышении)

## Критерии остановки тестов

### Автоматическая остановка при:

1. **Error Rate >= 1.0%** (двойной порог от 0.5%)
   - Критически высокий процент ошибок
   - Система нестабильна для киберспорта

2. **Latency > 150 ms**
   - Критически высокая задержка
   - Неиграбельно для соревнований

3. **Throughput < 80% от ожидаемого**
   - Критически низкая пропускная способность
   - Система перегружена

### Критерии успешного теста:

1. **Error Rate < 0.5%**
2. **Latency <= 50 ms** (хорошее качество) или <= 100 ms (приемлемо)
3. **Throughput >= 95% от ожидаемого**
4. **Нет неудачных подключений**

## Применение в инструментах тестирования

### findlimit

Параметры по умолчанию:
- `-error-threshold 0.5` - максимально допустимый процент ошибок (0.5%)
- `-max-latency 50.0` - максимально допустимая latency (50 ms)
- `-critical-latency 150.0` - критическая latency для остановки (150 ms)

### Пример использования:

```bash
./findlimit \
  -url "ws://127.0.0.1:18080/ws?token=test" \
  -start 10 \
  -max 200 \
  -step 20 \
  -duration 20s \
  -hz 60 \
  -error-threshold 0.5 \
  -max-latency 50.0 \
  -critical-latency 150.0
```

## Сравнение с реальными играми

### CS:GO / CS2:
- Рекомендуемый ping: < 50 ms
- Максимально приемлемый: < 100 ms
- Критический: > 150 ms

### VALORANT:
- Рекомендуемый ping: < 35 ms
- Максимально приемлемый: < 80 ms
- Критический: > 120 ms

### Overwatch:
- Рекомендуемый ping: < 40 ms
- Максимально приемлемый: < 100 ms
- Критический: > 150 ms

## Примечания

1. **Latency измеряется как время записи в буфер WebSocket**, а не реальная сетевая задержка (RTT)
2. Для измерения реальной задержки нужно реализовать RTT через timestamp в сообщениях
3. Текущие пороги основаны на стандартах киберспортивных игр и могут быть скорректированы под конкретные требования

