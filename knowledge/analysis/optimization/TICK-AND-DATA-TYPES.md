# –¢–∏–∫ –∏ —Ä–∞–∑–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –≤ Protobuf

## üî¢ –ù–æ–º–µ—Ä —Ç–∏–∫–∞ (Tick)

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–∫–∞ –≤ –ø—Ä–æ–µ–∫—Ç–µ:

1. **–ö–ª–∏–µ–Ω—Ç** (`RealtimeWebSocketConnection.cpp`):
   - `ClientTick` —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏: `ClientTick = 0` (—Å—Ç—Ä–æ–∫–∞ 310)
   - –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ: `ClientTick++` (—Å—Ç—Ä–æ–∫–∞ 175)
   - –¢–∏–ø: `int64`

2. **–°–µ—Ä–≤–µ—Ä** (`LyraGameMode.cpp`):
   - `ServerTick` –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 0: `static int64 ServerTick = 0` (—Å—Ç—Ä–æ–∫–∞ 817)
   - –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ: `ServerTick++` (—Å—Ç—Ä–æ–∫–∞ 818)
   - –¢–∏–ø: `int64`

3. **Gateway** (`game_state.go`):
   - `tick` –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 0: `tick: 0` (—Å—Ç—Ä–æ–∫–∞ 30)
   - –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ: `gsm.tick++` (—Å—Ç—Ä–æ–∫–∞ 70)
   - –¢–∏–ø: `int64`

### –í–æ–ø—Ä–æ—Å: –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ª–∏ —Ç–∏–∫?

**–û—Ç–≤–µ—Ç**: –ù–ï–¢, —Ç–∏–∫ –ù–ï —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è!

**–ò—Å–∫–ª—é—á–µ–Ω–∏—è**:
- OK **–ö–ª–∏–µ–Ω—Ç**: –¢–∏–∫ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ (`ClientTick = 0` –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏)
- OK **–°–µ—Ä–≤–µ—Ä/Gateway**: –¢–∏–∫ –ù–ï —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è, –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ

### –†–∏—Å–∫ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è:

**int64 –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**: `9,223,372,036,854,775,807`

**–†–∞—Å—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –¥–æ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏ 60 Hz**:
- –¢–∏–∫–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É: 60
- –¢–∏–∫–æ–≤ –≤ –≥–æ–¥: 60 √ó 3600 √ó 24 √ó 365 = **1,892,160,000**
- –í—Ä–µ–º—è –¥–æ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è: 9,223,372,036,854,775,807 / 1,892,160,000 = **4,875,611,716 –ª–µ—Ç** OK

**–í—ã–≤–æ–¥**: –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ int64 –ø—Ä–∏ 60 Hz **–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ** –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö (–ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è 4.8 –º–∏–ª–ª–∏–∞—Ä–¥–∞ –ª–µ—Ç!).

### –ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏ (—Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏):

–ï—Å–ª–∏ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `int32` (–º–∞–∫—Å–∏–º—É–º: 2,147,483,647):
- –í—Ä–µ–º—è –¥–æ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è: 2,147,483,647 / 1,892,160,000 = **~1.13 –≥–æ–¥–∞** WARNING
- –≠—Ç–æ –±—ã–ª–æ –±—ã –ø—Ä–æ–±–ª–µ–º–æ–π!

**–ù–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `int64`** - –ø—Ä–æ–±–ª–µ–º—ã –Ω–µ—Ç OK

---

## üì¶ –†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö: –ü–æ—á–µ–º—É Move –∑–∞–Ω–∏–º–∞–µ—Ç 4 –±–∞–π—Ç–∞?

### Float32 –≤ Protobuf

**MoveX** –∏ **MoveY** –∏–º–µ—é—Ç —Ç–∏–ø `float32`, –∫–æ—Ç–æ—Ä—ã–π –≤ Protobuf –∑–∞–Ω–∏–º–∞–µ—Ç **—Ä–æ–≤–Ω–æ 4 –±–∞–π—Ç–∞** (wire type 5 = Fixed32).

### –ü—Ä–∏–º–µ—Ä –∏–∑ –≤–∞—à–µ–≥–æ –∫–æ–¥–∞:

```go
// EntityState:
type EntityState struct {
    X   float32  // 4 –±–∞–π—Ç–∞
    Y   float32  // 4 –±–∞–π—Ç–∞
    Z   float32  // 4 –±–∞–π—Ç–∞
    VX  float32  // 4 –±–∞–π—Ç–∞
    VY  float32  // 4 –±–∞–π—Ç–∞
    VZ  float32  // 4 –±–∞–π—Ç–∞
    Yaw float32  // 4 –±–∞–π—Ç–∞
}

// –í Protobuf:
entityBytes = writeVarInt(entityBytes, (2<<3)|5)  // tag: field 2, wire type 5 (Fixed32)
entityBytes = writeFloat32(entityBytes, entity.X)  // –∑–Ω–∞—á–µ–Ω–∏–µ: 4 –±–∞–π—Ç–∞
// –ò—Ç–æ–≥–æ: [tag: 1 –±–∞–π—Ç] [–∑–Ω–∞—á–µ–Ω–∏–µ: 4 –±–∞–π—Ç–∞] = 5 –±–∞–π—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ float32
```

### –ü–æ—á–µ–º—É 4 –±–∞–π—Ç–∞?

**float32** - —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π IEEE 754 —Ñ–æ—Ä–º–∞—Ç:
- **32 –±–∏—Ç–∞** = **4 –±–∞–π—Ç–∞**
- –î–∏–∞–ø–∞–∑–æ–Ω: –æ—Ç ~-3.4√ó10¬≥‚Å∏ –¥–æ ~3.4√ó10¬≥‚Å∏
- –¢–æ—á–Ω–æ—Å—Ç—å: ~7 –¥–µ—Å—è—Ç–∏—á–Ω—ã—Ö —Ü–∏—Ñ—Ä

–≠—Ç–æ **—Å—Ç–∞–Ω–¥–∞—Ä—Ç** –¥–ª—è –∏–≥—Ä –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç - –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –¥–ª—è –ø–æ–∑–∏—Ü–∏–π –∏–≥—Ä–æ–∫–æ–≤.

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –∏ –∏—Ö —Ä–∞–∑–º–µ—Ä—ã:

| –¢–∏–ø | –†–∞–∑–º–µ—Ä | –¢–æ—á–Ω–æ—Å—Ç—å | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|-----|--------|----------|---------------|
| **float32** | 4 –±–∞–π—Ç–∞ | ~7 —Ü–∏—Ñ—Ä | OK –¢–µ–∫—É—â–∏–π –≤—ã–±–æ—Ä (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ) |
| float64 | 8 –±–∞–π—Ç–∞ | ~15 —Ü–∏—Ñ—Ä | –ò–∑–±—ã—Ç–æ—á–Ω–æ –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç |
| fixed32 | 4 –±–∞–π—Ç–∞ | –¶–µ–ª–æ–µ —á–∏—Å–ª–æ | –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –¥—Ä–æ–±–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç |
| sfixed32 | 4 –±–∞–π—Ç–∞ | –¶–µ–ª–æ–µ —á–∏—Å–ª–æ —Å–æ –∑–Ω–∞–∫–æ–º | –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –¥—Ä–æ–±–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç |
| sint32 | 1-5 –±–∞–π—Ç (varint) | –¶–µ–ª–æ–µ —á–∏—Å–ª–æ | –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –¥—Ä–æ–±–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç |

**–í—ã–≤–æ–¥**: `float32` (4 –±–∞–π—Ç–∞) - **–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä** –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ –∏–≥—Ä–∞—Ö!

---

## üîç –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

### PlayerInput (–ø—Ä–∏–º–µ—Ä–Ω–æ 37-38 –±–∞–π—Ç):

```
[tag field 12: 1 –±–∞–π—Ç] [length: 1 –±–∞–π—Ç] [
  [tag field 1: 1 –±–∞–π—Ç] [length: 1 –±–∞–π—Ç] [player_id: 9 –±–∞–π—Ç],  // PlayerID: "p00000001"
  [tag field 2: 1 –±–∞–π—Ç] [tick: 1-9 –±–∞–π—Ç varint],               // Tick: int64 (varint)
  [tag field 3: 1 –±–∞–π—Ç] [move_x: 4 –±–∞–π—Ç–∞],                     // MoveX: float32
  [tag field 4: 1 –±–∞–π—Ç] [move_y: 4 –±–∞–π—Ç–∞],                     // MoveY: float32
  [tag field 5: 1 –±–∞–π—Ç] [shoot: 1 –±–∞–π—Ç],                       // Shoot: bool (varint)
  [tag field 6: 1 –±–∞–π—Ç] [aim_x: 4 –±–∞–π—Ç–∞],                      // AimX: float32
  [tag field 7: 1 –±–∞–π—Ç] [aim_y: 4 –±–∞–π—Ç–∞]                       // AimY: float32
]
```

### EntityState (–ø—Ä–∏–º–µ—Ä–Ω–æ 35-40 –±–∞–π—Ç –Ω–∞ —Å—É—â–Ω–æ—Å—Ç—å):

```
[tag field 2: 1 –±–∞–π—Ç] [length: 1 –±–∞–π—Ç] [
  [tag field 1: 1 –±–∞–π—Ç] [length: 1 –±–∞–π—Ç] [id: N –±–∞–π—Ç],         // ID: string
  [tag field 2: 1 –±–∞–π—Ç] [x: 4 –±–∞–π—Ç–∞],                          // X: float32
  [tag field 3: 1 –±–∞–π—Ç] [y: 4 –±–∞–π—Ç–∞],                          // Y: float32
  [tag field 4: 1 –±–∞–π—Ç] [z: 4 –±–∞–π—Ç–∞],                          // Z: float32
  [tag field 5: 1 –±–∞–π—Ç] [vx: 4 –±–∞–π—Ç–∞],                         // VX: float32
  [tag field 6: 1 –±–∞–π—Ç] [vy: 4 –±–∞–π—Ç–∞],                         // VY: float32
  [tag field 7: 1 –±–∞–π—Ç] [vz: 4 –±–∞–π—Ç–∞],                         // VZ: float32
  [tag field 8: 1 –±–∞–π—Ç] [yaw: 4 –±–∞–π—Ç–∞]                         // Yaw: float32
]
```

### –ü–æ—á–µ–º—É float32 –æ–ø—Ç–∏–º–∞–ª–µ–Ω –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç:

1. **–î–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å**: ~7 –¥–µ—Å—è—Ç–∏—á–Ω—ã—Ö —Ü–∏—Ñ—Ä
   - –î–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ –º–µ—Ç—Ä–∞—Ö: —Ç–æ—á–Ω–æ—Å—Ç—å –¥–æ 0.0001 –º–µ—Ç—Ä–∞ (0.1 –º–º)
   - –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –∏–≥—Ä

2. **–†–∞–∑–º–µ—Ä**: 4 –±–∞–π—Ç–∞ - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è –¥—Ä–æ–±–Ω—ã—Ö —á–∏—Å–µ–ª
   - –ù–µ–ª—å–∑—è —É–º–µ–Ω—å—à–∏—Ç—å –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: float32 –±—ã—Å—Ç—Ä–µ–µ float64
   - –ú–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏
   - –ë—ã—Å—Ç—Ä–µ–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

---

## üí° –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Tick (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä):

**–¢–µ–∫—É—â–∏–π –≤–∞—Ä–∏–∞–Ω—Ç** (int64, varint):
```go
Tick: 1234567  // –ó–∞–Ω–∏–º–∞–µ—Ç 3-4 –±–∞–π—Ç–∞ (varint)
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞** (int32, varint):
```go
Tick: int32(1234567)  // –ó–∞–Ω–∏–º–∞–µ—Ç 2-3 –±–∞–π—Ç–∞ (varint)
// –≠–∫–æ–Ω–æ–º–∏—è: ~1 –±–∞–π—Ç
// –ù–æ –ø–µ—Ä–µ–ø–æ–ª–Ω–∏—Ç—Å—è —á–µ—Ä–µ–∑ ~1 –≥–æ–¥ –ø—Ä–∏ 60 Hz (–µ—Å–ª–∏ –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å)
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞** (uint32, fixed):
```go
Tick: uint32(1234567)  // –ó–∞–Ω–∏–º–∞–µ—Ç 4 –±–∞–π—Ç–∞ (fixed32)
// –ù–µ —ç–∫–æ–Ω–æ–º–∏—Ç –º–µ—Å—Ç–æ, –Ω–æ –ø—Ä–æ—â–µ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –û—Å—Ç–∞–≤–∏—Ç—å `int64` - –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ, —Ä–∞–∑–º–µ—Ä varint –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ —ç–∫–æ–Ω–æ–º–∏—è):

**–¢–µ–∫—É—â–∏–π –≤–∞—Ä–∏–∞–Ω—Ç** (float32, 4 –±–∞–π—Ç–∞):
```go
X: 123.456  // 4 –±–∞–π—Ç–∞
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞** (sint32 –≤ —Å–∞–Ω—Ç–∏–º–µ—Ç—Ä–∞—Ö, varint):
```go
X: sint32(12345)  // 1-3 –±–∞–π—Ç–∞ (varint) = –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –≤ —Å–º
// –≠–∫–æ–Ω–æ–º–∏—è: 1-3 –±–∞–π—Ç–∞ –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É
// –ù–æ –ø–æ—Ç–µ—Ä—è —Ç–æ—á–Ω–æ—Å—Ç–∏ –∏ –Ω—É–∂–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞** (fixed16 - –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π):
```go
X: int16(12345)  // 2 –±–∞–π—Ç–∞, –Ω–æ –æ—á–µ–Ω—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω
// –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –û—Å—Ç–∞–≤–∏—Ç—å `float32` - –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å —Ä–∞–∑–º–µ—Ä–∞ –∏ —Ç–æ—á–Ω–æ—Å—Ç–∏.

---

## OK –ò—Ç–æ–≥–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã

### 1. –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ª–∏ –Ω–æ–º–µ—Ä —Ç–∏–∫–∞?

**–ù–ï–¢**, —Ç–∏–∫ –ù–ï —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- OK –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `int64` (–ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 4.8 –º–∏–ª–ª–∏–∞—Ä–¥–∞ –ª–µ—Ç - –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ)
- OK –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞ (ClientTick = 0)
- OK –°–µ—Ä–≤–µ—Ä/Gateway: —Ç–∏–∫ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞, —Å–±—Ä–æ—Å –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

### 2. –ü–æ—á–µ–º—É Move –∑–∞–Ω–∏–º–∞–µ—Ç 4 –±–∞–π—Ç–∞?

**float32 –≤—Å–µ–≥–¥–∞ –∑–∞–Ω–∏–º–∞–µ—Ç 4 –±–∞–π—Ç–∞** –≤ Protobuf:
- OK –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è float32 (IEEE 754)
- OK –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å: —Ç–æ—á–Ω–æ—Å—Ç—å vs —Ä–∞–∑–º–µ—Ä
- OK –ù–µ–ª—å–∑—è —É–º–µ–Ω—å—à–∏—Ç—å –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏
- OK –°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ –∏–≥—Ä–∞—Ö

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –û—Å—Ç–∞–≤–∏—Ç—å `float32` - —Ç–µ–∫—É—â–∏–π –≤—ã–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª–µ–Ω.

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ (—Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

| –ü–æ–ª–µ | –¢–∏–ø | –†–∞–∑–º–µ—Ä –≤ Protobuf | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è |
|------|-----|-------------------|-------------|
| Tick | int64 (varint) | 1-9 –±–∞–π—Ç | OK –û–ø—Ç–∏–º–∞–ª—å–Ω–æ |
| MoveX | float32 | 5 –±–∞–π—Ç (tag + value) | OK –û–ø—Ç–∏–º–∞–ª—å–Ω–æ |
| MoveY | float32 | 5 –±–∞–π—Ç (tag + value) | OK –û–ø—Ç–∏–º–∞–ª—å–Ω–æ |
| PlayerID | string | 2-11 –±–∞–π—Ç (tag + length + data) | WARNING –ú–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å ("p00000001" ‚Üí "p1") |

**–ì–ª–∞–≤–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –£–º–µ–Ω—å—à–∏—Ç—å –¥–ª–∏–Ω—É PlayerID (`"p00000001"` ‚Üí `"p1"`) - —ç–∫–æ–Ω–æ–º–∏—è 7 –±–∞–π—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ!

