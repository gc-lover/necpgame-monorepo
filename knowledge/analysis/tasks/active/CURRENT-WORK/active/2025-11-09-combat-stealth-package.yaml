metadata:
  id: analysis-combat-stealth-package
  title: Подготовка пакета combat stealth
  document_type: analysis
  category: operations
  status: draft
  version: '1.0.0'
  last_updated: 2025-11-09T01:39:00Z
  concept_approved: false
  concept_reviewed_at: ''
  owners:
    - role: brain_manager
      contact: brain@necp.game
  tags:
    - combat
    - stealth
    - shooter-transition
  topics:
    - gameplay
    - infiltration
  related_systems:
    - gameplay-service
    - analytics-service
  related_documents:
    - id: combat-stealth
      relation: references
  source: shared/docs/knowledge/analysis/tasks/active/CURRENT-WORK/active/2025-11-09-combat-stealth-package.md
  visibility: internal
  audience:
    - brain-team
    - combat-design
  risk_level: medium
review:
  chain:
    - role: brain_manager
      reviewer: ''
      reviewed_at: ''
      status: pending
  next_actions: []
summary:
  problem: Нужно зафиксировать текущее состояние подготовки API пакета стелса в рамках shooter перехода.
  goal: Систематизировать подтверждённые интерфейсы, события и требования к хранилищу.
  essence: Документ является сводкой перед декомпозицией задач по REST/Events/WS и хранилищу combat stealth.
  key_points:
    - Подтверждён readiness исходного документа и каталогов.
    - Определены REST, события и WebSocket для стелса.
    - Зафиксированы зависимости с боевыми системами и аналитикой.
content:
  sections:
    - id: progress
      title: Прогресс
      body: |
        `combat-stealth.md` перепроверен: статус `approved`, `api-readiness: ready`, каталог `api/v1/gameplay/combat/stealth.yaml`,
        фронтенд `modules/combat/stealth`. Определены ключевые каналы обнаружения, социальная инженерия и взаимодействие с боевыми
        системами, подтверждены зависимости с AI, hacking, abilities, quest engine и аналитикой.
      mechanics_links: []
      assets: []
    - id: interfaces
      title: Интерфейсы (черновик)
      body: |
        REST: `/combat/stealth/profiles`, `/combat/stealth/detection`, `/combat/stealth/abilities`,
        `/combat/stealth/zones`, `/combat/stealth/alerts`. WebSocket `wss://api.necp.game/v1/gameplay/combat/stealth/{sessionId}`
        информирует об уровнях угрозы. События: `stealth:detection-triggered`, `stealth:alert-cleared`,
        `stealth:ability-activated`, `stealth:noise-generated`.
      mechanics_links: []
      assets: []
    - id: storage
      title: Хранение
      body: |
        Планируются таблицы `stealth_profiles`, `detection_zones`, `stealth_abilities`, `stealth_alerts`,
        `stealth_noise_events` с гибкими параметрами.
      mechanics_links: []
      assets: []
    - id: follow_up
      title: Следующие шаги
      body: |
        - Разбить REST/Events/WS на задачи с уточнёнными payload.
        - Зафиксировать интеграции с боевым AI и сетями.
        - Подготовить пакет к передаче ДУАПИТАСК после открытия окна.
      mechanics_links: []
      assets: []
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  needs_task: false
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml#analysis-combat-stealth-package
  blockers: []
history:
  - version: '1.0.0'
    date: 2025-11-11
    author: Brain Manager
    changes: Конвертация заметки по подготовке combat stealth пакета в YAML.
validation:
  checksum: ''
  schema_version: '1.0'

