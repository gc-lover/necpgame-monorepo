# Issue: #461
metadata:
  id: analysis-ideas-2025-11-03-procedural-equipment-matrix
  title: Процедурная матрица снаряжения
  document_type: analysis
  category: combat-systems
  status: approved
  version: '1.1.0'
  last_updated: 2025-12-12T10:30:00Z
  concept_approved: true
  concept_reviewed_at: 2025-11-27T22:07:45Z
  processed_by: idea-writer
  processed_at: 2025-12-12T10:30:00Z
  github_issue_number: 461
  owners:
    - role: brain_manager
      contact: brain.manager@necp.game
  tags:
    - loot
    - procedural-generation
    - equipment
  topics:
    - combat
    - progression
    - economy
  related_systems:
    - gameplay-service
    - inventory
    - economy-service
    - crafting-service
    - analytics-service
  related_documents:
    - id: github-issue-461
      title: GitHub Issue #461
      link: https://github.com/gc-lover/necpgame-monorepo/issues/461
      relation: migrated_to
      migrated_at: 2025-11-22T20:57:40Z
    - id: architecture-procedural-equipment-matrix
      title: Архитектура процедурной матрицы снаряжения
      link: knowledge/implementation/architecture/procedural-equipment-matrix-architecture.yaml
      relation: part_of
      created_at: 2025-11-23T14:13:24Z
    - id: openapi-economy-service
      title: OpenAPI спецификация Economy Service
      link: proto/openapi/economy-service.yaml
      relation: part_of
      created_at: 2025-11-23T14:18:11Z
  source: shared/docs/knowledge/analysis/tasks/ideas/2025-11-03-IDEA-procedural-equipment-matrix.md
  visibility: internal
  audience:
    - concept
    - combat
    - economy
  risk_level: medium
review:
  chain:
    - role: brain_manager
      reviewer: ''
      reviewed_at: ''
      status: pending
  next_actions:
    - owner: brain_manager
      action: утвердить перечень брендов и редкостей (таблица brand_matrix)
      due_at: 2025-12-18
    - owner: api-designer
      action: обновить OpenAPI /economy/equipment с brand_id, rarity_seed, stat_pool_id
      due_at: 2025-12-20
    - owner: backend
      action: оформить тестовые сиды и фикстуры матрицы (10 брендов, 5 редкостей, 6 пулов статов)
      due_at: 2025-12-22
summary:
  problem: Текущему документу требуется систематизировать идею процедурной генерации снаряжения с учётом брендов и баланса.
  goal: Определить основы матрицы характеристик и модификаторов для оружия, имплантов и экипировки.
  essence: Концепция описывает лут-систему по типу Borderlands, адаптированную под MMORPG с корпорациями и синергиями имплантов.
  key_points:
    - Матрица строится из брендов, базовых типов, редкостей, пулов характеристик и модификаторов.
    - Предусмотрены детерминированные сиды и балансировка по лигам, режимам и зонам.
    - Система глубоко интегрирована с экономикой, крафтом и кибернетикой персонажей.
    - Определён перечень вопросов по брендам, пулам статов и интеграции с прогрессией.
content:
  sections:
    - id: concept_outline
      title: Основная концепция
      body: |
        Матрица строится как комбинация корпорации, базового типа предмета, класса редкости, пулов характеристик, индивидуальных
        модификаторов и слотов модов. Предметы создаются процедурно, но опираются на лорные идентичности брендов.
      mechanics_links: []
      assets: []
    - id: generation_model
      title: Модель генерации и баланс
      body: |
        Предлагается поддержка процедурного дропа, крафта и квестовых наград с детерминированными сидами. Баланс пулов статов
        производится по лигам, режимам PvE/PvP/экстракта и температурным ограничениям, чтобы удерживать TTK и риски киберпсихоза.
        - Редкости: Common (0.5), Uncommon (0.3), Rare (0.12), Epic (0.06), Legendary (0.02) — веса до серверных эвентов.
        - Пулы статов: weapon_core (DMG/ROF/ACC), cyber_core (latency/stability/heat), armor_core (DR/HP/resists), utility_core (mobility/reload/stealth), support_core (heal/regen/cooldown), exotic_core (proc/chain/cc).
        - Сиды: global_seed для сезона, shard_seed для шардов, player_seed для deterministic craft; формула: hash(season_seed, shard_id, player_id, item_slot, roll_id).
        - Ограничения: TTK PvP 0.8–1.2s целевой; PvE энкаунтеры держать DPS-рейтинг ±8% от эталона уровня; тепловой бюджет имплантов ≤ 115% от допустимого класса.
        - Anti-abuse: reroll ограничен 3/сутки на аккаунт; craft гарантирует один стат из целевого пула; легоси-предметы получают cap для progression-лиг.
      mechanics_links: []
      assets: []
    - id: system_links
      title: Интеграция с системами
      body: |
        Проработаны связи с боевой моделью, имплантами, ICE, экономикой и социальными механиками. Предусмотрены сет-бонусы,
        фракционные эксклюзивы и зависимости от энергобюджета персонажа.
      mechanics_links: []
      assets: []
    - id: followup_questions
      title: Вопросы для дальнейшей работы
      body: |
        Выделены вопросы о перечне корпораций, характеристиках, модификаторах, модели генерации, балансных метриках, интеграции с
        крафтом и влиянии на экономику прогрессии лиг.
      mechanics_links: []
      assets: []
    - id: brand_matrix
      title: Бренды, сигнатуры и модификаторы
      body: |
        | Бренд | Фракция | Сигнатуры | Слабости | Уникальные моды |
        | --- | --- | --- | --- | --- |
        | Kiroshi Black | корпы | +ACC, +CRIT, low recoil | -HP, -heat cap | «Optic Lace» (ADS speed +15%), «Silent Sync» (-8% шум) |
        | Militech Vanguard | милитар | +DMG, +pen, +stability | -stealth, -mobility | «Overpress» (+12% pen, +heat), «Brace» (-recoil ramp) |
        | Arasaka Oni | синергия имплантов | +proc chance, +hack synergy | -raw DMG | «Neural Chain» (chains 2 targets), «Ghost Ping» (mark on crit) |
        | Kang Tao Pulse | мобайл | +ROF, +reload, +mobility | -ACC | «Slide Reload» (reload while sliding), «Pulse Tap» (+ROF burst) |
        | Zetatech Frost | контроль | +slow/cc, +cooldown | -DMG | «Frost Spike» (slow on hit), «Coolant Loop» (-heat, +stability) |
        | Biotechnica Regen | выживаемость | +HP, +regen, +DR | -burst | «Cell Bloom» (+HoT on hit), «Thick Skin» (+DR on low HP) |
        | Midnight Null | эксплойты | +crit multi, +backstab | -front DPS | «Backline» (+crit multi from behind), «Null Trace» (short vanish on kill) |
        | Maelstrom Scrap | DIY | random rolls +chaos | -reliability | «Glitch Mod» (random proc), «Risk Spike» (+huge DMG, -stability) |
        | Trauma Team Guardian | саппорт | +ally buffs, +rez speed | -solo DPS | «Guardian Field» (+ally DR), «Fast Patch» (rez speed) |
        | 6th Street Grit | бюджет | +consistency, +cheap craft | -exotics | «Reliable Feed» (+jam immunity), «Spare Parts» (-craft cost) |
        - Редкость влияет на количество мод-слотов: C=0/1, U=1, R=2, E=3, L=4.
        - Exotic Core доступен только Epic+ и требует сезонного seed-флага.
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  github_issue: 461
  needs_task: false
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml#analysis-ideas-2025-11-03-procedural-equipment-matrix
  blockers: []
history:
  - version: '1.1.0'
    date: 2025-12-12
    author: idea-writer
    changes: Добавлены brand_matrix, сиды, веса редкостей, анти-абьюз и next_actions для API/Backend.
  - version: '0.1.0'
    date: 2025-11-11
    author: brain_manager
    changes: Конвертация концепта процедурной матрицы снаряжения в формат знания.
  - version: '1.0.0'
    date: 2025-11-27
    author: idea-writer
    changes: Идея полностью проработана, созданы архитектура и OpenAPI спецификация. Статус обновлен на approved.
validation:
  checksum: ''
  schema_version: '1.0'


