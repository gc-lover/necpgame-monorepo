# Issue: #1458
metadata:
  id: analysis-ideas-2025-11-29-vertical-city-architecture-part3-mechanics
  title: Вертикальная архитектура городов - Часть 3: Механики исследования и навигации
  document_type: analysis
  category: world-architecture
  status: in_progress
  version: '0.2.0'
  last_updated: 2025-12-12T13:25:00Z
  concept_approved: false
  concept_reviewed_at: ''
  processed_by: idea-writer
  processed_at: 2025-12-12T13:25:00Z
  github_issue_number: 1458
  owners:
    - role: brain_manager
      contact: brain.manager@necp.game
  tags:
    - vertical-architecture
    - exploration-mechanics
    - navigation
    - part3
  topics:
    - world-building
    - gameplay-mechanics
    - navigation-systems
  related_systems:
    - movement-service
    - exploration-service
    - location-service
    - world-service
  related_documents:
    - id: github-issue-1455
      title: GitHub Issue #1455
      link: https://github.com/gc-lover/necpgame-monorepo/issues/1455
      relation: part_of
      migrated_at: 2025-11-29T00:05:44Z
  source: knowledge/analysis/tasks/ideas/2025-11-29-IDEA-vertical-city-architecture-part3-mechanics.yaml
  visibility: internal
  audience:
    - concept
    - gameplay
    - level-design
  risk_level: high
review:
  chain:
    - role: brain_manager
      reviewer: ''
      reviewed_at: ''
      status: pending
  next_actions: []
summary:
  problem: |
    Вертикальное исследование городов требует уникальных механик перемещения и навигации, отличающихся от традиционного 
    горизонтального исследования. Необходимы системы для перемещения между уровнями, навигации в трёх измерениях и адаптация 
    UI под вертикальную структуру.
  goal: |
    Описать механики вертикального исследования: системы перемещения вверх и вниз, карты высот, навигационные системы, 
    физические ограничения и дифференциацию уровней по сферам интересов.
  essence: |
    Третья часть концепции описывает все игровые механики, необходимые для вертикального исследования: перемещение между 
    уровнями, системы навигации, карты, физические ограничения и уникальные сферы интересов каждого уровня.
  key_points:
    - Системы перемещения вверх и вниз
    - Карты высот и вертикальная навигация
    - Физические ограничения (кислород, давление, радиация)
    - Дифференциация уровней по сферам интересов
    - Адаптация UI под вертикальную структуру
content:
  sections:
    - id: gameplay_loop_rewards
      title: Игровой цикл, награды, анти-абьюз и метрики
      body: |
        **Цикл:** сигнал слоя/маршрута → выбор пути (лифты/паркур/дроны) → перемещение/перепрыгивание уровней → поиск POI/квест → эксфил/кулдаун.  
        **Награды:** вертикальные пропуски, карты высот, моды перемещения, титулы «Навигатор», косметика HUD/миникарты.  
        **Анти-абьюз:** DR на фарм одного маршрута, лимиты пропусков/день, анти-флай/клип проверки, динамическая охрана при перегрузе слоёв.  
        **Метрики:** конверсия сигнал → вход → завершение → награда; время перемещения между слоями; загрузка лифтов/маршрутов; процент травм/падений; удержание исследователей 7/14.
      mechanics_links: []
      assets: []
    - id: exploration_mechanics
      title: Механики вертикального исследования
      body: |
        Исследование вертикальных городов и промышленных комплексов требует уникальных механик, которые отличают вертикальное 
        исследование от горизонтального. Игроки должны иметь возможность свободно перемещаться между уровнями, понимать свою 
        позицию в трёх измерениях и иметь доступ к контенту на каждом уровне.
      mechanics_links: []
      assets: []
    
    - id: movement_systems
      title: Системы перемещения
      body: |
        ## Перемещение вверх (Ascending)
        
        ### Лифты
        
        Стандартный способ перемещения между уровнями. Могут быть корпоративными (требуют пропуска), общественными (доступны 
        всем), или заброшенными (требуют взлома). Лифты могут быть медленными, но безопасными.
        
        ### Вентиляционные шахты
        
        Альтернативный путь для инфильтрации. Требуют навыков паркура и скрытности. Быстрые, но опасные - можно встретить 
        охрану или опасные механизмы.
        
        ### Внешние конструкции
        
        Паркур по внешним стенам зданий. Очень опасно, но позволяет обойти системы безопасности. Требует специального 
        оборудования и навыков. Подходит для скрытного проникновения.
        
        ### Грави-платформы
        
        Быстрое перемещение между небоскрёбами на большой высоте. Используются корпорациями и элитой. Могут требовать 
        специального доступа или взлома.
        
        ### Воздушные мосты
        
        Переходы между зданиями на высоте. Служат как общественные пространства и пути перемещения. Могут быть открытыми или 
        закрытыми, с различным уровнем безопасности.
        
        ### Дроны и транспорт
        
        Использование техники для быстрого перемещения между уровнями. Требует управления транспортным средством или дроном. 
        Может быть использовано для тактического преимущества.
        
        ## Перемещение вниз (Descending)
        
        ### Лестницы и технические коридоры
        
        Стандартный способ спуска вниз. Доступны в большинстве зданий. Могут быть заброшены или охраняемы.
        
        ### Вентиляционные шахты
        
        Альтернативный путь для спуска. Требует навыков паркура. Может быть узким и опасным.
        
        ### Лифты
        
        Если лифты ещё работают, они могут быть использованы для спуска. Но многие лифты в заброшенных зонах не функционируют.
        
        ### Трубы и коммуникации
        
        Узкие проходы для инфильтрации. Используются для скрытного проникновения в здания через технические системы.
        
        ### Обвалы и провалы
        
        Случайные входы в подземелья, образовавшиеся из-за разрушений или технических аварий. Могут привести в неожиданные 
        места или быть смертельно опасными.
        
        ### Метро-туннели
        
        Сеть подземных ходов, соединяющих разные части города. Могут быть рабочими (с транспортом) или заброшенными (опасными).
      mechanics_links: []
      assets: []
    
    - id: height_level_system
      title: Система уровней высоты
      body: |
        Каждый уровень имеет свой индекс высоты, который влияет на различные аспекты игрового процесса.
        
        ## Влияние уровня высоты
        
        ### Доступный контент
        
        Разные уровни предлагают разный контент: квесты, NPC, торговцы, локации. Игрок должен исследовать все уровни, чтобы 
        получить доступ ко всему контенту.
        
        ### Сложность врагов
        
        Враги на разных уровнях имеют разную сложность. Верхние уровни (элитные районы) могут иметь более сильную охрану, 
        нижние уровни - мутантов и опасности.
        
        ### Тип ресурсов
        
        Каждый уровень имеет свои типы ресурсов. Верхние уровни - высокотехнологичные компоненты, нижние - сырьё и отходы.
        
        ### Атмосферные эффекты
        
        Температура, давление, видимость меняются в зависимости от уровня. Верхние уровни - холоднее, ниже давление, на нижних 
        уровнях - выше давление, токсичная атмосфера.
        
        ### Требования к оборудованию
        
        На больших высотах требуются кислородные маски или специальные импланты. В глубоких подземельях - защита от радиации 
        и давления. Игрок должен иметь соответствующее оборудование для безопасного исследования.
      mechanics_links: []
      assets: []
    
    - id: height_map
      title: Карта высот
      body: |
        Игроки могут видеть вертикальную карту города, показывающую все доступные уровни. Карта является ключевым инструментом 
        для навигации в вертикальном пространстве.
        
        ## Элементы карты высот
        
        ### Текущий уровень игрока
        
        Чётко обозначен текущий уровень, на котором находится игрок. Это помогает понять позицию в вертикальном пространстве.
        
        ### Доступные переходы
        
        Показаны все доступные способы перемещения между уровнями: лифты, лестницы, вентиляционные шахты и т.д. Игрок видит, 
        куда может попасть с текущего уровня.
        
        ### Важные локации
        
        На карте отмечены важные локации на каждом уровне: торговцы, NPC для квестов, точки интереса, скрытые проходы.
        
        ### Уровень опасности
        
        Каждый участок имеет индикатор уровня опасности, помогающий игроку подготовиться к возможным угрозам.
        
        ### Фильтрация по уровням
        
        Игрок может фильтровать карту, показывая только определённые уровни или типы локаций.
      mechanics_links: []
      assets: []
    
    - id: minimap_navigation
      title: Мини-карта и навигация
      body: |
        Мини-карта адаптируется к вертикальному исследованию, показывая информацию о текущем уровне и способах перемещения.
        
        ## Адаптация мини-карты
        
        ### Текущий уровень
        
        Мини-карта показывает карту текущего уровня, на котором находится игрок. Переключение между уровнями позволяет видеть 
        планировку других уровней.
        
        ### Переходы на другие уровни
        
        На мини-карте отмечены точки перехода на другие уровни (лифты, лестницы). Игрок видит, куда можно попасть.
        
        ### Направление к целям
        
        Мини-карта указывает не только горизонтальное направление к цели, но и вертикальное - вверх или вниз нужно двигаться.
        
        ### Фильтрация маркеров
        
        Маркеры на мини-карте фильтруются по уровню - игрок видит только маркеры, релевантные текущему уровню или всем уровням.
        
        ### 3D-индикаторы
        
        На мини-карте могут быть 3D-индикаторы, показывающие относительное положение объектов в вертикальном пространстве.
      mechanics_links: []
      assets: []
    
    - id: physical_limitations
      title: Физические ограничения
      body: |
        Вертикальное исследование создаёт физические ограничения, которые игрок должен учитывать при планировании маршрута.
        
        ## Кислород на больших высотах
        
        На стратосферных уровнях воздух разрежён, требуется специальное оборудование или импланты для дыхания. Без них игрок 
        теряет здоровье и не может находиться на больших высотах долго.
        
        ## Давление в глубоких подземельях
        
        В глубоких подземельях высокое давление, которое может повредить незащищённого игрока. Требуется специальная защита.
        
        ## Радиация
        
        Некоторые подземные зоны имеют радиоактивное загрязнение. Игрок должен иметь защиту от радиации, иначе будет получать 
        постоянный урон.
        
        ## Температура
        
        Экстремальные температуры (холод на высоте, жара в подземных зонах) требуют соответствующего оборудования или 
        терморегуляционных имплантов.
        
        ## Видимость
        
        Туман на высоте, дым в подземельях, темнота в катакомбах - всё это влияет на видимость и геймплей. Требуется 
        освещение или специальные импланты для улучшения видимости.
      mechanics_links: []
      assets: []
    
    - id: level_differentiation
      title: Дифференциация уровней по сферам интересов
      body: |
        Каждый уровень высоты имеет свою уникальную экосистему с различными сферами интересов, которые определяют, какой 
        контент и механики доступны игроку.
        
        ## Стратосферные Шпили
        
        Сферы интересов: Корпоративная политика, эксклюзивные технологии, финансовые операции, научные исследования, 
        космическая индустрия.
        
        Типичные активности: Переговоры с корпоративными лидерами, защита корпоративных интересов, шпионаж между корпорациями, 
        исследование экспериментальных технологий.
        
        ## Верхние Небоскрёбы
        
        Сферы интересов: Бизнес и коммерция, медиа и реклама, банковские операции, имплантология, социальные сети.
        
        Типичные активности: Корпоративные контракты, торговля технологиями, взломы корпоративных сетей, социальные 
        взаимодействия.
        
        ## Средние Уровни
        
        Сферы интересов: Повседневная жизнь, культура и развлечения, образование, социальные группы.
        
        Типичные активности: Боковые квесты, торговля обычными товарами, социальные мини-игры, исследование районов.
        
        ## Уличный Уровень
        
        Сферы интересов: Уличная преступность, подпольный бизнес, информация, основной сюжет.
        
        Типичные активности: Уличные бои, торговля оружием и наркотиками, встречи с информаторами, основные сюжетные квесты.
        
        ## Нижние Районы
        
        Сферы интересов: Заброшенные технологии, подпольные лаборатории, укрытия преступников, исторические секреты.
        
        Типичные активности: Исследование заброшенных зон, бои с мутантами, поиск редких ресурсов, квесты о прошлом.
        
        ## Катакомбы и Метро
        
        Сферы интересов: Подпольные рынки, секретные организации, альтернативные маршруты, заброшенные технологии.
        
        Типичные активности: Торговля на подпольных рынках, встречи с секретными организациями, исследование туннелей, поиск 
        альтернативных путей.
        
        ## Глубокие Подземелья
        
        Сферы интересов: Редчайшие ресурсы, заброшенные лаборатории, древние артефакты, ключевые сюжетные локации.
        
        Типичные активности: Экстремальное выживание, бои с опасными мутантами, поиск редчайших артефактов, ключевые сюжетные 
        квесты.
      mechanics_links: []
      assets: []
appendix:
  glossary:
    - term: Грави-Платформа
      definition: Платформа с искусственной гравитацией для перемещения между уровнями
    - term: Уровень высоты
      definition: Индекс, определяющий вертикальное положение игрока в городе
    - term: Карта высот
      definition: Вертикальная карта, показывающая все уровни города
  references:
    - type: internal
      link: knowledge/analysis/tasks/ideas/2025-11-29-IDEA-vertical-city-architecture-part1-overview.yaml
      title: Часть 1: Основная концепция и вертикальные уровни
    - type: internal
      link: knowledge/analysis/tasks/ideas/2025-11-29-IDEA-vertical-city-architecture-part2-industrial.yaml
      title: Часть 2: Промышленные комплексы
    - type: internal
      link: knowledge/analysis/tasks/ideas/2025-11-29-IDEA-vertical-city-architecture-part4-infrastructure.yaml
      title: Часть 4: Подземная и воздушная инфраструктура
  decisions: []
implementation:
  github_issue: 1458
  needs_task: true
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml#analysis-ideas-2025-11-29-vertical-city-architecture-part3-mechanics
  blockers: []
history:
  - version: '0.2.0'
    date: 2025-12-12
    author: idea_writer
    changes: Добавлены игровой цикл, награды, анти-абьюз, метрики; обновлены даты и Issue header.
  - version: '0.1.0'
    date: 2025-11-29
    author: idea-writer
    changes: Создана третья часть концепции - механики исследования и навигации
validation:
  checksum: ''
  schema_version: '1.0'

