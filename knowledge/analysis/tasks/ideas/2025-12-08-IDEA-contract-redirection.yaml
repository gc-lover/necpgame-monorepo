# Issue: #1687
metadata:
  id: analysis-ideas-2025-12-08-contract-redirection
  title: Механика: «Подмена задач» (редирект контрактов)
  document_type: analysis
  category: hacking
  status: in_review
  version: '0.1.0'
  last_updated: 2025-12-12T13:32:00Z
  concept_approved: false
  concept_reviewed_at: ''
  processed_by: idea-writer
  processed_at: 2025-12-12T13:32:00Z
  github_issue_number: 1687
  owners:
    - role: systems_designer
      contact: systems@necp.game
  tags: [contracts, hacking, diversion]
  topics: [mission-fraud, netrunner]
  related_systems: [contracts-service, reputation, ai-raids]
  related_documents: []
  source: knowledge/analysis/tasks/ideas/2025-12-08-IDEA-contract-redirection.yaml
  visibility: internal
  audience: [concept, gameplay, ai]
  risk_level: high
summary:
  problem: Нужна механика взлома контракта с подменой цели и риском рейда.
  goal: Задать флоу взлома, окно, шансы, штрафы/награды и контрплей.
  essence: Короткое сетевое окно для перезаписи контракта и перенаправления награды, с высоким риском обнаружения и рейда.
  key_points:
    - Окно подмены ограничено временем/доступом.
    - Баланс шансов успеха и тяжёлых штрафов за провал.
    - Контрплей корп-валидаторов и антиспуф.
    - Метрики успехов, рейдов, профита.
content:
  sections:
    - id: flow
      title: Флоу подмены
      body: |
        1) Скан цели: наличие сетевого доступа, уровень подписи (L/M/H).  
        2) Окно взлома: 12/18/24 с с активным пингом безопасности.  
        3) Подмена payload: смена получателя/цели, фиксация награды.  
        4) Выход: очистка следов; при провале — триггер рейда/розыска.
    - id: parameters
      title: Параметры и шансы
      body: |
        - Шанс успеха: 70/55/40% (L/M/H защиты), модификаторы перков ±10–15 п.п.  
        - Шанс рейда при фейле: 25/40/60%; рейд сила зависит от ценности контракта.  
        - Окно доступности: 3 мин после появления контракта; нельзя подменять после принятия цели владельцем.  
        - Стоимость: хак-ячейки 2/3/4, расход батареи дрона 20/30/40%.
    - id: rewards
      title: Награды/штрафы
      body: |
        - Награда: 80–120% базовой, плюс редкая репутация с тенью-фракцией.  
        - Штраф при фейле: розыск +2 уровня на 10 мин, заморозка контрактов в регионе на 5 мин.  
        - При рейде: шанс дропа антихак-логов, что бьёт репутацию с корпой.
    - id: counterplay
      title: Контрплей
      body: |
        - CRC-проверки контрактов каждые 8–12 с; при несовпадении — автокик + тревога.  
        - Корп-валидаторы (NPC/дроны) могут переподписать контракт, обнуляя подмену.  
        - Антиспуф ключи повышают время взлома на +5 с и режут шанс успеха на 15 п.п.
    - id: anti_abuse
      title: Анти-абьюз
      body: |
        - Лимит: 1 подмена на аккаунт/регион в 20 мин.  
        - DR награды при серийных подменах (−15% к награде за каждую вторую за час).  
        - Логирование попыток; повторные фейлы → временный бан контрактов на 30 мин.
    - id: metrics
      title: Метрики
      body: |
        - % успехов, % рейдов, средний профит подмен.  
        - Среднее время взлома и обнаружения.  
        - Кол-во заблокированных контрактов/час; жалобы на злоупотребления.
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  github_issue: 1687
  needs_task: true
  queue_reference: []
  blockers: []
history:
  - version: '0.1.0'
    date: 2025-12-12
    author: idea_writer
    changes: Черновик флоу подмены контрактов, параметры шансов/штрафов, анти-абьюз, метрики.
validation:
  checksum: ''
  schema_version: '1.0'

