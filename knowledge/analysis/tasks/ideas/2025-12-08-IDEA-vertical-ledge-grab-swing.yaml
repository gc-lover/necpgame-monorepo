# Issue: #1782
metadata:
  id: analysis-ideas-2025-12-08-vertical-ledge-grab-swing
  title: Вертикалка: захват карниза/раскачка (STR/AGI/END)
  document_type: analysis
  category: movement
  status: in_review
  version: '0.1.0'
  last_updated: 2025-12-12T17:13:30Z
  concept_approved: false
  concept_reviewed_at: ''
  processed_by: idea-writer
  processed_at: 2025-12-12T17:13:30Z
  github_issue_number: 1782
  owners:
    - role: movement_designer
      contact: movement@necp.game
  tags: [movement, ledge-grab, swing]
  topics: [strength-scaling, agility, endurance]
  related_systems: [stamina-system, fatigue, animation-system]
  related_documents: []
  source: knowledge/analysis/tasks/ideas/2025-12-08-IDEA-vertical-ledge-grab-swing.yaml
  visibility: internal
  audience: [concept, gameplay, balance]
  risk_level: medium
summary:
  problem: Нужен захват карниза с подтягиванием/раскачкой, масштабирующийся от STR/AGI/END и учитывающий риск срыва.
  goal: Формулы скорости подтягивания, длины рывка, шанс срыва, энергозатраты и UX индикатор усталости.
  essence: STR ускоряет подтягивание, AGI увеличивает рывок/раскачку, END снижает риск срыва и усталость.
  key_points:
    - Скорость/длина по STR/AGI.
    - Шанс срыва/усталость по END.
    - UX индикаторы.
content:
  sections:
    - id: formulas
      title: Формулы и параметры
      body: |
        - Скорость подтягивания: base_speed × (1 + STR × 0.03).  
        - Длина рывка при раскачке: base_leap × (1 + AGI × 0.04).  
        - Шанс срыва: base_fall (10%) × (1 − END × 0.04), мин 1%.
    - id: stamina
      title: Энергия и усталость
      body: |
        - Стоимость захвата 15 энергии; длительное висение (более 3 с) повышает усталость.  
        - При низкой END усталость растёт быстрее, шанс срыва увеличивается на +5% за каждую лишнюю секунду.  
        - Висение более 6 с форсирует авто-срыв.
    - id: ux
      title: UX/индикаторы
      body: |
        - Полоса усталости/шанса срыва; цвет меняется при риске.  
        - Подсказка направления рывка; можно бустить коротким спринтом от карниза.  
        - Аудио/вибро предупреждение за 1 с до авто-срыва.
    - id: anti_abuse
      title: Анти-абьюз
      body: |
        - DR на стеки бафов прыжков при рывке.  
        - Макро-детект (цикличные рывки без движения) → кд на 20 с.  
        - Запрет в зонах с «no-parkour» флагом.
    - id: metrics
      title: Метрики
      body: |
        - Срывы/успехи, средняя скорость подтягивания, длина рывков.  
        - Смертность от падений, жалобы на сложность.  
        - Использование по статам, эксплойты макросов.
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  github_issue: 1782
  needs_task: true
  queue_reference: []
  blockers: []
history:
  - version: '0.1.0'
    date: 2025-12-12
    author: idea_writer
    changes: Черновик захвата карниза: формулы STR/AGI/END, усталость/шанс срыва, UX, анти-абьюз, метрики.
validation:
  checksum: ''
  schema_version: '1.0'

