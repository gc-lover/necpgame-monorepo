# Issue: #1507
metadata:
  id: idea-cooperative-challenges-system-2025-12-12
  title: Система кооперативных испытаний (синхрон/роли/координация)
  document_type: idea
  category: gameplay
  status: draft
  version: "0.1.0"
  last_updated: 2025-12-12T09:00:00Z
  github_issue_number: 1507
  owners:
    - role: idea_writer
      contact: ideas@necp.game
  tags:
    - cooperative
    - teamwork
    - hardcore
    - combat
  related_systems:
    - gameplay-service
    - social-service
    - achievement-service
    - analytics-service
  related_documents:
    - id: combat-roles
      title: Combat Roles Detailed
      link: mechanics/combat/combat-roles-detailed.yaml
      relation: depends_on

summary:
  problem: Координация в PvE слабо поощряется; нет контента, требующего синхронных действий.
  goal: Ввести испытания, где успех зависит от синхронизации, ролевых проверок и командной коммуникации.
  pillars:
    - Synchronized Actions: окна на одновременные/последовательные взаимодействия.
    - Role-Specific Challenges: уникальные задачи для Tank/DPS/Support/Hacker.
    - Team Coordination Tests: сложные механики, измеряющие позиционирование и ресурсы.

challenge_types:
  synchronized_actions:
    window_sec: 0.5
    variants:
      - simultaneous: одновременное нажатие терминалов/датчиков
      - chained: цепочка из 3-5 действий с ограничением по времени
      - mixed: комбинация одновременных и последовательных шагов
    fail_consequence: усиление босса / спавн аддов / сброс прогресса
  role_specific:
    roles:
      tank: удержание «агро-маяков», перенаправление лучей, позиционные щиты
      dps: burst окна по уязвимости, слом щитов, фокус приоритетных целей
      support: клинсы/баффы в заданные 0.5–1.0 сек окна, масс-стабилизация
      hacker: взлом панелей, оверрайд турелей, подавление дронов
    scaling: требования ролей растут с tier (bronze → platinum)
  coordination_tests:
    mechanics:
      - позиционные пазлы (split/stack/spread)
      - ресурс-менеджмент (ограниченные батареи/патроны/heat)
      - связь: callouts для скрытых триггеров
    bonus_rewards: +50..100% за «идеальную» координацию без провалов окон

progression_and_scoring:
  tiers: bronze, silver, gold, platinum
  scoring_metrics:
    - соблюдение окон синхронизации
    - deaths/avoidable hits
    - время фазы и общий таймер
  rewards:
    - кооп-токены для косметики/модов
    - титулы за flawless/role-mastery
    - прогресс в achievement-service

integrations:
  gameplay-service: логика испытаний, трекинг синхры, выдача наград
  social-service: состав команды, voice-опции, рекомендованные напарники
  achievement-service: триггеры за flawless и ролевые челленджи
  analytics-service: метрики по ролям, болевые точки вайпов

risks_and_mitigations:
  - risk: Токсичность к случайным игрокам.
    mitigation: отдельные очереди premade vs pug, рейтинг коммуникации.
  - risk: Слишком жёсткие окна.
    mitigation: мягкие 0.5s → 0.75s в бронзе/силвере; обучение.
  - risk: Узкие роли.
    mitigation: гибридные задачи и опциональные альтернативы (hack vs brute force).

handoff:
  target_agent: Architect
  rationale: требуется системный дизайн сервисов и балансирование параметров.

