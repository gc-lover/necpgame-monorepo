<!-- Issue: #407 -->
# Система основных NPC: концепция и лор

## Обзор

Система основных NPC обеспечивает взаимодействие игроков с различными типами неигровых персонажей в мире NECPGAME. Каждый тип NPC имеет уникальную роль, функционал и интерфейсы взаимодействия, интегрированные в общую экосистему игры.

## Типы NPC и их лор

### 1. Фиксер (Fixer)

**Лор в мире Cyberpunk 2077:**

Фиксеры — это посредники, организаторы и координаторы преступного мира Night City. Они знают всех и всё, имеют связи во всех слоях общества — от уличных банд до корпоративных башен. Фиксеры не работают напрямую, они организуют встречи, предоставляют информацию и создают возможности для edgerunners.

В мире NECPGAME фиксеры эволюционировали в цифровую эпоху. Они используют кибердеки для мониторинга контрактов, имеют доступ к закрытым сетям и могут организовать операцию за считанные минуты. Фиксеры живут в серой зоне между законом и преступлением, балансируя между корпорациями, бандами и независимыми операторами.

**Визуальный стиль:**
- Одежда: Смесь корпоративного и уличного стиля, дорогие аксессуары, кибердеки последних моделей
- Импланты: Коммуникационные импланты, нейроинтерфейсы для быстрого доступа к информации
- Характер: Хладнокровные, расчётливые, всегда знают цену информации и услуг

**Место в мире:**
Фиксеры обитают в нейтральных зонах — бары, клубы, офисные помещения в средних уровнях города. Они избегают прямых конфликтов, предпочитая действовать через посредников.

**Функционал:**

**Предложение контрактов и квестов:**
- Каталог доступных контрактов с фильтрацией по типу, сложности, награде
- Рекомендации контрактов на основе репутации и навыков игрока
- Эксклюзивные контракты для игроков с высокой репутацией
- Цепочки контрактов, открывающиеся после выполнения предыдущих

**Организация встреч:**
- Создание встреч с другими NPC (торговцы, лидеры банд, корпораты)
- Координация групповых операций
- Организация аукционов и торговых сделок

**Доступ к скрытым локациям:**
- Предоставление карт и координат скрытых локаций
- Доступ к закрытым зонам через временные пропуска
- Информация о безопасных маршрутах и точках входа

**Торговля контактами и репутацией:**
- Продажа контактов других NPC
- Улучшение репутации с фракциями за плату
- Информация о предпочтениях и слабостях других NPC

**Интерфейс взаимодействия:**

**Диалоговая система:**
- Приветствие с учётом репутации и истории взаимодействий
- Ветвление диалогов на основе выбора игрока
- Специальные диалоги при первом знакомстве
- Уникальные фразы для разных уровней репутации

**Каталог контрактов:**
- Список доступных контрактов с детальной информацией
- Фильтры: тип, сложность, награда, фракция
- История выполненных контрактов
- Рекомендации на основе профиля игрока

**Карта контактов:**
- Визуальная карта связей фиксера
- Информация о доступных NPC через фиксера
- Стоимость доступа к каждому контакту
- История использования контактов

**Экономические аспекты:**
- Комиссия фиксера: 10-30% от награды за контракт
- Плата за информацию: 5,000 - 50,000 еддис
- Стоимость контактов: 10,000 - 100,000 еддис
- Эксклюзивные услуги: 100,000+ еддис

**Репутация и отношения:**
- Начальная репутация: Нейтральная (0)
- Улучшение: Выполнение контрактов, рекомендации других игроков
- Ухудшение: Провал контрактов, предательство
- Уровни: Неизвестный → Известный → Надёжный → Привилегированный → Легендарный

### 2. Торговец (Trader)

**Лор в мире Cyberpunk 2077:**

Торговцы в Night City — это выживальщики и предприниматели, которые нашли свою нишу в жестоком мире. Они торгуют всем: от оружия и имплантов до информации и контрабанды. Каждый торговец имеет свою специализацию и связи с поставщиками.

В мире NECPGAME торговцы адаптировались к цифровой экономике. Они используют криптовалюты, имеют доступ к корпоративным складам и могут организовать доставку в любую точку города. Торговцы живут в постоянном балансе между законом и прибылью, всегда ищут новые возможности для бизнеса.

**Визуальный стиль:**
- Одежда: Практичная, функциональная, с множеством карманов для образцов
- Импланты: Торговые интерфейсы, сканеры товаров, системы безопасности
- Характер: Общительные, хитрые, всегда ищут выгоду, но ценят постоянных клиентов

**Место в мире:**
Торговцы обитают в торговых районах, на рынках, в магазинах и временных точках продажи. Они могут перемещаться между локациями, следуя за спросом.

**Функционал:**

**Покупка/продажа предметов:**
- Каталог товаров с ценами и описаниями
- Система оценки предметов игрока
- Динамическое ценообразование на основе спроса и предложения
- Специальные предложения и скидки для постоянных клиентов

**Обмен валют:**
- Конвертация между различными валютами
- Обмен криптовалют
- Покупка/продажа корпоративных акций
- Комиссии за обмен: 2-5%

**Ремонт и модификация оборудования:**
- Ремонт повреждённого оружия и экипировки
- Модификация оружия (обвес, чипы, прошивки)
- Улучшение характеристик предметов
- Стоимость: 10-50% от стоимости предмета

**Специальные предложения и аукционы:**
- Ежедневные специальные предложения
- Аукционы редких предметов
- Ограниченные по времени акции
- Эксклюзивные товары для VIP-клиентов

**Интерфейс взаимодействия:**

**Торговое окно:**
- Разделённый экран: товары торговца слева, инвентарь игрока справа
- Фильтры товаров: тип, редкость, цена
- Поиск по названию
- Сравнение характеристик предметов

**Каталог товаров:**
- Категории: Оружие, Броня, Импланты, Расходники, Модификации
- Детальная информация о каждом товаре
- История покупок
- Список желаний

**Инвентарь:**
- Отображение предметов игрока с оценкой стоимости
- Быстрая продажа выбранных предметов
- Массовая продажа по категориям
- Подтверждение перед продажей ценных предметов

**Экономические аспекты:**
- Маржа торговца: 20-50% от базовой стоимости
- Скидки для постоянных клиентов: до 15%
- Специальные цены при высокой репутации
- Динамическое ценообразование на основе экономики сервера

**Репутация и отношения:**
- Начальная репутация: Нейтральная (0)
- Улучшение: Регулярные покупки, рекомендации
- Уровни: Незнакомец → Клиент → Постоянный клиент → VIP → Партнёр

### 3. Тренер (Trainer)

**Лор в мире Cyberpunk 2077:**

Тренеры в Night City — это мастера своего дела, которые передают знания и навыки следующему поколению edgerunners. Они могут быть бывшими солдатами, хакерами, убийцами или специалистами в других областях. Тренеры знают, что в мире, где технологии и навыки определяют выживание, обучение — это инвестиция в будущее.

В мире NECPGAME тренеры используют виртуальные симуляции, нейроинтерфейсы и практические тренировки для обучения. Они адаптировали свои методы к MMO-формату, создавая групповые тренировки и специализированные программы для разных классов персонажей.

**Визуальный стиль:**
- Одежда: Спортивная, функциональная, часто с элементами военной формы
- Импланты: Тренировочные интерфейсы, системы мониторинга, нейроускорители
- Характер: Строгие, требовательные, но справедливые, ценят упорство и талант

**Место в мире:**
Тренеры обитают в тренировочных залах, спортзалах, специализированных центрах и иногда в полевых условиях. Они могут проводить тренировки в различных локациях.

**Функционал:**

**Обучение новым навыкам:**
- Дерево навыков с визуализацией
- Требования для изучения каждого навыка
- Стоимость обучения: 10,000 - 500,000 еддис
- Время обучения: 1-24 часа (в зависимости от сложности)

**Повышение уровня существующих навыков:**
- Улучшение характеристик навыков
- Открытие новых способностей
- Стоимость: 5,000 - 200,000 еддис за уровень
- Ограничения по уровню персонажа

**Специализированные тренировки:**
- Тренировки для конкретных классов
- Уникальные техники и комбо
- Мастер-классы от легендарных NPC
- Стоимость: 50,000 - 1,000,000 еддис

**Тренировочные режимы и симуляции:**
- Виртуальные симуляции боевых сценариев
- Тренировочные арены
- Кооперативные тренировки
- Бесплатные базовые режимы, платные продвинутые

**Интерфейс взаимодействия:**

**Дерево навыков:**
- Визуальное представление всех доступных навыков
- Связи между навыками
- Требования и предпосылки
- Прогресс изучения

**Выбор тренировок:**
- Список доступных тренировок
- Описание каждой тренировки
- Требования и награды
- Расписание групповых тренировок

**Прогресс:**
- Отслеживание прогресса обучения
- История изученных навыков
- Статистика тренировок
- Достижения в обучении

**Экономические аспекты:**
- Базовая стоимость обучения: 10,000 - 500,000 еддис
- Скидки для учеников: до 20%
- Групповые тренировки: скидка 30%
- Бесплатные базовые навыки для новичков

**Репутация и отношения:**
- Начальная репутация: Нейтральная (0)
- Улучшение: Регулярное обучение, успешное выполнение заданий
- Уровни: Незнакомец → Ученик → Последователь → Мастер → Легенда

### 4. Главарь банды (Gang Leader)

**Лор в мире Cyberpunk 2077:**

Главари банд в Night City — это лидеры криминальных организаций, которые контролируют территории и ведут войны за влияние. Они выросли из уличных банд в организованные преступные группы с чёткой иерархией и правилами. Главари банд знают, что в мире, где корпорации правят законом, только сила и единство дают шанс на выживание.

В мире NECPGAME главари банд адаптировались к цифровой эпохе. Они используют кибердеки для координации операций, имеют доступ к военным технологиям и могут организовать масштабные операции. Главари банд живут в постоянной борьбе за территорию и ресурсы, всегда ищут новых союзников и возможности для расширения влияния.

**Визуальный стиль:**
- Одежда: Агрессивная, с символикой банды, часто с элементами брони
- Импланты: Боевые импланты, системы связи, системы управления
- Характер: Жестокие, решительные, харизматичные, ценят лояльность и силу

**Место в мире:**
Главари банд обитают в укреплённых базах, уличных штабах, заброшенных зданиях и контролируемых территориях. Они редко покидают свои территории без охраны.

**Функционал:**

**Вступление в банду:**
- Процедура вступления с проверкой лояльности
- Инициация для новых членов
- Получение доступа к ресурсам банды
- Ограничения для новичков

**Получение заданий банды:**
- Каталог заданий банды
- Задания на защиту территории
- Задания на расширение влияния
- Специальные операции

**Доступ к ресурсам банды:**
- Склад оружия и экипировки
- Медицинская помощь
- Транспорт
- Информация и разведка

**Управление территорией:**
- Карта контролируемых территорий
- Система защиты территорий
- Улучшение инфраструктуры
- Сбор налогов и ресурсов

**Войны между бандами:**
- Объявление войны другим бандам
- Координация атак и защита
- Захват территорий
- Переговоры и перемирия

**Интерфейс взаимодействия:**

**Фракционное меню:**
- Информация о банде
- Список членов и их статусы
- Иерархия банды
- История банды и достижения

**Карта территорий:**
- Визуальная карта контролируемых территорий
- Информация о соседних бандах
- Точки интереса
- Маршруты патрулирования

**Задания банды:**
- Список доступных заданий
- Приоритетные задания
- Групповые операции
- Награды за выполнение

**Экономические аспекты:**
- Взносы в банду: 5-20% от дохода
- Доступ к ресурсам: бесплатно для членов
- Специальные операции: раздел добычи
- Улучшение территории: коллективные взносы

**Репутация и отношения:**
- Начальная репутация: Нейтральная (0) или Враждебная (-50) для вражеских фракций
- Улучшение: Выполнение заданий, защита территории, участие в войнах
- Уровни: Враг → Нейтральный → Союзник → Член → Офицер → Заместитель

### 5. Директор корпорации (Corporate Director)

**Лор в мире Cyberpunk 2077:**

Директора корпораций в Night City — это представители могущественных корпораций, которые контролируют экономику и политику мира. Они живут в роскоши корпоративных башен, но их жизнь полна интриг, предательств и борьбы за власть. Директора корпораций знают, что в мире, где корпорации важнее государств, только амбиции и хитрость ведут к успеху.

В мире NECPGAME директора корпораций адаптировались к цифровой эпохе. Они используют передовые технологии, имеют доступ к корпоративным сетям и могут влиять на мировые события. Директора корпораций живут в постоянной борьбе за влияние и ресурсы, всегда ищут новых союзников и возможности для расширения корпорации.

**Визуальный стиль:**
- Одежда: Дорогие корпоративные костюмы, элитные аксессуары
- Импланты: Премиум импланты, системы безопасности, нейроинтерфейсы
- Характер: Холодные, расчётливые, амбициозные, ценят эффективность и результаты

**Место в мире:**
Директора корпораций обитают в корпоративных башнях, офисных комплексах, закрытых зонах и элитных районах. Они редко покидают безопасные зоны без охраны.

**Функционал:**

**Корпоративные контракты:**
- Каталог корпоративных контрактов
- Контракты на защиту интересов корпорации
- Контракты на промышленный шпионаж
- Специальные миссии для элитных операторов

**Доступ к корпоративным ресурсам:**
- Корпоративное оружие и экипировка
- Медицинские услуги премиум-класса
- Доступ к закрытым зонам
- Информация и разведка

**Карьерный рост в корпорации:**
- Система рангов и должностей
- Требования для продвижения
- Привилегии каждого ранга
- Корпоративные бонусы

**Корпоративные миссии:**
- Сюжетные миссии корпорации
- Операции против конкурентов
- Защита корпоративных интересов
- Специальные события

**Политическое влияние:**
- Влияние на мировые события
- Лоббирование интересов корпорации
- Создание альянсов
- Управление репутацией

**Интерфейс взаимодействия:**

**Корпоративное меню:**
- Информация о корпорации
- Структура корпорации
- История и достижения
- Корпоративные новости

**Карьерная лестница:**
- Визуальное представление рангов
- Требования для каждого ранга
- Текущий ранг и прогресс
- Доступные привилегии

**Контракты:**
- Список доступных контрактов
- Приоритетные контракты
- Групповые операции
- Награды за выполнение

**Экономические аспекты:**
- Зарплата: 50,000 - 500,000 еддис в месяц (в зависимости от ранга)
- Бонусы за выполнение контрактов: 100,000 - 1,000,000 еддис
- Доступ к корпоративным ресурсам: бесплатно для сотрудников
- Корпоративные акции: участие в прибыли

**Репутация и отношения:**
- Начальная репутация: Нейтральная (0)
- Улучшение: Выполнение контрактов, лояльность, результаты
- Уровни: Незнакомец → Кандидат → Сотрудник → Менеджер → Директор → Исполнительный директор

### 6. Дополнительные типы NPC

#### Врач/Медик

**Лор:**
Врачи в Night City — это специалисты по лечению, имплантам и киберимплантам. Они работают в клиниках, полевых госпиталях и иногда в подпольных операционных. Врачи знают, что в мире, где технологии и тело сливаются, их знания — это ключ к выживанию.

**Функционал:**
- Лечение травм и болезней
- Установка и удаление имплантов
- Модификация киберимплантов
- Консультации по здоровью и имплантам

**Интерфейс:**
- Медицинское меню с диагностикой
- Каталог имплантов и услуг
- История лечения
- Запись на приём

#### Инженер

**Лор:**
Инженеры в Night City — это мастера по крафту, модификации оружия и созданию предметов. Они работают в мастерских, лабораториях и иногда в полевых условиях. Инженеры знают, что в мире, где технологии определяют преимущество, их навыки — это оружие.

**Функционал:**
- Крафт предметов и оружия
- Модификация оружия и экипировки
- Создание уникальных предметов
- Ремонт и улучшение оборудования

**Интерфейс:**
- Меню крафта с рецептами
- Каталог доступных модификаций
- Система улучшений
- История созданных предметов

#### Хакер

**Лор:**
Хакеры в Night City — это специалисты по взлому, доступу к данным и кибербезопасности. Они работают в сетях, используют кибердеки и могут проникать в любые системы. Хакеры знают, что в мире, где информация — это власть, их навыки — это ключ к секретам.

**Функционал:**
- Взлом систем и сетей
- Доступ к закрытым данным
- Защита от взлома
- Обучение хакерским навыкам

**Интерфейс:**
- Интерфейс взлома с мини-играми
- Каталог доступных целей
- Система защиты
- История взломов

#### Информатор

**Лор:**
Информаторы в Night City — это торговцы информацией, слухами и разведкой. Они знают все секреты города и могут предоставить любую информацию за соответствующую плату. Информаторы живут в серой зоне, балансируя между различными фракциями.

**Функционал:**
- Продажа информации
- Распространение слухов
- Разведка и слежка
- Организация встреч

**Интерфейс:**
- Каталог доступной информации
- Система запросов
- История покупок
- Рекомендации на основе интересов

#### Бармен

**Лор:**
Бармены в Night City — это социальные хабы, где собираются edgerunners, торговцы информацией и все, кто ищет контакты. Бармены знают всех в районе и могут организовать встречи, предоставить информацию или просто выслушать. Бармены живут в центре социальной сети города.

**Функционал:**
- Социальный хаб для встреч
- Распространение слухов
- Организация встреч с другими NPC
- Предоставление информации о районе

**Интерфейс:**
- Меню напитков и услуг
- Список посетителей
- Доска объявлений
- Система заказов

#### Охранник

**Лор:**
Охранники в Night City — это специалисты по контролю доступа, безопасности территорий и защите. Они работают на корпорациях, бандах и частных клиентов. Охранники знают, что в мире, где опасность поджидает на каждом углу, их навыки — это гарантия безопасности.

**Функционал:**
- Контроль доступа к территориям
- Охрана объектов
- Проверка подозрительных лиц
- Предоставление информации о безопасности

**Интерфейс:**
- Система пропусков
- Каталог охраняемых объектов
- История проверок
- Система оповещений

## Интеграция с игровыми системами

### Система квестов

Все типы NPC интегрированы с системой квестов:
- Фиксеры предоставляют контракты и задания
- Торговцы могут давать квесты на поиск редких предметов
- Тренеры дают задания на тренировки и испытания
- Главари банд предоставляют фракционные квесты
- Директора корпораций дают корпоративные миссии

### Экономическая система

NPC интегрированы с экономикой:
- Торговцы управляют рынками и ценами
- Фиксеры получают комиссии за контракты
- Тренеры получают плату за обучение
- Корпорации управляют корпоративной экономикой

### Система репутации

Каждый NPC имеет систему репутации:
- Начальная репутация зависит от фракции
- Репутация изменяется на основе действий игрока
- Уровни репутации открывают новые возможности
- Репутация влияет на цены и доступность услуг

### Фракционная система

NPC связаны с фракциями:
- Главари банд управляют бандами
- Директора корпораций представляют корпорации
- Независимые NPC могут иметь связи с различными фракциями
- Репутация с фракциями влияет на взаимодействие с NPC

### Система навыков

NPC интегрированы с системой навыков:
- Тренеры обучают навыкам
- Различные NPC могут требовать определённые навыки
- Навыки влияют на доступность контрактов и услуг
- Специализированные NPC могут улучшать конкретные навыки

## Визуальные элементы UI

### Иконки NPC

Каждый тип NPC имеет уникальную иконку:
- Фиксер: Символ сети и связей
- Торговец: Символ торговли и обмена
- Тренер: Символ обучения и роста
- Главарь банды: Символ силы и власти
- Директор корпорации: Символ корпорации и влияния

### Анимации

Интерфейсы NPC имеют анимации:
- Появление диалогового окна
- Переходы между разделами
- Анимации торговли и обмена
- Визуальные эффекты при изменении репутации

### Эффекты

Специальные эффекты для важных событий:
- Уведомления о новых контрактах
- Визуальные эффекты при изменении репутации
- Анимации при выполнении заданий
- Эффекты при открытии новых возможностей

## Критерии готовности

Концепция готова к передаче Architect когда:
- [x] Все типы NPC детально описаны с лором
- [x] Функционал каждого типа полностью проработан
- [x] Интерфейсы взаимодействия описаны текстом
- [x] Определены связи с другими игровыми системами
- [x] Создана структура для технической реализации

## Следующие шаги

1. Передача концепции Architect для проектирования архитектуры
2. Создание OpenAPI спецификаций для API Designer
3. Проектирование БД схемы для Database Engineer
4. Реализация бекенда для Backend Developer
5. Реализация UI для UE5 Developer

