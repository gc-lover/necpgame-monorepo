# Issue: #1560

# Концепция: Система уникальных форм проджектайлов для оружия

## Описание
Система различных форм проджектайлов, создающая разнообразие в боевых механиках NECPGAME. Каждая форма имеет уникальные характеристики траектории, урона и взаимодействия с окружением.

## Стиль: Cyberpunk 2077
Технологичные, визуально впечатляющие формы проджектайлов, соответствующие эстетике киберпанк-мира.

---

## 1. Формы проджектайлов

### 1.1. Точка (Point) - Стандартная пуля
**Описание:** Классический одиночный снаряд, летящий по прямой траектории.

**Характеристики:**
- Прямая траектория
- Высокая точность
- Базовый урон
- Пробивание одной цели

**Применение:**
- Пистолеты
- Автоматы
- Винтовки
- Снайперские винтовки
- ПП

**Визуальный эффект:** Трассирующая линия от оружия до цели.

---

### 1.2. Линия (Line) - Линейное рассеивание
**Описание:** Снаряды выпускаются в линию (горизонтальную, вертикальную или диагональную).

**Варианты:**
- **Горизонтальная линия:** 3-5 снарядов в горизонтальной плоскости
- **Вертикальная линия:** 3-5 снарядов в вертикальной плоскости
- **Диагональная линия:** 3-5 снарядов по диагонали

**Характеристики:**
- Средняя точность
- Урон распределен между снарядами
- Покрытие линейной области
- Эффективно против групп врагов в ряд

**Применение:**
- Пистолеты (горизонтальная)
- Автоматы (все варианты)
- Винтовки (горизонтальная)

**Визуальный эффект:** Множественные трассирующие линии, образующие паттерн.

---

### 1.3. Веер (Fan) - Веерное рассеивание
**Описание:** Снаряды распространяются веером от точки выстрела.

**Варианты:**
- **Горизонтальный веер:** Рассеивание в горизонтальной плоскости (30-90°)
- **Вертикальный веер:** Рассеивание в вертикальной плоскости (30-90°)
- **Круговой веер:** Рассеивание во все стороны (360°)

**Характеристики:**
- Низкая точность на дальних дистанциях
- Высокая эффективность на ближних дистанциях
- Урон распределен между снарядами (5-12 снарядов)
- Покрытие конусообразной области

**Применение:**
- Дробовики (основной режим)
- Пистолеты
- Автоматы
- ПП

**Визуальный эффект:** Веер трассирующих линий, расходящихся от оружия.

---

### 1.4. Спираль (Spiral) - Спиральная траектория
**Описание:** Снаряды летят по спиральной траектории вокруг центральной оси.

**Характеристики:**
- Уникальная траектория
- Средняя точность
- Обход препятствий по краям
- Эстетически впечатляющий эффект
- 2-4 снаряда, вращающихся вокруг оси

**Применение:**
- Пистолеты (продвинутые модели)
- Автоматы (специальные модификации)
- ПП (энергетические)
- Энергетическое оружие

**Визуальный эффект:** Спиралевидная траектория с энергетическим свечением.

---

### 1.5. Волна (Wave) - Волнообразная траектория
**Описание:** Снаряды летят волнообразно, огибая препятствия.

**Характеристики:**
- Волнообразная траектория (синусоида)
- Средняя точность
- Обход низких препятствий
- Дезориентирующий эффект
- 1-3 снаряда

**Применение:**
- Автоматы (специальные)
- Энергетическое оружие
- Лазерное оружие (импульсное)

**Визуальный эффект:** Волнообразная энергетическая траектория.

---

### 1.6. Круг (Circle) - Круговое рассеивание
**Описание:** Снаряды распространяются по кругу от центральной точки.

**Характеристики:**
- Круговое покрытие (360°)
- Урон распределен между снарядами (8-16 снарядов)
- Эффективно против окружающих врагов
- Средняя дальность

**Применение:**
- Дробовики (специальный режим)
- Взрывные устройства
- АоЕ оружие

**Визуальный эффект:** Круг трассирующих линий, расходящихся во все стороны.

---

### 1.7. Квадрат (Square) - Квадратный паттерн
**Описание:** Снаряды формируют квадратный или прямоугольный паттерн.

**Характеристики:**
- Квадратное покрытие области
- Урон распределен между снарядами (4-9 снарядов)
- Покрытие прямоугольной области
- Средняя точность

**Применение:**
- Дробовики (специальный режим)
- Пусковые установки

**Визуальный эффект:** Квадратная сетка трассирующих линий.

---

### 1.8. Цепь (Chain) - Цепная реакция
**Описание:** Снаряд поражает первую цель, затем перескакивает на следующие.

**Характеристики:**
- Первичный урон на первой цели
- Уменьшенный урон на последующих целях (70%, 50%, 30%)
- Максимум 3-5 целей
- Радиус перескока: 5-10 метров

**Применение:**
- Энергетическое оружие (молнии)
- Электрическое оружие
- Ближний бой (энергетические клинки)

**Визуальный эффект:** Электрические дуги, соединяющие цели.

---

### 1.9. Разделение (Split) - Разделение на части
**Описание:** Снаряд разделяется на несколько частей в полете.

**Варианты:**
- **Разделение при приближении:** Разделяется на 3-5 частей при приближении к цели
- **Разделение при попадании:** Разделяется на части при контакте с поверхностью
- **Временное разделение:** Разделяется через определенное время

**Характеристики:**
- Начальный снаряд → 3-5 дочерних снарядов
- Урон распределяется или суммируется
- Увеличенная площадь поражения

**Применение:**
- Пусковые установки
- Гранаты
- Специальные снаряды

**Визуальный эффект:** Разделение с взрывным эффектом.

---

### 1.10. Рикошеты (Ricochet) - Рикошетирующие снаряды
**Описание:** Снаряды отскакивают от поверхностей, продолжая траекторию.

**Характеристики:**
- 1-5 рикошетов
- Урон уменьшается с каждым рикошетом (90%, 80%, 70%)
- Отскок от твердых поверхностей
- Умные рикошеты (наведение после отскока)

**Применение:**
- Снайперские винтовки (специальные пули)
- Метательное оружие
- Энергетическое оружие

**Визуальный эффект:** Отскоки с искрами/энергетическими следами.

---

### 1.11. Фазирование (Phasing) - Прохождение через препятствия
**Описание:** Снаряды проходят сквозь препятствия, поражая цели за ними.

**Характеристики:**
- Прохождение через стены (до определенной толщины)
- Прохождение через врагов (пробивание)
- Урон всем целям на траектории
- Квантовое фазирование

**Применение:**
- Снайперские винтовки (пробивающие пули)
- Винтовки (специальные снаряды)
- Лазерное оружие (рельсы)

**Визуальный эффект:** Полупрозрачная траектория с квантовым свечением.

---

## 2. Совместимость с типами оружия

### 2.1. Пистолеты
- **Основные формы:** Точка, Линия, Веер
- **Специальные формы:** Спираль
- **Редкие формы:** Рикошеты

**Обоснование:** Пистолеты - универсальное оружие, подходящее для точной стрельбы и ближнего боя.

---

### 2.2. Автоматы
- **Основные формы:** Точка, Линия, Веер
- **Специальные формы:** Спираль, Волна
- **Редкие формы:** Рикошеты

**Обоснование:** Автоматы - универсальное оружие с высокой скорострельностью.

---

### 2.3. Винтовки
- **Основные формы:** Точка, Линия
- **Специальные формы:** Пробивающие пули (Фазирование)

**Обоснование:** Винтовки - точное оружие средней дальности.

---

### 2.4. Снайперские винтовки
- **Основные формы:** Точка
- **Специальные формы:** Пробивающие пули (Фазирование), Рикошеты

**Обоснование:** Снайперские винтовки - высокоточное оружие дальнего боя.

---

### 2.5. Дробовики
- **Основные формы:** Веер, Круг, Квадрат
- **Специальные формы:** Разделение

**Обоснование:** Дробовики - оружие ближнего боя с рассеиванием.

---

### 2.6. Пистолеты-пулеметы (ПП)
- **Основные формы:** Точка, Линия, Веер
- **Специальные формы:** Спираль

**Обоснование:** ПП - компактное оружие с высокой скорострельностью.

---

### 2.7. Пусковые установки
- **Основные формы:** Точка
- **Специальные формы:** Разделение, Управляемые снаряды

**Обоснование:** Пусковые установки - тяжелое оружие с взрывными снарядами.

---

### 2.8. Ближний бой
- **Основные формы:** Энергетические волны (Волна)
- **Специальные формы:** Цепные атаки (Цепь)

**Обоснование:** Ближний бой - оружие для контактных атак с энергетическими эффектами.

---

### 2.9. Лазерное оружие
- **Основные формы:** Непрерывный луч (Точка)
- **Специальные формы:** Импульсы (Точка), Рельсы (Фазирование), Волна

**Обоснование:** Лазерное оружие - энергетическое оружие с концентрированным лучом.

---

### 2.10. Энергетическое оружие
- **Основные формы:** Цепь, Волна, Спираль
- **Специальные формы:** Фазирование

**Обоснование:** Энергетическое оружие - оружие будущего с уникальными траекториями.

---

### 2.11. Метательное оружие
- **Основные формы:** Точка, Веер
- **Специальные формы:** Рикошеты

**Обоснование:** Метательное оружие - оружие для бесшумных атак.

---

## 3. Научное обоснование

### 3.1. Период 2020-2030: Базовые формы
- **Точка:** Стандартные пули, механические снаряды
- **Веер:** Дробовые патроны
- **Линия:** Специальные патроны с разделением

**Технологии:** Традиционная баллистика, механика.

**Корпорации:** Militech, Budget Arms.

---

### 3.2. Период 2030-2040: Smart-технологии
- **Рикошеты:** Smart-пули с траекторией
- **Управляемые снаряды:** Ракеты с наведением

**Технологии:** Smart-технологии, базовое наведение.

**Корпорации:** Arasaka, Militech.

---

### 3.3. Период 2040-2050: Энергетическое оружие
- **Волна:** Энергетические импульсы
- **Спираль:** Вращающиеся энергетические снаряды
- **Цепь:** Электрические дуги

**Технологии:** Энергетика, плазменные технологии.

**Корпорации:** Kang Tao, Arasaka.

---

### 3.4. Период 2050-2060: Квантовые технологии
- **Фазирование:** Квантовое фазирование снарядов
- **Телепортация:** Мгновенное перемещение снарядов

**Технологии:** Квантовая механика, нанотехнологии.

**Корпорации:** Arasaka (квантовые исследования), Biotechnica (нанотехнологии).

---

### 3.5. Период 2060-2070: Продвинутые формы
- **Разделение:** Разделяющиеся снаряды с AI
- **Круг/Квадрат:** Программируемые паттерны

**Технологии:** AI, программируемые снаряды.

**Корпорации:** Kang Tao, Arasaka.

---

### 3.6. Период 2070-2093: Финальные технологии
- **Комбинированные формы:** Сочетание нескольких форм
- **Адаптивные формы:** Формы, меняющиеся в полете

**Технологии:** Адаптивные AI, квантовые компьютеры.

**Корпорации:** Все корпорации.

---

## 4. Матрица совместимости

| Форма проджектайла | Пистолеты | Автоматы | Винтовки | Снайперские | Дробовики | ПП | Пусковые | Ближний бой | Лазерное | Энергетическое | Метательное |
|-------------------|-----------|----------|----------|-------------|-----------|----|-----------|-----------|---------|--------------|-----------| 
| Точка             | OK        | OK       | OK       | OK          | ❌        | OK | OK        | ❌        | OK      | ❌           | OK        |
| Линия             | OK        | OK       | OK       | ❌          | ❌        | OK | ❌        | ❌        | ❌      | ❌           | ❌        |
| Веер              | OK        | OK       | ❌       | ❌          | OK        | OK | ❌        | ❌        | ❌      | ❌           | OK        |
| Спираль           | OK        | OK       | ❌       | ❌          | ❌        | OK | ❌        | ❌        | ❌      | OK           | ❌        |
| Волна             | ❌        | OK       | ❌       | ❌          | ❌        | ❌ | ❌        | OK        | OK      | OK           | ❌        |
| Круг              | ❌        | ❌       | ❌       | ❌          | OK        | ❌ | ❌        | ❌        | ❌      | ❌           | ❌        |
| Квадрат           | ❌        | ❌       | ❌       | ❌          | OK        | ❌ | OK        | ❌        | ❌      | ❌           | ❌        |
| Цепь              | ❌        | ❌       | ❌       | ❌          | ❌        | ❌ | ❌        | OK        | ❌      | OK           | ❌        |
| Разделение        | ❌        | ❌       | ❌       | ❌          | OK        | ❌ | OK        | ❌        | ❌      | ❌           | ❌        |
| Рикошеты          | OK        | OK       | ❌       | OK          | ❌        | ❌ | ❌        | ❌        | ❌      | OK           | OK        |
| Фазирование       | ❌        | ❌       | OK       | OK          | ❌        | ❌ | ❌        | ❌        | OK      | OK           | ❌        |

OK = Совместимо  
❌ = Несовместимо

---

## 5. Технические требования

### 5.1. Система расчета траекторий
- Физический движок для расчета траекторий
- Алгоритмы для каждой формы проджектайла
- Обработка столкновений
- Расчет урона

### 5.2. Система визуализации
- Визуальные эффекты для каждой формы
- Трассирующие линии
- Энергетические эффекты
- Частицы и анимации

### 5.3. Интеграция с системой урона
- Расчет урона для каждой формы
- Распределение урона между снарядами
- Модификаторы урона

### 5.4. Система совместимости
- Проверка совместимости формы с типом оружия
- Ограничения и валидация
- Балансировка

---

## 6. Игровые механики

### 6.1. Управление ресурсами
- Различный расход боеприпасов для разных форм
- Энергетические затраты для специальных форм
- Перегрев для непрерывных форм

### 6.2. Прогрессия
- Открытие новых форм через прогрессию
- Модификации для изменения форм
- Чипы и прошивки для форм

### 6.3. Балансировка
- Балансировка урона для разных форм
- Балансировка точности
- Балансировка расхода ресурсов

---

## 7. Связанные системы

### 7.1. Интеграция с матрицей комбинаций оружия
- Формы проджектайлов как компонент матрицы
- Случайная генерация форм для процедурного оружия
- Весовые коэффициенты для редкости

### 7.2. Интеграция с модификаторами
- Обвес для изменения формы
- Чипы для добавления форм
- Прошивки для усиления форм

### 7.3. Интеграция с классами
- Классовые бонусы для определенных форм
- Эксклюзивные формы для классов

---

## 8. Визуальный стиль (Cyberpunk 2077)

### 8.1. Эстетика
- Неоновые трассирующие линии
- Энергетические эффекты
- Цифровые искажения
- Голографические элементы

### 8.2. Цветовая палитра
- Синий/голубой для стандартных снарядов
- Красный/оранжевый для огненных
- Зеленый для ядовитых
- Фиолетовый для энергетических
- Желтый для электрических

### 8.3. Звуковое оформление
- Уникальные звуки для каждой формы
- Энергетические гудения
- Электрические разряды
- Механические звуки

---

## 9. Приоритеты реализации

### Фаза 1 (High Priority):
1. Точка - базовая форма
2. Веер - для дробовиков
3. Цепь - для энергетического оружия

### Фаза 2 (Medium Priority):
4. Линия - для автоматов
5. Спираль - для энергетического оружия
6. Фазирование - для снайперских винтовок

### Фаза 3 (Low Priority):
7. Волна
8. Круг
9. Квадрат
10. Разделение
11. Рикошеты

---

## 10. Следующие шаги

**Для Architect:**
- Проектирование архитектуры системы траекторий
- Определение компонентов системы
- Интеграция с существующей архитектурой

**Для API Designer:**
- Создание OpenAPI спецификации для форм проджектайлов
- Определение endpoint'ов для управления формами

**Для Backend:**
- Реализация алгоритмов расчета траекторий
- Интеграция с физическим движком

**Для UE5:**
- Реализация визуальных эффектов
- Создание систем частиц

---

## Заключение

Система уникальных форм проджектайлов создает разнообразие в боевых механиках NECPGAME, позволяя каждому типу оружия иметь уникальные тактические возможности. Научное обоснование и распределение по временным периодам обеспечивают лор-соответствие миру Cyberpunk 2077.

**Готово к передаче Architect для проектирования архитектуры.**
