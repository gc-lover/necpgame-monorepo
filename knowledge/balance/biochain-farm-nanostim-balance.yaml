# Issue: #1661
metadata:
  id: biochain-farm-nanostim-balance-system
  title: "Баланс: Биочейн-фарма наностим лут-телеметрии"
  document_type: balance
  category: risk-reward-mechanics
  status: approved
  version: '1.0.0'
  last_updated: 2026-01-06T15:30:00.000000
  concept_approved: true
  concept_reviewed_at: '2026-01-06T15:30:00.000000'
  owners:
    - role: game_balance_designer
      contact: balance@necp.game
  tags:
    - risk-reward-balance
    - nanostim-mechanics
    - loot-modification
    - mutation-debuffs
    - telemetry-collection
    - biotech-systems
    - infection-mechanics
  topics:
    - risk-reward-systems
    - biotech-implementation
    - loot-economy
    - debuff-management
    - infection-mechanics
    - biotechnology
    - data-collection
  related_systems:
    - loot-service
    - combat-service
    - biotech-service
    - analytics-service
  related_documents:
    - id: loot-system-balance
      relation: modifies
    - id: biotech-system-design
      relation: implements
  source: balance-team-analysis
  visibility: internal
  audience:
    - game-designers
    - balance-team
    - developers
    - qa-testers
  risk_level: high

summary:
  problem: |
    Игроки нуждаются в механике сбора телеметрии с дронов и киборгов для улучшения лута,
    но без создания доминирующих стратегий фарма или бесконтрольного усиления наград.
    Необходимо сбалансировать растущие награды с эскалирующими рисками мутаций.
  goal: |
    Создать систему "Биочейн-фармы" как рискованную механику сбора телеметрии,
    которая улучшает качество лута пропорционально накопленному стеку,
    но несет риск тяжелых мутаций и побочных эффектов.
  essence: |
    "В погоне за совершенством тело становится инструментом. Но каждый инструмент имеет цену."
  key_mechanics:
    - Nanostim Infection: Управляемая инфекция для сбора телеметрии
    - Stack Accumulation: Накопление стека с ростом качества лута
    - Mutation Risk: Эскалирующий шанс мутаций с побочными эффектами

problem_analysis:
  current_state:
    - Отсутствие механик сбора данных с вражеских юнитов
    - Недостаточная глубина biotech систем
    - Отсутствие рискованных механик улучшения лута
    - Недостаток контента для biotech-focused билдов
  pain_points:
    - Игроки предпочитают безопасные стратегии сбора лута
    - Недостаток тактической глубины в loot collection
    - Отсутствие biotech-themed progression paths
    - Недостаток risk-reward контента
  user_impact:
    - Снижение вовлеченности в biotech gameplay
    - Отсутствие уникальных biotech билдов
    - Недостаток напряжения в decision making
    - Снижение разнообразия loot collection стратегий

solution_approach:
  core_concept: |
    Биочейн-фарма - это управляемая нано-инфекция, которая заражает тело игрока
    для сбора телеметрии с уничтоженных дронов и киборгов. Каждый убитый юнит
    добавляет стек, улучшая качество лута, но увеличивая риск мутаций и дебаффов.
  design_philosophy:
    - Calculated Risk: Тщательный расчет между наградой и риском
    - Biotech Immersion: Погружение в мир биотехнологий
    - Progressive Tension: Растущий риск с ростом потенциальной награды
    - Strategic Choice: Выбор между безопасностью и эффективностью

detailed_balance:
  nanostim_mechanics:
    infection_system:
      activation_method: "Инъекция biotech стимулятора через neural link"
      infection_duration: "300 секунд базовой длительности"
      stack_capacity: "Максимум 25 стеков телеметрии"
      collection_range: "10 метров радиус сбора от убитых дронов/киборгов"
      visual_indicators: "Биолюминесцентные вены, голографический HUD счетчик"

    telemetry_collection:
      base_collection_rate: "1 стек за каждого уничтоженного дрона/киборга"
      elite_multiplier: "2-5x стаки за elite/boss юниты"
      environmental_bonus: "1.5x стаки в biotech зонах"
      synergy_bonuses: "+25% стаки за biotech импланты"

    loot_quality_scaling:
      tier_1_loot: "0-5 стеков: стандартный лут"
      tier_2_loot: "6-10 стеков: улучшенный лут (+25% ценность)"
      tier_3_loot: "11-15 стеков: редкий лут (+50% ценность)"
      tier_4_loot: "16-20 стеков: эпический лут (+100% ценность)"
      tier_5_loot: "21-25 стеков: легендарный лут (+200% ценность)"

  mutation_risk_system:
    risk_progression:
      base_mutation_chance: "2% шанс мутации за стек"
      exponential_growth: "Шанс удваивается каждые 5 стеков"
      critical_threshold: "70% шанс при 20+ стаках"
      emergency_shutdown: "100% шанс при 25 стаках (принудительное отключение)"

    mutation_types:
      stamina_malfunction:
        description: "Повреждение системы стамины"
        effects: "-50% скорость регенерации стамины"
        duration: "180 секунд"
        probability: "30% от всех мутаций"
        severity_scaling: "Увеличивается с количеством стеков"

      targeting_glitch:
        description: "Сбой системы прицеливания"
        effects: "-30% точность стрельбы, случайные отклонения"
        duration: "120 секунд"
        probability: "25% от всех мутаций"
        severity_scaling: "Глючи усиливаются с риском"

      neural_feedback:
        description: "Обратная связь в нервной системе"
        effects: "Случайный урон 5-15 HP каждые 10 секунд"
        duration: "90 секунд"
        probability: "20% от всех мутаций"
        severity_scaling: "Урон растет с продолжительностью инфекции"

      movement_disruption:
        description: "Нарушение координации движений"
        effects: "-25% скорость передвижения, спотыкание"
        duration: "150 секунд"
        probability: "15% от всех мутаций"
        severity_scaling: "Дисбаланс усиливается с нагрузкой"

      perception_distortion:
        description: "Искажение сенсорного восприятия"
        effects: "Размытое зрение, искаженные звуки, галлюцинации"
        duration: "200 секунд"
        probability: "10% от всех мутаций"
        severity_scaling: "Дисторшн усиливается с временем"

  risk_management_mechanics:
    discharge_option:
      availability: "Доступно в любое время после накопления стеков"
      penalty_system: "Потеря 50% накопленных стеков при сбросе"
      cooldown_penalty: "Дополнительный 60 секунд кулдаун на перезапуск"
      partial_recovery: "Возврат 25% потерянных стеков через 30 секунд"

    emergency_protocols:
      critical_mutation_threshold: "Автоматический сброс при риске >80%"
      health_safety_valve: "Отключение при HP <20% для предотвращения смерти"
      stack_overflow_protection: "Принудительное отключение при 25+ стаках"

    biotech_synergies:
      implant_modifiers: "Улучшения снижающие шанс мутаций"
      cyberware_bonuses: "Бонусы к сбору телеметрии"
      biotech_specialization: "Навыки управления риском"

  balance_formulas:
    loot_value_calculations:
      base_loot_value: "Loot_Value = Base_Value × Tier_Multiplier"
      tier_multiplier_formula: "Tier_Multiplier = 1 + (Stacks × 0.08)"
      risk_adjusted_value: "RAV = Loot_Value × (1 - Mutation_Probability × 0.5)"
      expected_value: "EV = RAV × (1 - Mutation_Probability)"

    mutation_probability_formulas:
      base_probability: "P_Mutation = 0.02 + (Stacks × 0.005)"
      exponential_scaling: "P_Mutation_Scaled = P_Mutation × (1.4 ^ (Stacks / 5))"
      critical_risk: "P_Critical = MIN(P_Mutation_Scaled, 1.0)"
      adjusted_probability: "P_Adjusted = P_Critical × Biotech_Risk_Modifier"

    recovery_and_cooldown_formulas:
      discharge_penalty: "Penalty_Stacks = Current_Stacks × 0.5"
      recovery_time: "Recovery_Time = Discharge_Penalty × 2"
      cooldown_extension: "Cooldown_Extension = Mutation_Count × 30"
      total_cooldown: "Total_CD = Base_CD + Cooldown_Extension"

  equipment_class_interactions:
    biotech_specialist_build:
      description: "Специализированный билд с biotech имплантами и cyberware"
      synergy_bonuses:
        collection_efficiency: "+100% скорость сбора телеметрии"
        mutation_resistance: "-60% шанс мутаций"
        stack_capacity: "+5 дополнительных стеков"
        discharge_efficiency: "-75% потеря при сбросе"
      optimal_strategy: "Максимальная эксплуатация системы с минимальным риском"
      risk_assessment: "Низкий риск благодаря специализации"

    balanced_combat_build:
      description: "Универсальный билд с умеренными biotech улучшениями"
      synergy_bonuses:
        collection_efficiency: "+25% скорость сбора телеметрии"
        mutation_resistance: "-20% шанс мутаций"
        stack_capacity: "+0 дополнительных стеков"
        discharge_efficiency: "-25% потеря при сбросе"
      optimal_strategy: "Тактическое использование для situational advantage"
      risk_assessment: "Средний риск, сбалансированный подход"

    minimal_biotech_build:
      description: "Базовый билд без biotech специализации"
      synergy_bonuses:
        collection_efficiency: "+0% модификаторов"
        mutation_resistance: "+0% модификаторов"
        stack_capacity: "+0 дополнительных стеков"
        discharge_efficiency: "+0% модификаторов"
      optimal_strategy: "Ограниченное использование для emergency situations"
      risk_assessment: "Высокий риск из-за отсутствия специализации"

  anti_abuse_protections:
    usage_restrictions:
      infection_limit: "Максимум 1 активная инфекция одновременно"
      global_cooldown: "300 секунд между инъекциями"
      combat_restriction: "Запрет активации в активном бою"
      health_requirement: "Запрет активации при HP <50%"

    stack_manipulation_prevention:
      server_validation: "Все стаки и расчеты на сервере"
      integrity_checks: "Валидация целостности значений"
      timing_verification: "Проверка таймингов сбора и мутаций"
      anomaly_detection: "Обнаружение подозрительных паттернов"

    economic_safeguards:
      loot_value_cap: "Максимальный множитель лута 3.0x"
      mutation_penalty_cap: "Максимальный дебафф -75% от базовых значений"
      recovery_limits: "Максимальное время восстановления 600 секунд"

  risk_reward_scenarios:
    conservative_playstyle:
      scenario_description: "Игрок поддерживает 8-12 стеков с регулярным сбросом"
      average_loot_quality: "Tier 2-3 лут с +40% ценностью"
      mutation_frequency: "1 мутация на 15-20 минут игры"
      risk_reward_ratio: "Низкий риск, умеренная награда"
      player_satisfaction: "Предсказуемый, стабильный геймплей"

    aggressive_playstyle:
      scenario_description: "Игрок максимизирует стаки до 20+ с редким сбросом"
      average_loot_quality: "Tier 4-5 лут с +150% ценностью"
      mutation_frequency: "1 мутация на 5-8 минут игры"
      risk_reward_ratio: "Высокий риск, высокая награда"
      player_satisfaction: "Адреналиновый, rewarding опыт"

    emergency_usage:
      scenario_description: "Игрок использует систему только в критических ситуациях"
      average_loot_quality: "Tier 1-2 лут с минимальными бонусами"
      mutation_frequency: "Редкие мутации, в основном emergency shutdown"
      risk_reward_ratio: "Минимальный риск, базовая награда"
      player_satisfaction: "Безопасный, situational контент"

  telemetry_and_analytics:
    core_usage_metrics:
      - activation_frequency: "Количество активаций в минуту/час/сессию"
      - stack_accumulation_patterns: "Среднее время достижения разных уровней стеков"
      - discharge_patterns: "Частота и timing сбросов инфекции"
      - mutation_incidence: "Распределение типов и частоты мутаций"

    balance_effectiveness_metrics:
      - loot_quality_distribution: "Распределение качества лута по билдам"
      - risk_reward_correlation: "Связь между принятым риском и полученными наградами"
      - player_adoption_rates: "Процент игроков активно использующих систему"
      - session_impact: "Влияние на длину сессий и retention"

    economic_balance_metrics:
      - loot_economy_impact: "Влияние на общую экономику лута"
      - rare_drop_rates: "Изменение частоты редких предметов"
      - player_wealth_distribution: "Распределение богатства между стилями игры"
      - market_stability: "Стабильность цен на предметы"

    risk_assessment_metrics:
      - frustration_indicators: "Количество жалоб на систему"
      - toxicity_levels: "Влияние на player behavior"
      - accessibility_issues: "Проблемы доступности для casual игроков"
      - skill_ceiling_impact: "Влияние на competitive balance"

  implementation_considerations:
    technical_requirements:
      server_authority: "Все расчеты стеков и мутаций на сервере"
      real_time_tracking: "Отслеживание в реальном времени для immediate feedback"
      biotech_integration: "Связь с biotech имплантами и cyberware"
      performance_optimization: "Минимальный impact на combat performance"

    integration_points:
      loot_system: "Модификация drop tables и quality calculations"
      combat_system: "Взаимодействие с enemy death events"
      biotech_system: "Интеграция с biotech progression"
      ui_system: "HUD индикация стеков, риска и мутаций"

    testing_priorities:
      balance_testing: "Playtesting с различными билдами и стилями игры"
      edge_case_testing: "Тестирование граничных ситуаций и abuse scenarios"
      performance_testing: "Проверка при высокой нагрузке и spam usage"
      integration_testing: "Валидация взаимодействия с другими системами"

  iteration_guidelines:
    initial_target: "15-25% игроков должны активно использовать систему"
    success_metrics: "Увеличение biotech engagement на 30%"
    adjustment_triggers: "Корректировка при adoption rate <10% или >40%"
    major_rebalance: "Переработка только при доказанных проблемах с toxicity"

readiness_criteria:
  balance_maturity:
    - "Определены все формулы и параметры системы"
    - "Созданы профили для 3 классов экипировки"
    - "Реализованы механизмы предотвращения абуза"
    - "Определены метрики телеметрии"
  gameplay_balance:
    - "Проверен баланс для разных стилей игры"
    - "Оценено влияние на loot economy"
    - "Подтверждена strategic depth"
  technical_feasibility:
    - "Определены точки интеграции"
    - "Оценена производительность"
    - "Спроектирована система валидации"

implementation_roadmap:
  phase_1_core_mechanics:
    - "Базовая система инфекции и сбора телеметрии"
    - "Простая система стеков и качества лута"
    - "Базовые мутации с fixed вероятностями"
  phase_2_balance_refinement:
    - "Настройка формул и параметров"
    - "Добавление biotech synergies"
    - "Balance testing с игроками"
  phase_3_advanced_features:
    - "Комплексная система мутаций"
    - "Оптимизация производительности"
    - "Финальный polish и UI"
