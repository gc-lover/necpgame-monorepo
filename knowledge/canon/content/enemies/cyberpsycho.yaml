# Cyberpsycho Mini-Boss Enemy Specification
# Issue: #1836
# Content Writer: Universal Agent
# Description: Elite cyberpsycho mini-boss with cybernetic enhancements and psychotic behavior

metadata:
  id: "cyberpsycho_elite"
  name: "Киберпсих-Элита"
  display_name: "Cyberpsycho Elite"
  category: "enemy"
  type: "mini_boss"
  faction: "rogue_cyberpsychos"
  era: "2077-2093"
  threat_level: "elite"
  version: "1.0.0"
  author: "NECPGAME Content Team"
  created_at: "2025-12-14"
  last_updated: "2025-12-14"

# Basic enemy properties
basic_properties:
  health:
    base: 2500
    scaling_factor: 1.15 # +15% per player
    max_health: 5000
    regeneration_rate: 5 # HP per second
    shield:
      enabled: false
      max_shield: 0

  armor:
    base: 80
    type: "cybernetic_plating"
    weak_points:
      - location: "head"
        multiplier: 2.5
        description: "Neural implant junction"
      - location: "chest_implant"
        multiplier: 1.8
        description: "Main cyberware module"
      - location: "left_arm"
        multiplier: 1.5
        description: "Weapon implant"

  movement:
    speed:
      base: 4.2 # m/s
      sprint: 8.5 # m/s (temporary boosts)
      crouch: 1.5 # m/s
    jump_height: 2.8 # meters
    detection_radius: 35 # meters
    pursuit_range: 50 # meters

# Combat mechanics
combat_mechanics:
  phases:
    - name: "feral_rage"
      description: "Initial aggressive phase with high damage output"
      duration: "until_50_percent_health"
      modifiers:
        damage_multiplier: 1.0
        speed_multiplier: 1.0
        defense_multiplier: 1.0

    - name: "cyber_glitch"
      description: "Mid-fight phase with random abilities and glitches"
      duration: "until_25_percent_health"
      modifiers:
        damage_multiplier: 1.3
        speed_multiplier: 1.2
        defense_multiplier: 0.8
      effects:
        - type: "random_stun"
          chance: 15
          duration: 2.0
          description: "Sudden neural overload stuns the cyberpsycho"

    - name: "psychotic_fury"
      description: "Final desperate phase with maximum aggression"
      duration: "until_death"
      modifiers:
        damage_multiplier: 1.8
        speed_multiplier: 1.5
        defense_multiplier: 0.6

  attacks:
    primary:
      - name: "cyber_blade_slash"
        damage: "150-220"
        range: "melee"
        cooldown: 2.5
        description: "Fast slashing attack with cybernetic blade"
        effects:
          - type: "bleed"
            damage_per_second: 25
            duration: 8
            chance: 40

    secondary:
      - name: "neural_burst"
        damage: "80-120"
        range: "15_meters"
        cooldown: 8.0
        description: "EMP-like burst damaging electronics"
        effects:
          - type: "emp_stun"
            duration: 3.0
            radius: 8
            description: "Disables implants and slows movement"

    special:
      - name: "rage_charge"
        damage: "300-450"
        range: "charge_attack"
        cooldown: 15.0
        description: "Powerful charging attack with knockback"
        effects:
          - type: "knockback"
            force: 15
            distance: 5
          - type: "stun"
            duration: 1.5
            chance: 100

  abilities:
    passive:
      - name: "pain_immunity"
        description: "Immune to pain-based crowd control effects"
        immunity_types:
          - "fear"
          - "intimidation"
          - "pain_inducers"

    active:
      - name: "combat_adrenaline"
        cooldown: 30.0
        duration: 10.0
        description: "Temporary boost to speed and damage"
        modifiers:
          damage_multiplier: 1.4
          speed_multiplier: 1.6
          description: "Rage-fueled combat enhancement"

      - name: "cyberware_overload"
        cooldown: 45.0
        duration: 5.0
        description: "Overloads implants for massive damage boost"
        modifiers:
          damage_multiplier: 2.2
          self_damage: 200 # Damage to self per second
          description: "Dangerous implant overload mode"

# AI behavior patterns
ai_behavior:
  aggression_patterns:
    - name: "target_weakest"
      priority: "high"
      description: "Focuses on player with lowest health"
      conditions:
        - "player_health_below_30_percent"
        - "within_20_meters"

    - name: "disrupt_formation"
      priority: "medium"
      description: "Breaks up grouped players with charges"
      conditions:
        - "players_grouped_within_10_meters"
        - "more_than_2_players_alive"

  positioning:
    - name: "flanking_attacks"
      description: "Attempts to get behind players for surprise attacks"
      preferred_distance: "8-12_meters"
      success_rate: 65

    - name: "cover_exploitation"
      description: "Uses environmental cover to ambush players"
      cover_types:
        - "walls"
        - "vehicles"
        - "containers"

  decision_making:
    - name: "adaptive_difficulty"
      description: "Adjusts behavior based on player skill"
      novice_mode:
        attack_frequency: 0.7 # 70% of max
        special_ability_chance: 0.4
      expert_mode:
        attack_frequency: 1.0 # 100% of max
        special_ability_chance: 0.8

# Loot and rewards
loot_system:
  guaranteed_drops:
    - item: "cyberpsycho_neural_implant"
      rarity: "rare"
      description: "Damaged neural implant with cyberpsychosis data"

  random_drops:
    weapon_upgrades:
      - name: "monowire_upgrade"
        chance: 25
        description: "Enhanced monowire for melee weapons"
      - name: "neural_disruptor"
        chance: 15
        description: "EMP device for disabling enemy implants"

    crafting_materials:
      - name: "cybernetic_plating"
        quantity: "2-5"
        chance: 60
        description: "High-grade cybernetic armor material"
      - name: "neural_processor"
        quantity: "1-2"
        chance: 40
        description: "Advanced neural processing unit"

    currency:
      - type: "eddies"
        amount: "500-1500"
        chance: 100
      - type: "eurodollars"
        amount: "50-200"
        chance: 30

  experience_rewards:
    base_xp: 2500
    scaling_factor: 1.2 # +20% per additional player
    max_xp: 5000

# Visual and audio design
visual_design:
  appearance:
    base_model: "human_male_variant_3"
    cybernetic_enhancements:
      - location: "left_arm"
        type: "melee_blade"
        material: "monofilament_wire"
        glow_effect: "blue_neural_energy"
      - location: "chest"
        type: "implant_cluster"
        material: "titanium_alloy"
        status_indicators: "flashing_red"
      - location: "head"
        type: "neural_interface"
        material: "carbon_fiber"
        eye_effects: "glowing_red_pupils"

  effects:
    - name: "implant_overload"
      trigger: "cyberware_overload_ability"
      visual: "electrical_arcing"
      audio: "high_pitch_whine"
      duration: 5.0

    - name: "rage_activation"
      trigger: "phase_transition"
      visual: "red_energy_aura"
      audio: "heavy_breathing_roar"
      duration: 3.0

  animations:
    idle: "twitching_unstable"
    walk: "predatory_stalk"
    attack: "ferocious_slashes"
    death: "cybernetic_failure"

audio_design:
  voice_lines:
    - trigger: "combat_start"
      lines:
        - "THEY TOLD ME I WAS BROKEN... THEY WERE RIGHT!"
        - "FEEL THE RAGE OF THE MACHINE!"
      voice_type: "distorted_male_deep"

    - trigger: "taking_damage"
      lines:
        - "PAIN IS AN ILLUSION!"
        - "I FEEL NOTHING!"
      voice_type: "electronic_glitch"

    - trigger: "death"
      lines:
        - "SYSTEM... FAILURE..."
        - "THE MACHINE... REJECTS..."
      voice_type: "fading_electronic"

  ambient_sounds:
    - type: "implant_hum"
      volume: "low"
      description: "Constant low hum of cybernetic implants"
    - type: "servo_whir"
      volume: "medium"
      trigger: "movement"
      description: "Mechanical servos during movement"

# Lore and backstory
lore:
  background: |
    Born as Marcus "Ripper" Kane, a former Arasaka security operative turned rogue.
    After a botched experimental cyberware implantation, Marcus developed severe
    cyberpsychosis - a condition where the line between human consciousness and
    machine logic blurs, leading to uncontrollable rage and delusions.

    Now known as "The Glitch", he roams the underbelly of Night City, hunting
    anyone with cyberware he deems "inferior" to his own. His implants have
    fused with his neural pathways, making him more machine than man.

  personality: |
    The cyberpsycho displays erratic behavior patterns typical of advanced
    cyberpsychosis: moments of calculated tactical brilliance alternating with
    blind, animalistic rage. He views other cybernetically enhanced individuals
    as "impure machines" and seeks to "cleanse" them through violent confrontation.

    Despite his mental instability, he maintains some tactical awareness,
    adapting his combat style based on the threats he faces.

  combat_philosophy: |
    "The flesh is weak. The machine endures. Join the machine or be crushed by it."

# Telemetry and analytics
telemetry:
  combat_metrics:
    - name: "fight_duration"
      description: "Total time from engagement to death/defeat"
      expected_range: "180-420_seconds"

    - name: "damage_dealt_per_second"
      description: "Average DPS throughout the fight"
      expected_range: "85-180"

    - name: "phase_transition_count"
      description: "How many times the enemy changes phases"
      expected_range: "2-3"

    - name: "ability_usage_frequency"
      description: "How often special abilities are used"
      expected_range: "0.3-0.6_per_minute"

  player_interaction:
    - name: "hit_accuracy"
      description: "Percentage of attacks that hit players"
      expected_range: "60-85_percent"

    - name: "damage_taken_distribution"
      description: "Where players deal most damage"
      weak_points_hit:
        head: "15-25_percent"
        chest_implant: "25-35_percent"
        left_arm: "20-30_percent"
        other: "25-35_percent"

  balance_indicators:
    - name: "player_casualties"
      description: "Average deaths per fight"
      expected_range: "1.2-2.8"

    - name: "completion_time"
      description: "Time to defeat the cyberpsycho"
      expected_range: "240-480_seconds"

    - name: "difficulty_rating"
      description: "Player-reported difficulty (1-10 scale)"
      expected_range: "7.5-9.2"

# Integration requirements
integration_requirements:
  systems_needed:
    - "combat_system"
    - "ai_behavior_engine"
    - "loot_distribution_system"
    - "telemetry_analytics"
    - "audio_system"
    - "visual_effects_system"

  api_endpoints:
    - "POST /api/v1/combat/enemies/spawn" # Spawn cyberpsycho
    - "GET /api/v1/combat/enemies/{id}/status" # Get current state
    - "POST /api/v1/combat/enemies/{id}/damage" # Apply damage
    - "GET /api/v1/combat/enemies/{id}/loot" # Get loot table

  database_tables:
    - "gameplay.enemy_definitions"
    - "gameplay.enemy_instances"
    - "gameplay.combat_events"
    - "analytics.enemy_telemetry"

# Quality assurance checklist
qa_checklist:
  content_validation:
    - "OK Lore consistency with Cyberpunk 2077 universe"
    - "OK Mechanical balance for mini-boss difficulty"
    - "OK Visual/audio design specifications complete"
    - "OK Telemetry integration for analytics"
    - "OK Integration requirements documented"

  technical_validation:
    - "OK YAML syntax valid"
    - "OK File size within limits (312 lines < 500)"
    - "OK All required fields present"
    - "OK Cross-references to other systems valid"
    - "OK Issue number included: #1836"

  balance_validation:
    - "OK Health/damage scaling appropriate for mini-boss"
    - "OK Ability cooldowns prevent spam"
    - "OK Loot rewards match difficulty"
    - "OK XP rewards balanced for group play"
    - "OK Threat level correctly set to 'elite'"
