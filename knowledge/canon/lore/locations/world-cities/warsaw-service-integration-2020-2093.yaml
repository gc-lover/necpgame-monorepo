# Issue: #31
metadata:
  id: service-integration-world-city-warsaw-2020-2093
  title: 'Warsaw 2020-2093 — Service Integration'
  document_type: service_integration
  category: locations
  status: active
  version: '1.0.0'
  last_updated: 2025-01-12T12:00:00Z
  owners:
    - role: content_writer
      contact: content@necp.game
  tags:
    - world-city
    - warsaw
    - service-integration
    - world-state
    - defense-service
    - logistics-service
  related_systems:
    - world-state
    - defense-service
    - logistics-service
  source: knowledge/canon/lore/locations/world-cities/warsaw-detailed-2020-2093.yaml

# Основная информация для сервисов
city_core:
  id: "warsaw-2020-2093"
  name: "Warsaw"
  region: "Europe"
  coordinates:
    latitude: 52.2297
    longitude: 21.0122
  population: 8500000
  status: "active"
  strategic_importance: "high" # Vistula Sentinel headquarters, corporate fortress

# Уровни города для world-state системы
levels:
  - id: "vistula-sentinel-crown"
    name: "Vistula Sentinel Crown"
    height_range: "200-400m"
    access_control: "sentinel_elite"
    population_density: "medium"
    infrastructure_status: "excellent"
    defense_rating: 10
    logistics_capacity: "maximum"

  - id: "praga-resonance-grid"
    name: "Praga Resonance Grid"
    height_range: "50-200m"
    access_control: "corporate_executive"
    population_density: "high"
    infrastructure_status: "excellent"
    defense_rating: 9
    logistics_capacity: "high"

  - id: "old-town-fortress"
    name: "Old Town Fortress"
    height_range: "0-50m"
    access_control: "sentinel_protected"
    population_density: "medium"
    infrastructure_status: "excellent"
    defense_rating: 8
    logistics_capacity: "medium"

  - id: "mazovia-data-corridor"
    name: "Mazovia Data Corridor"
    height_range: "-10-0m"
    access_control: "technical_personnel"
    population_density: "low"
    infrastructure_status: "good"
    defense_rating: 7
    logistics_capacity: "medium"

  - id: "mazovian-deep-vaults"
    name: "Mazovian Deep Vaults"
    height_range: "-100--10m"
    access_control: "restricted_access"
    population_density: "minimal"
    infrastructure_status: "critical"
    defense_rating: 5
    logistics_capacity: "low"

# Кластеры активности для defense-service
activity_clusters:
  - id: "sentinel-bastion"
    name: "Sentinel Bastion"
    type: "corporate_fortress"
    threat_level: "low"
    patrol_frequency: "maximum"
    key_assets:
      - "Vistula Sentinel HQ"
      - "Corporate defense systems"
      - "Executive command center"
    factions_present:
      - "vistula_sentinel"
      - "corporate_security"
      - "elite_guards"

  - id: "praga-relay-union"
    name: "Praga Relay Union"
    type: "technological_district"
    threat_level: "medium"
    patrol_frequency: "high"
    key_assets:
      - "Data processing centers"
      - "Communication relays"
      - "Research facilities"
    factions_present:
      - "praga_relay_union"
      - "netwatch"
      - "corporate_research"

  - id: "amber-corridor"
    name: "Amber Corridor"
    type: "trade_route"
    threat_level: "high"
    patrol_frequency: "variable"
    key_assets:
      - "Trade terminals"
      - "Black market hubs"
      - "Smuggling routes"
    factions_present:
      - "smugglers"
      - "nomads"
      - "corporate_traders"

  - id: "iron-hussar-barricades"
    name: "Iron Hussar Barricades"
    type: "military_district"
    threat_level: "medium"
    patrol_frequency: "continuous"
    key_assets:
      - "Military compounds"
      - "Defense installations"
      - "Training facilities"
    factions_present:
      - "iron_hussars"
      - "military_police"
      - "defense_contractors"

# Сюжетные узлы для narrative-service
plot_nodes:
  - id: "sentinel-corporate-defense"
    name: "Sentinel Corporate Defense"
    type: "corporate_protection"
    status: "active"
    trigger_conditions:
      - player_actions: { type: "corporate_intrusion", target: "vistula_sentinel" }
      - faction_reputation: { faction: "vistula_sentinel", level: "negative" }
    consequences:
      - defense_activation: "maximum"
      - city_lockdown: "partial"
      - bounty_system: "activated"

  - id: "praga-data-breach"
    name: "Praga Data Breach Crisis"
    type: "cyber_security"
    status: "active"
    trigger_conditions:
      - player_actions: { type: "hacking", target: "praga_relay" }
      - skill_check: { hacking: 20 }
    consequences:
      - network_blackout: "praga-district"
      - data_corruption: "critical_systems"
      - faction_response: { faction: "netwatch", response: "aggressive" }

  - id: "amber-smuggling-network"
    name: "Amber Smuggling Network"
    type: "illegal_trade"
    status: "dormant"
    trigger_conditions:
      - player_faction: "nomads"
      - location: "amber-corridor"
      - time_condition: "night_hours"
    consequences:
      - logistics_bonus: "smuggling_routes"
      - faction_loyalty: { faction: "nomads", change: 10 }
      - border_security: "weakened"

# Логистические узлы для logistics-service
logistics_nodes:
  - id: "warsaw-central-station"
    name: "Warsaw Central Maglev Station"
    type: "rail_transport_hub"
    capacity: "high"
    security_level: "high"
    connected_routes:
      - "european_rail_network"
      - "corporate_executive_transport"
      - "military_logistics"
    restrictions:
      - "security_clearance"
      - "route_authorization"

  - id: "vistula-river-port"
    name: "Vistula River Port Complex"
    type: "riverine_transport"
    capacity: "medium"
    security_level: "medium"
    connected_routes:
      - "river_trade_routes"
      - "industrial_shipping"
      - "emergency_supply"
    restrictions:
      - "port_clearance"
      - "environmental_permits"

  - id: "warsaw-city-airport"
    name: "Warsaw City Airport"
    type: "aerial_transport"
    capacity: "medium"
    security_level: "high"
    connected_routes:
      - "european_air_network"
      - "corporate_transport"
      - "emergency_evacuation"
    restrictions:
      - "flight_clearance"
      - "security_protocols"

# Фракции и их влияние для world-state
faction_influence:
  vistula_sentinel:
    territory_control: 90
    economic_power: 85
    military_presence: 95
    public_opinion: 60
    key_territories:
      - "sentinel-bastion"
      - "vistula-sentinel-crown"
    objectives:
      - "corporate_security"
      - "technological_protection"

  praga_relay_union:
    territory_control: 65
    economic_power: 70
    military_presence: 50
    public_opinion: 55
    key_territories:
      - "praga-resonance-grid"
      - "mazovia-data-corridor"
    objectives:
      - "technological_innovation"
      - "data_security"

  iron_hussars:
    territory_control: 55
    economic_power: 45
    military_presence: 80
    public_opinion: 50
    key_territories:
      - "iron-hussar-barricades"
      - "old-town-fortress"
    objectives:
      - "military_tradition"
      - "territorial_defense"

  nomad_caravans:
    territory_control: 25
    economic_power: 30
    military_presence: 40
    public_opinion: 35
    key_territories:
      - "amber-corridor"
      - "mazovian-deep-vaults"
    objectives:
      - "trade_freedom"
      - "resource_mobility"

# Интеграционные точки для сервисов
service_integration:
  world_state_endpoints:
    - "/api/v1/world-state/cities/warsaw/levels"
    - "/api/v1/world-state/cities/warsaw/clusters"
    - "/api/v1/world-state/cities/warsaw/factions"

  defense_service_endpoints:
    - "/api/v1/defense/cities/warsaw/threat-assessment"
    - "/api/v1/defense/cities/warsaw/patrol-routes"
    - "/api/v1/defense/cities/warsaw/incident-response"

  logistics_service_endpoints:
    - "/api/v1/logistics/cities/warsaw/routes"
    - "/api/v1/logistics/cities/warsaw/capacity"
    - "/api/v1/logistics/cities/warsaw/restrictions"

# Метрики производительности
performance_metrics:
  last_updated: "2025-01-12T12:00:00Z"
  data_freshness: "real_time"
  integration_status: "active"
  validation_errors: 0