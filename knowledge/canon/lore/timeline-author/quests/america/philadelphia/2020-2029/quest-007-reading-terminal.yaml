metadata:
  id: canon-quest-philadelphia-2020-2029-reading-terminal
  title: 'Филадельфия 2020-2029 — «Рынок Ридинг Терминал»'
  document_type: canon
  category: timeline-author
  status: draft
  version: '1.1.0'
  last_updated: 2025-11-23T02:55:00Z
  concept_approved: false
  concept_reviewed_at: ''
  owners:
    - role: concept_director
      contact: concept@necp.game
  tags:
    - philadelphia
    - quest
    - market
  topics:
    - culinary-experience
    - heritage
  related_systems:
    - narrative-service
    - economy-service
  related_documents:
    - id: github-issue-1089
      title: GitHub Issue #1089
      link: https://github.com/gc-lover/necpgame-monorepo/issues/1089
      relation: migrated_to
      migrated_at: 2025-11-23T02:55:00Z
  source: shared/docs/knowledge/canon/lore/timeline-author/quests/america/philadelphia/2020-2029/quest-007-reading-terminal.md
  visibility: internal
  audience:
    - concept
    - narrative
    - liveops
  risk_level: low
review:
  chain:
    - role: concept_director
      reviewer: ''
      reviewed_at: ''
      status: pending
  next_actions: []
summary:
  problem: 'Маршрут по Reading Terminal Market был только в Markdown и не связывался с культурно-экономической линией.'
  goal: 'Перевести опыт исторического рынка в YAML с акцентом на традиции амишей и гастрономические активности.'
  essence: 'Игрок исследует рынок, знакомится с Pennsylvania Dutch поставщиками и собирает гастрономические отметки.'
  key_points:
    - 'Маршрут охватывает ключевых продавцов, включая амишей и Beiler''s Donuts.'
    - 'Квест вводит механики дегустаций и экономические бонусы для гастрономических линий.'
    - 'Рынок действует с 1893 года и поддерживает культурную идентичность города.'
content:
  sections:
    - id: overview
      title: Описание
      body: |
        Reading Terminal Market — исторический крытый рынок, где игрок знакомится с традициями амишей и легендарными
        блюдами Филадельфии. Квест сочетает гастрономию, культурные встречи и экономические решения.
      mechanics_links:
        - mechanics/quests/quest-structure.yaml
      assets: []
    - id: stalls
      title: Маршрут и остановки
      body: |
        1. Вход через исторический вокзал и знакомство с более чем 100 продавцами.
        2. Pennsylvania Dutch секция с фермерскими продуктами и ремёслами амишей.
        3. Дегустация Beiler's Donuts, локального Philly cheesesteak и свежих овощей.
        4. Сбор купонов и заказов для будущих кулинарных квестов.
      mechanics_links:
        - mechanics/economy/economy-events.yaml
      assets: []
    - id: interactions
      title: Взаимодействия
      body: |
        Игрок общается с торговцами, узнаёт истории семейных бизнесов и принимает решения: поддержать традиционные киоски
        или инвестировать в модернизацию. Выбор влияет на ассортимент и цены в дальнейшем.
      mechanics_links:
        - mechanics/world/world-state/player-impact-systems.yaml
      assets: []
    - id: regional_details
      title: Региональные детали
      body: |
        Квест подчёркивает историю рынка с 1893 года, роль амишей и уникальную атмосферу крытого пространства внутри
        бывшего железнодорожного терминала.
      mechanics_links: []
      assets: []
    - id: rewards
      title: Награды и последствия
      body: |
        - 800 XP, гастрономический рейтинг +10, расходы -30.
        - Ачивка «Торговец Рынка» и скидочные купоны для следующих кулинарных квестов.
      mechanics_links:
        - mechanics/progression/progression-perks.yaml
      assets: []
    - id: mechanics
      title: Механики
      body: |
        - Мини-игры с дегустацией и оценкой блюд.
        - Экономические выборы, влияющие на ассортимент киосков.
        - Сбор коллекции «вкусы Филадельфии» для бонусов в социальном хабе.
      mechanics_links:
        - mechanics/economy/economy-logistics.yaml
      assets: []
    - id: connections
      title: Связи
      body: |
        Поддерживает культурную линию Филадельфии и связывается с квестами о Philly cheesesteak и гастрономических
        фестивалях региона.
      mechanics_links: []
      assets: []
quest_definition:
  quest_type: side
  level_min: 1
  level_max: 12
  requirements:
    required_quests: []
    required_flags: []
    required_reputation: {}
    required_items: []
    skill_requirements: []
  objectives:
    - id: obj-001
      text: "Войти в Reading Terminal Market через исторический вокзал"
      type: move
      target: reading_terminal_market
      optional: false
    - id: obj-002
      text: "Изучить Pennsylvania Dutch секцию с продуктами амишей"
      type: explore
      target: pennsylvania_dutch_section
      optional: false
    - id: obj-003
      text: "Попробовать Beiler's Donuts и Philly cheesesteak"
      type: interact
      target: market_tasting
      optional: false
    - id: obj-004
      text: "Собрать купоны и заказы для будущих кулинарных квестов"
      type: interact
      target: collect_coupons
      optional: false
  rewards:
    experience: 800
    currency: -30
    reputation:
      philadelphia: 15
    unlocks:
      - type: achievement
        id: market_trader
      - type: attribute
        id: culinary
        value: 10
  branches:
    - id: support_traditional
      condition: choice == "traditional"
      consequences:
        traditional_stalls: supported
      rewards:
        reputation:
          traditional_vendors: 20
    - id: support_modernization
      condition: choice == "modernization"
      consequences:
        modern_stalls: supported
      rewards:
        reputation:
          modern_vendors: 20

appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  github_issue: 1089
  needs_task: false
  queue_reference: []
  blockers: []
history:
  - version: '0.1.0'
    date: 2025-11-12
    author: concept_team
    changes: 'Конвертация квеста «Рынок Ридинг Терминал» в формат знаний.'
  - version: '1.1.0'
    date: 2025-11-23
    author: content_writer
    changes: Добавлена структура quest_definition с objectives, rewards и branches согласно архитектуре системы квестов.
validation:
  checksum: ''
  schema_version: '1.0'
