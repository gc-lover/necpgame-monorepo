# Issue: #2259
metadata:
  id: canon-quest-seattle-apocalypse-eve-2029
  title: 'Сиэтл 2020-2029 — Перед апокалипсисом'
  document_type: canon
  category: quest
  status: draft
  version: '1.0.0'
  last_updated: 2025-12-27T09:20:00Z
  concept_approved: false
  concept_reviewed_at: ''
  owners:
    - role: content_writer
      contact: content@necp.game
  tags:
    - seattle
    - apocalypse
    - end-times
    - climax
    - survival
    - 2029
  topics:
    - apocalyptic-events
    - final-choices
    - survival-preparation
  related_systems:
    - narrative-service
    - event-service
    - world-service
  related_documents:
    - id: canon-lore-timeline-author-index
      relation: references
    - id: github-issue-2259
      title: GitHub Issue #2259
      link: https://github.com/gc-lover/necpgame-monorepo/issues/2259
      relation: implements
  source: shared/docs/knowledge/canon/lore/timeline-author/quests/america/seattle/2020-2029/quest-040-apocalypse-eve.md
  visibility: internal
  audience:
    - content
    - narrative
    - backend
  risk_level: critical
review:
  chain:
    - role: concept_director
      reviewer: ''
      reviewed_at: ''
      status: pending
  next_actions: [ ]
summary:
  problem: Надвигающийся апокалипсис 2029 года требует финальных решений от жителей Сиэтла
  goal: Создать эпический квест, показывающий последние дни перед катастрофой
  essence: |
    Игрок становится свидетелем и участником финальных событий в Сиэтле 2029 года,
    делает выборы, которые определят судьбу города и его жителей в час катастрофы.
  key_points:
    - Финальные события перед апокалипсисом
    - Критические выборы с долгосрочными последствиями
    - Взаимодействие со всеми фракциями города
    - Эпический масштаб и эмоциональная глубина
quest_definition:
  quest_type: main
  level_min: 25
  level_max: 50
  requirements:
    required_quests:
      - canon-quest-seattle-faction-alliance-2028
    required_flags:
      - faction_alliance_formed
    required_reputation:
      diplomatic: 20
    required_items: [ ]
  objectives:
    - id: witness_omens
      text: "Стать свидетелем знамений надвигающейся катастрофы"
      type: observation
      target: apocalyptic_omens
      count: 3
      optional: false
    - id: rally_allies
      text: "Собрать союзников из всех фракций для финального противостояния"
      type: recruitment
      target: faction_allies_rally
      count: 5
      optional: false
    - id: secure_safe_zone
      text: "Организовать безопасную зону для выживших"
      type: preparation
      target: survival_safe_zone
      count: 1
      optional: false
    - id: confront_antagonists
      text: "Противостоять антагонистам, ускоряющим апокалипсис"
      type: confrontation
      target: apocalyptic_antagonists
      count: 1
      optional: false
    - id: make_final_choice
      text: "Сделать финальный выбор, определяющий судьбу Сиэтла"
      type: decision
      target: apocalyptic_final_choice
      count: 1
      optional: false
    - id: survive_cataclysm
      text: "Выжить в момент катаклизма и увидеть последствия выборов"
      type: survival
      target: cataclysm_survival
      count: 1
      optional: false
  rewards:
    experience: 25000
    money: 10000
    reputation:
      legendary: 100
      survival_expert: 50
    items:
      - id: apocalypse_survivor_kit
        name: "Набор Выжившего Апокалипсиса"
        type: equipment_set
        rarity: legendary
        description: "Полный набор для выживания в постапокалиптическом мире"
      - id: seattle_relic
        name: "Реликт Сиэтла"
        type: artifact
        rarity: epic
        description: "Символ выживания в катастрофе, влияющий на репутацию"
    unlocks:
      achievements:
        - "Выживший Апокалипсиса"
        - "Легенда Сиэтла"
      flags:
        - "apocalypse_survivor"
        - "seattle_legend"
      quests:
        - "quest-041-post-apocalypse"
      world_events:
        - "seattle_apocalypse_aftermath"
  branches:
    - id: sacrifice_for_city
      condition: "Пожертвовать собой ради спасения города"
      consequences:
        unlock_achievement: "Герой Сиэтла"
        reputation_change:
          legendary: 200
        world_effect: "seattle_partial_survival"
      locked_content: "personal_survival"
    - id: ensure_personal_survival
      condition: "Обеспечить собственное выживание любой ценой"
      consequences:
        unlock_achievement: "Выживальщик"
        reputation_change:
          ruthless: 50
        world_effect: "seattle_total_destruction"
      locked_content: "heroic_sacrifice"
    - id: unite_factions
      condition: "Объединить все фракции для совместного выживания"
      consequences:
        unlock_achievement: "Миротворец"
        reputation_change:
          diplomatic: 100
        world_effect: "seattle_united_survival"
      locked_content: "faction_conflict"
content:
  sections:
    - id: quest_overview
      title: Описание
      body: |
        Финальный квест в линейке Seattle 2020-2029. Игрок становится центральной фигурой
        в событиях, предшествующих апокалипсису. Город на грани катастрофы, фракции
        в хаосе, а игрок должен сделать выборы, которые определят будущее.
      mechanics_links:
        - mechanics/world/apocalyptic-events.yaml
        - mechanics/social/mass-recruitment.yaml
      assets: [ ]
    - id: quest_flow
      title: Этапы опыта
      body: |
        1. Игрок замечает первые признаки надвигающейся катастрофы.
        2. Собирает информацию о природе угрозы через все контакты.
        3. Организует альянс между враждующими фракциями.
        4. Готовит город к катаклизму: убежища, ресурсы, эвакуацию.
        5. Сталкивается с теми, кто хочет ускорить апокалипсис.
        6. Делает финальный выбор в момент кризиса.
        7. Переживает катаклизм и видит последствия своих решений.
      mechanics_links:
        - mechanics/world/disaster-preparation.yaml
        - mechanics/social/mass-mobilization.yaml
      assets: [ ]
    - id: regional_details
      title: Региональные детали Сиэтла 2029
      body: |
        Сиэтл 2029 года - город в агонии. Небо затянуто тучами, улицы пустеют,
        корпорации эвакуируют элиту, уличные банды мародерствуют.
        Знаменитые достопримечательности становятся свидетелями последних дней цивилизации.
      mechanics_links: [ ]
      assets: [ ]
    - id: rewards
      title: Награды и эффекты
      body: |
        Квест дает огромные награды: 25000 XP, 10000 eddies, легендарную экипировку.
        Выборы игрока влияют на постапокалиптический мир и открывают новые сюжетные ветки.
      mechanics_links: [ ]
      assets: [ ]
    - id: branching_opportunities
      title: Возможности ветвления
      body: |
        - Героическая жертва ради спасения города
        - Личный эгоизм и обеспечение выживания любой ценой
        - Объединение фракций для коллективного спасения
        - Ускорение апокалипсиса для личной выгоды
        - Попытка предотвратить катастрофу
      mechanics_links:
        - mechanics/world/apocalyptic-consequences.yaml
        - mechanics/social/heroic-choices.yaml
      assets: [ ]
appendix:
  glossary:
    - term: "Apocalypse Eve"
      definition: "Последний день перед глобальной катастрофой, когда все решения становятся финальными"
    - term: "Cataclysm"
      definition: "Масштабная катастрофа, уничтожающая цивилизацию"
  references:
    - "Seattle End Times - Apocalyptic fiction set in Seattle"
    - "Cyberpunk Apocalypse - Post-apocalyptic cyberpunk tropes"
    - "Final Choice Mechanics - Endgame decision systems in games"
  decisions:
    - date: 2025-12-27T09:20:00Z
      decision: "Created epic apocalypse eve quest as climax of Seattle quest line"
      rationale: "Provides emotional climax and long-term consequences for Seattle storyline"
implementation:
  github_issue: 2259
  needs_task: false
  queue_reference:
    - shared/trackers/queues/content/queued.yaml#canon-quest-seattle-apocalypse-eve
  blockers: [ ]
