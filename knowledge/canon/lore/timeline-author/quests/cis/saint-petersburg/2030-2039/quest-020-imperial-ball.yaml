metadata:
  id: canon-quest-saint-petersburg-2030-2039-imperial-ball
  title: 'Санкт-Петербург 2030-2039 — «Императорский бал»'
  document_type: canon
  category: timeline-author
  status: draft
  version: '1.1.0'
  last_updated: 2025-11-13T00:00:00Z
  concept_approved: false
  concept_reviewed_at: ''
  owners:
    - role: concept_director
      contact: concept@necp.game
  tags:
    - saint-petersburg
    - quest
    - imperial-ball
  topics:
    - social-elite
    - etiquette-gameplay
  related_systems:
    - narrative-service
    - social-service
    - liveops-events-service
  related_documents:
    - id: timeline-author-quests-index
      relation: references
  source: shared/docs/knowledge/canon/lore/timeline-author/quests/cis/saint-petersburg/2030-2039/quest-020-imperial-ball.md
  visibility: internal
  audience:
    - concept
    - narrative
    - liveops
  risk_level: medium
review:
  chain:
    - role: concept_director
      reviewer: ''
      reviewed_at: ''
      status: pending
  next_actions: []
summary:
  problem: 'Элитные события Петербурга отсутствовали в виде подробного игрового сценария императорского бала.'
  goal: 'Подготовить квест о визите на бал в Зимнем дворце с изучением этикета и танцев.'
  essence: 'Игрок добывает приглашение, готовит наряд, учится танцам и участвует в кульминационном вальсе.'
  key_points:
    - 'Приглашение требует высокую репутацию и подготовку костюма.'
    - 'Этикет и танцы реализованы через мини-игры.'
    - 'Бал открывает доступ к элитным связям и интригам.'
quest_definition:
  quest_type: main
  level_min: 20
  level_max: 40
  requirements:
    required_quests: []
    required_flags: []
    required_reputation: {}
    required_items: []
    skill_requirements: []
  objectives:
    - id: obj-001
      text: "Добиться репутации элиты, пройти проверку службы двора и оплатить пошлину за участие"
      type: interact
      target: invitation
      optional: false
    - id: obj-002
      text: "Заказать платье или фрак, посетить уроки этикета и изучить полонез, мазурку и вальс"
      type: interact
      target: preparation
      optional: false
    - id: obj-003
      text: "Взаимодействовать с гостями, выбирать диалоги и участвовать в интригах в мраморных залах"
      type: interact
      target: ballroom
      optional: false
    - id: obj-004
      text: "Участвовать в финальном танце в Николаевском зале, соблюдая этикет"
      type: perform
      target: climax
      optional: false
  rewards:
    experience: 3000
    currency: 0
    unlocks: []
  branches: []
content:
  sections:
    - id: invitation
      title: Получение приглашения
      body: |
        Нужно добиться репутации элиты, пройти проверку службы двора и оплатить пошлину за участие. Игрок знакомится с протоколом балов.
      mechanics_links: []
      assets: []
    - id: preparation
      title: Подготовка наряда и обучения
      body: |
        Игрок заказывает платье или фрак, посещает уроки этикета и изучает полонез, мазурку и вальс через танцевальные мини-игры.
      mechanics_links: []
      assets: []
    - id: ballroom
      title: Бал в Зимнем дворце
      body: |
        Сцена с мраморными залами, оркестром и приветствиями. Игрок взаимодействует с гостями, выбирает диалоги и участвует в интригах.
      mechanics_links: []
      assets: []
    - id: climax
      title: Кульминационный вальс
      body: |
        Финальный танец в Николаевском зале. Успех зависит от точности выполнения движений и соблюдения этикета.
      mechanics_links: []
      assets: []
    - id: rewards
      title: Награды
      body: |
        - 3 000 XP и титул «Фрейлина» или «Камергер».
        - Репутация элиты +10 и доступ к закрытым салонам.
      mechanics_links: []
      assets: []
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  github_issue: 813
  needs_task: false
  queue_reference: []
  blockers: []
history:
  - version: '0.1.0'
    date: 2025-11-13
    author: concept_team
    changes: 'Конвертация квеста «Императорский бал» в формат знаний.'
  - version: '1.1.0'
    date: 2025-11-27
    author: content_writer
    changes: 'Добавлена структура quest_definition для импорта в БД.'
validation:
  checksum: ''
  schema_version: '1.0'

