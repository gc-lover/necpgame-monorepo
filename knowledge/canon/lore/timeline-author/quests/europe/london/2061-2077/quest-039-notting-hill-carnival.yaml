# Issue: #140905589
metadata:
  id: quest-london-2061-notting-hill-carnival
  title: "Quest: Notting Hill Carnival (London 2061-2077)"
  document_type: canon
  category: quest
  status: content-ready
  version: "2.0.0"
  last_updated: 2025-12-20T06:36:00Z
  concept_approved: true
  concept_reviewed_at: 2025-12-20T06:36:00Z
  owners:
    - role: concept_director
      contact: concept@necp.game
  tags:
    - london
    - festival
    - multicultural
  topics:
    - cultural_experience
    - rhythm_gameplay
  related_systems:
    - festival-system
    - music-system
    - reputation-service
  related_documents:
    - id: github-issue-639
      title: GitHub Issue #639
      link: https://github.com/gc-lover/necpgame-monorepo/issues/639
      relation: migrated_to
      migrated_at: 2025-11-22T23:58:00Z
  source: shared/docs/knowledge/canon/lore/timeline-author/quests/europe/london/2061-2077/quest-039-notting-hill-carnival.md
  visibility: internal
  audience:
    - concept
    - narrative
    - liveops
  risk_level: low
review:
  chain:
    - role: content_lead
      reviewer: Content Review Cell
      reviewed_at: 2025-12-20T06:36:00Z
      status: approved
  next_actions:
    - action: backend_integration
      assignee: backend_team
      due_date: 2026-01-15T00:00:00Z
summary:
  problem: Требуется яркий мультикультурный фестиваль, подчёркивающий разнообразие Лондона 2070-х.
  goal: Организовать участие игрока в карнавале Ноттинг-Хилл с танцевальной мини-игрой и культурными бонусами.
  essence: Игрок прибывает на карнавал, присоединяется к параду, выполняет танцевальные задания и пробует карибскую кухню.
  key_points:
    - Самый крупный уличный фестиваль Европы с карибскими корнями.
    - Танцевальная мини-игра и взаимодействие с толпой NPC.
    - Награды в виде культурного статуса и достижений.
quest_definition:
  quest_type: event
  level_min: 1
  level_max: null
  requirements:
    required_quests: [ ]
    required_flags: [ ]
    required_reputation: { }
    required_items: [ ]
  objectives:
    - id: arrive_carnival
      text: "Прибыть на улицы Ноттинг-Хилла и выбрать колонну"
      type: visit
      target: notting_hill_streets
      count: 1
      optional: false
    - id: join_parade
      text: "Присоединиться к параду и пройти танцевальную мини-игру"
      type: minigame
      target: dance_minigame
      count: 1
      optional: false
    - id: try_caribbean_food
      text: "Попробовать карибскую кухню (jerk chicken, roti, напитки)"
      type: interact
      target: street_food_vendors
      count: 3
      optional: false
    - id: finish_night
      text: "Завершить ночь на импровизированной сцене с диджеем"
      type: interact
      target: dj_stage
      count: 1
      optional: false
  rewards:
    experience: 600
    currency: -1000
    items:
      - item_id: carnival_mask
        name: "Colorful Carnival Mask"
        quantity: 1
    reputation:
      Caribbean_Communities: 15
      london_cultural: 10
    flags:
      - notting_hill_carnival_completed
      - multicultural_experience_gained
  branches:
    - id: dance_master
      unlock_condition:
        type: skill_check
        skill: rhythm
        threshold: 50
      consequences:
        reputation:
          Caribbean_Communities: 20
        flags:
          - carnival_dance_master
        unlocked_content:
          - quest_type: side
            quest_id: canon-quest-london-2061-2077-dance-workshop
    - id: food_explorer
      unlock_condition:
        type: choice_made
        choice_id: carnival_focus
        value: "food"
      consequences:
        reputation:
          Caribbean_Communities: 10
          culinary_guild: 15
        flags:
          - caribbean_cuisine_explorer
dialogue_hooks:
  - id: carnival_entrance
    speaker: "Festival Volunteer NPC"
    dialogue: "Welcome to the Notting Hill Carnival! The biggest street party in Europe! Choose your parade group - we have Jamaican, Trinidadian, and fusion styles!"
    choices:
      - text: "I'll join the Jamaican steel drums."
        consequence: "jamaican_parade_selected"
      - text: "Trinidadian soca sounds great!"
        consequence: "trinidadian_parade_selected"
      - text: "Show me the modern fusion group."
        consequence: "fusion_parade_selected"
  - id: dance_minigame_start
    speaker: "Dance Instructor NPC"
    dialogue: "Alright! Follow the rhythm! Step left, step right, jump up! Show me your best moves!"
    choices:
      - text: "I'm ready to dance!"
        consequence: "dance_minigame_begins"
      - text: "Maybe just watch for now."
        consequence: "observer_mode"
  - id: food_vendor_greeting
    speaker: "Street Food Vendor NPC"
    dialogue: "Try our authentic jerk chicken! Marinated for 24 hours, cooked over pimento wood. Best in London!"
    choices:
      - text: "Sounds amazing! One please."
        consequence: "jerk_chicken_ordered"
      - text: "Tell me about the other dishes."
        consequence: "food_menu_explained"
moral_choices:
  - id: carnival_focus
    question: "What aspect of the Notting Hill Carnival interests you most?"
    options:
      - value: "dance"
        text: "Focus on the music and dancing - join the parades and learn traditional moves."
        impact: "Increases rhythm skill and Caribbean community reputation."
      - value: "food"
        text: "Explore the Caribbean cuisine and street food culture."
        impact: "Increases culinary knowledge and unlocks food-related quests."
      - value: "culture"
        text: "Learn about the history and cultural significance of the festival."
        impact: "Increases cultural knowledge and opens historical content."
content:
  sections:
    - id: setup
      title: "Контекст"
      body: |
        Ноттинг-Хилл в 2070-х остаётся символом мультикультурализма. Карнавал превращается в двухдневное событие с участием корп-спонсоров и локальных артистов.
      mechanics_links: [ ]
      assets: [ ]
    - id: experience
      title: "Этапы"
      body: |
        1. Прибыть на улицы Ноттинг-Хилла и выбрать колонну.
        2. Присоединиться к параду и пройти танцевальную мини-игру под стальные барабаны.
        3. Оценить кухню: jerk chicken, roti, карибские напитки.
        4. Закончить ночь на импровизированной сцене с диджеем.
      mechanics_links:
        - mechanics/festival/dance-minigame.yaml
        - mechanics/culture/street-food.yaml
      assets: [ ]
    - id: rewards
      title: "Награды"
      body: |
        - 600 XP, затраты 1 000 эдди.
        - Культурный статус +5 и достижение «Дух Карибов».
      mechanics_links:
        - mechanics/progression/achievement-system.yaml
      assets: [ ]
    - id: connections
      title: "Связи"
      body: |
        Карнавал поддерживает мультикультурные ветки, влияет на отношения с карибскими сообществами и может запускать live-ops мероприятия.
      mechanics_links: [ ]
      assets: [ ]
appendix:
  glossary: [ ]
  references: [ ]
  decisions: [ ]
implementation:
  github_issue: 639
  needs_task: false
  queue_reference: [ ]
  blockers: [ ]
history:
  - version: "2.0.0"
    date: 2025-12-20T06:36:00Z
    author: content_writer
    changes: "Переход в статус content-ready с полным контентом: детальные этапы с локациями и целями, диалоги с NPC (волонтёр, инструктор танцев, продавец еды), проверки навыков (Rhythm), ветвления и моральные выборы в фокусе карнавала, расширенные награды с XP, валютой, предметами и репутацией."
  - version: "1.0.0"
    date: 2025-11-13
    author: Concept Director
    changes: Квест «Карнавал Ноттинг-Хилл» перенесён в YAML и дополнен деталями по фестивальному геймплею.
  - version: "1.1.0"
    date: 2025-11-23
    author: content_writer
    changes: Добавлена структура квеста с objectives, rewards и branches согласно архитектуре системы квестов.
validation:
  checksum: ""
  schema_version: "1.0"
