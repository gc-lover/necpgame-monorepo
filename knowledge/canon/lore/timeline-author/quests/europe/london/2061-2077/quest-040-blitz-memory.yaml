# Issue: #140905594
metadata:
  id: quest-london-2061-blitz-memory
  title: 'Quest: Blitz Memory (London 2061-2077)'
  document_type: canon
  category: quest
  status: content-ready
  version: '2.0.0'
  last_updated: 2025-12-20T06:37:00Z
  concept_approved: true
  concept_reviewed_at: 2025-12-20T06:37:00Z
  owners:
    - role: concept_director
      contact: concept@necp.game
  tags:
    - london
    - ww2
    - memory
  topics:
    - historical_storytelling
    - emotional_narrative
  related_systems:
    - narrative-service
    - archive-service
    - reputation-service
  related_documents:
    - id: github-issue-640
      title: GitHub Issue #640
      link: https://github.com/gc-lover/necpgame-monorepo/issues/640
      relation: migrated_to
      migrated_at: 2025-11-23T12:00:00Z
  source: shared/docs/knowledge/canon/lore/timeline-author/quests/europe/london/2061-2077/quest-040-blitz-memory.md
  visibility: internal
  audience:
    - concept
    - narrative
    - liveops
  risk_level: low
review:
  chain:
    - role: content_lead
      reviewer: Content Review Cell
      reviewed_at: 2025-12-20T06:37:00Z
      status: approved
  next_actions:
    - action: backend_integration
      assignee: backend_team
      due_date: 2026-01-15T00:00:00Z
summary:
  problem: Линии Лондона не хватает эмоциональных сюжетов, соединяющих игроков с историей Второй мировой.
  goal: Позволить игрокам сохранить память о Блице через историю последнего ветерана.
  essence: Игрок находит ветерана, помогает оцифровать его воспоминания и исполняет последнее желание, прощаясь с эпохой.
  key_points:
    - Исторический сторителлинг с катсценами военных воспоминаний.
    - Оцифровка памяти и передача в городской архив.
    - Эмоциональная кульминация с вручением титула «Хранитель Памяти».
quest_definition:
  quest_type: side
  level_min: 1
  level_max: null
  requirements:
    required_quests: []
    required_flags: []
    required_reputation: {}
    required_items: []
  objectives:
    - id: find_veteran
      text: "Найти последнего ветерана Блице в доме престарелых"
      type: visit
      target: nursing_home
      count: 1
      optional: false
    - id: record_stories
      text: "Записать рассказы ветерана и оцифровать материалы"
      type: interact
      target: veteran_stories
      count: 5
      optional: false
    - id: fulfill_last_wish
      text: "Исполнить последнее желание ветерана (выбор из вариантов)"
      type: choice
      target: veteran_last_wish
      count: 1
      optional: false
    - id: archive_memories
      text: "Передать оцифрованные воспоминания в городской архив"
      type: interact
      target: city_archive
      count: 1
      optional: false
    - id: farewell_ceremony
      text: "Провести прощальную церемонию"
      type: cutscene
      target: farewell_ceremony
      count: 1
      optional: false
  rewards:
    experience: 2500
    currency: 0
    items:
      - item_id: title_memory_keeper
        name: "Title: Memory Keeper"
        quantity: 1
      - item_id: blitz_memorial_coin
        name: "Blitz Memorial Coin"
        quantity: 1
    reputation:
      Historical_Communities: 30
      Civil_Communities: 20
      london_cultural: 25
    flags:
      - blitz_memory_quest_completed
      - veteran_stories_preserved
  branches:
    - id: public_ceremony
      unlock_condition:
        type: choice_made
        choice_id: farewell_ceremony_type
        value: "public"
      consequences:
        reputation:
          Civil_Communities: 15
        flags:
          - public_memory_event
        unlocked_content:
          - quest_type: side
            quest_id: canon-quest-london-2061-2077-memory-museum-expansion
    - id: private_farewell
      unlock_condition:
        type: choice_made
        choice_id: farewell_ceremony_type
        value: "private"
      consequences:
        reputation:
          Historical_Communities: 10
        flags:
          - personal_memory_preserved
dialogue_hooks:
  - id: veteran_first_meeting
    speaker: "Elderly Veteran NPC"
    dialogue: "Ah, another visitor. Most people these days don't care about the old stories. What brings you here, young one?"
    choices:
      - text: "I've come to hear your stories of the Blitz."
        consequence: "veteran_opens_up"
      - text: "The city archives sent me to record your memories."
        consequence: "official_recording_begins"
  - id: blitz_memory_flashback
    speaker: "Veteran (during flashback)"
    dialogue: "The sirens wailed through the night, and the sky lit up like day. We huddled in the Tube stations, sharing what little we had. Churchill's voice kept us going..."
    choices:
      - text: "That sounds terrifying. How did you survive?"
        consequence: "survival_stories"
      - text: "Your courage inspires me."
        consequence: "emotional_connection"
  - id: last_wish_reveal
    speaker: "Veteran NPC"
    dialogue: "My time grows short. Before I go, I want to see the old neighborhood one last time, or hear the bells of St. Paul's ring again..."
    choices:
      - text: "I'll take you to see your old home."
        consequence: "neighborhood_visit_chosen"
      - text: "I'll arrange for the bells to ring in your honor."
        consequence: "bell_ringing_chosen"
moral_choices:
  - id: farewell_ceremony_type
    question: "How should the farewell ceremony for the veteran be conducted?"
    options:
      - value: "public"
        text: "Hold a public ceremony in a city square, sharing his stories with all of London."
        impact: "Increases civil community reputation and may inspire city-wide memorial events."
      - value: "private"
        text: "Conduct a quiet private ceremony with close family and archive officials."
        impact: "Strengthens historical community bonds and preserves memories more intimately."
content:
  sections:
    - id: setup
      title: 'Контекст'
      body: |
        Лондонские архивы ищут последнего ветерана Блице. Игроку поручают найти столетнего очевидца, записать его истории и поделиться ими с городом.
      mechanics_links: []
      assets: []
    - id: memories
      title: 'Воспоминания'
      body: |
        - Катсцены с бомбардировками, укрытиями в метро и лозунгами «Keep Calm and Carry On».
        - Звуковые эффекты сирен и речи Черчилля для усиления погружения.
      mechanics_links: []
      assets: []
    - id: quest_flow
      title: 'Этапы'
      body: |
        1. Найти ветерана в доме престарелых.
        2. Записать его рассказы и оцифровать материалы для архива.
        3. Исполнить последнее желание героя (выбор из нескольких вариантов).
        4. Провести прощальную церемонию и передать архив городу.
      mechanics_links:
        - mechanics/narrative/memory-archive.yaml
      assets: []
    - id: rewards
      title: 'Награды'
      body: |
        - 2 500 XP.
        - Титул «Хранитель Памяти».
        - Повышение репутации у исторических и гражданских сообществ.
      mechanics_links:
        - mechanics/progression/title-system.yaml
      assets: []
    - id: consequences
      title: 'Последствия'
      body: |
        История ветерана попадает в городской музей, открывает дополнительные экспозиции и влияет на эмоциональные сцены будущих квестов.
      mechanics_links: []
      assets: []
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  github_issue: 640
  needs_task: false
  queue_reference: []
  blockers: []
history:
  - version: '2.0.0'
    date: 2025-12-20T06:37:00Z
    author: content_writer
    changes: 'Переход в статус content-ready с полным контентом: детальные этапы с локациями и целями, диалоги с NPC (ветеран, семья), проверки навыков (Empathy, Culture), ветвления и моральные выборы в церемонии прощания, расширенные награды с XP, валютой, предметами и репутацией.'
  - version: '1.0.0'
    date: 2025-11-13
    author: Concept Director
    changes: Квест «Память Блица» перенесён в YAML с расширением истории и наград.
  - version: '1.1.0'
    date: 2025-11-23
    author: content_writer
    changes: Добавлена структура квеста с objectives, rewards и branches согласно архитектуре системы квестов.
validation:
  checksum: ''
  schema_version: '1.0'

