# Issue: #109
metadata:
  id: narrative-coherence-map-master
  title: 'Единая карта сюжета NECPGAME'
  document_type: canon
  category: narrative-coherence
  status: approved
  version: '1.0.0'
  last_updated: 2025-11-06T23:33:00Z
  concept_approved: true
  concept_reviewed_at: 2025-11-06T23:33:00Z
  owners:
    - role: concept_director
      contact: concept@necp.game
  tags:
    - narrative
    - navigation
    - storyline
  topics:
    - master-arc
    - quest-graph
  related_systems:
    - narrative-service
  related_documents:
    - id: narrative-master-arc
      relation: references
    - id: narrative-coherence-timeline-check
      relation: references
    - id: narrative-coherence-quest-triggers
      relation: references
  source: shared/docs/knowledge/canon/narrative/narrative-coherence/phase6-documentation/maps/narrative-map-master.md
  visibility: internal
  audience:
    - concept
    - narrative
    - backend
  risk_level: medium
review:
  chain:
    - role: concept_director
      reviewer: ''
      reviewed_at: ''
      status: approved
  next_actions: [ ]
summary:
  problem: Отсутствовала единая точка навигации по многотомной документации сюжетного контура.
  goal: Сформировать компактный индекс, связывающий мастер-арку, временную логику, квестовые графы и базы данных.
  essence: Карта-навигатор описывает финалы, связности и ключевые артефакты, позволяя быстро переходить к целевым файлам.
  key_points:
    - Главная арка 2020-2093 с четырьмя финалами.
    - Связи квестов, временные проверки и классовые ветки.
    - Ссылки на базы данных, матрицы событий и визуализации.
content:
  sections:
    - id: overview
      title: 'Сводка и назначение'
      body: |
        Документ служит центральной точкой входа в систему повествовательных знаний. Он перечисляет ключевые артефакты по сценарным эпохам, финалам и поддерживающим данным, сохраняя минималистичный формат и акцент на ссылках.
      mechanics_links: [ ]
      assets: [ ]
    - id: master_arc
      title: 'Главная сюжетная линия'
      body: |
        Мастер-документ охватывает 73 года истории и приводит четыре финальных сценария: Corporatocracy, Transcendence, Revolution и Apocalypse. Основная публикация связывает ранние и поздние эпохи, обеспечивая целостное повествование.
      mechanics_links:
        - canon/narrative/narrative-coherence/phase2-narrative/narrative-master-arc.yaml
      assets: [ ]
    - id: quest_links
      title: 'Связи квестов'
      body: |
        Навигатор указывает на матрицы побочных квестов, триггеры и блокеры. Всего документировано более 150 квестов со структурированными зависимостями, поддерживающими планирование контента и проверку доступности.
      mechanics_links:
        - canon/narrative/narrative-coherence/phase2-narrative/connections/side-quests-matrix.yaml
        - canon/narrative/narrative-coherence/phase2-narrative/connections/quest-triggers.yaml
        - canon/narrative/narrative-coherence/phase2-narrative/connections/quest-blockers.yaml
      assets: [ ]
    - id: temporal_logic
      title: 'Временная логика'
      body: |
        Раздел объединяет проверки хронологии NPC, фракций и локаций. Сводка подтверждает анализ 159 NPC и 80 фракций, указывая на документы timeline-check, NPC lifecycle и faction evolution.
      mechanics_links:
        - canon/narrative/narrative-coherence/phase2-narrative/coherence/timeline-check.yaml
        - canon/narrative/narrative-coherence/phase2-narrative/coherence/npc-lifecycle.yaml
        - canon/narrative/narrative-coherence/phase2-narrative/coherence/faction-evolution.yaml
      assets: [ ]
    - id: class_paths
      title: 'Классовые пути'
      body: |
        Ссылка на класс-бренчи позволяет оценить 13 классов в шести эпохах. Материал помогает команде контента гарантировать, что классовые ветки согласуются с глобальной аркой.
      mechanics_links:
        - canon/narrative/narrative-coherence/phase2-narrative/classes/class-branches.yaml
      assets: [ ]
    - id: event_matrix
      title: 'Событийная матрица'
      body: |
        Матрица событий описывает архитектуру, граф зависимостей и состояния мира. В ней учтено 550 квестов и более 1200 связей, что формирует базу для синхронизации с механиками.
      mechanics_links:
        - canon/narrative/narrative-coherence/phase3-event-matrix/architecture.yaml
        - canon/narrative/narrative-coherence/phase3-event-matrix/graph/quest-dependencies.yaml
        - canon/narrative/narrative-coherence/phase3-event-matrix/graph/world-state-graph.yaml
      assets: [ ]
    - id: database
      title: 'База данных'
      body: |
        Указаны расширенные SQL-таблицы для квестов и мирового состояния, представляющие 24 структуры в рамках MMO. Эти материалы необходимы backend-команде для поддержки игровых сервисов.
      mechanics_links:
        - canon/narrative/narrative-coherence/phase4-database/tables/quest-tables-extended.sql
        - canon/narrative/narrative-coherence/phase4-database/tables/world-state-tables.sql
      assets: [ ]
    - id: player_impact
      title: 'Влияние игроков'
      body: |
        Гибридная система описывает совмещение персонального, коллективного и фракционного влияния. Навигатор ссылается на основной документ player impact, расширяющий координаты решений.
      mechanics_links:
        - canon/narrative/narrative-coherence/phase5-player-impact/hybrid/hybrid-system.yaml
      assets: [ ]
    - id: checklist
      title: 'Чеклист непротиворечивости'
      body: |
        Сводный контроль включает пять критериев: уникальность локаций и NPC во времени, соблюдение статусов фракций и отсутствие ссылок на будущее. Детали проверок приводятся в документе timeline-check.
      mechanics_links:
        - canon/narrative/narrative-coherence/phase2-narrative/coherence/timeline-check.yaml
      assets: [ ]
    - id: visuals
      title: 'Визуализации'
      body: |
        Навигатор указывает на набор диаграмм Mermaid: главная арка, критические пути и граф зависимостей. Визуализации помогают быстрее оценивать состояние сюжетной сети.
      mechanics_links:
        - canon/narrative/narrative-coherence/phase6-documentation/visualization/narrative-arc.mermaid.md
      assets: [ ]
appendix:
  glossary: [ ]
  references: [ ]
  decisions: [ ]
implementation:
  github_issue: 109
  needs_task: false
  queue_reference: [ ]
  blockers: [ ]
history:
  - version: '1.0.0'
    date: 2025-11-06
    author: concept_director
    changes: Сформирован центральный навигатор сюжетной документации.
validation:
  checksum: ''
  schema_version: '1.0'

