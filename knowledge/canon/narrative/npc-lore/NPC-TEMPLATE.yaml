# Issue: #108
metadata:
  id: canon-narrative-npc-template
  title: 'Шаблон для создания NPC'
  document_type: template
  category: narrative
  status: approved
  version: '2.0.0'
  last_updated: 2025-12-27T12:30:00Z
  concept_approved: true
  concept_reviewed_at: 2025-11-05T11:05:00Z
  owners:
    - role: narrative_director
      contact: narrative@necp.game
  tags:
    - npc
    - template
  topics:
    - narrative
    - documentation
  related_systems:
    - narrative-service
  related_documents:
    - id: canon-narrative-npc-lifecycle-spread
      relation: references
    - id: canon-narrative-npc-era-index
      relation: complements
  source: shared/docs/knowledge/canon/narrative/npc-lore/NPC-TEMPLATE.md
  visibility: internal
  audience:
    - narrative
    - content
  risk_level: low
review:
  chain:
    - role: narrative_director
      reviewer: Narrative Documentation Cell
      reviewed_at: 2025-11-05T11:05:00Z
      status: approved
  next_actions: [ ]
summary:
  problem: Отсутствовал стандартизированный шаблон для создания NPC карточек.
  goal: Создать единообразный формат описания NPC для обеспечения консистентности лора.
  essence: Шаблон определяет обязательные и опциональные поля для описания NPC, их истории и характеристик.
  key_points:
    - Определена структура metadata, appearance, personality, background и других разделов.
    - Установлены правила для связей с фракциями, квестами и другими NPC.
    - Заданы требования к детализации и консистентности описаний.
content:
  sections:
    - id: template_structure
      title: Структура шаблона NPC
      body: |
        Каждый NPC файл должен следовать этой структуре. Обязательные поля отмечены [REQUIRED].
        Опциональные поля можно пропускать если не применимы.
      mechanics_links: [ ]
      assets: [ ]
    - id: metadata_section
      title: Раздел Metadata [REQUIRED]
      body: |
        ```yaml
        # Issue: #[номер_issue_создания]
        metadata:
          id: [уникальный_id_в_формате_kebab-case]
          name: "[Полное имя NPC]"
          aliases: ["[Прозвища или альтернативные имена]"]
          faction: "[Фракция или независимый]"
          role: "[Роль: fixer, ripperdoc, netrunner, merchant, etc.]"
          location: "[Основное место пребывания]"
          era: "[Эпоха активности: 2020s, 2030s, 2040s, etc.]"
          importance: "[CRITICAL/MAJOR/MINOR]"
          status: "[ACTIVE/DEAD/MISSING/RETIRED]"
          version: "1.0.0"
          last_updated: 2025-12-27T12:30:00Z
        ```
      mechanics_links: [ ]
      assets: [ ]
    - id: appearance_section
      title: Раздел Appearance [REQUIRED]
      body: |
        ```yaml
        appearance:
          age: [число]
          gender: "[male/female/non-binary]"
          ethnicity: "[этническая принадлежность]"
          height: "[рост в см или описательно]"
          build: "[телосложение: athletic, slim, muscular, etc.]"
          hair: "[цвет и стиль волос]"
          eyes: "[цвет глаз и особенности]"
          cyberware_visible: "[видимые импланты]"
          clothing_style: "[стиль одежды]"
          distinctive_features: "[особые приметы]"
        ```
      mechanics_links: [ ]
      assets: [ ]
    - id: personality_section
      title: Раздел Personality [REQUIRED]
      body: |
        ```yaml
        personality:
          traits: ["[основные черты характера]"]
          strengths: ["[сильные стороны]"]
          weaknesses: ["[слабые стороны]"]
          temperament: "[характер: calm, aggressive, cynical, etc.]"
          speech_patterns: "[особенности речи]"
          motivations: ["[основные мотивы]"]
          fears: ["[страхи и фобии]"]
          values: ["[ценности и принципы]"]
        ```
      mechanics_links: [ ]
      assets: [ ]
    - id: background_section
      title: Раздел Background [REQUIRED]
      body: |
        ```yaml
        background:
          origin: "[место рождения и происхождение]"
          upbringing: "[детство и воспитание]"
          career_history: "[профессиональный путь]"
          key_events: ["[важные события в жизни]"]
          relationships:
            family: ["[семейные связи]"]
            allies: ["[союзники]"]
            enemies: ["[враги]"]
            romances: ["[романтические связи]"]
          turning_points: ["[поворотные моменты]"]
        ```
      mechanics_links: [ ]
      assets: [ ]
    - id: skills_abilities_section
      title: Раздел Skills & Abilities [REQUIRED]
      body: |
        ```yaml
        skills_abilities:
          combat: "[уровень боевых навыков]"
          technical: "[технические навыки]"
          social: "[социальные навыки]"
          specializations: ["[специализации]"]
          cyberware: ["[импланты и киберware]"]
          notable_achievements: ["[значимые достижения]"]
        ```
      mechanics_links: [ ]
      assets: [ ]
    - id: role_function_section
      title: Раздел Role & Function [REQUIRED]
      body: |
        ```yaml
        role_function:
          primary_role: "[основная функция в мире игры]"
          services_offered: ["[услуги которые предоставляет]"]
          influence_level: "[уровень влияния: local/regional/global]"
          reputation: "[репутация: trusted/infamous/neutral]"
          business_relations: ["[деловые связи]"]
          territory: "[контролируемая территория]"
        ```
      mechanics_links: [ ]
      assets: [ ]
    - id: story_integration_section
      title: Раздел Story Integration [OPTIONAL]
      body: |
        ```yaml
        story_integration:
          quest_involvement: ["[участие в квестах]"]
          plot_hooks: ["[завязки для историй]"]
          faction_impact: "[влияние на фракции]"
          player_interactions: ["[типы взаимодействий с игроком]"]
          dialogue_options: [число] # количество веток диалогов
        ```
      mechanics_links: [ ]
      assets: [ ]
    - id: lifecycle_section
      title: Раздел Lifecycle [OPTIONAL]
      body: |
        ```yaml
        lifecycle:
          birth_date: "[дата рождения или примерный период]"
          active_period: "[период активности]"
          retirement_age: "[возраст ухода на покой, если применимо]"
          death_circumstances: "[обстоятельства смерти, если мертв]"
          legacy: "[наследие после смерти/ухода]"
        ```
      mechanics_links: [ ]
      assets: [ ]
    - id: additional_notes_section
      title: Раздел Additional Notes [OPTIONAL]
      body: |
        ```yaml
        additional_notes:
          trivia: ["[интересные факты]"]
          inspirations: ["[вдохновение для создания]"]
          voice_actor: "[актер озвучки, если известен]"
          design_notes: "[заметки дизайнеров]"
          future_plans: ["[планы на развитие]"]
        ```
      mechanics_links: [ ]
      assets: [ ]
    - id: validation_section
      title: Раздел Validation [REQUIRED]
      body: |
        ```yaml
        validation:
          checksum: "[автоматически генерируется]"
          schema_version: "1.0"
          last_validated: 2025-12-27T12:30:00Z
        ```
      mechanics_links: [ ]
      assets: [ ]
  examples:
    - id: template_example
      title: Пример заполненного шаблона
      description: Полный пример NPC карточки для фиксера
      content: |
        # Issue: #108
        metadata:
          id: marco-fix-sanchez
          name: "Marco 'Fix' Sanchez"
          aliases: ["Fix", "El Diablo"]
          faction: "Independent"
          role: "Fixer"
          location: "Night City, Watson"
          era: "2020s"
          importance: "MAJOR"
          status: "ACTIVE"
          version: "1.0.0"
          last_updated: 2025-12-27T12:30:00Z

        appearance:
          age: 42
          gender: "male"
          ethnicity: "Latino"
          height: "185cm"
          build: "athletic"
          hair: "short, black with gray streaks"
          eyes: "dark brown"
          cyberware_visible: "neural implant ports, subdermal armor"
          clothing_style: "practical street wear, tactical vest"
          distinctive_features: "scars from old fights, confident posture"

        personality:
          traits: ["street-smart", "loyal", "cynical", "protective"]
          strengths: ["network connections", "combat experience", "problem-solving"]
          weaknesses: ["trust issues", "short temper", "moral flexibility"]
          temperament: "calm under pressure, aggressive when provoked"
          speech_patterns: "street slang, Spanish phrases, direct and to the point"
          motivations: ["survival", "protecting his people", "building reputation"]
          fears: ["losing his edge", "corporate takeover of Watson"]
          values: ["loyalty", "honor among thieves", "survival of the fittest"]

        background:
          origin: "Born in Santo Domingo, moved to Night City as teenager"
          upbringing: "Street kid, learned survival through gang life"
          career_history: "Started as small-time runner, became fixer through connections"
          key_events: ["Lost family in gang war", "Saved by Jackie Welles", "Built Watson network"]
          relationships:
            family: ["Estranged sister in Santo Domingo"]
            allies: ["Jackie Welles", "Panam Palmer", "Nomad contacts"]
            enemies: ["Arasaka agents", "Rival fixers", "Corrupt NCPD"]
            romances: ["Multiple short-term relationships, no long-term commitments"]
          turning_points: ["Meeting Jackie Welles changed career trajectory"]

        skills_abilities:
          combat: "Expert in close-quarters combat, proficient with pistols and knives"
          technical: "Basic hacking skills, vehicle modification"
          social: "Excellent networking, negotiation, and intimidation"
          specializations: ["Mercenary contracting", "Information brokerage", "Safe house management"]
          cyberware: ["Pain editor", "Subdermal armor", "Boosted reflexes"]
          notable_achievements: ["Survived 4th Corporate War", "Built largest Watson fixer network"]

        role_function:
          primary_role: "High-level fixer connecting mercenaries with contracts"
          services_offered: ["Job contracts", "Safe houses", "Information", "Equipment sourcing"]
          influence_level: "regional"
          reputation: "respected among mercs, feared by rivals"
          business_relations: ["Nomads", "Street gangs", "Independent mercs"]
          territory: "Watson district, influence in Badlands outskirts"

        story_integration:
          quest_involvement: ["Jackie Welles storyline", "Nomad faction quests", "Mercenary contracts"]
          plot_hooks: ["Family secrets", "Corporate vendetta", "Underground network"]
          faction_impact: "Key ally for Nomads, neutral with most gangs"
          player_interactions: ["Job giver", "Information source", "Combat ally"]
          dialogue_options: 15

        lifecycle:
          birth_date: "2005-03-15"
          active_period: "2025-2077"
          retirement_age: "N/A - active until death"
          death_circumstances: "Killed in action during corporate raid"
          legacy: "His network continues through successors, became legend among fixers"

        additional_notes:
          trivia: ["Has over 200 confirmed kills", "Speaks 4 languages fluently"]
          inspirations: ["Classic film noir detectives", "Street-level operators"]
          voice_actor: "Unassigned"
          design_notes: "Represents the 'everyman fixer' archetype"
          future_plans: ["Expand backstory", "Add more dialogue branches"]

        validation:
          checksum: "abc123def456"
          schema_version: "1.0"
          last_validated: 2025-12-27T12:30:00Z
appendix:
  glossary:
    - term: Fixer
      definition: Underground broker who connects clients with mercenaries and provides various illicit services
    - term: Nomad
      definition: Wandering communities of people who live outside corporate-controlled cities
  references:
    - title: Cyberpunk 2077 Lore
      link: https://cyberpunk.fandom.com/wiki/Marco_Fix_Sanchez
    - title: Night City Districts
      link: ../../world/districts/watson.md
    - title: Fixer Networks
      link: ../../systems/fixer-networks.md
  decisions:
    - date: 2025-11-05
      decision: "Approve template structure for NPC creation"
      rationale: "Standardization improves content quality and consistency"
      impact: "All future NPC cards must follow this template"
implementation:
  needs_task: false
  github_issue: 108
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml
  blockers: [ ]
history:
  - version: '2.0.0'
    date: 2025-12-27
    author: content_writer_agent
    changes: Создан полный шаблон NPC с примерами и валидацией.
validation:
  checksum: ''
  schema_version: '1.0'
