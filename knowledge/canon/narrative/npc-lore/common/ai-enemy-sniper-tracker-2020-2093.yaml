# Issue: #1837
metadata:
  id: canon-narrative-npc-sniper-tracker
  title: "AI враг: Снайпер-пеленгатор (маркировка и отсечение путей)"
  document_type: canon
  category: narrative
  status: approved
  version: "1.0.0"
  last_updated: 2025-12-13T12:15:00Z
  concept_approved: true
  concept_reviewed_at: 2025-12-08T21:56:49Z
  owners:
    - role: content_writer
      contact: content@necp.game
  tags:
    - npc
    - ai-enemy
    - combat
    - sniper
    - support
  topics:
    - narrative
    - gameplay
    - combat-systems
  related_systems:
    - combat-service
    - ai-enemy-service
    - telemetry-service
  related_documents:
    - id: canon-mechanics-combat-enemies
      relation: implements
    - id: canon-narrative-npc-common-template
      relation: based_on
  source: knowledge/canon/narrative/npc-lore/common/ai-enemy-sniper-tracker-2020-2093.yaml
  visibility: internal
  audience:
    - content
    - combat-design
    - ai-developers
  risk_level: low
review:
  chain:
    - role: content_writer
      reviewer: Content Writer Agent
      reviewed_at: 2025-12-13T12:15:00Z
      status: approved
  next_actions: []
summary:
  problem: Необходим AI снайпер для тактического контроля поля боя
  goal: Создать снайпера с маркировкой целей и отсечением путей
  essence: Высокоточный снайпер с пеленгом, дымом и сменой позиций
  key_points:
    - Зарядный выстрел с предупреждением и маркером
    - Дымовые мины для отсечения флангов
    - Смена позиций после выстрелов
    - Синергия со снайперами-дронами и хакерами
content:
  identity:
    name: Sniper Tracker
    aliases:
      - Recon Sniper
      - Position Controller
      - Flank Cutter
    unique_id: ai-enemy-sniper-tracker-001
    category: ai-enemy
    type: ranged_support
    era: 2020-2093
    active_years: 2020-2093
    threat_level: tactical
    faction_affiliation: various

  context:
    factions:
      - all_combat_factions
      - nomads
      - corporations
    locations:
      - urban_rooftops
      - industrial_elevated_positions
      - wilderness_overwatch
    related_services:
      - combat-service
      - ai-enemy-service
    api_endpoints:
      - /api/v1/combat/enemies/sniper-tracker
    frontend_modules:
      - CombatAI
      - SniperMechanics

  appearance_style:
    visual_description: |
      Снайпер в камуфляже с оптическим прицелом и пеленгатором.
      Длинноствольная винтовка с глушителем.
      На поясе - дымовые и осколочные гранаты.
      Оптические импланты для улучшенного зрения.
    implants:
      - optical_enhancement
      - targeting_assist
      - motion_prediction
    clothing_style: sniper_ghillie_suit
    speech_patterns: |
      - "Target acquired."
      - "Position compromised, relocating."
      - "Flanks secured."
      - "Covering fire deployed."

  history:
    origin: |
      Разработан как тактическая единица для контроля территории.
      Эволюционировал от простых снайперов к продвинутым трекерам с ИИ.
    key_events:
      - "2020: Базовая версия с маркировкой"
      - "2035: Добавление дымовых отсечек"
      - "2050: AI для предиктивной стрельбы"
    current_status: active
    motivations: |
      - Контроль поля боя через маркировку
      - Предотвращение фланговых манёвров
      - Тактическое превосходство

  relationships:
    faction_relations:
      - faction: all_combat_factions
        initial_relation: neutral_to_aggressive
        development_factors:
          - territory_control
          - player_aggression
    npc_relations:
      - type: hacker_illusionists
        relation: cooperative
        synergy: target_marking
      - type: drone_snipers
        relation: supportive
        synergy: overwatch_coordination
    player_interactions:
      - initial_relation: hostile
      - development_factors:
          - positioning_mistakes
          - aggression_level

  gameplay_role:
    primary_function: area_control
    secondary_functions:
      - target_marking
      - path_denial
    related_quests: []
    related_events:
      - urban_combat
      - wilderness_patrols
    rewards:
      - sniper_rifle
      - optical_upgrades
    consequences:
      - increased_difficulty
      - forced_positioning

  mechanics:
    combat_stats:
      health: 600
      armor: 300
      movement_speed: 2.8
      threat_radius: 50m

    abilities:
      - name: Charged_Shot
        description: "Зарядный выстрел с предупреждением и маркером"
        cooldown: 20
        charge_time: 3
        range: 40m
        effects:
          - damage: 350
          - warning_indicator: true
          - tracking_marker: 15s_duration
          - increased_damage_taken: 25%

      - name: Smoke_Barrier
        description: "Дымовые мины для отсечения путей"
        cooldown: 35
        range: 25m
        charges: 4
        effects:
          - smoke_cloud: 6m_radius
          - vision_block: 80%
          - movement_slow: 50%
          - duration: 12s

      - name: Position_Relocation
        description: "Смена позиции после выстрела"
        cooldown: 15
        triggers:
          - after_shot_fired
          - position_compromised
        effects:
          - movement_speed_boost: 100%
          - temporary_stealth: 4s
          - new_position_search: automatic

    ai_behavior:
      priorities:
        - maintain_overwatch
        - mark_priority_targets
        - deny_flanking_routes
        - relocate_when_detected
      tactics:
        - high_ground_preference
        - predictive_targeting
        - coordinated_with_hackers
        - emergency_relocation

    telemetry_tracking:
      metrics:
        - shots_landed
        - markers_applied
        - smoke_deployments
        - position_changes
      balance_indicators:
        - hit_rate: target_70%
        - marker_uptime: target_40%
        - flank_denial_success: target_60%

  dialogues:
    combat_lines:
      - "Target acquired."
      - "Position compromised, relocating."
      - "Flanks secured."
      - "Covering fire deployed."
      - "Threat neutralized."
    victory_lines:
      - "Area secured."
      - "Targets marked."
    defeat_lines:
      - "Position... lost..."

  inspiration:
    cyberpunk_sources:
      - "Cyberpunk 2077: Nomad snipers"
      - "Military designated marksmen"
      - "Tactical overwatch units"
    unique_elements:
      - "Charge time with warning for counter-play"
      - "Smoke barriers for path denial"
      - "Dynamic position changes"

  maintenance:
    open_questions: []
    visual_needs:
      - sniper_rifle_model
      - marker_effect_particles
      - smoke_vfx
    quest_integration: []
    change_history:
      - version: "1.0.0"
        date: 2025-12-13
        author: content_writer_agent
        changes: Initial implementation of sniper tracker AI enemy
appendix:
  glossary:
    - term: Tracking Marker
      definition: Debuff increasing damage taken by marked target
    - term: Smoke Barrier
      definition: Area denial effect blocking vision and movement
  references:
    - title: Combat Enemy Template
      link: ./ai-enemy-template.yaml
    - title: Sniper Systems Design
      link: ../../mechanics/combat-sniper-systems.yaml
  decisions:
    - rationale: Charge time allows player reaction
      impact: Creates tactical depth in sniper encounters
    - rationale: Position changes prevent camping
      impact: Encourages dynamic gameplay
implementation:
  needs_task: false
  github_issue: 1837
  queue_reference: []
  blockers: []
history:
  - version: "1.0.0"
    date: 2025-12-13
    author: content_writer_agent
    changes: Created sniper tracker AI enemy specification
validation:
  checksum: ""
  schema_version: "1.0"
