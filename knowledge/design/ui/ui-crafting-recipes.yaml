# Issue: #1481
metadata:
  id: ui-crafting-recipes
  title: Crafting System - Recipes Interface UI/UX Design
  document_type: design
  category: ui
  status: draft
  version: '1.0.0'
  last_updated: 2025-11-29T17:40:00Z
  concept_approved: true
  owners:
    - role: ui_ux_designer
      contact: ui-ux@necp.game
  tags: [ui, ux, design, crafting, recipes]
  related_documents:
    - id: economy-crafting
      relation: based_on
      path: knowledge/mechanics/economy/economy-crafting.yaml
  github_issue: 1481
summary:
  problem: Нужен читаемый каталог рецептов с доступностью по инвентарю, профессии и уровням.
  goal: Ускорить выбор рецепта, подсветить доступные, показать требования/альтернативы и сохранить фильтры.
  key_points:
    - Фильтры/сортировки с сохранением пресетов, дебаунс-поиск.
    - Карточки рецептов: требования, доступность материалов, профессия/уровень, сложность.
    - Детали: материалы, альтернативы, проверка инвентаря, кнопка крафта.
    - Избранное, история, метки «новый»/«улучшенный».
content:
  visual_design:
    style: cyberpunk-2077
    color_scheme:
      recipe_availability:
        available: '#00FF88'
        unavailable: '#666666'
        partial: '#FFAA00'
      recipe_difficulty:
        easy: '#00FF88'
        medium: '#FFAA00'
        hard: '#FF4444'
  interface_structure:
    recipes_screen:
      sections:
        - id: filters_sidebar
          components:
            - type: filter_controls
              filters: [category, profession, level, availability, difficulty, has_materials, favorites]
            - type: search_bar
              behavior: debounce_300ms + recent_queries
            - type: sort_options
              options: [level, complexity, popularity, newest]
            - type: saved_filters
              actions: [save, load, reset]
        - id: recipes_grid
          components:
            - type: recipes_list
              layout: grid
              item_template: recipe_card
              card_fields: [thumb, name, profession, level, difficulty, time, materials_short, availability_badge]
              quick_actions: [open_details, add_favorite, start_craft]
        - id: recipe_details
          components:
            - type: recipe_info_panel
            - type: materials_list
            - type: availability_check
            - type: alternatives_list
            - type: craft_button
            - type: add_to_favorites
            - type: history_preview
  ux_mechanics:
    interactions:
      browse_recipes: {flow: [apply_filters, browse_grid, view_details]}
      check_materials: {flow: [select_recipe, check_inventory, show_availability, suggest_gather]}
      start_from_card: {flow: [tap_start_craft, open_confirmation, continue_to_creation]}
      toggle_favorite: {flow: [tap_star, save_preset]}
  animations:
    transitions:
      recipe_select: {duration: 200ms, effect: highlight_glow}
      availability_update: {duration: 250ms, effect: pulse_glow}
  data_states:
    loading: skeleton_cards + shimmer_filters
    live_update: availability_flash on inventory change
    empty: "Нет рецептов" + CTA сбросить фильтры
    offline: cached snapshot + reconnect banner
  accessibility:
    colorblind_safe: alt palette for difficulty/availability + patterns
    keyboard: tab filters → grid → details; enter=open, space=favorite
    screenreader: announce availability, materials needed vs owned, time, difficulty

