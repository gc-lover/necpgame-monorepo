# Issue: #1480
metadata:
  id: ui-player-market-trading
  title: Player Market - Trading Interface UI/UX Design
  document_type: design
  category: ui
  status: draft
  version: '1.0.0'
  last_updated: 2025-11-29T18:05:00Z
  concept_approved: true
  owners:
    - role: ui_ux_designer
      contact: ui-ux@necp.game
  tags: [ui, ux, design, economy, player-market]
  github_issue: 1480
summary:
  problem: Нужен безопасный поток покупки и создания объявлений с валидацией цены, комиссией и лимитом слотов.
  goal: Ускорить сделку и снизить ошибки: показывать комиссию/нетто, диапазон цены, лимит 20 объявлений.
  key_points:
    - Покупка: подтверждение цены, комиссия, мгновенная оплата, квитанция.
    - Создание: выбор предмета, диапазон цены, комиссия/нетто, город размещения.
    - Лимит слотов и подсказка, что можно снять/редактировать.
content:
  visual_design:
    style: cyberpunk-2077
    color_scheme:
      trading_actions:
        buy: '#00FF88'
        sell: '#FFAA00'
        pending: '#00AAFF'
      price_validation:
        valid: '#00FF88'
        invalid: '#FF4444'
        warning: '#FFAA00'
  interface_structure:
    trading_screen:
      sections:
        - id: purchase_flow
          components:
            - type: selected_listing_display
            - type: price_confirmation
            - type: commission_display
            - type: total_with_fee
            - type: buy_button
            - type: confirm_modal
              fields: [price, fee, total, city, seller_rating]
        - id: create_listing_flow
          components:
            - type: item_selector
            - type: price_input
            - type: price_range_check
            - type: commission_preview
            - type: city_selector
            - type: create_button
            - type: slot_limit_hint
            - type: create_confirm_modal
              summary: [item, price, fee, net, city, duration]
        - id: listing_management
          components:
            - type: active_listings_list
            - type: listing_actions
              actions: [edit, cancel, view_stats]
            - type: slots_usage
              meter: 20_slots
  ux_mechanics:
    interactions:
      purchase_item: {flow: [select_listing, confirm_price, process_payment, complete_purchase, receipt]}
      create_listing: {flow: [select_item, set_price, check_range, preview_commission, select_city, confirm_create, publish]}
      edit_listing: {flow: [select_listing, adjust_price, confirm, save]}
      cancel_listing: {flow: [select_listing, confirm_cancel, refund_if_any]}
  animations:
    transitions:
      purchase_complete: {duration: 500ms, effect: success_animation}
      listing_created: {duration: 300ms, effect: creation_animation}
      error_state: {duration: 250ms, effect: shake_soft}
  data_states:
    loading: skeleton_forms
    pending_payment: lock_inputs + spinner
    error: inline_banner + retry
  accessibility:
    colorblind_safe: alt colors for valid/invalid
    keyboard: tab through inputs; enter=confirm; esc=cancel modal
    screenreader: announce fee/net, price range validity, slot limit status

