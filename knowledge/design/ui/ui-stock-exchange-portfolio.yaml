# Issue: #1478
metadata:
  id: ui-stock-exchange-portfolio
  title: Stock Exchange - Portfolio Interface UI/UX Design
  document_type: design
  category: ui
  status: draft
  version: '1.0.0'
  last_updated: 2025-11-29T18:40:00Z
  concept_approved: true
  owners:
    - role: ui_ux_designer
      contact: ui-ux@necp.game
  tags: [ ui, ux, design, economy, stock-exchange ]
  github_issue: 1478
summary:
  problem:
    Необходим UI/UX дизайн портфеля: стоимость, P/L, дивиденды, позиции, риски.
  goal: Дать игроку быстрый обзор портфеля, P/L и контроль настроек дивидендов/риск-лимитов.
  key_points:
    - Обзор стоимости, дневной/общий P/L, дельта по секторам.
    - Список позиций с деталями (средняя цена, текущая, P/L, вес).
    - Дивиденды: история, предстоящие, DRIP настройки.
    - Риск: алерты по волатильности, концентрации, марже (если применимо).
content:
  visual_design:
    style: cyberpunk-2077
    color_scheme:
      portfolio_metrics:
        profit: '#00FF88'
        loss: '#FF4444'
        neutral: '#B0B0B0'
      portfolio_value:
        high: '#00FF88'
        medium: '#FFAA00'
        low: '#FF4444'
      alerts:
        warning: '#FFA53B'
        critical: '#FF306E'
  interface_structure:
    portfolio_screen:
      sections:
        - id: portfolio_overview
          components:
            - type: total_value_display
            - type: profit_loss_display
            - type: portfolio_performance
              breakdown: [ day_pl, total_pl, best_worst_positions ]
            - type: sector_allocation_chart
              view: donut
        - id: holdings_list
          components:
            - type: stocks_table
              columns: [ name, quantity, avg_price, current_price, profit_loss, weight_pct, actions ]
            - type: position_actions
              actions: [ open_chart, quick_sell, add_to_watch, set_alert ]
        - id: dividends_section
          components:
            - type: dividends_history
            - type: upcoming_dividends
            - type: drip_settings
        - id: risk_alerts
          components:
            - type: concentration_alerts
            - type: volatility_alerts
            - type: margin_status (optional)
  ux_mechanics:
    interactions:
      view_holding: { flow: [ select_stock, view_details, view_chart ] }
      manage_drip: { flow: [ select_stock, toggle_drip, confirm_settings ] }
      set_alert: { flow: [ choose_metric (price/vol/weight), set_threshold, save_alert, notify_user ] }
      export_report: { flow: [ open_menu, select_range, generate_pdf_json, download ] }
  animations:
    transitions:
      value_update: { duration: 300ms, effect: count_up_animation }
      dividend_received: { duration: 500ms, effect: notification_animation }
      alert_flash: { duration: 250ms, effect: pulse }
  data_states:
    loading: skeleton_cards + shimmer_tables
    empty: prompt_add_position + CTA "Открыть рынок"
    offline: cached_snapshot + banner "Нет сети, данные могут быть старыми"
  accessibility:
    colorblind_safe: alt palette + patterns for sectors
    keyboard: tab through holdings, enter to open details, alt+a set alert
    screenreader: announce P/L, top movers, upcoming dividends

