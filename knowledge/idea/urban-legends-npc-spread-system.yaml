# Issue: #142072496
metadata:
  id: urban-legends-npc-spread-system
  title: "Система распространения легенд между NPC"
  document_type: idea
  category: mechanics
  status: approved
  version: '1.0.0'
  last_updated: 2025-12-28T17:00:00.000000
  concept_approved: true
  concept_reviewed_at: '2025-12-28T17:00:00.000000'
  owners:
    - role: game_designer
      contact: gamedesign@necp.game
  tags:
    - urban-legends
    - npc-interaction
    - information-spread
    - social-simulation
    - emergent-narrative
  topics:
    - npc-behavior
    - information-dynamics
    - social-networking
    - world-liveness
    - narrative-emergence
  related_systems:
    - narrative-service
    - social-service
    - npc-behavior-service
    - world-simulation
  related_documents:
    - id: urban-legends-template-system
      relation: related
    - id: urban-legends-trigger-system
      relation: related
  source: internal-brainstorm
  visibility: internal
  audience:
    - game-design
    - narrative
    - ai-behavior
    - technical-design
  risk_level: medium

summary:
  problem: Мир NECPGAME должен ощущаться живым, где информация и слухи естественным образом распространяются между NPC, создавая ощущение органического, дышащего мира.
  goal: Разработать систему распространения городских легенд между NPC, которая создает emergent narrative и делает мир более immersive.
  essence: "Информация — это вирус. В мире NECPGAME слухи распространяются как цифровые инфекции, эволюционируя и мутируя при каждом пересказе, формируя коллективное сознание города."
  key_mechanics:
    - NPC Social Networks: Сети связей между NPC для распространения информации
    - Information Decay: Легенды теряют/приобретают детали при передаче
    - Cultural Filtering: NPC адаптируют легенды под свою культуру и убеждения
    - Player Influence: Игроки могут влиять на распространение легенд
    - Emergent Events: Легенды могут вызывать события в мире

core_mechanics:
  npc_social_networks:
    description: "Сети социальных связей между NPC для распространения информации"
    components:
      - relationship_types:
          name: "Типы отношений"
          description: "Различные виды связей между NPC"
          types: "Семейные, профессиональные, дружеские, враждебные, случайные"
      - trust_levels:
          name: "Уровни доверия"
          description: "Насколько NPC доверяют источнику информации"
          factors: "Личное знакомство, репутация, общие интересы"
      - communication_channels:
          name: "Каналы коммуникации"
          description: "Способы обмена информацией"
          methods: "Личные разговоры, цифровые сообщения, публичные выступления"
      - network_topology:
          name: "Топология сети"
          description: "Структура связей между NPC"
          patterns: "Кластеры, мосты, изолированные группы"

  information_flow:
    description: "Механики распространения информации между NPC"
    mechanics:
      - rumor_spread:
          name: "Распространение слухов"
          description: "Как легенды передаются от NPC к NPC"
          factors: "Интересность, правдоподобность, эмоциональная сила"
      - information_filtering:
          name: "Фильтрация информации"
          description: "NPC отбирают и модифицируют получаемую информацию"
          methods: "Подтверждение фактов, добавление личных интерпретаций"
      - memory_system:
          name: "Система памяти"
          description: "Как NPC запоминают и забывают информацию"
          mechanics: "Ограниченная память, приоритезация важной информации"
      - attention_economy:
          name: "Экономика внимания"
          description: "Конкуренция за внимание NPC"
          factors: "Новизна, релевантность, источник информации"

  legend_evolution:
    description: "Эволюция легенд при передаче между NPC"
    transformations:
      - detail_addition:
          name: "Добавление деталей"
          description: "NPC добавляют собственные интерпретации"
          triggers: "Эмоциональная вовлеченность, личный опыт"
      - detail_omission:
          name: "Пропуск деталей"
          description: "Некоторые детали теряются при пересказе"
          factors: "Длина истории, внимание слушателя"
      - exaggeration:
          name: "Преувеличение"
          description: "Усиление драматических элементов"
          motivations: "Желание впечатлить, страх, энтузиазм"
      - minimization:
          name: "Преуменьшение"
          description: "Снижение значимости для избежания паники"
          contexts: "Опасные ситуации, социальные нормы"

  cultural_adaptation:
    description: "Адаптация легенд под культурные особенности NPC"
    adaptations:
      - belief_systems:
          name: "Системы убеждений"
          description: "Модификация легенд под мировоззрение NPC"
          examples: "Религиозные интерпретации, конспирологические теории"
      - social_context:
          name: "Социальный контекст"
          description: "Адаптация под социальное положение NPC"
          factors: "Класс, профессия, фракционная принадлежность"
      - regional_variations:
          name: "Региональные вариации"
          description: "Модификация под культурные особенности регионов"
          examples: "Японские традиции в Токио, латиноамериканские в Медельине"
      - technological_influence:
          name: "Технологическое влияние"
          description: "Влияние технологий на интерпретацию легенд"
          aspects: "Кибернетические импланты, Blackwall опыт"

  player_interaction:
    description: "Способы влияния игроков на систему распространения"
    methods:
      - direct_influence:
          name: "Прямое влияние"
          description: "Игроки могут рассказывать легенды NPC"
          mechanics: "Диалоговые опции, убеждение, оплата"
      - indirect_manipulation:
          name: "Косвенное манипулирование"
          description: "Влияние через действия в мире"
          methods: "Создание событий, модификация окружения"
      - information_brokerage:
          name: "Информационный брокеринг"
          description: "Торговля информацией и легендами"
          mechanics: "Покупка/продажа слухов, шантаж"
      - legend_tracking:
          name: "Отслеживание легенд"
          description: "Мониторинг распространения и эволюции легенд"
          tools: "Карты распространения, аналитика слухов"

  emergent_narrative:
    description: "Создание emergent нарратива через распространение легенд"
    aspects:
      - world_events:
          name: "События в мире"
          description: "Легенды могут вызывать реальные события"
          examples: "Паника в городе, фракционные конфликты"
      - character_development:
          name: "Развитие персонажей"
          description: "NPC эволюционируют под влиянием легенд"
          mechanics: "Изменение поведения, новые мотивы"
      - plot_hooks:
          name: "Крючки сюжета"
          description: "Легенды создают возможности для квестов"
          types: "Расследования, предотвращения, эксплуатации"
      - cultural_shifts:
          name: "Культурные сдвиги"
          description: "Изменение культуры через коллективные легенды"
          effects: "Новые традиции, социальные нормы"

  technical_implementation:
    description: "Технические аспекты реализации системы"
    components:
      - npc_relationship_graph:
          name: "Граф отношений NPC"
          description: "Математическая модель связей между NPC"
          features: "Взвешенные ребра, кластерный анализ"
      - information_propagation_model:
          name: "Модель распространения информации"
          description: "Алгоритмы симуляции распространения слухов"
          methods: "Эпидемиологические модели, социальные сети"
      - memory_management:
          name: "Управление памятью"
          description: "Система хранения и извлечения информации NPC"
          mechanics: "Ограниченная память, ассоциативное хранение"
      - event_system:
          name: "Система событий"
          description: "Триггеры для распространения и эволюции легенд"
          types: "Временные, поведенческие, сюжетные"

  balance_considerations:
    description: "Баланс системы для поддержания игрового опыта"
    factors:
      - information_overload:
          name: "Перегрузка информацией"
          description: "Предотвращение слишком большого количества легенд"
          solutions: "Фильтры релевантности, ограничения внимания"
      - narrative_coherence:
          name: "Нарративная связность"
          description: "Поддержание логичности мира несмотря на вариации"
          methods: "Базовые факты, культурные рамки"
      - performance_impact:
          name: "Влияние на производительность"
          description: "Оптимизация расчетов распространения"
          techniques: "Кеширование, асинхронные вычисления"
      - player_agency:
          name: "Агентность игроков"
          description: "Обеспечение возможности влияния на систему"
          mechanics: "Множественные точки входа, видимые последствия"

simulation_examples:
  description: "Примеры того, как система работает на практике"
  scenarios:
    - corporate_leak:
        description: "Утечка информации о корпоративном эксперименте"
        spread: "От низкоуровневого сотрудника к коллегам, затем к семьям"
        evolution: "Добавление деталей о монстрах и призраках"
        outcome: "Массовые протесты и журналистские расследования"
    - blackwall_anomaly:
        description: "Появление аномалии Blackwall в жилом районе"
        spread: "Через социальных медиа и личные контакты"
        evolution: "От технической проблемы к сверхъестественному явлению"
        outcome: "Эвакуация района и научные исследования"
    - player_action:
        description: "Игрок рассказывает легенду в баре"
        spread: "От бармена к посетителям, затем по городу"
        evolution: "Адаптация под местную культуру и добавление деталей"
        outcome: "Новые квесты и социальные возможности"

conclusion:
  design_philosophy: |
    Система распространения легенд между NPC — это сердце живого мира. Она превращает
    статичный лор в динамичную, эволюционирующую экосистему, где каждая история
    живет своей жизнью, влияя на поведение NPC и создавая emergent нарратив.

  player_experience: |
    Игроки будут ощущать мир как органическую систему, где их действия имеют
    долгосрочные последствия. Слухи, которые они запускают, могут вернуться
    к ним в виде квестов, союзников или угроз, создавая ощущение настоящего влияния.

appendix:
  glossary:
    - term: NPC Social Networks
      definition: Сети связей между неигровыми персонажами для обмена информацией
    - term: Information Decay
      definition: Потеря или искажение деталей при передаче информации
    - term: Cultural Filtering
      definition: Адаптация информации под культурные особенности получателя
    - term: Emergent Narrative
      definition: Нарратив, возникающий spontaneously из взаимодействия элементов
  references: []
  decisions:
    - decision: Graph-based social model
      rationale: Обеспечивает реалистичное и масштабируемое моделирование связей
    - decision: Information evolution mechanics
      rationale: Создает разнообразие и предотвращает повторяемость

implementation:
  github_issue: 142072496
  needs_task: false
  queue_reference: []
  blockers: []

history:
  - version: "1.0.0"
    date: 2025-12-28
    author: game_design_team
    changes: Создание детального описания системы распространения легенд между NPC.
