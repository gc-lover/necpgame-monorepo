# Issue: #142072494
metadata:
  id: urban-legends-template-system
  title: "Система шаблонов и вариативности баек городских легенд"
  document_type: idea
  category: mechanics
  status: approved
  version: '1.0.0'
  last_updated: 2025-12-28T17:00:00.000000
  concept_approved: true
  concept_reviewed_at: '2025-12-28T17:00:00.000000'
  owners:
    - role: game_designer
      contact: gamedesign@necp.game
  tags:
    - urban-legends
    - templates
    - procedural-generation
    - narrative-variety
    - player-stories
  topics:
    - procedural-storytelling
    - urban-mythology
    - player-generated-content
    - narrative-diversity
    - social-narrative
  related_systems:
    - narrative-service
    - social-service
    - world-simulation
    - player-generated-content-service
  related_documents:
    - id: urban-legends-spread-system
      relation: related
    - id: urban-legends-trigger-system
      relation: related
  source: internal-brainstorm
  visibility: internal
  audience:
    - game-design
    - narrative
    - content-creation
    - technical-design
  risk_level: medium

summary:
  problem: Игрокам нужна система, которая создает разнообразные и правдоподобные городские легенды, адаптированные к миру NECPGAME, без необходимости создавать сотни уникальных историй вручную.
  goal: Разработать гибкую систему шаблонов и вариаций, позволяющую генерировать тысячи уникальных городских легенд из ограниченного набора элементов.
  essence: "Каждая легенда — это не просто история, а живой организм, эволюционирующий через рассказы, в котором правда и вымысел сплетаются в причудливые узоры."
  key_mechanics:
    - Template Framework: Модульная система шаблонов для разных типов легенд
    - Dynamic Variation: Процедурная генерация вариаций внутри шаблонов
    - Player Influence: Возможность игроков создавать и модифицировать легенды
    - Evolution System: Легенды эволюционируют со временем и распространением
    - Cultural Adaptation: Адаптация легенд под культурные и технологические особенности регионов

core_mechanics:
  template_framework:
    description: "Модульная архитектура шаблонов для создания легенд"
    components:
      - core_template:
          name: "Базовый шаблон"
          description: "Фундаментальная структура легенды (кто, что, где, когда, почему)"
          elements: "Прототип героя, основной конфликт, локация, временной период"
      - variation_modules:
          name: "Модули вариаций"
          description: "Заменяемые компоненты, создающие разнообразие"
          types: "Персонажи, события, последствия, доказательства, свидетели"
      - cultural_overlays:
          name: "Культурные наложения"
          description: "Региональные и культурные модификаторы"
          aspects: "Язык, обычаи, технологии, исторический контекст"
      - technological_filters:
          name: "Технологические фильтры"
          description: "Адаптация под уровень технологий региона"
          levels: "Кибернетический, биотехнологический, квантовый"

  legend_types:
    description: "Основные типы городских легенд с уникальными шаблонами"
    categories:
      - entity_legends:
          name: "Легенды о сущностях"
          template: "В [ЛОКАЦИЯ] появляется [СУЩНОСТЬ] с [ОСОБЕННОСТЬЮ], которая [ДЕЙСТВИЕ]"
          examples: "Phantom hacker, Digital ghost, Rogue AI entity"
          variations: "Тип сущности, её происхождение, поведение, слабости"
      - event_legends:
          name: "Легенды о событиях"
          template: "[СОБЫТИЕ] произошло в [ЛОКАЦИЯ] [КОГДА], и теперь [ПОСЛЕДСТВИЯ]"
          examples: "Blackwall breach, Corporate experiment gone wrong, Ancient artifact activation"
          variations: "Причина события, свидетели, последствия, уроки"
      - location_legends:
          name: "Легенды о местах"
          template: "[МЕСТО] известно тем, что [ОСОБЕННОСТЬ], и те, кто [ДЕЙСТВИЕ], [СЛЕДСТВИЯ]"
          examples: "Cursed data-center, Haunted network node, Forbidden research facility"
          variations: "История места, проклятие, способы взаимодействия"
      - transformation_legends:
          name: "Легенды о трансформациях"
          template: "[ЧЕЛОВЕК] [ДЕЙСТВИЕ] и стал [ТРАНСФОРМАЦИЯ], теперь он [НОВОЕ_СОСТОЯНИЕ]"
          examples: "Cybernetic enhancement gone wrong, Blackwall infection, Experimental procedure"
          variations: "Причина трансформации, симптомы, возможности, угрозы"

  procedural_generation:
    description: "Система процедурной генерации вариаций легенд"
    mechanisms:
      - element_substitution:
          name: "Замена элементов"
          description: "Случайная замена компонентов легенды"
          method: "Базы данных элементов по категориям (имена, локации, действия)"
          constraints: "Логическая совместимость, культурная уместность"
      - narrative_combination:
          name: "Комбинация нарративов"
          description: "Смешивание элементов из разных легенд"
          method: "Алгоритмы комбинации сюжетных арок"
          benefits: "Создание уникальных историй из знакомых элементов"
      - player_influence:
          name: "Влияние игроков"
          description: "Игроки могут добавлять элементы в генерацию"
          methods: "Создание собственных элементов, голосование за вариации"
      - regional_adaptation:
          name: "Региональная адаптация"
          description: "Модификация легенд под особенности регионов"
          factors: "Культура, технологии, история, текущие события"

  evolution_system:
    description: "Система эволюции легенд со временем"
    mechanics:
      - spread_mechanics:
          name: "Механики распространения"
          description: "Как легенды распространяются и трансформируются"
          factors: "Количество рассказчиков, достоверность, эмоциональная сила"
      - mutation_system:
          name: "Система мутаций"
          description: "Изменения легенды при передаче"
          types: "Добавление деталей, искажения, комбинации с другими легендами"
      - verification_attempts:
          name: "Попытки верификации"
          description: "Игроки могут проверять правдивость легенд"
          outcomes: "Подтверждение, опровержение, частичная правда"
      - cultural_evolution:
          name: "Культурная эволюция"
          description: "Изменение легенд под влиянием культурных сдвигов"
          triggers: "Технологические прорывы, социальные изменения, глобальные события"

  player_interaction:
    description: "Способы взаимодействия игроков с системой легенд"
    methods:
      - legend_creation:
          name: "Создание легенд"
          description: "Инструменты для создания собственных городских легенд"
          tools: "Шаблонный редактор, элементная база, превью генерации"
      - legend_investigation:
          name: "Расследование легенд"
          description: "Квесты по проверке и раскрытию легенд"
          mechanics: "Сбор улик, интервью с NPC, анализ доказательств"
      - legend_modification:
          name: "Модификация легенд"
          description: "Изменение существующих легенд новыми деталями"
          permissions: "Основываясь на репутации и вкладе игрока"
      - legend_collection:
          name: "Коллекционирование легенд"
          description: "Сбор и каталогизация городских легенд"
          rewards: "Достижения, уникальные предметы, социальный статус"

  narrative_integration:
    description: "Интеграция легенд в общий нарратив игры"
    aspects:
      - world_building:
          name: "Построение мира"
          description: "Легенды как часть атмосферы и лора"
          role: "Создание живого, дышащего мира через истории"
      - quest_generation:
          name: "Генерация квестов"
          description: "Легенды как источник динамических квестов"
          types: "Расследование, разрешение, предотвращение"
      - social_dynamics:
          name: "Социальная динамика"
          description: "Легенды влияют на отношения между NPC и фракциями"
          effects: "Репутация, торговля, конфликты"
      - player_agency:
          name: "Агентность игроков"
          description: "Игроки могут влиять на мир через легенды"
          impact: "Изменение поведения NPC, новые возможности, сюжетные повороты"

variation_examples:
  description: "Примеры того, как система генерирует вариации"
  examples:
    - base_legend: "В заброшенном дата-центре обитает цифровой призрак"
    - variations:
        - "В заброшенном дата-центре в Шэньчжэне обитает цифровой призрак японского хакера"
        - "В заброшенном дата-центре под Токио обитает цифровой призрак Blackwall"
        - "В заброшенном дата-центре Медельина обитает цифровой призрак нарко-лорда"
    - evolution: "Со временем легенда может эволюционировать в историю о семье призраков или о том, как призрак помогает хакерам"

technical_implementation:
  description: "Технические аспекты реализации системы"
  components:
    - template_engine:
        name: "Движок шаблонов"
        description: "Система для хранения и комбинации шаблонов"
        features: "Модульная архитектура, поддержка переменных, валидация"
    - variation_generator:
        name: "Генератор вариаций"
        description: "Алгоритмы для создания уникальных версий легенд"
        methods: "Случайный выбор, взвешенные вероятности, контекстные правила"
    - persistence_system:
        name: "Система персистентности"
        description: "Хранение и синхронизация легенд между игроками"
        features: "Распределенное хранение, версионирование, синхронизация"
    - player_interface:
        name: "Интерфейс игрока"
        description: "Инструменты для взаимодействия с системой легенд"
        components: "Редактор легенд, браузер историй, инструменты расследования"

conclusion:
  design_philosophy: |
    Система шаблонов городских легенд — это не просто инструмент для создания разнообразия,
    а способ сделать мир живым и непредсказуемым. Каждая легенда становится частью коллективной
    памяти игроков, эволюционируя и адаптируясь вместе с сообществом.

  player_experience: |
    Игроки будут ощущать мир как место, наполненное тайнами и историями. Каждая услышанная
    легенда может оказаться подсказкой к квесту, предупреждением об опасности или просто
    красивой историей, добавляющей глубины игровому миру.

appendix:
  glossary:
    - term: Template Framework
      definition: Модульная система для создания и комбинации элементов легенд
    - term: Procedural Variation
      definition: Автоматическая генерация уникальных версий легенд
    - term: Legend Evolution
      definition: Изменение легенд со временем под влиянием распространения
    - term: Player Agency
      definition: Возможность игроков влиять на легенды и мир через них
  references: []
  decisions:
    - decision: Modular template system
      rationale: Обеспечивает гибкость и расширяемость при сохранении coherence
    - decision: Player-driven evolution
      rationale: Создает чувство принадлежности и вовлеченности сообщества

implementation:
  github_issue: 142072494
  needs_task: false
  queue_reference: []
  blockers: []

history:
  - version: "1.0.0"
    date: 2025-12-28
    author: game_design_team
    changes: Создание детального описания системы шаблонов и вариативности городских легенд.