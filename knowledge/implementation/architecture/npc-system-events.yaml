event_bus:
  topics:
    - name: social.npc.interaction.started
      description: Начато взаимодействие с NPC
      schema:
        player_id: UUID
        npc_id: UUID
        interaction_type: string

    - name: social.npc.dialogue.response
      description: Ответ в диалоге
      schema:
        player_id: UUID
        npc_id: UUID
        dialogue_id: UUID
        response_id: string

    - name: social.npc.reputation.changed
      description: Изменена репутация с NPC
      schema:
        player_id: UUID
        npc_id: UUID
        old_reputation: number
        new_reputation: number
        change: number

    - name: economy.npc.trade.completed
      description: Завершена торговля с NPC
      schema:
        player_id: UUID
        npc_id: UUID
        trade_type: string
        items: array
        total_cost: number

    - name: gameplay.npc.skill.learned
      description: Изучен навык у NPC
      schema:
        player_id: UUID
        npc_id: UUID
        skill_id: UUID
        cost: number

websocket:
  channels:
    - name: npc.{npc_id}.state
      description: Realtime обновления состояния NPC
    - name: npc.{npc_id}.dialogue
      description: Realtime обновления диалога
    - name: npc.{npc_id}.shop
      description: Realtime обновления магазина NPC

