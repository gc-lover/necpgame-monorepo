metadata:
  id: implementation-backend-loot-system-readme
  title: "Loot System — навигация"
  document_type: implementation
  category: backend
  status: approved
  version: '1.0.2'
  last_updated: 2025-11-13T00:00:00Z
  concept_approved: true
  concept_reviewed_at: 2025-11-07T02:20:00Z
  owners:
    - role: backend_lead
      contact: backend@necp.game
  tags:
    - loot-system
    - backend
    - architecture
  topics:
    - loot-service
    - economy-integration
  related_systems:
    - economy-service
    - gameplay-service
    - character-service
    - inventory-service
  related_documents:
    - id: implementation-backend-loot-system-part1
      relation: references
    - id: implementation-backend-loot-system-part2
      relation: references
  source: "shared/docs/knowledge/implementation/backend/loot-system/README.md"
  visibility: internal
  audience:
    - backend
    - systems
    - gameplay
  risk_level: medium
review:
  chain:
    - role: backend_architect
      reviewer: ''
      reviewed_at: ''
      status: pending
  next_actions: [ ]
summary:
  problem: "Нужно навигационное описание системы лута и её интеграций."
  goal: "Свести архитектуру микросервисов, события и связи между частями документации."
  essence: "Документ описывает микросервис loot system, маршруты API, события и ссылки на подробные части."
  key_points:
    - "Микросервис economy-service с маршрутом `/api/v1/economy/loot/*`."
    - "Подписки и публикации событий Event Bus."
    - "Структура документации: Part 1 и Part 2."
content:
  sections:
    - id: architecture
      title: "Микросервисная архитектура"
      body: |
        Loot system реализована в рамках economy-service (порт 8085) с маршрутом API Gateway `/api/v1/economy/loot/*`.
        Сервис подписывается на `combat:enemy-killed`, `raid:boss-defeated` и публикует `loot:generated`, `loot:picked-up`, `legendary:dropped`.
        Взаимодействует с gameplay-service, character-service и inventory-service.
      mechanics_links: [ ]
      assets: [ ]
    - id: description
      title: "Описание"
      body: |
        Система покрывает генерацию лута, rarity, boss loot, smart loot и защиту от дубликатов.
      mechanics_links: [ ]
      assets: [ ]
    - id: structure
      title: "Структура документации"
      body: |
        - Part 1: `part1-loot-generation.yaml` — таблицы лута и алгоритмы.
        - Part 2: `part2-advanced-loot.yaml` — smart loot, boss loot, anti-duplicate.
      mechanics_links:
        - implementation/backend/loot-system/part1-loot-generation.yaml
        - implementation/backend/loot-system/part2-advanced-loot.yaml
      assets: [ ]
appendix:
  glossary: [ ]
  references: [ ]
  decisions: [ ]
implementation:
  github_issue: 136
  needs_task: false
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml
  blockers: [ ]
history:
  - version: '1.0.2'
    date: 2025-11-13
    author: backend_team
    changes: "Конвертация навигации Loot System из MD в YAML."
validation:
  checksum: ''
  schema_version: '1.0'

