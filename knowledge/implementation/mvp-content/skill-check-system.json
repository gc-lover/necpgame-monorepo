{
  "skillCheckSystem": {
    "description": "Система проверок навыков (D&D формат) для NECPGAME. Включает все типы проверок, модификаторы, DC уровни и результаты.",
    "attributes": {
      "description": "Основные атрибуты персонажа и их модификаторы",
      "list": [
        {
          "id": "str",
          "name": "Strength (Сила)",
          "description": "Физическая сила, рукопашный бой, подъем тяжестей",
          "modifierFormula": "(attributeValue - 10) / 2 (округление вниз)",
          "useCases": ["melee-attack", "carry-capacity", "intimidation"]
        },
        {
          "id": "ref",
          "name": "Reflexes (Ловкость)",
          "description": "Скорость реакции, уклонение, стрельба",
          "modifierFormula": "(attributeValue - 10) / 2 (округление вниз)",
          "useCases": ["initiative", "ranged-attack", "ac-bonus", "stealth"]
        },
        {
          "id": "int",
          "name": "Intelligence (Интеллект)",
          "description": "Взлом, анализ, нетраннинг",
          "modifierFormula": "(attributeValue - 10) / 2 (округление вниз)",
          "useCases": ["hacking", "investigation", "knowledge", "netrunning"]
        },
        {
          "id": "tech",
          "name": "Technical (Технические навыки)",
          "description": "Ремонт, крафт, работа с техникой",
          "modifierFormula": "(attributeValue - 10) / 2 (округление вниз)",
          "useCases": ["repair", "crafting", "vehicle-modification", "demolition"]
        },
        {
          "id": "cool",
          "name": "Cool (Хладнокровие)",
          "description": "Убеждение, обман, сопротивление стрессу",
          "modifierFormula": "(attributeValue - 10) / 2 (округление вниз)",
          "useCases": ["persuasion", "deception", "resist-fear", "negotiation"]
        }
      ]
    },
    "skillTypes": {
      "description": "Все типы проверок навыков в игре",
      "categories": [
        {
          "category": "combat",
          "skills": [
            { "id": "melee-attack", "attribute": "str", "description": "Атака в ближнем бою" },
            { "id": "ranged-attack", "attribute": "ref", "description": "Стрельба и дистанционные атаки" },
            { "id": "initiative", "attribute": "ref", "description": "Определение порядка хода в бою" },
            { "id": "dodge", "attribute": "ref", "description": "Уклонение от атак" }
          ]
        },
        {
          "category": "social",
          "skills": [
            { "id": "persuasion", "attribute": "cool", "description": "Убеждение персонажей" },
            { "id": "deception", "attribute": "cool", "description": "Обман и блеф" },
            { "id": "intimidation", "attribute": "cool", "description": "Устрашение" },
            { "id": "negotiation", "attribute": "cool", "description": "Торговля и переговоры" }
          ]
        },
        {
          "category": "technical",
          "skills": [
            { "id": "repair", "attribute": "tech", "description": "Ремонт техники и оборудования" },
            { "id": "crafting", "attribute": "tech", "description": "Создание предметов" },
            { "id": "hacking", "attribute": "int", "description": "Взлом систем и терминалов" },
            { "id": "demolition", "attribute": "tech", "description": "Работа со взрывчаткой" }
          ]
        },
        {
          "category": "stealth",
          "skills": [
            { "id": "stealth", "attribute": "ref", "description": "Скрытное перемещение" },
            { "id": "pickpocket", "attribute": "ref", "description": "Карманная кража" },
            { "id": "lockpicking", "attribute": "tech", "description": "Взлом замков" }
          ]
        },
        {
          "category": "knowledge",
          "skills": [
            { "id": "perception", "attribute": "int", "description": "Восприятие окружения" },
            { "id": "investigation", "attribute": "int", "description": "Расследование и поиск улик" },
            { "id": "medical", "attribute": "int", "description": "Медицинские знания" },
            { "id": "streetwise", "attribute": "cool", "description": "Знание улиц и банд" }
          ]
        },
        {
          "category": "netrunning",
          "skills": [
            { "id": "netrunning-combat", "attribute": "int", "description": "Виртуальный бой" },
            { "id": "firewall-bypass", "attribute": "int", "description": "Обход защиты" },
            { "id": "data-mining", "attribute": "int", "description": "Добыча данных" },
            { "id": "ice-breaking", "attribute": "int", "description": "Взлом ICE программ" }
          ]
        }
      ]
    },
    "difficultyClasses": {
      "description": "Уровни сложности (DC) для проверок навыков",
      "levels": [
        { "dc": 5, "difficulty": "очень легко", "description": "Простейшие задачи, почти автоматический успех", "examples": ["открыть незапертую дверь", "заметить очевидное"] },
        { "dc": 10, "difficulty": "легко", "description": "Легкие задачи для опытного человека", "examples": ["убедить дружелюбного NPC", "починить простое устройство"] },
        { "dc": 12, "difficulty": "средне-легко", "description": "Задачи требующие базовых навыков", "examples": ["скрыться в тенях", "оказать первую помощь"] },
        { "dc": 14, "difficulty": "средне", "description": "Стандартные задачи среднего уровня", "examples": ["взломать базовый терминал", "договориться с нейтральным NPC"] },
        { "dc": 16, "difficulty": "средне-сложно", "description": "Сложные задачи требующие опыта", "examples": ["обойти файрвол", "убедить враждебного NPC"] },
        { "dc": 18, "difficulty": "сложно", "description": "Очень сложные задачи для экспертов", "examples": ["взломать корпоративную систему", "противостоять ИИ"] },
        { "dc": 20, "difficulty": "очень сложно", "description": "Почти невозможные задачи", "examples": ["взломать Blackwall", "обмануть высокопоставленного корпората"] },
        { "dc": 25, "difficulty": "героическое", "description": "Легендарные задачи", "examples": ["победить AI в его домене", "взломать Arasaka Tower"] },
        { "dc": 30, "difficulty": "эпическое", "description": "Мифические задачи", "examples": ["понять природу симуляции", "взломать систему мира"] }
      ]
    },
    "rollMechanics": {
      "description": "Механика бросков кубиков и модификаторов",
      "standardRoll": {
        "formula": "1d20 + attributeModifier + proficiencyBonus + situationalModifiers",
        "criticalSuccess": { "value": 20, "effect": "Автоматический успех + дополнительный эффект" },
        "criticalFailure": { "value": 1, "effect": "Автоматический провал + возможные негативные последствия" }
      },
      "advantageDisadvantage": {
        "advantage": {
          "description": "Бросить 2d20, взять лучший результат",
          "sources": [
            "помощь союзника",
            "благоприятные условия",
            "использование специального снаряжения",
            "баффы и положительные эффекты"
          ]
        },
        "disadvantage": {
          "description": "Бросить 2d20, взять худший результат",
          "sources": [
            "раны или статусы",
            "неблагоприятные условия (темнота, шум, радиация)",
            "дебаффы и негативные эффекты",
            "противодействие противника"
          ]
        }
      },
      "proficiency": {
        "description": "Бонус мастерства за уровень персонажа",
        "formula": "floor(characterLevel / 4) + 2",
        "levels": [
          { "characterLevel": "1-4", "proficiencyBonus": 2 },
          { "characterLevel": "5-8", "proficiencyBonus": 3 },
          { "characterLevel": "9-12", "proficiencyBonus": 4 },
          { "characterLevel": "13-16", "proficiencyBonus": 5 },
          { "characterLevel": "17-20", "proficiencyBonus": 6 }
        ]
      }
    },
    "results": {
      "description": "Результаты проверок навыков",
      "outcomes": [
        {
          "type": "critical-success",
          "condition": "natural 20 или roll >= DC + 10",
          "effects": {
            "standard": "Автоматический успех с дополнительным бонусом",
            "examples": [
              "Взлом: получить дополнительные данные",
              "Убеждение: NPC становится союзником",
              "Ремонт: устройство работает лучше обычного"
            ]
          }
        },
        {
          "type": "success",
          "condition": "roll >= DC",
          "effects": {
            "standard": "Задача выполнена успешно",
            "examples": [
              "Взлом: доступ получен",
              "Убеждение: NPC согласен",
              "Ремонт: устройство работает"
            ]
          }
        },
        {
          "type": "failure",
          "condition": "roll < DC",
          "effects": {
            "standard": "Задача провалена",
            "examples": [
              "Взлом: доступ не получен, тревога возможна",
              "Убеждение: NPC отказывается",
              "Ремонт: устройство не работает"
            ]
          }
        },
        {
          "type": "critical-failure",
          "condition": "natural 1 или roll <= DC - 10",
          "effects": {
            "standard": "Автоматический провал с негативными последствиями",
            "examples": [
              "Взлом: система заблокирована, тревога",
              "Убеждение: NPC становится враждебным",
              "Ремонт: устройство повреждено сильнее"
            ]
          }
        }
      ]
    },
    "situationalModifiers": {
      "description": "Ситуационные модификаторы для проверок",
      "modifiers": [
        { "condition": "Помощь союзника", "modifier": "+2 или Advantage" },
        { "condition": "Специализированное снаряжение", "modifier": "+1 to +3" },
        { "condition": "Неблагоприятные условия (темнота, шум)", "modifier": "-2 или Disadvantage" },
        { "condition": "Ранения (HP < 50%)", "modifier": "-2" },
        { "condition": "Статус 'Оглушен'", "modifier": "Disadvantage" },
        { "condition": "Статус 'Кровотечение'", "modifier": "-1" },
        { "condition": "Радиация (Red Zone)", "modifier": "-2 to -5" },
        { "condition": "Киберпсихоз (риск)", "modifier": "-3 to -5" },
        { "condition": "Баффы (стимуляторы, импланты)", "modifier": "+1 to +5" }
      ]
    },
    "questIntegration": {
      "description": "Интеграция skill-checks в квесты",
      "structure": {
        "questId": "quest-main-2040-red-dawn",
        "skillChecks": [
          {
            "id": "check-tech-shields",
            "type": "tech",
            "dc": 14,
            "description": "Починить защитные экраны для безопасного прохода",
            "successEffects": {
              "narrative": "Вы чините экраны. Путь безопаснее!",
              "mechanical": {
                "reduceEnemies": 2,
                "xpBonus": 0.2
              }
            },
            "failureEffects": {
              "narrative": "Экраны не работают. Придется идти обычным путем.",
              "mechanical": {}
            }
          },
          {
            "id": "check-medical-heal",
            "type": "medical",
            "dc": 12,
            "description": "Оказать первую помощь раненым",
            "successEffects": {
              "narrative": "Вы фиксируете ногу Карлоса. Он может идти!",
              "mechanical": {
                "xpBonus": 50,
                "reputationBonus": { "faction": "independent", "amount": 5 }
              }
            },
            "failureEffects": {
              "narrative": "Вы пытаетесь помочь, но у вас не получается.",
              "mechanical": {}
            }
          }
        ]
      }
    },
    "apiEndpoints": {
      "description": "API эндпоинты для skill-checks",
      "endpoints": [
        {
          "method": "POST",
          "path": "/api/v1/skill-check",
          "description": "Выполнить проверку навыка",
          "requestBody": {
            "skillType": "string (tech, cool, int, ref, str)",
            "dc": "integer",
            "advantageDisadvantage": "string? (advantage, disadvantage, null)",
            "situationalModifiers": "integer[]?"
          },
          "responseBody": {
            "success": "boolean",
            "roll": "integer (1-20)",
            "modifier": "integer",
            "total": "integer",
            "criticalSuccess": "boolean",
            "criticalFailure": "boolean",
            "effects": "object"
          }
        },
        {
          "method": "GET",
          "path": "/api/v1/skill-check/types",
          "description": "Получить список всех типов проверок"
        },
        {
          "method": "GET",
          "path": "/api/v1/skill-check/difficulty-classes",
          "description": "Получить список уровней сложности"
        }
      ]
    }
  },
  "metadata": {
    "version": "1.0.0",
    "created": "2025-11-05",
    "description": "Полная система skill-checks для NECPGAME (D&D формат). Включает все типы проверок, модификаторы, DC уровни, результаты и интеграцию с квестами."
  }
}




