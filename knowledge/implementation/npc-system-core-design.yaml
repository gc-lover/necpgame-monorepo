# Issue: #140894550
metadata:
  id: npc-system-core-design
  title: "Система основных NPC: типы, интерфейсы взаимодействия и функционал"
  document_type: design
  category: implementation
  status: draft
  version: '1.0.0'
  last_updated: 2025-12-27T13:00:00Z
  concept_approved: false
  concept_reviewed_at: ''
  owners:
    - role: idea_director
      contact: idea@necp.game
  tags:
    - npc
    - interaction
    - system-design
  topics:
    - npc-systems
    - game-mechanics
  related_systems:
    - narrative-service
    - dialogue-service
    - quest-service
    - social-service
  related_documents: []
  source: knowledge/implementation/npc-system-core-design.md
  visibility: internal
  audience:
    - idea
    - content
    - narrative
  risk_level: medium
review:
  chain:
    - role: idea_director
      reviewer: ''
      reviewed_at: ''
      status: pending
  next_actions: []
summary:
  problem: Отсутствует комплексная система классификации и взаимодействия с NPC для обеспечения глубокого погружения в киберпанк-мир.
  goal: Разработать иерархическую систему NPC с типами, интерфейсами взаимодействия и функциональными возможностями.
  essence: Создать модульную систему NPC, где каждый тип имеет уникальные паттерны поведения, интерфейсы взаимодействия и функционал, обеспечивающий разнообразие игрового опыта.
  key_points:
    - Иерархическая классификация NPC по уровням важности и функционалу
    - Модульные интерфейсы взаимодействия (диалог, торговля, квесты, социальные связи)
    - Динамические паттерны поведения и адаптивность к действиям игрока
    - Интеграция с системами репутации, фракций и мировыми событиями
content:
  sections:
    - id: npc_hierarchy
      title: Иерархия NPC
      body: |
        ## Основные уровни NPC

        ### CRITICAL NPC (Критически важные)
        **Цель:** Ключевые персонажи, влияющие на сюжет и мир
        **Примеры:** Лидеры корпораций, легендарные фиксеры, главы фракций
        **Функционал:**
        - Уникальные сюжетные линии
        - Множественные ветки диалогов
        - Влияние на мировые события
        - Постоянное развитие персонажа

        ### MAJOR NPC (Основные)
        **Цель:** Важные персонажи для конкретных локаций и фракций
        **Примеры:** Локальные лидеры, ключевые торговцы, сетевые контакты
        **Функционал:**
        - Сложные квестовые цепочки
        - Торговля редкими товарами
        - Социальные связи и альянсы
        - Репутационные последствия

        ### MINOR NPC (Второстепенные)
        **Цель:** Заполнение мира и атмосферы
        **Примеры:** Уличные торговцы, случайные прохожие, бармены
        **Функционал:**
        - Простые диалоги и квесты
        - Базовая торговля
        - Информационные источники
        - Атмосферные взаимодействия
      mechanics_links: []
      assets: []
    - id: npc_types
      title: Типы NPC
      body: |
        ## Специализированные типы NPC

        ### Fixers (Фиксеры)
        **Роль:** Посредники между игроком и подпольным миром
        **Интерфейсы:**
        - Контрактная система (Job Board)
        - Репутационная шкала
        - Контактная сеть
        **Функционал:**
        - Предоставление контрактов
        - Доступ к эксклюзивным сервисам
        - Информация о рынках

        ### Merchants (Торговцы)
        **Роль:** Экономические посредники
        **Интерфейсы:**
        - Торговый интерфейс с инвентарем
        - Бартерная система
        - Аукционная площадка
        **Функционал:**
        - Динамическое ценообразование
        - Редкие товары и черный рынок
        - Экономическая симуляция

        ### Netrunners (Нетраннеры)
        **Роль:** Специалисты по цифровому миру
        **Интерфейсы:**
        - Хакерский терминал
        - Даркнет-доступ
        - Цифровые контракты
        **Функционал:**
        - Взлом систем и сетей
        - Цифровая разведка
        - Защита от киберугроз

        ### Rippers (Риппердоки)
        **Роль:** Специалисты по киберимплантам
        **Интерфейсы:**
        - Медицинский интерфейс
        - Имплант-каталог
        - Диагностическая система
        **Функционал:**
        - Установка и модификация имплантов
        - Лечение и восстановление
        - Черный рынок имплантов

        ### Corporates (Корпоративные)
        **Роль:** Представители мегакорпораций
        **Интерфейсы:**
        - Корпоративный портал
        - Задания от корпораций
        - Внутренняя сеть
        **Функционал:**
        - Корпоративные квесты
        - Доступ к корпоративным ресурсам
        - Политические интриги

        ### Nomads (Кочевники)
        **Роль:** Странствующие торговцы и бойцы
        **Интерфейсы:**
        - Караванный терминал
        - Маршрутная карта
        - Обмен ресурсами
        **Функционал:**
        - Транспортировка грузов
        - Защита караванов
        - Связь между регионами
      mechanics_links: []
      assets: []
    - id: interaction_interfaces
      title: Интерфейсы взаимодействия
      body: |
        ## Система интерфейсов NPC

        ### Dialogue System (Система диалогов)
        **Компоненты:**
        - Древовидная структура диалогов
        - Условные ветки (репутация, навыки, предметы)
        - Эмоциональные реакции NPC
        - Динамический контент

        **Функционал:**
        - Нелинейные разговоры
        - Влияние на отношения
        - Информационный обмен
        - Квестовые триггеры

        ### Quest System (Система квестов)
        **Типы заданий:**
        - Story Quests (сюжетные)
        - Side Quests (побочные)
        - Daily/Weekly (повторяемые)
        - Event Quests (событийные)

        **Интерфейс:**
        - Квестовый журнал
        - Прогресс-трекинг
        - Наградная система
        - Альтернативные исходы

        ### Social Network (Социальная сеть)
        **Функции:**
        - Система связей и отношений
        - Фракционные альянсы
        - Репутационная система
        - Социальные события

        **Интерфейс:**
        - Социальный граф
        - Список контактов
        - Репутационные метрики
        - События и приглашения

        ### Commerce Interface (Торговый интерфейс)
        **Компоненты:**
        - Каталог товаров
        - Система ценообразования
        - Инвентарная система
        - Торговые сделки

        **Функционал:**
        - Динамическая торговля
        - Бартер и аукционы
        - Экономические события
        - Черный рынок
      mechanics_links: []
      assets: []
    - id: behavioral_patterns
      title: Поведенческие паттерны
      body: |
        ## AI и поведенческие системы

        ### Schedule System (Система расписания)
        **Функционал:**
        - Ежедневные/еженедельные циклы активности
        - Локационные паттерны передвижения
        - Реакция на мировые события
        - Динамическое поведение

        ### Reaction System (Система реакций)
        **Типы реакций:**
        - Эмоциональные (радость, гнев, страх)
        - Социальные (доверие, подозрение)
        - Функциональные (торговля, помощь)
        - Конфликтные (агрессия, побег)

        **Триггеры:**
        - Действия игрока
        - Мировые события
        - Репутационные изменения
        - Временные факторы

        ### Adaptation System (Система адаптации)
        **Механики:**
        - Обучение на взаимодействиях
        - Адаптация к стилю игры
        - Динамическое развитие отношений
        - Контекстная память

        **Применение:**
        - Персонализация диалогов
        - Адаптивные квесты
        - Изменение поведения со временем
        - Эмерджентный нарратив
      mechanics_links: []
      assets: []
    - id: integration_systems
      title: Интеграция с игровыми системами
      body: |
        ## Связь с основными механиками

        ### Reputation System (Система репутации)
        **Интеграция:**
        - Фракционная репутация влияет на доступ к NPC
        - Персональная репутация определяет уровень доверия
        - Репутационные последствия для действий
        - Социальные связи и альянсы

        ### Economy Integration (Экономическая интеграция)
        **Связь:**
        - NPC как экономические агенты
        - Влияние на рыночные цены
        - Экономические последствия действий
        - Торговые сети и маршруты

        ### World Events (Мировые события)
        **Взаимодействие:**
        - Реакция NPC на глобальные события
        - Изменение поведения при кризисах
        - Событийные квесты и диалоги
        - Динамическое развитие персонажей

        ### Progression System (Система прогрессии)
        **Связь:**
        - NPC как учителя и наставники
        - Репутационные требования для доступа
        - Специализированные тренировки
        - Уникальные награды и предметы
      mechanics_links: []
      assets: []
appendix:
  glossary:
    - term: NPC Hierarchy
      definition: Иерархическая система классификации NPC по уровню важности и функционалу
    - term: Interaction Interface
      definition: Модульный интерфейс для взаимодействия игрока с NPC
    - term: Behavioral Patterns
      definition: Программируемые паттерны поведения и реакции NPC
  references: []
  decisions: []
implementation:
  github_issue: 140894550
  needs_task: false
  queue_reference: []
  blockers: []
history:
  - version: '1.0.0'
    date: 2025-12-27T13:00:00Z
    author: content_writer
    changes: "Создан комплексный дизайн системы основных NPC с типами, интерфейсами и функционалом"
validation:
  checksum: ''
  schema_version: '1.0'



