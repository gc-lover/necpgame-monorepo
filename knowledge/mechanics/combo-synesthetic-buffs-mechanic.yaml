# Issue: #143875857
metadata:
  id: combo-synesthetic-buffs-mechanic
  title: 'Комбо-механика: «Синестетические баффы» (ритм → точность/отдача)'
  document_type: mechanics
  category: mechanics
  status: draft
  version: '1.0.0'
  last_updated: 2026-01-06T14:43:15Z
  concept_approved: true
  owners:
    - role: game_balance
      contact: balance@necp.game
  tags: [ mechanics, combo, rhythm, accuracy, recoil, buffs, shooting ]
  github_issue: 143875857
summary:
  problem: Нужен глубокий геймплейный слой для стрельбы, связывающий ритм стрельбы с производительностью оружия
  goal: Создать систему "синестетических баффов" где ритм стрельбы влияет на точность и отдачу
  key_points:
    - Ритм стрельбы влияет на точность и отдачу
    - Синестетическое восприятие (зрение + звук + ощущение)
    - Прогрессивные баффы за поддержание ритма
    - Наказание за нарушение ритма
content:
  core_mechanics:
    rhythm_detection:
      beat_tracking:
        - tempo_analysis: анализ временных интервалов между выстрелами
        - consistency_scoring: оценка стабильности ритма (0-100%)
        - pattern_recognition: распознавание повторяющихся паттернов стрельбы
        - adaptive_difficulty: сложность зависит от уровня навыка
      rhythm_types:
        - steady_rhythm: равномерный темп стрельбы (стандартный)
        - burst_rhythm: короткие очереди с паузами
        - alternating_rhythm: чередование одиночных и очередей
        - adaptive_rhythm: динамическое изменение темпа под ситуацию
    synesthetic_buffs:
      accuracy_bonuses:
        - precision_multiplier: +5-25% точность за поддержание ритма
        - spread_reduction: уменьшение разброса пуль на 10-40%
        - critical_chance: +2-10% шанс критического попадания
        - headshot_bonus: +3-15% урон в голову при ритме
      recoil_control:
        - vertical_recoil: -10-50% вертикальная отдача
        - horizontal_stability: -5-30% горизонтальный дрейф
        - recovery_speed: +20-80% скорость возврата прицела
        - follow_up_penalty: штраф за нарушение ритма (-20% точность)
  buff_progression:
    rhythm_tiers:
      basic_flow:
        - threshold: 60% consistency
        - duration: 8 сек поддержания
        - bonuses: +5% точность, -10% отдача
        - decay: 3 сек после нарушения
      focused_flow:
        - threshold: 75% consistency
        - duration: 12 сек поддержания
        - bonuses: +10% точность, -20% отдача, +2% крит
        - decay: 4 сек после нарушения
      mastery_flow:
        - threshold: 85% consistency
        - duration: 16 сек поддержания
        - bonuses: +15% точность, -30% отдача, +5% крит
        - decay: 5 сек после нарушения
      zen_flow:
        - threshold: 95% consistency
        - duration: 20 сек поддержания
        - bonuses: +25% точность, -50% отдача, +10% крит, +15% урон в голову
        - decay: 6 сек после нарушения
  penalty_system:
    rhythm_breaks:
      interruption_penalties:
        - minor_break: одиночный выстрел вне ритма (-10% бонус на 2 сек)
        - moderate_break: серия выстрелов вне ритма (-25% бонус на 4 сек)
        - major_break: полное нарушение ритма (-50% бонус на 6 сек)
        - catastrophic_break: длительный сбой (-100% бонус на 8 сек)
      recovery_mechanics:
        - grace_period: 1 сек прощения после перезарядки
        - rhythm_lockout: невозможность получить баффы на 3-10 сек
        - skill_decay: постепенное снижение уровня ритма
        - frustration_penalty: дополнительные штрафы при повторных сбоях
  balance_parameters:
    weapon_categories:
      assault_rifles:
        - optimal_rpm: 450-550 выстрелов в минуту
        - rhythm_window: ±0.15 сек от идеального интервала
        - max_bonus: +25% точность, -45% отдача
        - difficulty_modifier: 1.0x (базовый)
      submachine_guns:
        - optimal_rpm: 650-750 выстрелов в минуту
        - rhythm_window: ±0.12 сек от идеального интервала
        - max_bonus: +20% точность, -35% отдача
        - difficulty_modifier: 1.2x (сложнее поддерживать)
      sniper_rifles:
        - optimal_rpm: 60-90 выстрелов в минуту (одиночные)
        - rhythm_window: ±0.5 сек от идеального интервала
        - max_bonus: +30% точность, -60% отдача
        - difficulty_modifier: 0.8x (проще поддерживать)
      shotguns:
        - optimal_rpm: 120-180 выстрелов в минуту
        - rhythm_window: ±0.3 сек от идеального интервала
        - max_bonus: +15% точность, -25% отдача
        - difficulty_modifier: 1.1x (умеренный)
    player_skill_scaling:
      novice_level:
        - rhythm_window: +50% шире (проще)
        - max_consistency: 70% максимум
        - bonus_multiplier: 0.6x от максимального
        - recovery_speed: медленная (длительные штрафы)
      intermediate_level:
        - rhythm_window: базовый размер
        - max_consistency: 85% максимум
        - bonus_multiplier: 0.8x от максимального
        - recovery_speed: средняя
      expert_level:
        - rhythm_window: -25% уже (сложнее)
        - max_consistency: 95% максимум
        - bonus_multiplier: 1.0x от максимального
        - recovery_speed: быстрая (короткие штрафы)
  implementation_details:
    player_interface:
      - rhythm_indicator: визуальный метроном ритма стрельбы
      - consistency_meter: полоса показывающая качество ритма
      - flow_state: индикатор текущего уровня баффа
      - feedback_system: аудио/визуальные подсказки для поддержания ритма
    backend_systems:
      - timing_analysis: высокоточная регистрация выстрелов
      - pattern_matching: алгоритмы распознавания ритма
      - buff_application: динамическое применение модификаторов
      - analytics_tracking: сбор данных о паттернах стрельбы
    balancing_metrics:
      - rhythm_achievement: процент игроков достигающих разных уровней
      - combat_efficiency: влияние на средний TTK
      - skill_progression: скорость улучшения ритма
      - player_satisfaction: субъективная оценка механики

