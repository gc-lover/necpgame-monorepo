# Issue: #143883399
metadata:
  id: economy-task-redirection-mechanic
  title: 'Механика: «Подмена задач» (редирект контрактов)'
  document_type: mechanics
  category: economy
  status: draft
  version: '1.0.0'
  last_updated: 2026-01-06T14:34:25Z
  concept_approved: true
  owners:
    - role: game_balance
      contact: balance@necp.game
  tags: [ mechanics, economy, contracts, redirection, risk_reward ]
  github_issue: 143883399
summary:
  problem: Игрокам нужны способы манипулировать контрактами для создания непредсказуемости и стратегического геймплея
  goal: Создать систему подмены задач, которая позволяет перенаправлять контракты с рисками и наградами
  key_points:
    - Динамическая подмена активных контрактов
    - Риск потери репутации и штрафов
    - Возможность создания цепочек заданий
    - Баланс между риском и выгодой
content:
  core_mechanism:
    redirection_types:
      - name: "Цепной редирект"
        description: Перенаправление контракта другому игроку в сети
        mechanics:
          - player_selects_target: Выбор игрока из списка активных подрядчиков
          - offer_calculation: Расчет предложения с учётом расстояния и репутации
          - acceptance_chance: Вероятность принятия (зависит от предложения и отношений)
          - success_bonus: Дополнительная награда при успешном выполнении
      - name: "Автоматическая подмена"
        description: Система сама предлагает альтернативные цели
        mechanics:
          - dynamic_targeting: Алгоритм подбора похожих целей в радиусе
          - risk_assessment: Оценка риска изменения (сложность, награда, время)
          - player_confirmation: Подтверждение или отказ от подмены
          - bonus_calculation: Расчёт премии за принятие риска
      - name: "Фракционная подмена"
        description: Перенаправление через фракционные каналы
        mechanics:
          - faction_network: Использование фракционных связей для перенаправления
          - reputation_cost: Потеря репутации фракции при неудаче
          - loyalty_bonus: Повышение лояльности при успешном выполнении
          - exclusive_access: Доступ к эксклюзивным контрактам фракции
  risk_reward_balance:
    success_rewards:
      - bonus_multiplier: +15-25% к награде за успешную подмену
      - reputation_gain: +5-10 очков репутации с подрядчиком
      - chain_bonus: +5% за каждую успешную подмену в цепочке
      - time_bonus: Сокращение дедлайна для быстрого выполнения
    failure_penalties:
      - reputation_loss: -10-20 очков репутации при отказе подрядчика
      - contract_void: Потеря контракта и залога
      - cooldown_penalty: 30-60 минут блокировки подмен для игрока
      - faction_penalty: Потеря фракционной репутации
    risk_factors:
      - distance_penalty: Штраф за дальность перенаправления
      - reputation_modifier: Модификатор от репутации с подрядчиком
      - contract_complexity: Сложность контракта влияет на шансы
      - time_pressure: Уменьшение шансов при приближении дедлайна
  implementation_details:
    player_interface:
      - contract_list: Список активных контрактов с кнопками подмены
      - target_selection: Интерфейс выбора подрядчика или автоматической подмены
      - risk_display: Отображение рисков и потенциальных наград
      - confirmation_dialog: Финальное подтверждение с деталями
    backend_systems:
      - player_network_tracking: Отслеживание активных игроков и их контрактов
      - reputation_system_integration: Связь с системой репутации
      - contract_state_management: Управление состоянием контрактов при подмене
      - notification_system: Уведомления о предложениях и результатах
    balancing_parameters:
      - base_success_chance: 60% базовая вероятность успеха
      - distance_decay: -5% за каждые 500м расстояния
      - reputation_bonus: +1% за каждые 10 очков репутации
      - offer_multiplier: 1.2x минимальное предложение для подмены
  game_design_considerations:
    progression_integration:
      - unlock_requirements: Доступность после определенного уровня/репутации
      - skill_tree: Навыки улучшающие эффективность подмены
      - achievements: Достижения за успешные цепочки подмен
    anti_abuse_measures:
      - cooldown_system: Временные ограничения между подменами
      - reputation_floor: Минимальная репутация для использования
      - logging_system: Отслеживание подозрительной активности
      - automated_detection: Система выявления абьюзивных паттернов
    player_psychology:
      - risk_reward_ratio: Четкий баланс риска и награды
      - decision_making: Временное давление для принятия решений
      - social_dynamics: Влияние на отношения между игроками
      - learning_curve: Постепенное раскрытие механики игрокам

