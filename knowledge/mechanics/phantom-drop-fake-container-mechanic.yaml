# Issue: #143876466
metadata:
  id: phantom-drop-fake-container-mechanic
  title: 'Механика: «Фантомный дроп» фейковый лут-контейнер (EMP/метка)'
  document_type: mechanics
  category: mechanics
  status: draft
  version: '1.0.0'
  last_updated: 2026-01-06T14:44:06Z
  concept_approved: true
  owners:
    - role: game_balance
      contact: balance@necp.game
  tags: [ mechanics, deception, loot, emp, marking, risk_reward ]
  github_issue: 143876466
summary:
  problem: Нужен механизм обмана для создания напряжения и стратегических решений в лут-системе
  goal: Создать систему "фантомного дропа" с фейковыми контейнерами и способами их разоблачения
  key_points:
    - Фейковые лут-контейнеры среди настоящих
    - Возможность разоблачения с помощью EMP или метки
    - Риск потери времени и ресурсов
    - Стратегические решения об осмотре контейнеров
content:
  core_mechanics:
    container_types:
      phantom_containers:
        - visual_appearance: идентичны настоящим контейнерам
        - loot_behavior: показывают анимацию открытия
        - fake_loot: генерирует иллюзорный лут на короткое время
        - reveal_mechanisms: EMP, метка, время, взаимодействие
        - spawn_probability: 15-25% от общего числа контейнеров
      legitimate_containers:
        - guaranteed_loot: содержат реальный лут
        - safety_indicators: могут иметь визуальные подсказки для опытных игроков
        - quality_variance: лут варьируется по качеству и количеству
        - interaction_safety: безопасны для взаимодействия
    detection_methods:
      emp_detection:
        - emp_device: специальный гаджет для сканирования
        - detection_radius: 5-15 метров
        - energy_cost: 25-50 единиц энергии
        - reveal_time: 2-5 секунд
        - false_positive_rate: 5% (иногда показывает фантом как настоящий)
      marking_system:
        - marking_tool: специальный маркер или дрон
        - visual_markers: цветовые индикаторы на контейнерах
        - marking_cost: 10-30 единиц ресурсов
        - marking_duration: 30-120 секунд
        - detection_accuracy: 90-95%
  risk_reward_balance:
    phantom_consequences:
      time_penalty:
        - wasted_time: 15-45 секунд на открытие фантома
        - movement_disruption: принудительное прерывание движения
        - attention_diversion: отвлечение от реальных угроз
        - resource_waste: трата боеприпасов/энергии на открытие
      environmental_risks:
        - alarm_activation: 20% шанс активации сигнализации
        - enemy_attraction: привлечение внимания патрулей
        - trap_springs: возможные ловушки в фантомных контейнерах
        - reputation_damage: снижение фракционной репутации
    legitimate_rewards:
      loot_quality_tiers:
        - common_loot: 40% шанс, базовые ресурсы и предметы
        - uncommon_loot: 30% шанс, улучшенные предметы
        - rare_loot: 20% шанс, ценные артефакты и компоненты
        - epic_loot: 8% шанс, редкие импланты и оружие
        - legendary_loot: 2% шанс, уникальные предметы
      bonus_multipliers:
        - quick_opening: +25% награда за быстрое открытие
        - clean_extraction: +15% за отсутствие повреждений
        - combo_bonus: +10% за последовательное открытие легитимных контейнеров
        - risk_bonus: +50% за открытие в опасной зоне
  balance_parameters:
    spawn_rates:
      safe_zones:
        - phantom_chance: 10% от контейнеров
        - detection_difficulty: низкая
        - consequence_severity: минимальная
      moderate_zones:
        - phantom_chance: 20% от контейнеров
        - detection_difficulty: средняя
        - consequence_severity: умеренная
      dangerous_zones:
        - phantom_chance: 30% от контейнеров
        - detection_difficulty: высокая
        - consequence_severity: значительная
    detection_tools:
      emp_scanner:
        - base_cost: 500 едро
        - upgrade_costs: 250 едро за уровень
        - energy_efficiency: +10% за уровень
        - detection_speed: -0.5 сек за уровень
        - false_positive_reduction: -1% за уровень
      marking_drone:
        - base_cost: 750 едро
        - upgrade_costs: 375 едро за уровень
        - marking_range: +2 метра за уровень
        - marking_duration: +30 сек за уровень
        - accuracy_improvement: +2% за уровень
    player_skill_scaling:
      detection_skill:
        - novice: 60% базовая точность обнаружения
        - intermediate: 75% базовая точность обнаружения
        - expert: 90% базовая точность обнаружения
        - master: 95% базовая точность обнаружения
      risk_assessment:
        - low_risk_threshold: <25% фантомов в зоне
        - medium_risk_threshold: 25-40% фантомов в зоне
        - high_risk_threshold: >40% фантомов в зоне
  implementation_details:
    player_interface:
      - container_indicators: цветовые маркеры после сканирования
      - risk_overlay: показ вероятностей в HUD
      - detection_feedback: звуковые/визуальные сигналы обнаружения
      - phantom_reveal: драматическое исчезновение фейкового лута
    backend_systems:
      - procedural_generation: случайная генерация фантомов
      - detection_simulation: расчет точности обнаружения
      - consequence_system: применение штрафов и наград
      - analytics_tracking: сбор данных об использовании
    balancing_metrics:
      - detection_success_rate: процент правильно идентифицированных фантомов
      - time_efficiency: среднее время на проверку контейнера
      - loot_efficiency: соотношение полученного лута к затраченному времени
      - player_frustration: уровень раздражения от фантомов

