# Система основных NPC: типы, интерфейсы взаимодействия и функционал

## Обзор

Документ описывает концепцию основных NPC (неигровых персонажей), с которыми игроки будут взаимодействовать на постоянной основе в игре. Каждый тип NPC имеет уникальную роль, функционал и интерфейсы взаимодействия, интегрированные в мир Cyberpunk 2077.

**Статус**: В разработке  
**Issue**: #407  
**Автор**: Idea Writer Agent  
**Дата создания**: 2025-11-22

---

## 1. Фиксер (Fixer)

### Лор и контекст

Фиксеры — это посредники подпольного мира Night City. Они знают всех и всё, организуют контракты, сводят нужных людей и держат руку на пульсе города. Фиксер — это не просто NPC, это твой проводник в криминальный мир, источник информации и возможностей.

**Характерные черты:**
- Всегда в курсе последних событий
- Обширная сеть контактов
- Знание скрытых локаций и секретов
- Способность организовать встречи с влиятельными людьми
- Доступ к эксклюзивным контрактам

**Визуальный стиль:**
- Одет в стиле streetwear или business casual с элементами киберпанка
- Множество имплантов для коммуникации (визуальные индикаторы связи)
- Характерные жесты и позы, показывающие уверенность
- Уникальные анимации при использовании устройств связи

### Функционал

#### 1.1 Каталог контрактов
- **Доступные контракты**: Фиксер предлагает список доступных контрактов разной сложности
  - Простые задания (доставка, сбор информации)
  - Средние контракты (зачистка, защита)
  - Сложные операции (рейды, корпоративные инфильтрации)
  - Эксклюзивные контракты (доступны только при высокой репутации)

- **Фильтрация контрактов**:
  - По сложности
  - По типу (боевые, стелс, хакерские)
  - По награде
  - По фракциям-заказчикам
  - По локации

- **Детали контракта**:
  - Описание задания
  - Требования к игроку (уровень, навыки, репутация)
  - Награды (деньги, предметы, репутация)
  - Временные ограничения
  - Риски и последствия

#### 1.2 Организация встреч
- **Встречи с другими NPC**: Фиксер может организовать встречи с:
  - Другими фиксерами
  - Торговцами редких товаров
  - Представителями фракций
  - Специалистами (хакеры, инженеры, медики)
  - Влиятельными персонажами

- **Условия встреч**:
  - Репутация с фиксером
  - Плата за организацию
  - Выполненные контракты
  - Связи с фракциями

#### 1.3 Доступ к информации
- **Слухи и новости**: Фиксер делится актуальной информацией о:
  - Событиях в городе
  - Движениях фракций
  - Новых возможностях
  - Опасных зонах
  - Изменениях в экономике

- **Разведка**: За плату фиксер может предоставить:
  - Информацию о целях
  - Схемы локаций
  - Данные о NPC
  - Слабости врагов
  - Скрытые входы и выходы

#### 1.4 Торговля контактами
- **Продажа контактов**: Фиксер может продать контакты других NPC:
  - Новые торговцы
  - Специалисты
  - Представители фракций
  - Источники редких товаров

- **Стоимость контактов**: Зависит от:
  - Редкости контакта
  - Полезности NPC
  - Репутации игрока

### Интерфейсы взаимодействия

#### Диалоговая система
- **Текстовые диалоги** с выбором ответов:
  - Вопросы о контрактах
  - Запросы информации
  - Переговоры о цене
  - Обсуждение событий города
  - Личные темы (для развития отношений)

- **Варианты ответов**:
  - Профессиональный (формальный тон)
  - Дружелюбный (неформальный)
  - Агрессивный (прямолинейный)
  - Хакерский (технический жаргон)
  - Корпоративный (деловой стиль)

#### Меню контрактов
- **Список контрактов** с карточками:
  - Иконка типа контракта
  - Название и краткое описание
  - Уровень сложности (цветовая индикация)
  - Награды (иконки и суммы)
  - Требования (бейджи навыков)

- **Детальный просмотр контракта**:
  - Полное описание задания
  - Карта с локацией
  - Список целей
  - Рекомендуемое снаряжение
  - История выполнения (если повторный)

- **Принятие контракта**:
  - Кнопка "Принять"
  - Подтверждение условий
  - Автоматическое добавление в журнал квестов

#### Карта контактов
- **Визуальная карта сети контактов**:
  - Узлы (NPC) с иконками типов
  - Связи между контактами (линии)
  - Статус доступности (цветовая индикация)
  - Информация при наведении

- **Фильтры карты**:
  - По типу NPC
  - По фракциям
  - По доступности
  - По репутации

#### Панель информации
- **Текущие события**: Лента новостей от фиксера
- **Активные контракты**: Список принятых контрактов
- **История взаимодействий**: Лог всех контрактов и встреч
- **Репутация**: Индикатор отношений с фиксером

### Интеграция с игровыми системами

- **Система квестов**: Контракты автоматически добавляются в журнал квестов
- **Экономическая система**: Платежи за контракты и услуги
- **Система репутации**: Влияние на отношения с фиксером и фракциями
- **Карта мира**: Отметки локаций контрактов
- **Система уведомлений**: Оповещения о новых контрактах и событиях

---

## 2. Торговец (Trader)

### Лор и контекст

Торговцы — это жизненная кровь экономики Night City. От уличных продавцов до элитных дилеров корпоративного оружия, каждый торговец специализируется на своём сегменте рынка. Они знают цену каждому предмету и всегда готовы к сделке.

**Характерные черты:**
- Различные типы торговцев (уличные, магазины, дилеры)
- Специализация на определённых категориях товаров
- Динамические цены в зависимости от спроса и предложения
- Возможность торга и скидок
- Эксклюзивные товары для постоянных клиентов

**Визуальный стиль:**
- Одежда зависит от типа торговца (streetwear для уличных, business для корпоративных)
- Витрины и стеллажи с товарами
- Голографические ценники
- Анимации осмотра и демонстрации товаров

### Функционал

#### 2.1 Покупка предметов
- **Каталог товаров**:
  - Оружие (пистолеты, автоматы, снайперские винтовки, экзотика)
  - Боеприпасы (разные типы и калибры)
  - Броня и защита (жилеты, шлемы, щиты)
  - Импланты и киберимпланты
  - Модификации оружия (моды, улучшения)
  - Расходники (медпакеты, стимуляторы, хакерские утилиты)
  - Одежда и стиль
  - Еда и напитки

- **Фильтрация товаров**:
  - По категории
  - По уровню/качеству
  - По цене
  - По редкости
  - По совместимости с текущим снаряжением

- **Информация о товаре**:
  - Детальные характеристики
  - Сравнение с текущим снаряжением
  - Совместимость с имплантами
  - История предмета (для уникальных)
  - Отзывы других игроков (опционально)

#### 2.2 Продажа предметов
- **Оценка предметов**:
  - Автоматическая оценка стоимости
  - Факторы, влияющие на цену:
    - Состояние предмета
    - Редкость
    - Спрос на рынке
    - Репутация игрока
    - Специализация торговца

- **Массовая продажа**:
  - Выбор нескольких предметов
  - Предпросмотр общей суммы
  - Подтверждение продажи

- **Торговля**:
  - Возможность торговаться за лучшую цену
  - Успех зависит от:
    - Навыка торговли игрока
    - Репутации с торговцем
    - Состояния предмета
    - Рыночной ситуации

#### 2.3 Обмен валют
- **Конвертация валют**:
  - Основная валюта (евродоллары)
  - Криптовалюты
  - Фракционные валюты
  - Товарный обмен (бартер)

- **Курсы обмена**:
  - Динамические курсы
  - Комиссии торговца
  - Влияние событий на курсы

#### 2.4 Ремонт и модификация
- **Ремонт оборудования**:
  - Восстановление прочности оружия и брони
  - Стоимость зависит от уровня повреждения
  - Время ремонта (может быть мгновенным или требовать времени)

- **Модификация оружия**:
  - Установка модов
  - Улучшение характеристик
  - Кастомизация внешнего вида
  - Создание уникальных комбинаций

- **Модификация брони**:
  - Добавление защитных модулей
  - Улучшение характеристик
  - Визуальная кастомизация

#### 2.5 Специальные предложения
- **Ежедневные сделки**:
  - Скидки на определённые категории
  - Ограниченные по времени предложения
  - Случайные редкие товары

- **Аукционы**:
  - Редкие и уникальные предметы
  - Ставки от игроков
  - Таймеры и уведомления

- **VIP предложения**:
  - Эксклюзивные товары для постоянных клиентов
  - Доступ к закрытым каталогам
  - Персональные скидки

### Интерфейсы взаимодействия

#### Торговое окно
- **Двухпанельный интерфейс**:
  - Левая панель: инвентарь торговца
  - Правая панель: инвентарь игрока
  - Центральная область: детали выбранного предмета

- **Элементы интерфейса**:
  - Иконки категорий товаров
  - Поиск по названию
  - Фильтры и сортировка
  - Индикатор баланса игрока
  - Кнопки покупки/продажи

- **Визуальные элементы**:
  - Анимации при выборе предмета
  - Подсветка совместимых предметов
  - Индикаторы редкости (цветовая схема)
  - Иконки характеристик

#### Каталог товаров
- **Сетка товаров** с карточками:
  - Изображение предмета
  - Название
  - Цена
  - Ключевые характеристики
  - Индикатор наличия

- **Детальный просмотр**:
  - 3D модель предмета (вращение)
  - Все характеристики
  - Сравнение с текущим снаряжением
  - История и лор предмета
  - Кнопки действий (купить, добавить в избранное)

#### Система торга
- **Интерфейс переговоров**:
  - Текущая цена
  - Предложение игрока (слайдер или ввод)
  - Реакция торговца (визуальные индикаторы)
  - Шанс успеха (процент)
  - Кнопки действий (предложить, отменить)

- **Анимации**:
  - Жесты торговца при торге
  - Выражения лица (удовлетворение, недовольство)
  - Звуковые эффекты

#### Панель ремонта
- **Выбор предмета для ремонта**:
  - Список повреждённого снаряжения
  - Уровень повреждения (визуальный индикатор)
  - Стоимость ремонта
  - Время ремонта

- **Процесс ремонта**:
  - Прогресс-бар (если требуется время)
  - Анимация ремонта
  - Уведомление о завершении

### Интеграция с игровыми системами

- **Экономическая система**: Все транзакции учитываются в экономике
- **Система инвентаря**: Автоматическое управление предметами
- **Система репутации**: Влияние на цены и доступность товаров
- **Система достижений**: Отслеживание покупок и продаж
- **Система уведомлений**: Оповещения о новых товарах и скидках

---

## 3. Тренер (Trainer)

### Лор и контекст

Тренеры — это мастера своего дела, которые передают знания и навыки следующему поколению. От уличных бойцов до корпоративных инструкторов, каждый тренер специализируется на определённых навыках и может помочь игроку стать сильнее.

**Характерные черты:**
- Специализация на определённых навыках
- Разные стили обучения (жесткий, поддерживающий, технический)
- Требования к уровню и репутации
- Прогрессивное обучение (от базового к продвинутому)
- Уникальные техники и способности

**Визуальный стиль:**
- Одежда зависит от специализации (спортивная, боевая, техническая)
- Импланты, связанные с их специализацией
- Характерные позы и жесты
- Тренировочное оборудование в окружении

### Функционал

#### 3.1 Обучение новым навыкам
- **Дерево навыков**:
  - Боевые навыки (стрельба, ближний бой, тактика)
  - Хакерские навыки (взлом, защита, анализ)
  - Социальные навыки (переговоры, убеждение, обман)
  - Технические навыки (ремонт, модификация, крафт)
  - Физические навыки (выносливость, сила, ловкость)
  - Специальные навыки (уникальные для класса/фракции)

- **Требования для обучения**:
  - Минимальный уровень игрока
  - Предварительные навыки (пререквизиты)
  - Репутация с тренером
  - Оплата обучения
  - Выполнение тестовых заданий

- **Процесс обучения**:
  - Теоретическая часть (диалоги, тексты)
  - Практическая часть (тренировочные задания)
  - Проверка знаний (тесты, симуляции)
  - Получение навыка после успешного завершения

#### 3.2 Повышение уровня навыков
- **Прогрессия навыков**:
  - Уровни навыков (1-10 или больше)
  - Опыт для повышения уровня
  - Требования к тренеру (разные тренеры для разных уровней)

- **Методы повышения**:
  - Тренировки с тренером (быстро, но дорого)
  - Самостоятельная практика (медленно, но бесплатно)
  - Использование навыка в игре (естественный рост)

- **Бонусы уровней**:
  - Улучшение эффективности навыка
  - Разблокировка новых способностей
  - Снижение стоимости использования
  - Уникальные эффекты на высоких уровнях

#### 3.3 Специализированные тренировки
- **Типы тренировок**:
  - Боевые симуляции (стрельба по мишеням, бои с ботом)
  - Хакерские задачи (взлом систем, защита от атак)
  - Социальные сценарии (переговоры, убеждение)
  - Физические упражнения (полосы препятствий, силовые)
  - Комбинированные тренировки (несколько навыков)

- **Режимы тренировок**:
  - Обучающий (подсказки, медленный темп)
  - Нормальный (стандартная сложность)
  - Сложный (максимальная сложность, бонусы)
  - Экстремальный (очень сложно, уникальные награды)

#### 3.4 Тренировочные режимы и симуляции
- **Виртуальные симуляции**:
  - Боевые арены (разные сценарии)
  - Хакерские сети (виртуальные системы для взлома)
  - Социальные ситуации (диалоговые симуляции)
  - Исторические сценарии (повторение известных операций)

- **Кооперативные тренировки**:
  - Тренировки с другими игроками
  - Командные упражнения
  - Соревновательные режимы

- **Персонализированные программы**:
  - Программы обучения под стиль игры
  - Адаптивные тренировки (подстраиваются под прогресс)
  - Долгосрочные планы развития

### Интерфейсы взаимодействия

#### Дерево навыков
- **Визуальное дерево**:
  - Узлы навыков с иконками
  - Связи между навыками (пререквизиты)
  - Статус навыков (изучен, доступен, заблокирован)
  - Прогресс изучения (прогресс-бары)

- **Информация о навыке**:
  - Название и описание
  - Требования для изучения
  - Эффекты и бонусы
  - Стоимость обучения
  - Время обучения

- **Фильтры дерева**:
  - По категории навыков
  - По доступности
  - По уровню
  - По специализации

#### Выбор тренировок
- **Каталог тренировок**:
  - Список доступных тренировок
  - Тип тренировки (иконка)
  - Сложность (цветовая индикация)
  - Награды (опыт, бонусы)
  - Требования

- **Детали тренировки**:
  - Описание упражнения
  - Цели и задачи
  - Рекомендуемое снаряжение
  - Ожидаемое время
  - История прохождения

#### Прогресс обучения
- **Панель прогресса**:
  - Текущие тренировки (активные)
  - Завершённые тренировки
  - Статистика обучения
  - Достижения в обучении

- **Визуализация прогресса**:
  - Графики развития навыков
  - Сравнение с другими игроками (опционально)
  - Прогноз времени до следующего уровня

#### Интерфейс тренировки
- **Во время тренировки**:
  - Цели и задачи (HUD)
  - Прогресс выполнения
  - Подсказки и советы
  - Таймер (если применимо)
  - Кнопка выхода/паузы

- **После тренировки**:
  - Результаты (оценка, статистика)
  - Полученный опыт
  - Разблокированные достижения
  - Рекомендации для улучшения
