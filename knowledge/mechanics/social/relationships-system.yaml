metadata:
  id: relationships-system
  title: 'Система отношений и репутации'
  document_type: mechanics
  category: social
  status: approved
  version: '2.0.0'
  last_updated: 2025-12-27T10:00:00Z
  concept_approved: true
  concept_reviewed_at: 2025-12-27T10:00:00Z
  processed_by: content-writer
  processed_at: 2025-12-27T10:00:00Z
  github_issue_number: 140890882
  owners:
    - role: concept_director
      contact: concept@necp.game
  tags:
    - relationships
    - reputation
    - social
  topics:
    - social-structures
    - trust-systems
  related_systems:
    - social-service
    - factions-service
    - economy-service
  related_documents:
    - id: reputation-formulas
      relation: complements
    - id: npc-hiring-system
      relation: references
    - id: player-orders-system-detailed
      relation: complements
    - id: relationships-system-detailed
      relation: detailed_version
      title: Детальная версия системы отношений и репутации
      link: knowledge/mechanics/social/relationships-system-detailed.yaml
  source: shared/docs/knowledge/mechanics/social/relationships-system.md
  visibility: internal
  audience:
    - concept
    - systems
    - social-design
  risk_level: high
review:
  chain:
    - role: concept_director
      reviewer: content-writer
      reviewed_at: 2025-12-27T10:00:00Z
      status: approved
  next_actions: [ ]
summary:
  problem: Социальные взаимодействия требовали формализованной системы отношений с многослойной репутацией и доверием.
  goal: Определить шкалы репутации, доверия, союзы и рейтинги для игроков, кланов и фракций.
  essence: Комплексная система отношений объединяет шкалу репутации -100…+100, уровни доверия, союзные статусы и рейтинги, влияющие на доступ и экономику в киберпанк-мире.
  key_points:
    - Полностью разработаны уровни отношений между игроками (от друзей до немезидов).
    - Детализирована шкала доверия с 5 уровнями и смарт-контрактами.
    - Определены типы союзов (боевые, торговые, клановые, фракционные).
    - Реализована система рейтингов и истории взаимодействий.
    - Интегрирована визуальная обратная связь и арбитражные механизмы.
content:
  sections:
    - id: concept_overview
      title: 'Концепция и задачи системы'
      body: |
        Система отношений поддерживает живой социальный мир киберпанк-реальности, связывая игроков, кланы и фракции.
        Она задаёт стандарты доступа к контенту, экономическим преимуществам и кооперативным сценариям в мире Night City.
        Репутация — это валюта выживания, фиксируемая в блокчейне социальных связей.
      mechanics_links:
        - mechanics/social/reputation-formulas.yaml
        - mechanics/social/relationships-system-detailed.yaml
      assets: [ ]
    - id: player_relationships
      title: 'Уровни отношений между игроками'
      body: |
        Полная шкала отношений от Friends (друзья) до Nemesis (немезида) с автоматическими триггерами и эффектами.
        Каждый уровень имеет визуальную обратную связь и влияет на механики игры в киберпанк-мире.
      mechanics_links:
        - mechanics/social/mentorship-system.yaml
        - mechanics/social/relationships-system-detailed.yaml#player_relationships
      assets: [ ]
    - id: reputation_scale
      title: 'Репутация с кланами и фракциями'
      body: |
        Шкала от Hostile (враждебный) до Ally (союзник) определяет цены, доступ к базам и реакцию NPC.
        В Night City репутация с корпорацией влияет на каждое взаимодействие с миром.
      mechanics_links:
        - mechanics/social/relationships-system-detailed.yaml#reputation_scale
      assets: [ ]
    - id: trust_contracts
      title: 'Система доверия и смарт-контракты'
      body: |
        5 уровней доверия с юридически обязывающими смарт-контрактами и автоматическими санкциями.
        Арбитражная система обеспечивает исполнение договоров в мире, где слова ничего не стоят.
      mechanics_links:
        - mechanics/social/player-orders-reputation-детально.yaml
        - mechanics/social/relationships-system-detailed.yaml#trust_contracts
      assets: [ ]
    - id: alliances
      title: 'Союзы и договоры'
      body: |
        Боевые, торговые, клановые и фракционные союзы с автоматическими бонусами и штрафами.
        Союзы формируют политическую карту Night City и влияют на мировые события.
      mechanics_links:
        - mechanics/social/player-orders-system-детально.yaml
        - mechanics/social/relationships-system-detailed.yaml#alliances
      assets: [ ]
    - id: ratings_social_capital
      title: 'Рейтинги и социальный капитал'
      body: |
        Комплексная система рейтингов (Overall, Combat, Trade, Reliability, Social Influence) влияет на доступ к миссиям и наградам.
        Социальный капитал определяет статус игрока в киберпанк-иерархии.
      mechanics_links:
        - mechanics/social/mentorship-system-detailed.yaml
        - mechanics/social/relationships-system-detailed.yaml#ratings
      assets: [ ]
    - id: interaction_history
      title: 'История взаимодействий и арбитраж'
      body: |
        Полная история всех взаимодействий с фильтрами, доказательной базой и арбитражной системой.
        В киберпанк-мире каждое действие записывается в персональный профиль.
      mechanics_links:
        - mechanics/social/player-orders-execution.yaml
        - mechanics/social/relationships-system-detailed.yaml#history
      assets: [ ]
    - id: world_integration
      title: 'Интеграция с миром и API'
      body: |
        Репутация влияет на фракции, города, цены и события. REST API и Kafka события поддерживают аналитику.
        Система интегрирована с мировыми механиками Night City.
      mechanics_links:
        - mechanics/social/family-relationships-system-detailed.yaml
        - mechanics/social/relationships-system-detailed.yaml#factions_cities
        - mechanics/social/relationships-system-detailed.yaml#integrations
      assets: [ ]
appendix:
  glossary: [ ]
  references: [ ]
implementation:
  needs_task: false
  github_issue: 140890882
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml
  blockers: [ ]
  status: completed
  completed_at: 2025-12-27T10:00:00Z
  completed_by: content-writer
history:
  - version: '2.0.0'
    date: 2025-12-27
    author: content-writer
    changes: 'Одобрена концепция системы отношений и репутации. Обновлены статусы, добавлены ссылки на детальную версию, интегрирован киберпанк-лор.'
  - version: '1.0.1'
    date: 2025-11-11
    author: concept_director
    changes: 'Конвертация в YAML, консолидация союзов и иерархий.'
  - version: '1.0.0'
    date: 2025-11-03
    author: concept_director
    changes: 'Определены отношения, доверие и рейтинги.'
validation:
  checksum: ''
  schema_version: '1.0'

