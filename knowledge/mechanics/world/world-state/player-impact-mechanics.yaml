metadata:
  id: player-impact-mechanics
  title: Механики влияния игроков на мир
  document_type: mechanics
  category: world
  status: approved
  version: '1.0.0'
  last_updated: 2025-11-07T20:16:00Z
  concept_approved: true
  concept_reviewed_at: 2025-11-07T20:16:00Z
  owners:
    - role: concept_director
      contact: concept@necp.game
  tags:
    - player-impact
    - world-state
    - progression
  topics:
    - world-mechanics
    - player-agency
  related_systems:
    - world-service
    - quest-service
    - economy-service
    - social-service
  related_documents:
    - id: player-impact-systems
      relation: complements
    - id: player-impact-persistence
      relation: references
  source: shared/docs/knowledge/mechanics/world/world-state/player-impact-mechanics.md
  visibility: internal
  audience:
    - concept
    - systems
    - world
  risk_level: high
review:
  chain:
    - role: concept_director
      reviewer: concept@necp.game
      reviewed_at: 2025-11-07T20:16:00Z
      status: approved
  next_actions: []
summary:
  problem: Категории влияния игроков были разбросаны по черновикам и не описывали единую модель.
  goal: Структурировать типы влияния, пороги и агрегирование действий игроков в world-state.
  essence: Документ фиксирует механизмы влияния через квесты, экономику, политику и социальные системы с правилами подсчёта и порогами.
  key_points:
    - Влияние разделено на квестовое, экономическое, политическое и социальное направления.
    - Аггрегаторы подсчитывают голоса, цены и контроль территорий по заданным формулам.
    - Пороговые значения определяют масштаб события и частоту перерасчётов.
content:
  sections:
    - id: impact-types
      title: Типы влияния
      body: |
        Квестовое влияние изменяет судьбы NPC, контроль территорий и фракционные показатели. Экономическое влияние строится на
        изменении цены и доступности ресурсов через действия игроков на рынке. Политическое влияние агрегирует голоса, приказы и
        вклад в войны фракций. Социальное влияние опирается на репутацию, отношения и коллективные активности гильдий.
      mechanics_links:
        - mechanics/world/world-state/player-impact-systems.yaml
      assets: []
    - id: aggregation
      title: Агрегация действий
      body: |
        Для подсчёта голоса используется majority-вектор голосов по территориям. Ценообразование рассчитывается по соотношению
        спроса и предложения с использованием базовой стоимости шаблона предмета. Территориальный контроль хранит вклад каждой
        стороны и перераспределяет владельца при достижении критических значений.
      mechanics_links:
        - mechanics/world/world-state/player-impact-persistence.yaml
      assets: []
    - id: thresholds
      title: Пороги и расписания
      body: |
        Квестовое влияние применяется мгновенно, экономические показатели пересчитываются почасово, контроль территорий — раз
        в сутки, а выборы и сезонные события — раз в неделю. Пороговые значения по количеству игроков ограничивают шум и задают
        масштабы: от индивидуального влияния до глобальных войн.
      mechanics_links:
        - mechanics/world/world-bosses-catalog.yaml
      assets: []
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  needs_task: false
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml#player-impact-mechanics
  blockers: []
history:
  - version: '1.0.0'
    date: 2025-11-07
    author: ai_brain_manager
    changes: Описаны категории влияния игроков и правила их агрегирования.
validation:
  checksum: ''
  schema_version: '1.0'

