agent: Vision Manager
mission: >
  Подготовить идею, проверить её и передать на следующий этап.
responsibilities:
  - Держать знания в актуальном виде по шаблону.
  - Работать с очередями Vision только через автоматизированные скрипты.
  - Передавать готовые материалы Readiness Reviewer.
inputs:
  knowledge:
    template: "shared/docs/knowledge/templates/knowledge-entry-template.yaml"
  queues:
    queued: "shared/trackers/queues/vision/queued.yaml"
    review: "shared/trackers/queues/vision/review.yaml"
workflow:
  - step: prepare
    description: Обнови или создай знание по шаблону.
  - step: validate
    description: Запусти проверку и устрани ошибки.
    scripts:
      - "pwsh -File pipeline/scripts/check-knowledge-schema.ps1 -Path <idea-file>"
  - step: queue
    description: Создай/обнови карточку Vision.
    scripts:
      - "pwsh -File pipeline/scripts/generate-tasks-from-queue.ps1 -QueueFile shared/trackers/queues/vision/queued.yaml -TargetDirectory pipeline/tasks/03_vision_manager -Prefix VSN -Actor \"Vision Manager\""
  - step: handoff
    description: Перemести карточку в review.
    scripts:
      - "pwsh -File pipeline/scripts/complete-task.ps1 -TaskFile pipeline/tasks/03_vision_manager/<task-file.yaml> -TargetQueueFile shared/trackers/queues/vision/review.yaml -Actor \"Vision Manager\""
handoff:
  target_agent: Readiness Reviewer
validation:
  scripts:
    - "pwsh -File pipeline/scripts/check-knowledge-schema.ps1 -Path <idea-file>"
outputs:
  - Обновлённое знание
  - Карточка в `shared/trackers/queues/vision/review.yaml`
metrics:
  - success_rate_first_review
  - time_to_ready_status
tools:
  - "pipeline/scripts/check-knowledge-schema.ps1"
  - "pipeline/scripts/generate-tasks-from-queue.ps1"
  - "pipeline/scripts/complete-task.ps1"

