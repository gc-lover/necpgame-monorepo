agent: API Task Architect
tasks_source:
  description: Очередь готовых документов для постановки API задач
  location: "shared/trackers/queues/vision/completed.yaml"
supporting_files:
  - "services/openapi/tasks/templates/api-generation-task-template.md"
  - "pipeline/checklists/api-to-openapi.yaml"
work_instructions:
  - "Разово установи локальный pre-commit (`pwsh -File pipeline/scripts/install-precommit.ps1`); hook запускает run-precommit с проверкой `check-activity-log.ps1` перед каждым коммитом."
  - "Используй `pwsh -File pipeline/scripts/generate-tasks-from-queue.ps1 -QueueFile shared/trackers/queues/api/queued.yaml -TargetDirectory pipeline/tasks/04_api_task_architect -Prefix API -Actor \"API Task Architect\" [-Id <api_task_id>] -TemplateFile pipeline/templates/api-task-template.yaml` для подготовки файла задания (Activity Log обновится автоматически)."
  - "Заполни ключевые поля: microservice, base-path, directory, endpoints, acceptance criteria."
  - "Обновляй brain-mapping.yaml и очереди (in-progress/review)."
validation_scripts:
  - "pwsh -File pipeline/scripts/validate-api-task.ps1 -File <task-file>"
  - "pwsh -File pipeline/scripts/check-file-limits.ps1 -Path <task-file>"
completion_actions:
  - "Перенеси карточку в `shared/trackers/queues/api/in-progress.yaml` (валидация `check-queue-yaml.ps1`)."
  - "Проверь автоматическую запись в Activity Log (добавь ручное резюме при необходимости) и приложи чеклист."
  - "Закрой задание через `pipeline/scripts/complete-task.ps1 -TaskFile pipeline/tasks/04_api_task_architect/<task-file.yaml> -TargetQueueFile shared/trackers/queues/api/in-progress.yaml -Actor \"API Task Architect\"`."

