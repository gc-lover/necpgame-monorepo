openapi: 3.0.3
info:
  title: Combat Abilities Cyberpsychosis Schemas
  description: Схемы данных для киберпсихоза в системе боевых способностей
  version: 1.0.0
components:
  schemas:
    CyberpsychosisState:
      type: object
      required:
      - character_id
      - current_level
      properties:
        character_id:
          type: string
          format: uuid
          description: Идентификатор персонажа
          example: 550e8400-e29b-41d4-a716-446655440002
        last_update:
          type: string
          format: date-time
          description: Время последнего обновления
          example: '2025-11-23T10:00:00Z'
        restrictions:
          type: object
          description: Ограничения из-за киберпсихоза
          properties:
            ability_usage_penalty:
              type: number
              format: float
              minimum: 0
              maximum: 1
              example: 0.1
            attribute_penalties:
              type: object
              additionalProperties:
                type: number
                format: float
              example:
                strength: -0.05
                intelligence: -0.05
        threshold_breaches:
          type: integer
          minimum: 0
          description: Количество превышений порогов
          example: 0
        active_implants_count:
          type: integer
          minimum: 0
          description: Количество активных имплантов
          example: 3
        current_level:
          type: number
          format: float
          minimum: 0
          maximum: 1
          description: Текущий уровень киберпсихоза (0-1)
          example: 0.15
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CyberpsychosisUpdateRequest:
      type: object
      required:
      - ability_id
      properties:
        ability_id:
          type: string
          format: uuid
          description: Идентификатор способности, которая влияет на киберпсихоз
          example: 550e8400-e29b-41d4-a716-446655440000
        duration_seconds:
          type: integer
          minimum: 0
          nullable: true
          description: Длительность использования в секундах
          example: 5
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'














