openapi: 3.0.3
info:
  title: Combat Abilities Synergy Schemas
  description: Схемы данных для синергий боевых способностей
  version: 1.0.0

components:
  schemas:
    SynergyType:
      type: string
      enum: [ability, team, equipment, implant, timing]
      description: Тип синергии
      example: "ability"

    Synergy:
      type: object
      required:
        - id
        - synergy_type
        - bonuses
      properties:
        id:
          type: string
          format: uuid
          description: Уникальный идентификатор синергии
          example: "550e8400-e29b-41d4-a716-446655440008"
        synergy_type:
          $ref: '#/components/schemas/SynergyType'
        ability_ids:
          type: array
          items:
            type: string
            format: uuid
          description: Список идентификаторов способностей
          example: ["550e8400-e29b-41d4-a716-446655440000", "550e8400-e29b-41d4-a716-446655440003"]
        implant_ids:
          type: array
          items:
            type: string
            format: uuid
          nullable: true
          description: Список идентификаторов имплантов
          example: ["550e8400-e29b-41d4-a716-446655440009"]
        equipment_ids:
          type: array
          items:
            type: string
            format: uuid
          nullable: true
          description: Список идентификаторов экипировки
          example: ["550e8400-e29b-41d4-a716-446655440010"]
        requirements:
          type: object
          description: Требования для активации синергии
          properties:
            min_level:
              type: integer
              minimum: 1
              example: 10
            required_attributes:
              type: object
              additionalProperties:
                type: integer
              example:
                strength: 15
        bonuses:
          type: object
          description: Бонусы от синергии
          properties:
            damage_multiplier:
              type: number
              format: float
              minimum: 1.0
              example: 1.2
            cooldown_reduction:
              type: integer
              minimum: 0
              example: 5
            energy_cost_reduction:
              type: integer
              minimum: 0
              example: 10
            special_effects:
              type: array
              items:
                type: string
              example: ["burn", "stun"]
        complexity:
          type: string
          enum: [Bronze, Silver, Gold, Platinum, Legendary]
          description: Сложность синергии
          example: "Gold"
        created_at:
          type: string
          format: date-time
          description: Дата создания
          example: "2025-11-23T10:00:00Z"

    SynergyApplyRequest:
      type: object
      required:
        - synergy_id
      properties:
        synergy_id:
          type: string
          format: uuid
          description: Идентификатор синергии для применения
          example: "550e8400-e29b-41d4-a716-446655440008"
        target_ability_id:
          type: string
          format: uuid
          nullable: true
          description: Идентификатор способности-цели (если требуется)
          example: "550e8400-e29b-41d4-a716-446655440000"

    SynergyApplyResponse:
      type: object
      required:
        - success
        - synergy_id
      properties:
        success:
          type: boolean
          description: Успешность применения синергии
          example: true
        synergy_id:
          type: string
          format: uuid
          description: Идентификатор примененной синергии
          example: "550e8400-e29b-41d4-a716-446655440008"
        bonuses_applied:
          type: object
          description: Примененные бонусы
          properties:
            damage_multiplier:
              type: number
              format: float
              minimum: 1.0
              example: 1.2
            cooldown_reduction:
              type: integer
              minimum: 0
              example: 5
        message:
          type: string
          nullable: true
          description: Сообщение о результате
          example: "Synergy applied successfully"



