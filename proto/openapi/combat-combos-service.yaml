# Issue: #158
openapi: 3.0.3
info:
  title: Combat Combos & Synergies Service API
  description: |
    API для системы комбо и синергий.
    
    **Основные возможности:**
    - Каталог комбо с фильтрацией
    - Активация комбо и применение синергий
    - Управление лоадаутами комбо
    - Scoring и аналитика комбо
  version: 1.0.0
  contact:
    name: NECPGAME API Support
    email: api@necp.game

servers:
  - url: http://localhost:8083/api/v1
    description: Локальный сервер разработки
  - url: https://api.necp.game/api/v1
    description: Продакшен сервер

tags:
  - name: Combo Catalog
    description: Каталог комбо
  - name: Combo Activation
    description: Активация комбо
  - name: Combo Loadouts
    description: Лоадауты комбо
  - name: Combo Scoring
    description: Оценка комбо
  - name: Combo Analytics
    description: Аналитика комбо

paths:
  # Catalog endpoints
  /gameplay/combat/combos/catalog:
    $ref: 'combat-combos-catalog-service.yaml#/paths/~1gameplay~1combat~1combos~1catalog'
  
  /gameplay/combat/combos/{comboId}:
    $ref: 'combat-combos-catalog-service.yaml#/paths/~1gameplay~1combat~1combos~1{comboId}'
  
  /gameplay/combat/combos/synergies/{synergyId}:
    $ref: 'combat-combos-catalog-service.yaml#/paths/~1gameplay~1combat~1combos~1synergies~1{synergyId}'
  
  # Activation endpoints
  /gameplay/combat/combos/activate:
    $ref: 'combat-combos-activation-service.yaml#/paths/~1gameplay~1combat~1combos~1activate'
  
  /gameplay/combat/combos/synergy/apply:
    $ref: 'combat-combos-activation-service.yaml#/paths/~1gameplay~1combat~1combos~1synergy~1apply'
  
  /gameplay/combat/combos/validate:
    $ref: 'combat-combos-activation-service.yaml#/paths/~1gameplay~1combat~1combos~1validate'
  
  # Loadout endpoints
  /gameplay/combat/combos/loadout:
    $ref: 'combat-combos-loadouts-service.yaml#/paths/~1gameplay~1combat~1combos~1loadout'
  
  # Scoring endpoints
  /gameplay/combat/combos/score:
    $ref: 'combat-combos-scoring-service.yaml#/paths/~1gameplay~1combat~1combos~1score'
  
  # Analytics endpoints
  /gameplay/combat/combos/analytics:
    $ref: 'combat-combos-analytics-service.yaml#/paths/~1gameplay~1combat~1combos~1analytics'

components:
  schemas:
    # Reference to schemas
    ComboType:
      $ref: 'combat-combos-schemas.yaml#/components/schemas/ComboType'
    ComboComplexity:
      $ref: 'combat-combos-schemas.yaml#/components/schemas/ComboComplexity'
    SynergyType:
      $ref: 'combat-combos-schemas.yaml#/components/schemas/SynergyType'
    Combo:
      $ref: 'combat-combos-schemas.yaml#/components/schemas/Combo'
    ComboDetails:
      $ref: 'combat-combos-schemas.yaml#/components/schemas/ComboDetails'
    Synergy:
      $ref: 'combat-combos-schemas.yaml#/components/schemas/Synergy'
    ComboActivationRequest:
      $ref: 'combat-combos-schemas.yaml#/components/schemas/ComboActivationRequest'
    ComboActivationResponse:
      $ref: 'combat-combos-schemas.yaml#/components/schemas/ComboActivationResponse'
    ApplySynergyRequest:
      $ref: 'combat-combos-schemas.yaml#/components/schemas/ApplySynergyRequest'
    SynergyResponse:
      $ref: 'combat-combos-schemas.yaml#/components/schemas/SynergyResponse'
    ComboLoadout:
      $ref: 'combat-combos-schemas.yaml#/components/schemas/ComboLoadout'
    UpdateComboLoadoutRequest:
      $ref: 'combat-combos-schemas.yaml#/components/schemas/UpdateComboLoadoutRequest'
    SubmitComboScoreRequest:
      $ref: 'combat-combos-schemas.yaml#/components/schemas/SubmitComboScoreRequest'
    ComboScoreResponse:
      $ref: 'combat-combos-schemas.yaml#/components/schemas/ComboScoreResponse'
    ComboAnalyticsResponse:
      $ref: 'combat-combos-schemas.yaml#/components/schemas/ComboAnalyticsResponse'
    ComboCatalogResponse:
      $ref: 'combat-combos-schemas.yaml#/components/schemas/ComboCatalogResponse'
    
  securitySchemes:
    BearerAuth:
      $ref: 'common.yaml#/components/securitySchemes/BearerAuth'

security:
  - BearerAuth: []

