Item:
  type: object
  properties:
    item_id:
      type: string
    name:
      type: string
    description:
      type: string
    item_type:
      type: string
      enum: [ WEAPON, ARMOR, CONSUMABLE, MATERIAL, QUEST_ITEM, COSMETIC ]
    rarity:
      type: string
      enum: [ COMMON, UNCOMMON, RARE, EPIC, LEGENDARY, MYTHIC ]
    level_requirement:
      type: integer
      minimum: 0
    max_stack:
      type: integer
      minimum: 1
    sell_price:
      type: integer
      minimum: 0
    buy_price:
      type: integer
      minimum: 0
    stats:
      type: object
      additionalProperties:
        oneOf:
          - type: integer
          - type: number
          - type: string
    effects:
      type: array
      items:
        $ref: './effects.yaml#/ItemEffect'
    icon_url:
      type: string
    model_url:
      type: string
    created_at:
      type: string
      format: date-time
    updated_at:
      type: string
      format: date-time
  required:
    - item_id
    - name
    - item_type
    - rarity

ItemEffect:
  type: object
  properties:
    effect_type:
      type: string
      enum: [ STAT_BONUS, SKILL_BONUS, SPELL_LEARN, QUEST_START, CONSUMABLE ]
    target_stat:
      type: string
    value:
      oneOf:
        - type: integer
        - type: number
        - type: string
    duration:
      type: integer
      description: Duration in seconds, -1 for permanent
    conditions:
      type: array
      items:
        type: string
  required:
    - effect_type
