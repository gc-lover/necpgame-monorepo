# Level Service - OpenAPI Specification

## üìã **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**

Level Service –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **–∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π —É—Ä–æ–≤–Ω–µ–π –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π** –≤ NECPGAME. –°–µ—Ä–≤–∏—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞
–ø—Ä–æ–≥—Ä–µ—Å—Å–∏—é –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π, —Ä–∞—Å—á–µ—Ç –æ–ø—ã—Ç–∞, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —É—Ä–æ–≤–Ω–µ–π –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏ –ø—Ä–æ–∫–∞—á–∫–∏.

## üéØ **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**

### üìà **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –£—Ä–æ–≤–Ω—è–º–∏**

- –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —É—Ä–æ–≤–Ω—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
- –†–∞—Å—á–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤–Ω—É—Ç—Ä–∏ —É—Ä–æ–≤–Ω—è

### üéØ **–û–ø—ã—Ç –∏ –ü—Ä–æ–≥—Ä–µ—Å—Å–∏—è**

- –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –æ–ø—ã—Ç–∞ –∑–∞ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- –ë–æ–Ω—É—Å–Ω—ã–π –æ–ø—ã—Ç –∑–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- –°–∏—Å—Ç–µ–º–∞ –º–Ω–æ–∂–∏—Ç–µ–ª–µ–π –æ–ø—ã—Ç–∞
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –æ–ø—ã—Ç–∞

### üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞**

- –ò—Å—Ç–æ—Ä–∏—è –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω–µ–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –æ–ø—ã—Ç–∞
- –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏ –∏–≥—Ä–æ–∫–æ–≤
- –ú–µ—Ç—Ä–∏–∫–∏ –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç–∏

## üìÅ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞**

```
level-service/
‚îú‚îÄ‚îÄ main.yaml           # –û—Å–Ω–æ–≤–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îú‚îÄ‚îÄ README.md          # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ levels.yaml        # CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —É—Ä–æ–≤–Ω—è–º–∏
‚îú‚îÄ‚îÄ progression.yaml   # –ü—Ä–æ–≥—Ä–µ—Å—Å–∏—è –∏ –æ–ø—ã—Ç
‚îú‚îÄ‚îÄ calculation.yaml   # –†–∞—Å—á–µ—Ç—ã –∏ —Ñ–æ—Ä–º—É–ª—ã
‚îî‚îÄ‚îÄ analytics.yaml     # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏
```

## üîó **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**

- **common**: –û–±—â–∏–µ —Å—Ö–µ–º—ã –æ—Ç–≤–µ—Ç–æ–≤ –∏ –æ—à–∏–±–æ–∫
- **experience-service**: –î–ª—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –æ–ø—ã—Ç–∞
- **character-service**: –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –ø—Ä–∏ –ø—Ä–æ–∫–∞—á–∫–µ
- **achievement-service**: –î–ª—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

## üìä **Performance**

- **P99 Latency**: <15ms –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å —É—Ä–æ–≤–Ω—è–º–∏
- **Memory per Instance**: <200KB (–∫–µ—à —É—Ä–æ–≤–Ω–µ–π)
- **Concurrent Users**: 10,000+ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **Level Calculations**: <5ms –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ñ–æ—Ä–º—É–ª

## üöÄ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**

### –í–∞–ª–∏–¥–∞—Ü–∏—è

```bash
npx @redocly/cli lint main.yaml
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Go –∫–æ–¥–∞

```bash
ogen --target ../../services/level-service-go/pkg/api \
     --package api --clean main.yaml
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

```bash
npx @redocly/cli build-docs main.yaml -o docs/index.html
```

## üîó **–û—Å–Ω–æ–≤–Ω—ã–µ Endpoints**

| Method | Endpoint                           | Description                  |
|--------|------------------------------------|------------------------------|
| GET    | `/levels/{characterId}`            | –ü–æ–ª—É—á–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞   |
| GET    | `/levels/{characterId}/progress`   | –ü—Ä–æ–≥—Ä–µ—Å—Å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É—Ä–æ–≤–Ω—é |
| POST   | `/levels/{characterId}/experience` | –ù–∞—á–∏—Å–ª–∏—Ç—å –æ–ø—ã—Ç               |
| GET    | `/levels/requirements/{level}`     | –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —É—Ä–æ–≤–Ω—è        |
| GET    | `/levels/{characterId}/history`    | –ò—Å—Ç–æ—Ä–∏—è –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω–µ–π    |

## üõ°Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

- **Validation**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –æ–ø—ã—Ç–∞
- **Rate Limiting**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –æ–ø–µ—Ä–∞—Ü–∏–π —Å —É—Ä–æ–≤–Ω—è–º–∏
- **Audit Logging**: –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —É—Ä–æ–≤–Ω–µ–π
- **Anti-Cheat**: –ó–∞—â–∏—Ç–∞ –æ—Ç –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π —Å –æ–ø—ã—Ç–æ–º

## üìà **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**

### –ú–µ—Ç—Ä–∏–∫–∏ –£—Ä–æ–≤–Ω–µ–π

- –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –∏–≥—Ä–æ–∫–æ–≤
- –°–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–æ–∫–∞—á–∫–∏
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —É—Ä–æ–≤–Ω—è–º
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –≤—ã—Å–æ–∫–∏–µ —É—Ä–æ–≤–Ω–∏

### Health Checks

- `/health` - –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞
- `/health/levels` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—á–µ—Ç–æ–≤ —É—Ä–æ–≤–Ω–µ–π

---

**Level Service —è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–µ–≤—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏ NECPGAME, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤—É—é –∏ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—É—é
–ø—Ä–æ–∫–∞—á–∫—É –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π.**











