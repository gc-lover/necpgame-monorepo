# Member Management Schemas
components:
  schemas:
    GuildMember:
      type: object
      required:
      - player_id
      - guild_id
      - role
      - joined_at
      - contribution_points
      - is_active
      properties:
        player_id:
          type: string
          format: uuid
          description: Player unique identifier
          example: 550e8400-e29b-41d4-a716-446655440001
        guild_id:
          type: string
          format: uuid
          description: Guild unique identifier
          example: 550e8400-e29b-41d4-a716-446655440000
        role:
          type: string
          enum:
          - leader
          - officer
          - veteran
          - member
          - recruit
          description: Member role in guild
          example: officer
        joined_at:
          type: string
          format: date-time
          description: When player joined the guild
          example: '2025-12-20T10:30:00Z'
        contribution_points:
          type: integer
          format: int64
          description: Total contribution points earned
          minimum: 0
          example: 25000
        last_activity:
          type: string
          format: date-time
          description: Last activity timestamp
          example: '2025-12-23T20:15:00Z'
        is_active:
          type: boolean
          description: Whether member is active
          example: true
        personal_note:
          type: string
          description: Personal note from member
          maxLength: 200
          example: "Specializing in stealth operations"
        permissions:
          type: array
          items:
            type: string
            enum:
            - invite_members
            - kick_members
            - manage_bank
            - declare_war
            - manage_territory
            - edit_guild_settings
            - post_announcements
          description: Special permissions granted to this member
          example:
          - invite_members
          - post_announcements
        weekly_contribution:
          type: integer
          description: Contribution points this week
          minimum: 0
          example: 1250
        rank_in_guild:
          type: integer
          description: Personal rank within guild
          minimum: 1
          example: 3
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%. Optimized for member listings and role checks.'
    GuildInvitation:
      type: object
      required:
      - invitation_id
      - guild_id
      - inviter_id
      - invitee_id
      - status
      - created_at
      - expires_at
      properties:
        invitation_id:
          type: string
          format: uuid
          description: Unique invitation identifier
          example: 550e8400-e29b-41d4-a716-446655440002
        guild_id:
          type: string
          format: uuid
          description: Guild sending invitation
          example: 550e8400-e29b-41d4-a716-446655440000
        inviter_id:
          type: string
          format: uuid
          description: Player who sent invitation
          example: 550e8400-e29b-41d4-a716-446655440003
        invitee_id:
          type: string
          format: uuid
          description: Player receiving invitation
          example: 550e8400-e29b-41d4-a716-446655440001
        message:
          type: string
          description: Personal invitation message
          maxLength: 300
          example: "We need skilled hackers like you in our guild!"
        status:
          type: string
          enum:
          - pending
          - accepted
          - declined
          - expired
          - cancelled
          description: Invitation status
          example: pending
        created_at:
          type: string
          format: date-time
          description: Invitation creation timestamp
          example: '2025-12-23T15:30:00Z'
        expires_at:
          type: string
          format: date-time
          description: When invitation expires
          example: '2025-12-25T15:30:00Z'
        responded_at:
          type: string
          format: date-time
          description: When invitation was responded to
          example: '2025-12-23T16:45:00Z'
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%. Optimized for invitation management.'
