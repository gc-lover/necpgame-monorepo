// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// ClaimTerritory implements claimTerritory operation.
	//
	// Attempts to claim a territory for the guild.
	// **BACKEND NOTE:** Complex operation involving:
	// - Territory availability checks
	// - Combat requirements validation
	// - Resource cost deduction
	// - Notification broadcasts.
	//
	// POST /guilds/{guild_id}/territories
	ClaimTerritory(ctx context.Context, req *ClaimTerritoryRequest, params ClaimTerritoryParams) (ClaimTerritoryRes, error)
	// CreateGuild implements createGuild operation.
	//
	// Creates a new guild with specified parameters.
	// **BACKEND NOTE:** This operation requires validation of:
	// - Guild name uniqueness (case-insensitive)
	// - Leader existence and permissions
	// - Anti-cheat pattern analysis
	// - Guild creation fees and limits
	// - Cross-region availability checks.
	//
	// POST /guilds
	CreateGuild(ctx context.Context, req *CreateGuildRequest) (CreateGuildRes, error)
	// DisbandGuild implements disbandGuild operation.
	//
	// Disbands a guild. This operation is irreversible.
	// **BACKEND NOTE:** Requires strong authorization (e.g., guild leader or admin).
	// All members must be removed or transferred.
	//
	// DELETE /guilds/{guild_id}
	DisbandGuild(ctx context.Context, params DisbandGuildParams) (DisbandGuildRes, error)
	// GetGuildById implements getGuildById operation.
	//
	// Retrieves a single guild by its unique identifier.
	//
	// GET /guilds/{guild_id}
	GetGuildById(ctx context.Context, params GetGuildByIdParams) (GetGuildByIdRes, error)
	// GetGuildMembers implements getGuildMembers operation.
	//
	// Retrieves list of guild members with their roles and status.
	//
	// GET /guilds/{guild_id}/members
	GetGuildMembers(ctx context.Context, params GetGuildMembersParams) (GetGuildMembersRes, error)
	// GetGuildTerritories implements getGuildTerritories operation.
	//
	// Retrieves list of territories controlled by the guild.
	//
	// GET /guilds/{guild_id}/territories
	GetGuildTerritories(ctx context.Context, params GetGuildTerritoriesParams) (GetGuildTerritoriesRes, error)
	// GetGuilds implements getGuilds operation.
	//
	// Retrieves a list of guilds with advanced filtering and pagination.
	// **BACKEND NOTE:** Hot path endpoint (1000+ RPS).
	// Use Redis caching for popular guild listings.
	// Pagination required for performance.
	//
	// GET /guilds
	GetGuilds(ctx context.Context, params GetGuildsParams) (GetGuildsRes, error)
	// GuildsHealthCheck implements guildsHealthCheck operation.
	//
	// Guilds module health check.
	//
	// GET /health
	GuildsHealthCheck(ctx context.Context) (GuildsHealthCheckRes, error)
	// InvitePlayerToGuild implements invitePlayerToGuild operation.
	//
	// Sends an invitation to a player to join the guild.
	// **BACKEND NOTE:** Creates invitation record and sends notification.
	// Player must accept invitation to become member.
	//
	// POST /guilds/{guild_id}/members
	InvitePlayerToGuild(ctx context.Context, req *InvitePlayerRequest, params InvitePlayerToGuildParams) (InvitePlayerToGuildRes, error)
	// RemoveGuildMember implements removeGuildMember operation.
	//
	// Removes a member from the guild (kick or voluntary leave).
	// **BACKEND NOTE:** Handles both voluntary leaves and forced removals.
	// Different authorization levels required.
	//
	// DELETE /guilds/{guild_id}/members/{player_id}
	RemoveGuildMember(ctx context.Context, params RemoveGuildMemberParams) (RemoveGuildMemberRes, error)
	// UpdateGuild implements updateGuild operation.
	//
	// Updates an existing guild's information.
	// **BACKEND NOTE:** Requires authorization check for guild leadership.
	// Partial updates are supported.
	//
	// PUT /guilds/{guild_id}
	UpdateGuild(ctx context.Context, req *UpdateGuildRequest, params UpdateGuildParams) (UpdateGuildRes, error)
	// UpdateMemberRole implements updateMemberRole operation.
	//
	// Updates a member's role within the guild.
	// **BACKEND NOTE:** Requires leadership permissions.
	// Role changes are logged for audit purposes.
	//
	// PUT /guilds/{guild_id}/members/{player_id}
	UpdateMemberRole(ctx context.Context, req *UpdateMemberRoleRequest, params UpdateMemberRoleParams) (UpdateMemberRoleRes, error)
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
