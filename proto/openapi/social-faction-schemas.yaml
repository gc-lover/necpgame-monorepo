openapi: 3.0.3
info:
  title: Social Faction Service - Schemas
  description: Общие схемы данных для Social Faction Service
  version: 1.0.0
  license:
    name: Proprietary
components:
  schemas:
    Faction:
      type: object
      required:
      - id
      - name
      - type
      - status
      properties:
        id:
          type: string
          format: uuid
          description: ID фракции
        leader_id:
          type: string
          format: uuid
          description: ID лидера фракции
        name:
          type: string
          description: Название фракции
        description:
          type: string
          description: Описание фракции
        ideology:
          type: string
          description: Идеология фракции
        type:
          type: string
          enum:
          - criminal_band
          - professional_guild
          - political_movement
          - corporate_alliance
          - religious_sect
          - scientific_organization
          description: Тип фракции
        status:
          type: string
          enum:
          - active
          - inactive
          - disbanded
          description: Статус фракции
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    FactionLayer:
      type: object
      required:
      - id
      - faction_id
      - name
      - level
      properties:
        id:
          type: string
          format: uuid
        faction_id:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
        created_at:
          type: string
          format: date-time
        level:
          type: integer
          minimum: 1
          description: Уровень слоя (1 - базовый, выше - более высокие уровни)
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    FactionBand:
      type: object
      required:
      - id
      - faction_id
      - name
      properties:
        id:
          type: string
          format: uuid
        faction_id:
          type: string
          format: uuid
        leader_clan_id:
          type: string
          format: uuid
        name:
          type: string
        created_at:
          type: string
          format: date-time
        clan_ids:
          type: array
          items:
            type: string
            format: uuid
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    FactionNiche:
      type: object
      required:
      - id
      - faction_id
      - type
      properties:
        id:
          type: string
          format: uuid
        faction_id:
          type: string
          format: uuid
        description:
          type: string
        specialization:
          type: string
          description: Специализация фракции в этой нише
        type:
          type: string
          enum:
          - territorial
          - economic
          - political
          - criminal
          - technological
          - social
          description: Тип ниши
        created_at:
          type: string
          format: date-time
        competitors:
          type: array
          items:
            type: string
            format: uuid
          description: ID фракций-конкурентов
        control_level:
          type: integer
          minimum: 0
          maximum: 100
          description: Уровень контроля над нишей (0-100%)
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    FactionInteraction:
      type: object
      required:
      - id
      - faction_id_1
      - faction_id_2
      - relationship_type
      properties:
        id:
          type: string
          format: uuid
        faction_id_1:
          type: string
          format: uuid
        faction_id_2:
          type: string
          format: uuid
        details:
          type: string
          description: Дополнительная информация о взаимодействии
        relationship_type:
          type: string
          enum:
          - allied
          - neutral
          - competitive
          - hostile
          - trading
          description: Тип отношений
        status:
          type: string
          enum:
          - active
          - pending
          - cancelled
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    FactionConflict:
      type: object
      required:
      - id
      - faction_id_1
      - faction_id_2
      - conflict_type
      properties:
        id:
          type: string
          format: uuid
        faction_id_1:
          type: string
          format: uuid
        faction_id_2:
          type: string
          format: uuid
        conflict_type:
          type: string
          enum:
          - territorial
          - economic
          - political
          - ideological
          - resource_war
          description: Тип конфликта
        status:
          type: string
          enum:
          - declared
          - active
          - resolved
          - cancelled
        resolution_type:
          type: string
          enum:
          - negotiation
          - mediation
          - arbitration
          - military
          - economic
          description: Тип разрешения конфликта
        created_at:
          type: string
          format: date-time
        resolved_at:
          type: string
          format: date-time
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CreateFactionRequest:
      type: object
      required:
      - name
      - type
      properties:
        name:
          type: string
          minLength: 3
          maxLength: 100
        description:
          type: string
          maxLength: 1000
        ideology:
          type: string
          maxLength: 500
        type:
          type: string
          enum:
          - criminal_band
          - professional_guild
          - political_movement
          - corporate_alliance
          - religious_sect
          - scientific_organization
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    UpdateFactionRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 3
          maxLength: 100
        description:
          type: string
          maxLength: 1000
        ideology:
          type: string
          maxLength: 500
        status:
          type: string
          enum:
          - active
          - inactive
          - disbanded
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CreateFactionLayerRequest:
      type: object
      required:
      - name
      - level
      properties:
        name:
          type: string
          minLength: 3
          maxLength: 100
        description:
          type: string
          maxLength: 500
        level:
          type: integer
          minimum: 1
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    UpdateFactionLayerRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 3
          maxLength: 100
        description:
          type: string
          maxLength: 500
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CreateFactionBandRequest:
      type: object
      required:
      - name
      - clan_ids
      properties:
        leader_clan_id:
          type: string
          format: uuid
        name:
          type: string
          minLength: 3
          maxLength: 100
        clan_ids:
          type: array
          items:
            type: string
            format: uuid
          minItems: 2
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CreateFactionNicheRequest:
      type: object
      required:
      - type
      properties:
        description:
          type: string
          maxLength: 500
        specialization:
          type: string
          maxLength: 200
        type:
          type: string
          enum:
          - territorial
          - economic
          - political
          - criminal
          - technological
          - social
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CompeteForNicheRequest:
      type: object
      required:
      - competitor_faction_id
      properties:
        competitor_faction_id:
          type: string
          format: uuid
        strategy:
          type: string
          enum:
          - economic
          - military
          - political
          - diplomatic
          description: Стратегия конкуренции
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CreateFactionInteractionRequest:
      type: object
      required:
      - faction_id_2
      - relationship_type
      properties:
        faction_id_2:
          type: string
          format: uuid
        details:
          type: string
          maxLength: 1000
        relationship_type:
          type: string
          enum:
          - allied
          - neutral
          - competitive
          - hostile
          - trading
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CreateFactionConflictRequest:
      type: object
      required:
      - faction_id_2
      - conflict_type
      properties:
        faction_id_2:
          type: string
          format: uuid
        details:
          type: string
          maxLength: 1000
        conflict_type:
          type: string
          enum:
          - territorial
          - economic
          - political
          - ideological
          - resource_war
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    FactionListResponse:
      type: object
      properties:
        factions:
          type: array
          items:
            $ref: '#/components/schemas/Faction'
        total:
          type: integer
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'















