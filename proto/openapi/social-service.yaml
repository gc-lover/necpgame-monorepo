openapi: 3.0.3
info:
  title: Social Service API
  description: Единый API для социальных функций (friends, guilds, chat, mail, notifications, orders)
  version: 2.0.0
  contact:
    name: NECPGAME API Support
    email: api@necp.game

servers:
  - url: http://localhost:8084/api/v1
    description: Локальный сервер разработки
  - url: https://api.necp.game/api/v1
    description: Продакшен сервер

tags:
  - name: Chat
    description: Чат и модерация
  - name: Friends
    description: Друзья и блокировки
  - name: Guilds
    description: Гильдии и управление
  - name: Mail
    description: Внутриигровая почта
  - name: Notifications
    description: Уведомления
  - name: Orders
    description: Заказы между игроками

paths:
  # Chat paths
  /social/chat/messages:
    $ref: "social-chat-messages-service.yaml#/paths/~1social~1chat~1messages"
  /social/chat/messages/{channel_id}:
    $ref: "social-chat-messages-service.yaml#/paths/~1social~1chat~1messages~1{channel_id}"
  /social/chat/channels:
    $ref: "social-chat-channels-service.yaml#/paths/~1social~1chat~1channels"

  # Friends paths
  /social/friends:
    $ref: "social-friends-core-service.yaml#/paths/~1social~1friends"
  /social/friends/{friend_id}:
    $ref: "social-friends-core-service.yaml#/paths/~1social~1friends~1{friend_id}"
  /social/friends/requests:
    $ref: "social-friends-requests-service.yaml#/paths/~1social~1friends~1requests"

  # Guild paths
  /social/guilds:
    $ref: "social-guild-core-service.yaml#/paths/~1social~1guilds"
  /social/guilds/{guild_id}:
    $ref: "social-guild-core-service.yaml#/paths/~1social~1guilds~1{guild_id}"
  /social/guilds/{guild_id}/members:
    $ref: "social-guild-members-service.yaml#/paths/~1social~1guilds~1{guild_id}~1members"
  /social/guilds/{guild_id}/bank:
    $ref: "social-guild-bank-service.yaml#/paths/~1social~1guilds~1{guild_id}~1bank"

  # Mail paths
  /social/mail:
    $ref: "social-mail-core-service.yaml#/paths/~1social~1mail"
  /social/mail/{mail_id}:
    $ref: "social-mail-core-service.yaml#/paths/~1social~1mail~1{mail_id}"
  /social/mail/{mail_id}/attachments:
    $ref: "social-mail-attachments-service.yaml#/paths/~1social~1mail~1{mail_id}~1attachments"

  # Notifications paths
  /social/notifications:
    $ref: "social-notifications-core-service.yaml#/paths/~1social~1notifications"
  /social/notifications/{notification_id}:
    $ref: "social-notifications-core-service.yaml#/paths/~1social~1notifications~1{notification_id}"
  /social/notifications/preferences:
    $ref: "social-notifications-preferences-service.yaml#/paths/~1social~1notifications~1preferences"

  # Orders paths
  /social/orders:
    $ref: "social-orders-core-service.yaml#/paths/~1social~1orders"
  /social/orders/{order_id}:
    $ref: "social-orders-core-service.yaml#/paths/~1social~1orders~1{order_id}"

components:
  securitySchemes:
    BearerAuth:
      $ref: "common.yaml#/components/securitySchemes/BearerAuth"
