openapi: 3.0.3
info:
  title: Social Service API
  description: API для социальных функций: уведомления, друзья, чат, почта, найм NPC
  version: 2.0.0
  contact:
    name: NECPGAME API Support
    email: api@necp.game

servers:
  - url: http://localhost:8084/api/v1
    description: Локальный сервер разработки
  - url: https://api.necp.game/api/v1
    description: Продакшен сервер

tags:
  - name: Notifications
    description: Управление уведомлениями
  - name: Friends
    description: Система друзей
  - name: Chat
    description: Текстовый чат
  - name: Mail
    description: Почтовая система
  - name: Party
    description: Система групп
  - name: Guild
    description: Система гильдий
  - name: NPC Hiring
    description: Система найма NPC
  - name: Reputation
    description: Система репутации
  - name: Relationships
    description: Система отношений
  - name: Player Orders
    description: Система заказов от игроков
  - name: Mentorship
    description: Система наставничества

paths:
  /social/notifications:
    post:
      tags:
        - Notifications
      summary: Создать уведомление
      operationId: createNotification
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateNotificationRequest'
      responses:
        '201':
          description: Уведомление создано
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notification'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

    get:
      tags:
        - Notifications
      summary: Получить список уведомлений
      operationId: getNotifications
      parameters:
        - name: account_id
          in: query
          required: true
          schema:
            type: string
            format: uuid
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Список уведомлений
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotificationListResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'

  /social/notifications/{id}:
    get:
      tags:
        - Notifications
      summary: Получить уведомление
      operationId: getNotification
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Уведомление
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notification'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'

  /social/notifications/{id}/status:
    put:
      tags:
        - Notifications
      summary: Обновить статус уведомления
      operationId: updateNotificationStatus
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateNotificationStatusRequest'
      responses:
        '200':
          description: Статус обновлен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notification'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'

  /social/notifications/{id}:
    delete:
      tags:
        - Notifications
      summary: Удалить уведомление
      operationId: deleteNotification
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Уведомление удалено
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'

  /social/notifications/preferences:
    get:
      tags:
        - Notifications
      summary: Получить настройки уведомлений
      operationId: getNotificationPreferences
      parameters:
        - name: account_id
          in: query
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Настройки уведомлений
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotificationPreferences'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

    put:
      tags:
        - Notifications
      summary: Обновить настройки уведомлений
      operationId: updateNotificationPreferences
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateNotificationPreferencesRequest'
      responses:
        '200':
          description: Настройки обновлены
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotificationPreferences'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/notifications/batch/read:
    post:
      tags:
        - Notifications
      summary: Отметить несколько уведомлений как прочитанные
      operationId: markNotificationsAsRead
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BatchReadRequest'
      responses:
        '200':
          description: Уведомления отмечены как прочитанные
          content:
            application/json:
              schema:
                type: object
                properties:
                  updated:
                    type: integer
                    description: Количество обновленных уведомлений
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/friends/requests:
    post:
      tags:
        - Friends
      summary: Отправить запрос на дружбу
      operationId: sendFriendRequest
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FriendRequest'
      responses:
        '201':
          description: Запрос отправлен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Friendship'
        '400':
          $ref: '#/components/responses/BadRequest'
        '409':
          description: Запрос уже существует
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /social/friends/requests/{request_id}/accept:
    post:
      tags:
        - Friends
      summary: Принять запрос на дружбу
      operationId: acceptFriendRequest
      security:
        - BearerAuth: []
      parameters:
        - name: request_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Запрос принят
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Friendship'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/friends/requests/{request_id}/decline:
    post:
      tags:
        - Friends
      summary: Отклонить запрос на дружбу
      operationId: declineFriendRequest
      security:
        - BearerAuth: []
      parameters:
        - name: request_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Запрос отклонен
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
        '404':
          $ref: '#/components/responses/NotFound'

  /social/friends:
    get:
      tags:
        - Friends
      summary: Получить список друзей
      operationId: getFriends
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: query
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Список друзей
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FriendListResponse'
        '400':
          $ref: '#/components/responses/BadRequest'

  /social/friends/{friend_id}:
    delete:
      tags:
        - Friends
      summary: Удалить друга
      operationId: removeFriend
      security:
        - BearerAuth: []
      parameters:
        - name: friend_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Друг удален
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
        '404':
          $ref: '#/components/responses/NotFound'

  /social/friends/{friend_id}/block:
    post:
      tags:
        - Friends
      summary: Заблокировать друга
      operationId: blockFriend
      security:
        - BearerAuth: []
      parameters:
        - name: friend_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Друг заблокирован
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Friendship'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/friends/{friend_id}:
    get:
      tags:
        - Friends
      summary: Получить информацию о друге
      operationId: getFriend
      security:
        - BearerAuth: []
      parameters:
        - name: friend_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Информация о друге
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Friendship'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/friends/online:
    get:
      tags:
        - Friends
      summary: Получить список онлайн друзей
      operationId: getOnlineFriends
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Список онлайн друзей
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FriendListResponse'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/friends/count:
    get:
      tags:
        - Friends
      summary: Получить количество друзей
      operationId: getFriendsCount
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Количество друзей
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FriendsCountResponse'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/friends/requests/incoming:
    get:
      tags:
        - Friends
      summary: Получить входящие запросы на дружбу
      operationId: getIncomingFriendRequests
      security:
        - BearerAuth: []
      parameters:
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Входящие запросы
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FriendRequestsResponse'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/friends/requests/outgoing:
    get:
      tags:
        - Friends
      summary: Получить исходящие запросы на дружбу
      operationId: getOutgoingFriendRequests
      security:
        - BearerAuth: []
      parameters:
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Исходящие запросы
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FriendRequestsResponse'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/friends/requests/{request_id}:
    delete:
      tags:
        - Friends
      summary: Отменить запрос на дружбу
      operationId: cancelFriendRequest
      security:
        - BearerAuth: []
      parameters:
        - name: request_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Запрос отменён
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: cancelled
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/friends/blocks:
    get:
      tags:
        - Friends
      summary: Получить список заблокированных игроков
      operationId: getBlockedPlayers
      security:
        - BearerAuth: []
      parameters:
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Список заблокированных
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BlockedPlayersResponse'
        '500':
          $ref: '#/components/responses/InternalServerError'

    post:
      tags:
        - Friends
      summary: Заблокировать игрока
      operationId: blockPlayer
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BlockPlayerRequest'
      responses:
        '200':
          description: Игрок заблокирован
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BlockedPlayer'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/friends/blocks/{blocked_id}:
    delete:
      tags:
        - Friends
      summary: Разблокировать игрока
      operationId: unblockPlayer
      security:
        - BearerAuth: []
      parameters:
        - name: blocked_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Игрок разблокирован
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: unblocked
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/friends/blocks/check/{player_id}:
    get:
      tags:
        - Friends
      summary: Проверить, заблокирован ли игрок
      operationId: checkBlockStatus
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Статус блокировки
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BlockStatusResponse'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/friends/{friend_id}/status:
    get:
      tags:
        - Friends
      summary: Получить онлайн-статус друга
      operationId: getFriendStatus
      security:
        - BearerAuth: []
      parameters:
        - name: friend_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Статус друга
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FriendStatusResponse'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/friends/status/batch:
    get:
      tags:
        - Friends
      summary: Получить статусы нескольких друзей
      operationId: getFriendsStatusBatch
      security:
        - BearerAuth: []
      parameters:
        - name: friend_ids
          in: query
          required: true
          schema:
            type: array
            items:
              type: string
              format: uuid
      responses:
        '200':
          description: Статусы друзей
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FriendsStatusBatchResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/friends/recent:
    get:
      tags:
        - Friends
      summary: Получить последние контакты
      operationId: getRecentContacts
      security:
        - BearerAuth: []
      parameters:
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Последние контакты
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecentContactsResponse'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/friends/recent/{player_id}:
    post:
      tags:
        - Friends
      summary: Добавить игрока в последние контакты
      operationId: addToRecentContacts
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Игрок добавлен в контакты
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: added
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/chat/channels:
    get:
      tags:
        - Chat
      summary: Получить список каналов
      operationId: getChannels
      parameters:
        - name: type
          in: query
          schema:
            $ref: '#/components/schemas/ChannelType'
      responses:
        '200':
          description: Список каналов
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChannelListResponse'

  /social/chat/channels/{channel_id}:
    get:
      tags:
        - Chat
      summary: Получить канал
      operationId: getChannel
      security:
        - BearerAuth: []
      parameters:
        - name: channel_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Канал
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChatChannel'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/chat/messages:
    post:
      tags:
        - Chat
      summary: Создать сообщение
      operationId: createMessage
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateMessageRequest'
      responses:
        '201':
          description: Сообщение создано
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChatMessage'
        '400':
          $ref: '#/components/responses/BadRequest'

  /social/chat/messages/{channel_id}:
    get:
      tags:
        - Chat
      summary: Получить сообщения канала
      operationId: getMessages
      security:
        - BearerAuth: []
      parameters:
        - name: channel_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Список сообщений
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageListResponse'

  /social/chat/channels/{channel_id}/join:
    post:
      tags:
        - Chat
      summary: Присоединиться к каналу
      operationId: joinChatChannel
      security:
        - BearerAuth: []
      parameters:
        - name: channel_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/JoinChannelRequest'
      responses:
        '200':
          description: Успешное присоединение к каналу
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChatChannel'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/chat/channels/{channel_id}/leave:
    post:
      tags:
        - Chat
      summary: Покинуть канал
      operationId: leaveChatChannel
      security:
        - BearerAuth: []
      parameters:
        - name: channel_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LeaveChannelRequest'
      responses:
        '200':
          description: Успешный выход из канала
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/chat/channels/{channel_id}/members:
    get:
      tags:
        - Chat
      summary: Получить участников канала
      operationId: getChannelMembers
      security:
        - BearerAuth: []
      parameters:
        - name: channel_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Список участников канала
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChannelMembersResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/chat/messages/send:
    post:
      tags:
        - Chat
      summary: Отправить сообщение
      operationId: sendChatMessage
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SendMessageRequest'
      responses:
        '200':
          description: Сообщение отправлено
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChatMessage'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/chat/messages/process:
    post:
      tags:
        - Chat
      summary: Обработать сообщение
      operationId: processChatMessage
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProcessMessageRequest'
      responses:
        '200':
          description: Сообщение обработано
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProcessedMessageResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/chat/report:
    post:
      tags:
        - Chat
      summary: Пожаловаться на сообщение
      operationId: reportChatMessage
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportMessageRequest'
      responses:
        '200':
          description: Жалоба отправлена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReportResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/chat/ban:
    post:
      tags:
        - Chat
      summary: Выдать бан игроку
      operationId: banChatUser
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BanUserRequest'
      responses:
        '200':
          description: Бан выдан
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BanResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/chat/bans:
    get:
      tags:
        - Chat
      summary: Получить список банов
      operationId: getChatBans
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: query
          schema:
            type: string
            format: uuid
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Список банов
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BanListResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/chat/bans/{ban_id}:
    delete:
      tags:
        - Chat
      summary: Снять бан
      operationId: revokeChatBan
      security:
        - BearerAuth: []
      parameters:
        - name: ban_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RevokeBanRequest'
      responses:
        '200':
          description: Бан снят
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RevokeBanResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/chat/commands/execute:
    post:
      tags:
        - Chat
      summary: Выполнить команду чата
      operationId: executeChatCommand
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExecuteCommandRequest'
      responses:
        '200':
          description: Команда выполнена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommandResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/chat/history/{channel_type}:
    get:
      tags:
        - Chat
      summary: Получить историю канала
      operationId: getChatHistory
      security:
        - BearerAuth: []
      parameters:
        - name: channel_type
          in: path
          required: true
          schema:
            type: string
            enum:
              - GLOBAL
              - TRADE
              - NEWBIE
              - LOCAL
              - PARTY
              - RAID
              - GUILD
              - GUILD_OFFICER
              - WHISPER
              - SYSTEM
              - COMBAT_LOG
              - RP_EMOTE
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
        - name: since
          in: query
          schema:
            type: string
            format: date-time
      responses:
        '200':
          description: История канала
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChatHistoryResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/chat/history/search:
    get:
      tags:
        - Chat
      summary: Поиск по истории чата
      operationId: searchChatHistory
      security:
        - BearerAuth: []
      parameters:
        - name: query
          in: query
          required: true
          schema:
            type: string
        - name: channel_type
          in: query
          schema:
            type: string
            enum:
              - GLOBAL
              - TRADE
              - NEWBIE
              - LOCAL
              - PARTY
              - RAID
              - GUILD
              - GUILD_OFFICER
              - WHISPER
              - SYSTEM
              - COMBAT_LOG
              - RP_EMOTE
        - name: sender_id
          in: query
          schema:
            type: string
            format: uuid
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Результаты поиска
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChatSearchResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/chat/format:
    post:
      tags:
        - Chat
      summary: Форматировать сообщение
      operationId: formatChatMessage
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FormatMessageRequest'
      responses:
        '200':
          description: Отформатированное сообщение
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FormattedMessageResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/chat/events:
    get:
      tags:
        - Chat
      summary: Получить события чата
      operationId: getChatEvents
      security:
        - BearerAuth: []
      parameters:
        - name: event_type
          in: query
          schema:
            type: string
            enum:
              - chat:message-sent
              - chat:message-received
              - chat:channel-joined
              - chat:channel-left
              - chat:user-banned
        - name: channel_id
          in: query
          schema:
            type: string
            format: uuid
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: События чата
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChatEventsResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mail/send:
    post:
      tags:
        - Mail
      summary: Отправить письмо
      operationId: sendMail
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateMailRequest'
      responses:
        '201':
          description: Письмо отправлено
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MailMessage'
        '400':
          $ref: '#/components/responses/BadRequest'

  /social/mail/inbox:
    get:
      tags:
        - Mail
      summary: Получить входящие письма
      operationId: getInbox
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: query
          schema:
            type: string
            format: uuid
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Список писем
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MailListResponse'
        '400':
          $ref: '#/components/responses/BadRequest'

  /social/mail/{mail_id}:
    get:
      tags:
        - Mail
      summary: Получить письмо
      operationId: getMail
      security:
        - BearerAuth: []
      parameters:
        - name: mail_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Письмо
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MailMessage'
        '404':
          $ref: '#/components/responses/NotFound'

    delete:
      tags:
        - Mail
      summary: Удалить письмо
      operationId: deleteMail
      security:
        - BearerAuth: []
      parameters:
        - name: mail_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Письмо удалено
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
        '404':
          $ref: '#/components/responses/NotFound'

  /social/mail/{mail_id}/read:
    put:
      tags:
        - Mail
      summary: Отметить письмо как прочитанное
      operationId: markMailAsRead
      security:
        - BearerAuth: []
      parameters:
        - name: mail_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Письмо отмечено как прочитанное
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
        '404':
          $ref: '#/components/responses/NotFound'

  /social/mail/{mail_id}/attachments/claim:
    post:
      tags:
        - Mail
      summary: Получить вложения из письма
      operationId: claimAttachment
      security:
        - BearerAuth: []
      parameters:
        - name: mail_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Вложения получены
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClaimAttachmentResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/mail/unread-count:
    get:
      tags:
        - Mail
      summary: Получить количество непрочитанных писем
      operationId: getUnreadMailCount
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Количество непрочитанных писем
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnreadMailCountResponse'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mail/{mail_id}/attachments:
    get:
      tags:
        - Mail
      summary: Получить список вложений письма
      operationId: getMailAttachments
      security:
        - BearerAuth: []
      parameters:
        - name: mail_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Список вложений
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MailAttachmentsResponse'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mail/{mail_id}/cod/pay:
    post:
      tags:
        - Mail
      summary: Оплатить COD письмо
      operationId: payMailCOD
      security:
        - BearerAuth: []
      parameters:
        - name: mail_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: COD оплачен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClaimAttachmentResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mail/{mail_id}/cod/decline:
    post:
      tags:
        - Mail
      summary: Отказаться от COD письма
      operationId: declineMailCOD
      security:
        - BearerAuth: []
      parameters:
        - name: mail_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Отказ от COD выполнен
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: declined
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mail/expiring:
    get:
      tags:
        - Mail
      summary: Получить истекающие письма
      operationId: getExpiringMails
      security:
        - BearerAuth: []
      parameters:
        - name: days
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 30
            default: 3
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Истекающие письма
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MailListResponse'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mail/{mail_id}/extend:
    post:
      tags:
        - Mail
      summary: Продлить срок действия письма
      operationId: extendMailExpiration
      security:
        - BearerAuth: []
      parameters:
        - name: mail_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExtendMailRequest'
      responses:
        '200':
          description: Срок продлён
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MailMessage'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mail/system/send:
    post:
      tags:
        - Mail
      summary: Отправить системное письмо
      operationId: sendSystemMail
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SendSystemMailRequest'
      responses:
        '200':
          description: Системное письмо отправлено
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MailMessage'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mail/system/broadcast:
    post:
      tags:
        - Mail
      summary: Массовая рассылка системных писем
      operationId: broadcastSystemMail
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BroadcastSystemMailRequest'
      responses:
        '200':
          description: Рассылка выполнена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BroadcastResult'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/party:
    post:
      tags:
        - Party
      summary: Создать группу
      operationId: createParty
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePartyRequest'
      responses:
        '201':
          description: Группа создана
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Party'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/InternalServerError'

    get:
      tags:
        - Party
      summary: Получить информацию о группе
      operationId: getParty
      parameters:
        - name: character_id
          in: query
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Информация о группе
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Party'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/party/{partyId}:
    get:
      tags:
        - Party
      summary: Получить группу по ID
      operationId: getPartyById
      parameters:
        - name: partyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Информация о группе
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Party'
        '404':
          $ref: '#/components/responses/NotFound'

    delete:
      tags:
        - Party
      summary: Распустить группу
      operationId: disbandParty
      parameters:
        - name: partyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Группа распущена
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: disbanded
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/party/{partyId}/invite:
    post:
      tags:
        - Party
      summary: Пригласить игрока в группу
      operationId: inviteToParty
      parameters:
        - name: partyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InviteToPartyRequest'
      responses:
        '200':
          description: Приглашение отправлено
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Party'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/party/{partyId}/join:
    post:
      tags:
        - Party
      summary: Присоединиться к группе
      operationId: joinParty
      parameters:
        - name: partyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Присоединился к группе
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Party'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/party/{partyId}/leave:
    post:
      tags:
        - Party
      summary: Покинуть группу
      operationId: leaveParty
      parameters:
        - name: partyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Покинул группу
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: left
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/party/{partyId}/kick:
    post:
      tags:
        - Party
      summary: Исключить игрока из группы
      operationId: kickFromParty
      parameters:
        - name: partyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: character_id
          in: query
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Игрок исключен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Party'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/party/{partyId}/transfer-leadership:
    post:
      tags:
        - Party
      summary: Передать лидерство
      operationId: transferLeadership
      parameters:
        - name: partyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: character_id
          in: query
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Лидерство передано
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Party'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/party/{partyId}/loot-mode:
    post:
      tags:
        - Party
      summary: Изменить режим распределения лута
      operationId: changeLootMode
      parameters:
        - name: partyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - loot_mode
              properties:
                loot_mode:
                  type: string
                  enum:
                    - free_for_all
                    - round_robin
                    - need_before_greed
                    - master_looter
      responses:
        '200':
          description: Режим изменен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Party'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/party/player/{accountId}:
    get:
      tags:
        - Party
      summary: Получить группу игрока
      operationId: getPlayerParty
      parameters:
        - name: accountId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Группа игрока
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Party'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/party/{partyId}/leader:
    put:
      tags:
        - Party
      summary: Сменить лидера группы
      operationId: transferLeadership
      parameters:
        - name: partyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TransferLeadershipRequest'
      responses:
        '200':
          description: Лидер изменён
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Party'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/party/invitations/{invitationId}/accept:
    post:
      tags:
        - Party
      summary: Принять приглашение в группу
      operationId: acceptPartyInvitation
      parameters:
        - name: invitationId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Приглашение принято
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Party'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/party/invitations/{invitationId}/decline:
    post:
      tags:
        - Party
      summary: Отклонить приглашение в группу
      operationId: declinePartyInvitation
      parameters:
        - name: invitationId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Приглашение отклонено
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: declined
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/party/invitations/player/{accountId}:
    get:
      tags:
        - Party
      summary: Получить приглашения игрока
      operationId: getPlayerInvitations
      parameters:
        - name: accountId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Приглашения игрока
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PartyInvitationsResponse'
        '400':
          $ref: '#/components/responses/BadRequest'

  /social/party/{partyId}/members:
    post:
      tags:
        - Party
      summary: Добавить участника в группу
      operationId: addPartyMember
      parameters:
        - name: partyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddPartyMemberRequest'
      responses:
        '200':
          description: Участник добавлен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Party'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/party/{partyId}/members/{accountId}:
    delete:
      tags:
        - Party
      summary: Удалить участника из группы
      operationId: removePartyMember
      parameters:
        - name: partyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: accountId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Участник удалён
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Party'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

    put:
      tags:
        - Party
      summary: Изменить роль участника
      operationId: changePartyMemberRole
      parameters:
        - name: partyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: accountId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChangeMemberRoleRequest'
      responses:
        '200':
          description: Роль изменена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Party'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/party/{partyId}/loot-mode:
    get:
      tags:
        - Party
      summary: Получить текущий режим распределения лута
      operationId: getLootMode
      parameters:
        - name: partyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Режим распределения лута
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LootModeResponse'
        '404':
          $ref: '#/components/responses/NotFound'

    put:
      tags:
        - Party
      summary: Изменить режим распределения лута
      operationId: changeLootMode
      parameters:
        - name: partyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChangeLootModeRequest'
      responses:
        '200':
          description: Режим изменен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Party'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/party/{partyId}/loot/distribute:
    post:
      tags:
        - Party
      summary: Распределить лут между участниками группы
      operationId: distributeLoot
      parameters:
        - name: partyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DistributeLootRequest'
      responses:
        '200':
          description: Лут распределён
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LootDistributionResult'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/party/{partyId}/loot/roll:
    post:
      tags:
        - Party
      summary: Бросок кубика для лута
      operationId: rollForLoot
      parameters:
        - name: partyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RollForLootRequest'
      responses:
        '200':
          description: Результат броска
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RollResult'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/party/{partyId}/quests:
    get:
      tags:
        - Party
      summary: Получить задания группы
      operationId: getPartyQuests
      parameters:
        - name: partyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Задания группы
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PartyQuestsResponse'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/party/{partyId}/quests/{questId}/sync:
    post:
      tags:
        - Party
      summary: Синхронизировать прогресс задания группы
      operationId: syncPartyQuest
      parameters:
        - name: partyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: questId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Прогресс синхронизирован
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestSyncResult'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

  /social/guilds:
    post:
      tags:
        - Guild
      summary: Создать гильдию
      operationId: createGuild
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateGuildRequest'
      responses:
        '200':
          description: Гильдия создана
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Guild'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/InternalServerError'

    get:
      tags:
        - Guild
      summary: Поиск гильдий
      operationId: searchGuilds
      security:
        - BearerAuth: []
      parameters:
        - name: query
          in: query
          schema:
            type: string
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Список гильдий
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuildListResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}:
    get:
      tags:
        - Guild
      summary: Получить информацию о гильдии
      operationId: getGuild
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Информация о гильдии
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Guild'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

    put:
      tags:
        - Guild
      summary: Обновить информацию о гильдии
      operationId: updateGuild
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateGuildRequest'
      responses:
        '200':
          description: Гильдия обновлена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Guild'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

    delete:
      tags:
        - Guild
      summary: Распустить гильдию
      operationId: disbandGuild
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Гильдия распущена
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: disbanded
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/invite:
    post:
      tags:
        - Guild
      summary: Пригласить игрока в гильдию
      operationId: inviteToGuild
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InviteToGuildRequest'
      responses:
        '200':
          description: Приглашение отправлено
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuildInvitation'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/members:
    get:
      tags:
        - Guild
      summary: Получить список участников гильдии
      operationId: getGuildMembers
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: rank
          in: query
          schema:
            type: string
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Список участников
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuildMembersResponse'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

    post:
      tags:
        - Guild
      summary: Добавить участника в гильдию
      operationId: addGuildMember
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddGuildMemberRequest'
      responses:
        '200':
          description: Участник добавлен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuildMember'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/members/{member_id}:
    delete:
      tags:
        - Guild
      summary: Исключить участника из гильдии
      operationId: removeGuildMember
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: member_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Участник исключён
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: removed
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/members/{member_id}/rank:
    put:
      tags:
        - Guild
      summary: Назначить ранг участнику
      operationId: setGuildMemberRank
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: member_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SetGuildMemberRankRequest'
      responses:
        '200':
          description: Ранг назначен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuildMember'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/leader:
    put:
      tags:
        - Guild
      summary: Сменить лидера гильдии
      operationId: transferGuildLeadership
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TransferGuildLeadershipRequest'
      responses:
        '200':
          description: Лидер изменён
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Guild'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/leave:
    post:
      tags:
        - Guild
      summary: Выйти из гильдии
      operationId: leaveGuild
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Выход выполнен
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: left
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/ranks:
    get:
      tags:
        - Guild
      summary: Получить список рангов гильдии
      operationId: getGuildRanks
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Список рангов
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuildRanksResponse'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

    post:
      tags:
        - Guild
      summary: Создать ранг в гильдии
      operationId: createGuildRank
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateGuildRankRequest'
      responses:
        '200':
          description: Ранг создан
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuildRank'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/ranks/{rank_id}:
    put:
      tags:
        - Guild
      summary: Обновить ранг гильдии
      operationId: updateGuildRank
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: rank_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateGuildRankRequest'
      responses:
        '200':
          description: Ранг обновлён
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuildRank'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

    delete:
      tags:
        - Guild
      summary: Удалить ранг гильдии
      operationId: deleteGuildRank
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: rank_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Ранг удалён
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: deleted
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/bank:
    get:
      tags:
        - Guild
      summary: Получить состояние банка гильдии
      operationId: getGuildBank
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Состояние банка
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuildBank'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/bank/deposit:
    post:
      tags:
        - Guild
      summary: Внести депозит в банк гильдии
      operationId: depositToGuildBank
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GuildBankDepositRequest'
      responses:
        '200':
          description: Депозит внесён
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuildBankTransaction'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/bank/withdraw:
    post:
      tags:
        - Guild
      summary: Снять средства из банка гильдии
      operationId: withdrawFromGuildBank
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GuildBankWithdrawRequest'
      responses:
        '200':
          description: Средства сняты
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuildBankTransaction'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/bank/transactions:
    get:
      tags:
        - Guild
      summary: Получить историю транзакций банка гильдии
      operationId: getGuildBankTransactions
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: История транзакций
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuildBankTransactionsResponse'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/wars:
    get:
      tags:
        - Guild
      summary: Получить список войн гильдии
      operationId: getGuildWars
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: status
          in: query
          schema:
            type: string
            enum:
              - declared
              - active
              - ended
              - cancelled
      responses:
        '200':
          description: Список войн
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuildWarsResponse'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/wars/declare:
    post:
      tags:
        - Guild
      summary: Объявить войну другой гильдии
      operationId: declareGuildWar
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeclareGuildWarRequest'
      responses:
        '200':
          description: Война объявлена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuildWar'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/wars/{war_id}:
    get:
      tags:
        - Guild
      summary: Получить информацию о войне
      operationId: getGuildWar
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: war_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Информация о войне
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuildWar'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/wars/{war_id}/end:
    post:
      tags:
        - Guild
      summary: Завершить войну
      operationId: endGuildWar
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: war_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EndGuildWarRequest'
      responses:
        '200':
          description: Война завершена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuildWar'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/territories:
    get:
      tags:
        - Guild
      summary: Получить территории гильдии
      operationId: getGuildTerritories
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Территории гильдии
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuildTerritoriesResponse'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/territories/{territory_id}/capture:
    post:
      tags:
        - Guild
      summary: Захватить территорию
      operationId: captureTerritory
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: territory_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Территория захвачена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Territory'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/territories/{territory_id}/resources:
    get:
      tags:
        - Guild
      summary: Получить ресурсы территории
      operationId: getTerritoryResources
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: territory_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Ресурсы территории
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TerritoryResources'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/progression:
    get:
      tags:
        - Guild
      summary: Получить прогрессию гильдии
      operationId: getGuildProgression
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Прогрессия гильдии
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuildProgression'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/guilds/{guild_id}/perks:
    get:
      tags:
        - Guild
      summary: Получить перки гильдии
      operationId: getGuildPerks
      security:
        - BearerAuth: []
      parameters:
        - name: guild_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Перки гильдии
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuildPerksResponse'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/npc-hiring/candidates:
    get:
      tags:
        - NPC Hiring
      summary: Поиск кандидатов для найма
      operationId: searchNPCCandidates
      security:
        - BearerAuth: []
      parameters:
        - name: hiring_type
          in: query
          schema:
            type: string
            enum: [merchant, quest_giver, fixer, bodyguard, mercenary, diplomat, engineer, hacker]
        - name: min_reputation
          in: query
          schema:
            type: string
            enum: [low, medium, high]
        - name: skills
          in: query
          schema:
            type: array
            items:
              type: string
        - name: max_salary
          in: query
          schema:
            type: number
            format: decimal
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Список кандидатов
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NPCCandidatesResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/npc-hiring/candidates/{npc_id}:
    get:
      tags:
        - NPC Hiring
      summary: Получить информацию о кандидате
      operationId: getNPCCandidate
      security:
        - BearerAuth: []
      parameters:
        - name: npc_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Информация о кандидате
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NPCCandidate'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/npc-hiring/negotiate:
    post:
      tags:
        - NPC Hiring
      summary: Начать переговоры с NPC
      operationId: startNegotiation
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StartNegotiationRequest'
      responses:
        '200':
          description: Переговоры начаты
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NegotiationResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/npc-hiring/contract/create:
    post:
      tags:
        - NPC Hiring
      summary: Создать контракт найма
      operationId: createHiringContract
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateContractRequest'
      responses:
        '201':
          description: Контракт создан
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HiringContract'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/npc-hiring/contracts:
    get:
      tags:
        - NPC Hiring
      summary: Получить список контрактов
      operationId: getHiringContracts
      security:
        - BearerAuth: []
      parameters:
        - name: status
          in: query
          schema:
            type: string
            enum: [active, terminated, completed]
        - name: hiring_type
          in: query
          schema:
            type: string
            enum: [merchant, quest_giver, fixer, bodyguard, mercenary, diplomat, engineer, hacker]
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Список контрактов
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HiringContractsResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/npc-hiring/contracts/{contract_id}:
    get:
      tags:
        - NPC Hiring
      summary: Получить информацию о контракте
      operationId: getHiringContract
      security:
        - BearerAuth: []
      parameters:
        - name: contract_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Информация о контракте
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HiringContract'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

    post:
      tags:
        - NPC Hiring
      summary: Расторгнуть контракт
      operationId: terminateContract
      security:
        - BearerAuth: []
      parameters:
        - name: contract_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TerminateContractRequest'
      responses:
        '200':
          description: Контракт расторгнут
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HiringContract'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/npc-hiring/workforce:
    get:
      tags:
        - NPC Hiring
      summary: Получить список нанятых NPC
      operationId: getWorkforce
      security:
        - BearerAuth: []
      parameters:
        - name: hiring_type
          in: query
          schema:
            type: string
            enum: [merchant, quest_giver, fixer, bodyguard, mercenary, diplomat, engineer, hacker]
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Список нанятых NPC
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WorkforceResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/npc-hiring/workforce/{npc_id}/assign-task:
    post:
      tags:
        - NPC Hiring
      summary: Назначить задачу NPC
      operationId: assignTask
      security:
        - BearerAuth: []
      parameters:
        - name: npc_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AssignTaskRequest'
      responses:
        '201':
          description: Задача назначена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NPCTask'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/npc-hiring/workforce/{npc_id}/tasks:
    get:
      tags:
        - NPC Hiring
      summary: Получить список задач NPC
      operationId: getNPCTasks
      security:
        - BearerAuth: []
      parameters:
        - name: npc_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: status
          in: query
          schema:
            type: string
            enum: [pending, in-progress, completed, failed]
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Список задач
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NPCTasksResponse'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/npc-hiring/workforce/{npc_id}/tasks/{task_id}:
    post:
      tags:
        - NPC Hiring
      summary: Обновить задачу NPC
      operationId: updateTask
      security:
        - BearerAuth: []
      parameters:
        - name: npc_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: task_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTaskRequest'
      responses:
        '200':
          description: Задача обновлена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NPCTask'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/npc-hiring/workforce/{npc_id}/performance:
    get:
      tags:
        - NPC Hiring
      summary: Получить эффективность NPC
      operationId: getNPCPerformance
      security:
        - BearerAuth: []
      parameters:
        - name: npc_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Эффективность NPC
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NPCPerformance'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/npc-hiring/workforce/{npc_id}/status:
    get:
      tags:
        - NPC Hiring
      summary: Получить статус NPC
      operationId: getNPCStatus
      security:
        - BearerAuth: []
      parameters:
        - name: npc_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Статус NPC
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NPCStatus'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/npc-hiring/workforce/{npc_id}/interact:
    post:
      tags:
        - NPC Hiring
      summary: Взаимодействие с NPC
      operationId: interactWithNPC
      security:
        - BearerAuth: []
      parameters:
        - name: npc_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InteractWithNPCRequest'
      responses:
        '200':
          description: Взаимодействие выполнено
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InteractionResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/npc-hiring/economy/payroll:
    get:
      tags:
        - NPC Hiring
      summary: Рассчитать зарплаты
      operationId: calculatePayroll
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Расчет зарплат
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PayrollCalculationResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/npc-hiring/economy/pay:
    post:
      tags:
        - NPC Hiring
      summary: Выплатить зарплату
      operationId: paySalary
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PaySalaryRequest'
      responses:
        '200':
          description: Зарплата выплачена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/npc-hiring/economy/reports:
    get:
      tags:
        - NPC Hiring
      summary: Получить отчеты по экономике найма
      operationId: getEconomyReports
      security:
        - BearerAuth: []
      parameters:
        - name: period
          in: query
          schema:
            type: string
            enum: [daily, weekly, monthly]
            default: monthly
        - name: start_date
          in: query
          schema:
            type: string
            format: date
        - name: end_date
          in: query
          schema:
            type: string
            format: date
      responses:
        '200':
          description: Отчеты по экономике
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EconomyReportsResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/npc-hiring/limits:
    get:
      tags:
        - NPC Hiring
      summary: Проверить лимиты найма
      operationId: getHiringLimits
      security:
        - BearerAuth: []
      parameters:
        - name: hiring_type
          in: query
          schema:
            type: string
            enum: [merchant, quest_giver, fixer, bodyguard, mercenary, diplomat, engineer, hacker]
      responses:
        '200':
          description: Лимиты найма
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HiringLimitsResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/npc-hiring/chain/create:
    post:
      tags:
        - NPC Hiring
      summary: Создать цепочку найма
      operationId: createHiringChain
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateHiringChainRequest'
      responses:
        '201':
          description: Цепочка найма создана
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HiringChain'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/npc-hiring/group/create:
    post:
      tags:
        - NPC Hiring
      summary: Создать групповой контракт
      operationId: createGroupContract
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateGroupContractRequest'
      responses:
        '201':
          description: Групповой контракт создан
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupContract'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/npc-hiring/automation/configure:
    post:
      tags:
        - NPC Hiring
      summary: Настроить автоматизацию найма
      operationId: configureAutomation
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConfigureAutomationRequest'
      responses:
        '200':
          description: Автоматизация настроена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AutomationConfiguration'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/reputation/{player_id}:
    get:
      tags:
        - Reputation
      summary: Получить репутацию персонажа
      operationId: getReputation
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Репутация персонажа
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlayerReputation'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/reputation/{player_id}/faction/{faction_id}:
    get:
      tags:
        - Reputation
      summary: Получить репутацию с фракцией
      operationId: getFactionReputation
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: faction_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Репутация с фракцией
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FactionReputation'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/reputation/{player_id}/change:
    post:
      tags:
        - Reputation
      summary: Изменить репутацию
      operationId: changeReputation
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChangeReputationRequest'
      responses:
        '200':
          description: Репутация изменена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReputationChangeResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/reputation/{player_id}/tier:
    get:
      tags:
        - Reputation
      summary: Получить уровень репутации
      operationId: getReputationTier
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: faction_id
          in: query
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Уровень репутации
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReputationTier'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/reputation/{player_id}/heat:
    get:
      tags:
        - Reputation
      summary: Получить Heat
      operationId: getHeat
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: faction_id
          in: query
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Heat персонажа
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HeatStatus'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/reputation/{player_id}/heat/reduce:
    post:
      tags:
        - Reputation
      summary: Снизить Heat
      operationId: reduceHeat
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReduceHeatRequest'
      responses:
        '200':
          description: Heat снижен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HeatStatus'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/reputation/{player_id}/access:
    get:
      tags:
        - Reputation
      summary: Проверить доступ на основе репутации
      operationId: checkReputationAccess
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: faction_id
          in: query
          required: true
          schema:
            type: string
            format: uuid
        - name: access_type
          in: query
          required: true
          schema:
            type: string
            enum: [territory, trade, quest, npc_recruitment, vip_services]
      responses:
        '200':
          description: Статус доступа
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccessStatus'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/reputation/{player_id}/discounts:
    get:
      tags:
        - Reputation
      summary: Получить скидки на основе репутации
      operationId: getReputationDiscounts
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: faction_id
          in: query
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Скидки на основе репутации
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReputationDiscounts'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/reputation/{player_id}/recovery/start:
    post:
      tags:
        - Reputation
      summary: Начать восстановление репутации
      operationId: startReputationRecovery
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StartRecoveryRequest'
      responses:
        '200':
          description: Восстановление начато
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecoveryStatus'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/reputation/{player_id}/recovery/status:
    get:
      tags:
        - Reputation
      summary: Получить статус восстановления репутации
      operationId: getRecoveryStatus
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: faction_id
          in: query
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Статус восстановления
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecoveryStatus'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/reputation/{player_id}/faction-relations:
    get:
      tags:
        - Reputation
      summary: Получить отношения с фракциями
      operationId: getFactionRelations
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Отношения с фракциями
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FactionRelationsResponse'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/reputation/{player_id}/effects:
    get:
      tags:
        - Reputation
      summary: Получить эффекты репутации
      operationId: getReputationEffects
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: faction_id
          in: query
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Эффекты репутации
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReputationEffects'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/reputation/{player_id}/history:
    get:
      tags:
        - Reputation
      summary: Получить историю изменений репутации
      operationId: getReputationHistory
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: faction_id
          in: query
          schema:
            type: string
            format: uuid
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: История изменений репутации
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReputationHistoryResponse'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/relationships/{player_id}:
    get:
      tags:
        - Relationships
      summary: Получить отношения персонажа
      operationId: getRelationships
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: relationship_type
          in: query
          schema:
            type: string
            enum: [friends, close_allies, pact, neutral, enemies, nemesis]
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Отношения персонажа
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RelationshipsResponse'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/relationships/{player_id}/set:
    post:
      tags:
        - Relationships
      summary: Установить отношение
      operationId: setRelationship
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SetRelationshipRequest'
      responses:
        '200':
          description: Отношение установлено
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Relationship'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/relationships/{player_id1}/{player_id2}:
    get:
      tags:
        - Relationships
      summary: Получить отношение между персонажами
      operationId: getRelationshipBetween
      security:
        - BearerAuth: []
      parameters:
        - name: player_id1
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: player_id2
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Отношение между персонажами
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Relationship'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/relationships/{player_id}/trust:
    get:
      tags:
        - Relationships
      summary: Получить уровень доверия
      operationId: getTrustLevel
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: target_player_id
          in: query
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Уровень доверия
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TrustLevel'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/relationships/{player_id}/trust/update:
    post:
      tags:
        - Relationships
      summary: Обновить доверие
      operationId: updateTrust
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTrustRequest'
      responses:
        '200':
          description: Доверие обновлено
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TrustLevel'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/relationships/trust-contracts/create:
    post:
      tags:
        - Relationships
      summary: Создать договор доверия
      operationId: createTrustContract
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTrustContractRequest'
      responses:
        '201':
          description: Договор доверия создан
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TrustContract'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/relationships/trust-contracts/{contract_id}:
    get:
      tags:
        - Relationships
      summary: Получить информацию о договоре доверия
      operationId: getTrustContract
      security:
        - BearerAuth: []
      parameters:
        - name: contract_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Информация о договоре доверия
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TrustContract'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

    post:
      tags:
        - Relationships
      summary: Расторгнуть договор доверия
      operationId: terminateTrustContract
      security:
        - BearerAuth: []
      parameters:
        - name: contract_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TerminateTrustContractRequest'
      responses:
        '200':
          description: Договор расторгнут
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TrustContract'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/relationships/alliances/create:
    post:
      tags:
        - Relationships
      summary: Создать союз
      operationId: createAlliance
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateAllianceRequest'
      responses:
        '201':
          description: Союз создан
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Alliance'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/relationships/alliances:
    get:
      tags:
        - Relationships
      summary: Получить список союзов
      operationId: getAlliances
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: query
          schema:
            type: string
            format: uuid
        - name: alliance_type
          in: query
          schema:
            type: string
            enum: [combat, trade, clan, faction]
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Список союзов
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AlliancesResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/relationships/alliances/{alliance_id}:
    get:
      tags:
        - Relationships
      summary: Получить информацию о союзе
      operationId: getAlliance
      security:
        - BearerAuth: []
      parameters:
        - name: alliance_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Информация о союзе
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Alliance'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

    post:
      tags:
        - Relationships
      summary: Расторгнуть союз
      operationId: terminateAlliance
      security:
        - BearerAuth: []
      parameters:
        - name: alliance_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TerminateAllianceRequest'
      responses:
        '200':
          description: Союз расторгнут
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Alliance'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/relationships/alliances/{alliance_id}/invite:
    post:
      tags:
        - Relationships
      summary: Пригласить в союз
      operationId: inviteToAlliance
      security:
        - BearerAuth: []
      parameters:
        - name: alliance_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InviteToAllianceRequest'
      responses:
        '200':
          description: Приглашение отправлено
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AllianceInvite'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/relationships/alliances/{alliance_id}/join:
    post:
      tags:
        - Relationships
      summary: Присоединиться к союзу
      operationId: joinAlliance
      security:
        - BearerAuth: []
      parameters:
        - name: alliance_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/JoinAllianceRequest'
      responses:
        '200':
          description: Присоединение к союзу
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Alliance'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/relationships/alliances/{alliance_id}/leave:
    post:
      tags:
        - Relationships
      summary: Выйти из союза
      operationId: leaveAlliance
      security:
        - BearerAuth: []
      parameters:
        - name: alliance_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LeaveAllianceRequest'
      responses:
        '200':
          description: Выход из союза выполнен
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/relationships/ratings/{player_id}:
    get:
      tags:
        - Relationships
      summary: Получить рейтинги персонажа
      operationId: getRatings
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: rating_type
          in: query
          schema:
            type: string
            enum: [combat, trade, social, overall]
      responses:
        '200':
          description: Рейтинги персонажа
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlayerRatings'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/relationships/ratings/{player_id}/update:
    post:
      tags:
        - Relationships
      summary: Обновить рейтинг персонажа
      operationId: updateRating
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateRatingRequest'
      responses:
        '200':
          description: Рейтинг обновлен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlayerRatings'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/relationships/social-capital/{player_id}:
    get:
      tags:
        - Relationships
      summary: Получить социальный капитал персонажа
      operationId: getSocialCapital
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Социальный капитал персонажа
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SocialCapital'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/relationships/history/{player_id}:
    get:
      tags:
        - Relationships
      summary: Получить историю взаимодействий
      operationId: getInteractionHistory
      security:
        - BearerAuth: []
      parameters:
        - name: player_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: target_player_id
          in: query
          schema:
            type: string
            format: uuid
        - name: interaction_type
          in: query
          schema:
            type: string
            enum: [quest, trade, combat, social, other]
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: История взаимодействий
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InteractionHistoryResponse'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/relationships/arbitration/request:
    post:
      tags:
        - Relationships
      summary: Запросить арбитраж
      operationId: requestArbitration
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestArbitrationRequest'
      responses:
        '201':
          description: Запрос арбитража создан
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ArbitrationCase'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/relationships/arbitration/{case_id}:
    get:
      tags:
        - Relationships
      summary: Получить информацию об арбитраже
      operationId: getArbitrationCase
      security:
        - BearerAuth: []
      parameters:
        - name: case_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Информация об арбитраже
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ArbitrationCase'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/create:
    post:
      tags:
        - Player Orders
      summary: Создать заказ
      operationId: createPlayerOrder
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePlayerOrderRequest'
      responses:
        '201':
          description: Заказ создан
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlayerOrder'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders:
    get:
      tags:
        - Player Orders
      summary: Получить список заказов
      operationId: getPlayerOrders
      security:
        - BearerAuth: []
      parameters:
        - name: order_type
          in: query
          schema:
            type: string
            enum: [combat, hacking, trade, political, research, social]
        - name: status
          in: query
          schema:
            type: string
            enum: [open, accepted, in_progress, completed, cancelled]
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Список заказов
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlayerOrdersResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/{orderId}:
    get:
      tags:
        - Player Orders
      summary: Получить информацию о заказе
      operationId: getPlayerOrder
      security:
        - BearerAuth: []
      parameters:
        - name: orderId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Информация о заказе
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlayerOrder'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/{orderId}/accept:
    post:
      tags:
        - Player Orders
      summary: Принять заказ
      operationId: acceptPlayerOrder
      security:
        - BearerAuth: []
      parameters:
        - name: orderId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Заказ принят
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlayerOrder'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/{orderId}/complete:
    post:
      tags:
        - Player Orders
      summary: Завершить заказ
      operationId: completePlayerOrder
      security:
        - BearerAuth: []
      parameters:
        - name: orderId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompletePlayerOrderRequest'
      responses:
        '200':
          description: Заказ завершен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlayerOrder'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/{orderId}/start:
    post:
      tags:
        - Player Orders
      summary: Начать выполнение заказа
      operationId: startPlayerOrder
      security:
        - BearerAuth: []
      parameters:
        - name: orderId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Заказ начат
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlayerOrder'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/{orderId}/cancel:
    post:
      tags:
        - Player Orders
      summary: Отменить заказ
      operationId: cancelPlayerOrder
      security:
        - BearerAuth: []
      parameters:
        - name: orderId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Заказ отменен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlayerOrder'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/{orderId}/review:
    post:
      tags:
        - Player Orders
      summary: Оставить отзыв о заказе
      operationId: reviewPlayerOrder
      security:
        - BearerAuth: []
      parameters:
        - name: orderId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReviewPlayerOrderRequest'
      responses:
        '200':
          description: Отзыв создан
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlayerOrderReview'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/multi-executor/create:
    post:
      tags:
        - Player Orders
      summary: Создать мульти-исполнительный заказ
      operationId: createMultiExecutorOrder
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateMultiExecutorOrderRequest'
      responses:
        '201':
          description: Мульти-исполнительный заказ создан
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlayerOrder'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/{orderId}/executors/invite:
    post:
      tags:
        - Player Orders
      summary: Пригласить исполнителя в заказ
      operationId: inviteExecutor
      security:
        - BearerAuth: []
      parameters:
        - name: orderId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InviteExecutorRequest'
      responses:
        '200':
          description: Исполнитель приглашен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlayerOrder'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/{orderId}/executors/join:
    post:
      tags:
        - Player Orders
      summary: Присоединиться к заказу как исполнитель
      operationId: joinOrderAsExecutor
      security:
        - BearerAuth: []
      parameters:
        - name: orderId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Присоединение к заказу
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlayerOrder'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/auctions:
    get:
      tags:
        - Player Orders
      summary: Получить список аукционов
      operationId: getOrderAuctions
      security:
        - BearerAuth: []
      parameters:
        - name: status
          in: query
          schema:
            type: string
            enum: [open, closed, cancelled]
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Список аукционов
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderAuctionsResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/auctions/create:
    post:
      tags:
        - Player Orders
      summary: Создать аукцион заказа
      operationId: createOrderAuction
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOrderAuctionRequest'
      responses:
        '201':
          description: Аукцион создан
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderAuction'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/auctions/{auctionId}/bid:
    post:
      tags:
        - Player Orders
      summary: Сделать ставку на аукционе
      operationId: bidOnAuction
      security:
        - BearerAuth: []
      parameters:
        - name: auctionId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BidOnAuctionRequest'
      responses:
        '200':
          description: Ставка сделана
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderAuction'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/auctions/{auctionId}:
    get:
      tags:
        - Player Orders
      summary: Получить информацию об аукционе
      operationId: getOrderAuction
      security:
        - BearerAuth: []
      parameters:
        - name: auctionId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Информация об аукционе
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderAuction'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/{orderId}/options/buy:
    post:
      tags:
        - Player Orders
      summary: Купить опцион на заказ
      operationId: buyOrderOption
      security:
        - BearerAuth: []
      parameters:
        - name: orderId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BuyOrderOptionRequest'
      responses:
        '200':
          description: Опцион куплен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderOption'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/{orderId}/options/exercise:
    post:
      tags:
        - Player Orders
      summary: Использовать опцион
      operationId: exerciseOrderOption
      security:
        - BearerAuth: []
      parameters:
        - name: orderId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Опцион использован
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderOption'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/{orderId}/arbitration/request:
    post:
      tags:
        - Player Orders
      summary: Запросить арбитраж по заказу
      operationId: requestArbitration
      security:
        - BearerAuth: []
      parameters:
        - name: orderId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestArbitrationRequest'
      responses:
        '201':
          description: Арбитраж запрошен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ArbitrationCase'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/arbitration/{caseId}:
    get:
      tags:
        - Player Orders
      summary: Получить информацию об арбитраже
      operationId: getArbitrationCase
      security:
        - BearerAuth: []
      parameters:
        - name: caseId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Информация об арбитраже
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ArbitrationCase'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/{orderId}/insurance/buy:
    post:
      tags:
        - Player Orders
      summary: Купить страховку для заказа
      operationId: buyOrderInsurance
      security:
        - BearerAuth: []
      parameters:
        - name: orderId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BuyOrderInsuranceRequest'
      responses:
        '200':
          description: Страховка куплена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderInsurance'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/{orderId}/insurance:
    get:
      tags:
        - Player Orders
      summary: Получить информацию о страховке заказа
      operationId: getOrderInsurance
      security:
        - BearerAuth: []
      parameters:
        - name: orderId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Информация о страховке
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderInsurance'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/ratings/{characterId}:
    get:
      tags:
        - Player Orders
      summary: Получить рейтинги персонажа по заказам
      operationId: getOrderRatings
      security:
        - BearerAuth: []
      parameters:
        - name: characterId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Рейтинги персонажа
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderRatingsResponse'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/reputation/{characterId}:
    get:
      tags:
        - Player Orders
      summary: Получить репутацию персонажа по заказам
      operationId: getOrderReputation
      security:
        - BearerAuth: []
      parameters:
        - name: characterId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Репутация персонажа
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderReputation'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/orders/economy/pricing:
    get:
      tags:
        - Player Orders
      summary: Рассчитать стоимость заказа
      operationId: calculateOrderPricing
      security:
        - BearerAuth: []
      parameters:
        - name: order_type
          in: query
          required: true
          schema:
            type: string
            enum: [combat, hacking, trade, political, research, social]
        - name: complexity
          in: query
          schema:
            type: string
            enum: [simple, medium, complex, extreme]
        - name: duration
          in: query
          schema:
            type: integer
      responses:
        '200':
          description: Расчет стоимости
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderPricingResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/mentors:
    get:
      tags:
        - Mentorship
      summary: Поиск наставников
      operationId: searchMentors
      security:
        - BearerAuth: []
      parameters:
        - name: skill
          in: query
          schema:
            type: string
        - name: min_reputation
          in: query
          schema:
            type: integer
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Список наставников
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorsResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/contracts:
    get:
      tags:
        - Mentorship
      summary: Получить список договоров наставничества
      operationId: getMentorshipContracts
      security:
        - BearerAuth: []
      parameters:
        - name: character_id
          in: query
          required: true
          schema:
            type: string
            format: uuid
        - name: status
          in: query
          schema:
            type: string
            enum: [active, completed, terminated]
      responses:
        '200':
          description: Список договоров
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipContractsResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/contracts/create:
    post:
      tags:
        - Mentorship
      summary: Создать договор наставничества
      operationId: createMentorshipContract
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateMentorshipContractRequest'
      responses:
        '201':
          description: Договор создан
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipContract'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/mentees:
    get:
      tags:
        - Mentorship
      summary: Поиск учеников
      operationId: searchMentees
      security:
        - BearerAuth: []
      parameters:
        - name: skill
          in: query
          schema:
            type: string
        - name: max_level
          in: query
          schema:
            type: integer
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Список учеников
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MenteesResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/mentors/{mentorId}:
    get:
      tags:
        - Mentorship
      summary: Получить информацию о наставнике
      operationId: getMentor
      security:
        - BearerAuth: []
      parameters:
        - name: mentorId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Информация о наставнике
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Mentor'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/proposal/create:
    post:
      tags:
        - Mentorship
      summary: Создать предложение наставничества
      operationId: createMentorshipProposal
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateMentorshipProposalRequest'
      responses:
        '201':
          description: Предложение создано
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipProposal'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/proposal/{proposalId}/accept:
    post:
      tags:
        - Mentorship
      summary: Принять предложение наставничества
      operationId: acceptMentorshipProposal
      security:
        - BearerAuth: []
      parameters:
        - name: proposalId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Предложение принято
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipProposal'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/proposal/{proposalId}/reject:
    post:
      tags:
        - Mentorship
      summary: Отклонить предложение наставничества
      operationId: rejectMentorshipProposal
      security:
        - BearerAuth: []
      parameters:
        - name: proposalId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Предложение отклонено
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipProposal'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/contracts/{contractId}:
    get:
      tags:
        - Mentorship
      summary: Получить информацию о договоре
      operationId: getMentorshipContract
      security:
        - BearerAuth: []
      parameters:
        - name: contractId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Информация о договоре
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipContract'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/contracts/{contractId}/terminate:
    post:
      tags:
        - Mentorship
      summary: Расторгнуть договор наставничества
      operationId: terminateMentorshipContract
      security:
        - BearerAuth: []
      parameters:
        - name: contractId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: false
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TerminateContractRequest'
      responses:
        '200':
          description: Договор расторгнут
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipContract'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/schedule/create:
    post:
      tags:
        - Mentorship
      summary: Создать расписание уроков
      operationId: createMentorshipSchedule
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateMentorshipScheduleRequest'
      responses:
        '201':
          description: Расписание создано
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipSchedule'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/schedule/{contractId}:
    get:
      tags:
        - Mentorship
      summary: Получить расписание договора
      operationId: getMentorshipSchedule
      security:
        - BearerAuth: []
      parameters:
        - name: contractId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Расписание договора
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipSchedule'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/schedule/{scheduleId}/update:
    post:
      tags:
        - Mentorship
      summary: Обновить расписание
      operationId: updateMentorshipSchedule
      security:
        - BearerAuth: []
      parameters:
        - name: scheduleId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateMentorshipScheduleRequest'
      responses:
        '200':
          description: Расписание обновлено
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipSchedule'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/lesson/create:
    post:
      tags:
        - Mentorship
      summary: Создать урок
      operationId: createMentorshipLesson
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateMentorshipLessonRequest'
      responses:
        '201':
          description: Урок создан
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipLesson'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/lessons/{contractId}:
    get:
      tags:
        - Mentorship
      summary: Получить список уроков договора
      operationId: getMentorshipLessons
      security:
        - BearerAuth: []
      parameters:
        - name: contractId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Список уроков
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipLessonsResponse'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/lessons/{lessonId}:
    get:
      tags:
        - Mentorship
      summary: Получить информацию об уроке
      operationId: getMentorshipLesson
      security:
        - BearerAuth: []
      parameters:
        - name: lessonId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Информация об уроке
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipLesson'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/lessons/{lessonId}/start:
    post:
      tags:
        - Mentorship
      summary: Начать урок
      operationId: startMentorshipLesson
      security:
        - BearerAuth: []
      parameters:
        - name: lessonId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Урок начат
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipLesson'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/lessons/{lessonId}/complete:
    post:
      tags:
        - Mentorship
      summary: Завершить урок
      operationId: completeMentorshipLesson
      security:
        - BearerAuth: []
      parameters:
        - name: lessonId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Урок завершен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipLesson'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/lessons/{lessonId}/evaluate:
    post:
      tags:
        - Mentorship
      summary: Оценить урок
      operationId: evaluateMentorshipLesson
      security:
        - BearerAuth: []
      parameters:
        - name: lessonId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EvaluateLessonRequest'
      responses:
        '200':
          description: Урок оценен
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipLesson'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/skills/progress/{contractId}:
    get:
      tags:
        - Mentorship
      summary: Получить прогресс навыков по договору
      operationId: getSkillProgress
      security:
        - BearerAuth: []
      parameters:
        - name: contractId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Прогресс навыков
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SkillProgressResponse'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/reputation/{mentorId}:
    get:
      tags:
        - Mentorship
      summary: Получить репутацию наставника
      operationId: getMentorReputation
      security:
        - BearerAuth: []
      parameters:
        - name: mentorId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Репутация наставника
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorReputation'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/reputation/{mentorId}/review:
    post:
      tags:
        - Mentorship
      summary: Оставить отзыв о наставнике
      operationId: reviewMentor
      security:
        - BearerAuth: []
      parameters:
        - name: mentorId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReviewMentorRequest'
      responses:
        '201':
          description: Отзыв создан
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorReview'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/academies:
    get:
      tags:
        - Mentorship
      summary: Получить список академий
      operationId: getAcademies
      security:
        - BearerAuth: []
      parameters:
        - name: type
          in: query
          schema:
            type: string
            enum: [corporate, gang, independent]
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Список академий
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcademiesResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/academies/{academyId}:
    get:
      tags:
        - Mentorship
      summary: Получить информацию об академии
      operationId: getAcademy
      security:
        - BearerAuth: []
      parameters:
        - name: academyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Информация об академии
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Academy'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/academies/{academyId}/enroll:
    post:
      tags:
        - Mentorship
      summary: Записаться в академию
      operationId: enrollInAcademy
      security:
        - BearerAuth: []
      parameters:
        - name: academyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EnrollInAcademyRequest'
      responses:
        '201':
          description: Запись в академию создана
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcademyEnrollment'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/academies/{academyId}/programs:
    get:
      tags:
        - Mentorship
      summary: Получить программы академии
      operationId: getAcademyPrograms
      security:
        - BearerAuth: []
      parameters:
        - name: academyId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Список программ академии
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcademyProgramsResponse'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/chains/create:
    post:
      tags:
        - Mentorship
      summary: Создать цепочку наставничества
      operationId: createMentorshipChain
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateMentorshipChainRequest'
      responses:
        '201':
          description: Цепочка создана
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipChain'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/chains/{characterId}:
    get:
      tags:
        - Mentorship
      summary: Получить цепочки наставничества персонажа
      operationId: getMentorshipChains
      security:
        - BearerAuth: []
      parameters:
        - name: characterId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Цепочки наставничества
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipChainsResponse'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/content:
    get:
      tags:
        - Mentorship
      summary: Поиск учебного контента
      operationId: searchMentorshipContent
      security:
        - BearerAuth: []
      parameters:
        - name: skill
          in: query
          schema:
            type: string
        - name: format
          in: query
          schema:
            type: string
            enum: [theoretical, practical, content_based, examination, group, vr]
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Список учебного контента
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipContentResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/content/create:
    post:
      tags:
        - Mentorship
      summary: Создать учебный контент
      operationId: createMentorshipContent
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateMentorshipContentRequest'
      responses:
        '201':
          description: Контент создан
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipContent'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/content/{contentId}:
    get:
      tags:
        - Mentorship
      summary: Получить информацию о контенте
      operationId: getMentorshipContent
      security:
        - BearerAuth: []
      parameters:
        - name: contentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Информация о контенте
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipContent'
        '404':
          $ref: '#/components/responses/NotFound'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/economy/payments:
    get:
      tags:
        - Mentorship
      summary: Получить платежи наставничества
      operationId: getMentorshipPayments
      security:
        - BearerAuth: []
      parameters:
        - name: character_id
          in: query
          schema:
            type: string
            format: uuid
        - name: contract_id
          in: query
          schema:
            type: string
            format: uuid
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
        - name: offset
          in: query
          schema:
            type: integer
            minimum: 0
            default: 0
      responses:
        '200':
          description: Список платежей
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipPaymentsResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /social/mentorship/economy/pay:
    post:
      tags:
        - Mentorship
      summary: Обработать платеж наставничества
      operationId: processMentorshipPayment
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProcessMentorshipPaymentRequest'
      responses:
        '200':
          description: Платеж обработан
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MentorshipPayment'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    Notification:
      type: object
      properties:
        id:
          type: string
          format: uuid
        account_id:
          type: string
          format: uuid
        type:
          type: string
          enum: [quest, message, achievement, system, friend, guild, trade, combat]
        priority:
          type: string
          enum: [low, medium, high, urgent]
          default: medium
        title:
          type: string
          maxLength: 200
        content:
          type: string
        data:
          type: object
          additionalProperties: true
        status:
          type: string
          enum: [unread, read, archived]
          default: unread
        channels:
          type: array
          items:
            type: string
            enum: [in_game, websocket, email]
          default: [in_game]
        created_at:
          type: string
          format: date-time
        read_at:
          type: string
          format: date-time
          nullable: true
        expires_at:
          type: string
          format: date-time
          nullable: true

    CreateNotificationRequest:
      type: object
      required:
        - account_id
        - type
        - title
        - content
      properties:
        account_id:
          type: string
          format: uuid
        type:
          type: string
          enum: [quest, message, achievement, system, friend, guild, trade, combat]
        priority:
          type: string
          enum: [low, medium, high, critical]
          default: medium
        title:
          type: string
          maxLength: 200
        content:
          type: string
        data:
          type: object
          additionalProperties: true
        channels:
          type: array
          items:
            type: string
            enum: [in_game, websocket, email]
          default: [in_game]
        expires_at:
          type: string
          format: date-time
          nullable: true

    UpdateNotificationStatusRequest:
      type: object
      required:
        - status
      properties:
        status:
          type: string
          enum: [read, archived]

    NotificationListResponse:
      type: object
      properties:
        notifications:
          type: array
          items:
            $ref: '#/components/schemas/Notification'
        total:
          type: integer
        unread:
          type: integer

    NotificationPreferences:
      type: object
      properties:
        account_id:
          type: string
          format: uuid
        quest_enabled:
          type: boolean
          default: true
        message_enabled:
          type: boolean
          default: true
        achievement_enabled:
          type: boolean
          default: true
        system_enabled:
          type: boolean
          default: true
        friend_enabled:
          type: boolean
          default: true
        guild_enabled:
          type: boolean
          default: true
        trade_enabled:
          type: boolean
          default: true
        combat_enabled:
          type: boolean
          default: true
        preferred_channels:
          type: array
          items:
            type: string
            enum:
              - in_game
              - websocket
              - email
          default:
            - in_game
        updated_at:
          type: string
          format: date-time

    UpdateNotificationPreferencesRequest:
      type: object
      required:
        - account_id
      properties:
        account_id:
          type: string
          format: uuid
        quest_enabled:
          type: boolean
        message_enabled:
          type: boolean
        achievement_enabled:
          type: boolean
        system_enabled:
          type: boolean
        friend_enabled:
          type: boolean
        guild_enabled:
          type: boolean
        trade_enabled:
          type: boolean
        combat_enabled:
          type: boolean
        preferred_channels:
          type: array
          items:
            type: string
            enum:
              - in_game
              - websocket
              - email

    BatchReadRequest:
      type: object
      required:
        - account_id
        - notification_ids
      properties:
        account_id:
          type: string
          format: uuid
        notification_ids:
          type: array
          items:
            type: string
            format: uuid
          minItems: 1
          maxItems: 100

    Friendship:
      type: object
      properties:
        id:
          type: string
          format: uuid
        character_a_id:
          type: string
          format: uuid
        character_b_id:
          type: string
          format: uuid
        status:
          type: string
          enum: [pending, accepted, blocked]
        initiator_id:
          type: string
          format: uuid
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time

    FriendRequest:
      type: object
      required:
        - to_character_id
      properties:
        to_character_id:
          type: string
          format: uuid

    FriendListResponse:
      type: object
      properties:
        friends:
          type: array
          items:
            $ref: '#/components/schemas/Friendship'
        total:
          type: integer

    FriendsCountResponse:
      type: object
      properties:
        count:
          type: integer
        online_count:
          type: integer

    FriendRequestsResponse:
      type: object
      properties:
        requests:
          type: array
          items:
            $ref: '#/components/schemas/FriendRequest'
        total:
          type: integer

    BlockPlayerRequest:
      type: object
      required:
        - player_id
      properties:
        player_id:
          type: string
          format: uuid
        reason:
          type: string
          maxLength: 200

    BlockedPlayer:
      type: object
      properties:
        id:
          type: string
          format: uuid
        player_id:
          type: string
          format: uuid
        blocked_at:
          type: string
          format: date-time
        reason:
          type: string

    BlockedPlayersResponse:
      type: object
      properties:
        blocked_players:
          type: array
          items:
            $ref: '#/components/schemas/BlockedPlayer'
        total:
          type: integer

    BlockStatusResponse:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        is_blocked:
          type: boolean
        blocked_by_me:
          type: boolean
        i_am_blocked:
          type: boolean

    FriendStatusResponse:
      type: object
      properties:
        friend_id:
          type: string
          format: uuid
        is_online:
          type: boolean
        last_seen:
          type: string
          format: date-time
        current_session_id:
          type: string
          format: uuid
          nullable: true

    FriendsStatusBatchResponse:
      type: object
      properties:
        statuses:
          type: array
          items:
            $ref: '#/components/schemas/FriendStatusResponse'
        total:
          type: integer

    RecentContactsResponse:
      type: object
      properties:
        contacts:
          type: array
          items:
            $ref: '#/components/schemas/RecentContact'
        total:
          type: integer

    RecentContact:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        last_interaction_at:
          type: string
          format: date-time
        interaction_count:
          type: integer
        is_friend:
          type: boolean
        is_online:
          type: boolean

    ChannelType:
      type: string
      enum: [GLOBAL, TRADE, NEWBIE, LOCAL, PARTY, RAID, GUILD, GUILD_OFFICER, WHISPER, SYSTEM, COMBAT_LOG, RP_EMOTE]

    ChatChannel:
      type: object
      properties:
        id:
          type: string
          format: uuid
        channel_type:
          type: string
          enum:
            - GLOBAL
            - TRADE
            - NEWBIE
            - LOCAL
            - PARTY
            - RAID
            - GUILD
            - GUILD_OFFICER
            - WHISPER
            - SYSTEM
            - COMBAT_LOG
            - RP_EMOTE
        owner_id:
          type: string
          format: uuid
          nullable: true
        name:
          type: string
          maxLength: 100
        description:
          type: string
          nullable: true
        read_permission:
          type: object
          additionalProperties: true
          nullable: true
        write_permission:
          type: object
          additionalProperties: true
          nullable: true
        cooldown_seconds:
          type: integer
          default: 0
        max_message_length:
          type: integer
          default: 500
        is_active:
          type: boolean
          default: true
        created_at:
          type: string
          format: date-time

    ChatMessage:
      type: object
      properties:
        id:
          type: string
          format: uuid
        channel_id:
          type: string
          format: uuid
        channel_type:
          $ref: '#/components/schemas/ChannelType'
        sender_id:
          type: string
          format: uuid
        sender_name:
          type: string
        content:
          type: string
        formatted_text:
          type: string
        message_type:
          type: string
          enum:
            - text
            - system
            - emote
            - command
        is_edited:
          type: boolean
          default: false
        is_deleted:
          type: boolean
          default: false
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time

    CreateMessageRequest:
      type: object
      required:
        - channel_id
        - channel_type
        - content
      properties:
        channel_id:
          type: string
          format: uuid
        channel_type:
          type: string
          enum:
            - GLOBAL
            - TRADE
            - NEWBIE
            - LOCAL
            - PARTY
            - RAID
            - GUILD
            - GUILD_OFFICER
            - WHISPER
            - SYSTEM
            - COMBAT_LOG
            - RP_EMOTE
        content:
          type: string
          maxLength: 500

    MessageListResponse:
      type: object
      properties:
        messages:
          type: array
          items:
            $ref: '#/components/schemas/ChatMessage'
        total:
          type: integer
        has_more:
          type: boolean

    ChannelListResponse:
      type: object
      properties:
        channels:
          type: array
          items:
            $ref: '#/components/schemas/ChatChannel'
        total:
          type: integer

    JoinChannelRequest:
      type: object
      required:
        - player_id
      properties:
        player_id:
          type: string
          format: uuid

    LeaveChannelRequest:
      type: object
      required:
        - player_id
      properties:
        player_id:
          type: string
          format: uuid

    ChannelMembersResponse:
      type: object
      properties:
        channel_id:
          type: string
          format: uuid
        members:
          type: array
          items:
            type: string
            format: uuid
        total:
          type: integer
        limit:
          type: integer
        offset:
          type: integer

    SendMessageRequest:
      type: object
      required:
        - channel_id
        - channel_type
        - content
      properties:
        channel_id:
          type: string
          format: uuid
        channel_type:
          type: string
          enum:
            - GLOBAL
            - TRADE
            - NEWBIE
            - LOCAL
            - PARTY
            - RAID
            - GUILD
            - GUILD_OFFICER
            - WHISPER
            - SYSTEM
            - COMBAT_LOG
            - RP_EMOTE
        content:
          type: string
          maxLength: 500
        recipient_id:
          type: string
          format: uuid
          nullable: true

    ProcessMessageRequest:
      type: object
      required:
        - message_id
      properties:
        message_id:
          type: string
          format: uuid

    ProcessedMessageResponse:
      type: object
      properties:
        message:
          $ref: '#/components/schemas/ChatMessage'
        moderation_applied:
          type: boolean
        formatting_applied:
          type: boolean

    ReportMessageRequest:
      type: object
      required:
        - message_id
        - reason
      properties:
        message_id:
          type: string
          format: uuid
        reason:
          type: string
          maxLength: 500

    ReportResponse:
      type: object
      properties:
        success:
          type: boolean
        report_id:
          type: string
          format: uuid

    BanUserRequest:
      type: object
      required:
        - player_id
        - reason
        - duration_hours
      properties:
        player_id:
          type: string
          format: uuid
        reason:
          type: string
          maxLength: 500
        duration_hours:
          type: integer
          nullable: true

    BanResponse:
      type: object
      properties:
        success:
          type: boolean
        ban_id:
          type: string
          format: uuid
        expires_at:
          type: string
          format: date-time
          nullable: true

    BanListResponse:
      type: object
      properties:
        bans:
          type: array
          items:
            $ref: '#/components/schemas/ChatBan'
        total:
          type: integer
        limit:
          type: integer
        offset:
          type: integer

    ChatBan:
      type: object
      properties:
        id:
          type: string
          format: uuid
        player_id:
          type: string
          format: uuid
        reason:
          type: string
        duration_hours:
          type: integer
          nullable: true
        expires_at:
          type: string
          format: date-time
          nullable: true
        banned_by:
          type: string
          format: uuid
        created_at:
          type: string
          format: date-time

    RevokeBanRequest:
      type: object
      required:
        - revoked_by
      properties:
        revoked_by:
          type: string
          format: uuid

    RevokeBanResponse:
      type: object
      properties:
        success:
          type: boolean
        ban_id:
          type: string
          format: uuid

    ExecuteCommandRequest:
      type: object
      required:
        - command
      properties:
        command:
          type: string
        args:
          type: array
          items:
            type: string

    CommandResponse:
      type: object
      properties:
        success:
          type: boolean
        command:
          type: string
        result:
          type: string
          nullable: true
        error:
          type: string
          nullable: true

    ChatHistoryResponse:
      type: object
      properties:
        channel_type:
          type: string
        messages:
          type: array
          items:
            $ref: '#/components/schemas/ChatMessage'
        total:
          type: integer
        limit:
          type: integer
        offset:
          type: integer

    ChatSearchResponse:
      type: object
      properties:
        query:
          type: string
        results:
          type: array
          items:
            $ref: '#/components/schemas/ChatMessage'
        total:
          type: integer
        limit:
          type: integer
        offset:
          type: integer

    FormatMessageRequest:
      type: object
      required:
        - content
      properties:
        content:
          type: string
        format_options:
          type: object
          additionalProperties: true
          nullable: true

    FormattedMessageResponse:
      type: object
      properties:
        original:
          type: string
        formatted:
          type: string
        mentions:
          type: array
          items:
            type: string
            format: uuid

    ChatEvent:
      type: object
      properties:
        id:
          type: string
          format: uuid
        event_type:
          type: string
          enum:
            - chat:message-sent
            - chat:message-received
            - chat:channel-joined
            - chat:channel-left
            - chat:user-banned
        channel_id:
          type: string
          format: uuid
          nullable: true
        event_data:
          type: object
          additionalProperties: true
        created_at:
          type: string
          format: date-time

    ChatEventsResponse:
      type: object
      properties:
        events:
          type: array
          items:
            $ref: '#/components/schemas/ChatEvent'
        total:
          type: integer
        limit:
          type: integer
        offset:
          type: integer

    MailMessage:
      type: object
      properties:
        id:
          type: string
          format: uuid
        sender_id:
          type: string
          format: uuid
          nullable: true
        sender_name:
          type: string
        recipient_id:
          type: string
          format: uuid
        type:
          type: string
          enum: [player, system, quest, auction, trade]
        subject:
          type: string
          maxLength: 500
        content:
          type: string
        attachments:
          type: object
          additionalProperties: true
        cod_amount:
          type: integer
          nullable: true
        status:
          type: string
          enum: [unread, read, claimed, expired, returned]
        is_read:
          type: boolean
        is_claimed:
          type: boolean
        sent_at:
          type: string
          format: date-time
        read_at:
          type: string
          format: date-time
          nullable: true
        expires_at:
          type: string
          format: date-time
          nullable: true
        created_at:
          type: string
          format: date-time

    CreateMailRequest:
      type: object
      required:
        - recipient_id
        - subject
        - content
      properties:
        recipient_id:
          type: string
          format: uuid
        subject:
          type: string
          maxLength: 500
        content:
          type: string
        attachments:
          type: object
          additionalProperties: true
        cod_amount:
          type: integer
          nullable: true
        expires_in:
          type: integer
          description: Количество дней до истечения
          nullable: true

    MailListResponse:
      type: object
      properties:
        messages:
          type: array
          items:
            $ref: '#/components/schemas/MailMessage'
        total:
          type: integer
        unread:
          type: integer

    ClaimAttachmentResponse:
      type: object
      properties:
        success:
          type: boolean
        items:
          type: object
          additionalProperties: true
        currency:
          type: object
          additionalProperties:
            type: integer

    UnreadMailCountResponse:
      type: object
      properties:
        unread_count:
          type: integer
        total_count:
          type: integer

    MailAttachmentsResponse:
      type: object
      properties:
        mail_id:
          type: string
          format: uuid
        attachments:
          type: array
          items:
            $ref: '#/components/schemas/MailAttachment'
        has_cod:
          type: boolean
        cod_amount:
          type: integer
          nullable: true

    MailAttachment:
      type: object
      properties:
        id:
          type: string
          format: uuid
        type:
          type: string
          enum:
            - item
            - currency
            - quest_reward
            - achievement_reward
        item_id:
          type: string
          format: uuid
          nullable: true
        quantity:
          type: integer
        currency:
          type: integer
          nullable: true
        claimed:
          type: boolean

    ExtendMailRequest:
      type: object
      required:
        - days
      properties:
        days:
          type: integer
          minimum: 1
          maximum: 30
          description: Количество дней для продления

    SendSystemMailRequest:
      type: object
      required:
        - recipient_id
        - type
        - title
        - content
      properties:
        recipient_id:
          type: string
          format: uuid
        type:
          type: string
          enum:
            - quest_reward
            - achievement_reward
            - event_reward
            - maintenance_notification
        title:
          type: string
        content:
          type: string
        attachments:
          type: array
          items:
            $ref: '#/components/schemas/MailAttachment'
        expires_in_days:
          type: integer
          minimum: 1
          maximum: 30
          default: 30

    BroadcastSystemMailRequest:
      type: object
      required:
        - type
        - title
        - content
      properties:
        type:
          type: string
          enum:
            - quest_reward
            - achievement_reward
            - event_reward
            - maintenance_notification
        title:
          type: string
        content:
          type: string
        attachments:
          type: array
          items:
            $ref: '#/components/schemas/MailAttachment'
        recipient_ids:
          type: array
          items:
            type: string
            format: uuid
        filter_criteria:
          type: object
          properties:
            min_level:
              type: integer
            max_level:
              type: integer
            character_class:
              type: string
        expires_in_days:
          type: integer
          minimum: 1
          maximum: 30
          default: 30

    BroadcastResult:
      type: object
      properties:
        total_sent:
          type: integer
        total_failed:
          type: integer
        failed_recipients:
          type: array
          items:
            type: string
            format: uuid
        broadcast_id:
          type: string
          format: uuid
        sent_at:
          type: string
          format: date-time

    Party:
      type: object
      properties:
        id:
          type: string
          format: uuid
        leader_id:
          type: string
          format: uuid
        members:
          type: array
          items:
            $ref: '#/components/schemas/PartyMember'
        max_size:
          type: integer
          minimum: 2
          maximum: 5
          default: 5
        loot_mode:
          type: string
          enum:
            - free_for_all
            - round_robin
            - need_before_greed
            - master_looter
          default: free_for_all
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time

    PartyMember:
      type: object
      properties:
        character_id:
          type: string
          format: uuid
        role:
          type: string
          enum:
            - leader
            - member
        joined_at:
          type: string
          format: date-time

    CreatePartyRequest:
      type: object
      properties:
        max_size:
          type: integer
          minimum: 2
          maximum: 5
          default: 5
        loot_mode:
          type: string
          enum:
            - free_for_all
            - round_robin
            - need_before_greed
            - master_looter

    InviteToPartyRequest:
      type: object
      required:
        - character_id
      properties:
        character_id:
          type: string
          format: uuid

    TransferLeadershipRequest:
      type: object
      required:
        - new_leader_id
      properties:
        new_leader_id:
          type: string
          format: uuid

    PartyInvitationsResponse:
      type: object
      properties:
        invitations:
          type: array
          items:
            $ref: '#/components/schemas/PartyInvitation'
        total:
          type: integer

    PartyInvitation:
      type: object
      properties:
        id:
          type: string
          format: uuid
        party_id:
          type: string
          format: uuid
        inviter_id:
          type: string
          format: uuid
        invitee_id:
          type: string
          format: uuid
        status:
          type: string
          enum:
            - pending
            - accepted
            - declined
            - expired
        created_at:
          type: string
          format: date-time
        expires_at:
          type: string
          format: date-time

    AddPartyMemberRequest:
      type: object
      required:
        - account_id
      properties:
        account_id:
          type: string
          format: uuid
        role:
          type: string
          enum:
            - leader
            - member
          default: member

    ChangeMemberRoleRequest:
      type: object
      required:
        - role
      properties:
        role:
          type: string
          enum:
            - leader
            - member

    LootModeResponse:
      type: object
      properties:
        party_id:
          type: string
          format: uuid
        loot_mode:
          type: string
          enum:
            - free_for_all
            - round_robin
            - need_before_greed
            - master_looter

    ChangeLootModeRequest:
      type: object
      required:
        - loot_mode
      properties:
        loot_mode:
          type: string
          enum:
            - free_for_all
            - round_robin
            - need_before_greed
            - master_looter

    DistributeLootRequest:
      type: object
      required:
        - item_id
        - target_account_id
      properties:
        item_id:
          type: string
          format: uuid
        target_account_id:
          type: string
          format: uuid
        quantity:
          type: integer
          minimum: 1
          default: 1

    LootDistributionResult:
      type: object
      properties:
        party_id:
          type: string
          format: uuid
        item_id:
          type: string
          format: uuid
        distributed_to:
          type: string
          format: uuid
        quantity:
          type: integer
        mode:
          type: string
        distributed_at:
          type: string
          format: date-time

    RollForLootRequest:
      type: object
      required:
        - item_id
      properties:
        item_id:
          type: string
          format: uuid
        min_roll:
          type: integer
          minimum: 1
          maximum: 100
          default: 1
        max_roll:
          type: integer
          minimum: 1
          maximum: 100
          default: 100

    RollResult:
      type: object
      properties:
        party_id:
          type: string
          format: uuid
        item_id:
          type: string
          format: uuid
        account_id:
          type: string
          format: uuid
        roll_value:
          type: integer
        winner:
          type: boolean
        rolls:
          type: array
          items:
            type: object
            properties:
              account_id:
                type: string
                format: uuid
              roll_value:
                type: integer

    PartyQuestsResponse:
      type: object
      properties:
        party_id:
          type: string
          format: uuid
        quests:
          type: array
          items:
            $ref: '#/components/schemas/PartyQuest'
        total:
          type: integer

    PartyQuest:
      type: object
      properties:
        quest_id:
          type: string
          format: uuid
        quest_name:
          type: string
        status:
          type: string
          enum:
            - active
            - completed
            - failed
        progress:
          type: integer
        progress_max:
          type: integer
        participants:
          type: array
          items:
            type: string
            format: uuid
        started_at:
          type: string
          format: date-time
        completed_at:
          type: string
          format: date-time
          nullable: true

    QuestSyncResult:
      type: object
      properties:
        party_id:
          type: string
          format: uuid
        quest_id:
          type: string
          format: uuid
        synced:
          type: boolean
        participants_synced:
          type: array
          items:
            type: string
            format: uuid
        synced_at:
          type: string
          format: date-time

    CreateGuildRequest:
      type: object
      required:
        - name
        - tag
      properties:
        name:
          type: string
          minLength: 3
          maxLength: 50
        tag:
          type: string
          minLength: 2
          maxLength: 5
        description:
          type: string
          maxLength: 500
        emblem:
          type: string
          format: uri

    UpdateGuildRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 3
          maxLength: 50
        description:
          type: string
          maxLength: 500
        emblem:
          type: string
          format: uri

    Guild:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        tag:
          type: string
        description:
          type: string
        emblem:
          type: string
          format: uri
        status:
          type: string
          enum:
            - active
            - disbanded
            - suspended
        leader_id:
          type: string
          format: uuid
        member_count:
          type: integer
        max_members:
          type: integer
        level:
          type: integer
        experience:
          type: integer
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time

    GuildListResponse:
      type: object
      properties:
        guilds:
          type: array
          items:
            $ref: '#/components/schemas/Guild'
        total:
          type: integer

    InviteToGuildRequest:
      type: object
      required:
        - account_id
      properties:
        account_id:
          type: string
          format: uuid
        message:
          type: string
          maxLength: 200

    GuildInvitation:
      type: object
      properties:
        id:
          type: string
          format: uuid
        guild_id:
          type: string
          format: uuid
        inviter_id:
          type: string
          format: uuid
        invitee_id:
          type: string
          format: uuid
        status:
          type: string
          enum:
            - pending
            - accepted
            - declined
            - expired
        created_at:
          type: string
          format: date-time
        expires_at:
          type: string
          format: date-time

    AddGuildMemberRequest:
      type: object
      required:
        - account_id
      properties:
        account_id:
          type: string
          format: uuid
        rank_id:
          type: string
          format: uuid

    GuildMember:
      type: object
      properties:
        id:
          type: string
          format: uuid
        guild_id:
          type: string
          format: uuid
        account_id:
          type: string
          format: uuid
        rank_id:
          type: string
          format: uuid
        rank_name:
          type: string
        joined_at:
          type: string
          format: date-time
        last_active_at:
          type: string
          format: date-time

    GuildMembersResponse:
      type: object
      properties:
        members:
          type: array
          items:
            $ref: '#/components/schemas/GuildMember'
        total:
          type: integer

    SetGuildMemberRankRequest:
      type: object
      required:
        - rank_id
      properties:
        rank_id:
          type: string
          format: uuid

    TransferGuildLeadershipRequest:
      type: object
      required:
        - new_leader_id
      properties:
        new_leader_id:
          type: string
          format: uuid

    CreateGuildRankRequest:
      type: object
      required:
        - name
        - permissions
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 50
        permissions:
          type: array
          items:
            type: string
            enum:
              - invite_members
              - kick_members
              - manage_ranks
              - manage_bank
              - declare_war
              - manage_territory
              - view_logs
        order:
          type: integer
          minimum: 0

    UpdateGuildRankRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 50
        permissions:
          type: array
          items:
            type: string
            enum:
              - invite_members
              - kick_members
              - manage_ranks
              - manage_bank
              - declare_war
              - manage_territory
              - view_logs
        order:
          type: integer
          minimum: 0

    GuildRank:
      type: object
      properties:
        id:
          type: string
          format: uuid
        guild_id:
          type: string
          format: uuid
        name:
          type: string
        permissions:
          type: array
          items:
            type: string
        order:
          type: integer
        created_at:
          type: string
          format: date-time

    GuildRanksResponse:
      type: object
      properties:
        ranks:
          type: array
          items:
            $ref: '#/components/schemas/GuildRank'
        total:
          type: integer

    GuildBank:
      type: object
      properties:
        guild_id:
          type: string
          format: uuid
        currency:
          type: integer
          minimum: 0
        items:
          type: array
          items:
            type: object
            properties:
              item_id:
                type: string
                format: uuid
              quantity:
                type: integer
        updated_at:
          type: string
          format: date-time

    GuildBankDepositRequest:
      type: object
      required:
        - currency
      properties:
        currency:
          type: integer
          minimum: 1
        items:
          type: array
          items:
            type: object
            properties:
              item_id:
                type: string
                format: uuid
              quantity:
                type: integer
                minimum: 1

    GuildBankWithdrawRequest:
      type: object
      required:
        - currency
      properties:
        currency:
          type: integer
          minimum: 1
        items:
          type: array
          items:
            type: object
            properties:
              item_id:
                type: string
                format: uuid
              quantity:
                type: integer
                minimum: 1

    GuildBankTransaction:
      type: object
      properties:
        id:
          type: string
          format: uuid
        guild_id:
          type: string
          format: uuid
        account_id:
          type: string
          format: uuid
        type:
          type: string
          enum:
            - deposit
            - withdraw
        currency:
          type: integer
        items:
          type: array
          items:
            type: object
        created_at:
          type: string
          format: date-time

    GuildBankTransactionsResponse:
      type: object
      properties:
        transactions:
          type: array
          items:
            $ref: '#/components/schemas/GuildBankTransaction'
        total:
          type: integer

    DeclareGuildWarRequest:
      type: object
      required:
        - target_guild_id
      properties:
        target_guild_id:
          type: string
          format: uuid
        reason:
          type: string
          maxLength: 500

    EndGuildWarRequest:
      type: object
      required:
        - winner_guild_id
      properties:
        winner_guild_id:
          type: string
          format: uuid
        reason:
          type: string
          maxLength: 500

    GuildWar:
      type: object
      properties:
        id:
          type: string
          format: uuid
        attacker_guild_id:
          type: string
          format: uuid
        defender_guild_id:
          type: string
          format: uuid
        status:
          type: string
          enum:
            - declared
            - active
            - ended
            - cancelled
        winner_guild_id:
          type: string
          format: uuid
          nullable: true
        declared_at:
          type: string
          format: date-time
        started_at:
          type: string
          format: date-time
          nullable: true
        ended_at:
          type: string
          format: date-time
          nullable: true

    GuildWarsResponse:
      type: object
      properties:
        wars:
          type: array
          items:
            $ref: '#/components/schemas/GuildWar'
        total:
          type: integer

    Territory:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
        owner_guild_id:
          type: string
          format: uuid
          nullable: true
        captured_at:
          type: string
          format: date-time
          nullable: true
        position:
          type: object
          properties:
            x:
              type: number
            y:
              type: number
            z:
              type: number

    GuildTerritoriesResponse:
      type: object
      properties:
        territories:
          type: array
          items:
            $ref: '#/components/schemas/Territory'
        total:
          type: integer

    TerritoryResources:
      type: object
      properties:
        territory_id:
          type: string
          format: uuid
        resources:
          type: array
          items:
            type: object
            properties:
              resource_type:
                type: string
              quantity:
                type: integer
              generation_rate:
                type: number
        last_updated:
          type: string
          format: date-time

    GuildProgression:
      type: object
      properties:
        guild_id:
          type: string
          format: uuid
        level:
          type: integer
        experience:
          type: integer
        experience_to_next_level:
          type: integer
        max_members:
          type: integer
        unlocked_perks:
          type: array
          items:
            type: string

    GuildPerksResponse:
      type: object
      properties:
        guild_id:
          type: string
          format: uuid
        perks:
          type: array
          items:
            $ref: '#/components/schemas/GuildPerk'
        total:
          type: integer

    GuildPerk:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
        level_required:
          type: integer
        unlocked:
          type: boolean
        unlocked_at:
          type: string
          format: date-time
          nullable: true

    NPCCandidate:
      type: object
      properties:
        npc_id:
          type: string
          format: uuid
        name:
          type: string
        hiring_type:
          type: string
          enum: [merchant, quest_giver, fixer, bodyguard, mercenary, diplomat, engineer, hacker]
        reputation_level:
          type: string
          enum: [low, medium, high]
        skills:
          type: array
          items:
            type: string
        skill_levels:
          type: object
          additionalProperties:
            type: integer
        base_salary:
          type: number
          format: decimal
        availability:
          type: boolean
        requirements:
          type: object
          properties:
            reputation:
              type: string
            skills:
              type: array
              items:
                type: string
            capital:
              type: number
              format: decimal
              nullable: true
        description:
          type: string

    NPCCandidatesResponse:
      type: object
      properties:
        candidates:
          type: array
          items:
            $ref: '#/components/schemas/NPCCandidate'
        total:
          type: integer

    StartNegotiationRequest:
      type: object
      required:
        - npc_id
        - hiring_type
      properties:
        npc_id:
          type: string
          format: uuid
        hiring_type:
          type: string
          enum: [merchant, quest_giver, fixer, bodyguard, mercenary, diplomat, engineer, hacker]
        proposed_salary:
          type: number
          format: decimal
        contract_duration:
          type: integer
          description: Длительность контракта в днях
        autonomy_level:
          type: string
          enum: [direct, autonomous, hybrid]
          default: hybrid

    NegotiationResponse:
      type: object
      properties:
        negotiation_id:
          type: string
          format: uuid
        npc_id:
          type: string
          format: uuid
        status:
          type: string
          enum: [in_progress, accepted, rejected, counter_offer]
        npc_counter_offer:
          type: object
          properties:
            salary:
              type: number
              format: decimal
            contract_duration:
              type: integer
            autonomy_level:
              type: string
              enum: [direct, autonomous, hybrid]
        message:
          type: string

    CreateContractRequest:
      type: object
      required:
        - npc_id
        - hiring_type
        - contract_type
        - salary_amount
      properties:
        npc_id:
          type: string
          format: uuid
        hiring_type:
          type: string
          enum: [merchant, quest_giver, fixer, bodyguard, mercenary, diplomat, engineer, hacker]
        contract_type:
          type: string
          enum: [salary, one-time, profit-share, combined]
        salary_amount:
          type: number
          format: decimal
        start_date:
          type: string
          format: date-time
        end_date:
          type: string
          format: date-time
          nullable: true
        autonomy_level:
          type: string
          enum: [direct, autonomous, hybrid]
          default: hybrid
        terms:
          type: object
          additionalProperties: true

    HiringContract:
      type: object
      properties:
        id:
          type: string
          format: uuid
        character_id:
          type: string
          format: uuid
        npc_id:
          type: string
          format: uuid
        hiring_type:
          type: string
          enum: [merchant, quest_giver, fixer, bodyguard, mercenary, diplomat, engineer, hacker]
        contract_type:
          type: string
          enum: [salary, one-time, profit-share, combined]
        salary_amount:
          type: number
          format: decimal
        start_date:
          type: string
          format: date-time
        end_date:
          type: string
          format: date-time
          nullable: true
        status:
          type: string
          enum: [active, terminated, completed]
        autonomy_level:
          type: string
          enum: [direct, autonomous, hybrid]
        terms:
          type: object
          additionalProperties: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time

    HiringContractsResponse:
      type: object
      properties:
        contracts:
          type: array
          items:
            $ref: '#/components/schemas/HiringContract'
        total:
          type: integer

    TerminateContractRequest:
      type: object
      required:
        - reason
      properties:
        reason:
          type: string
        penalty_paid:
          type: boolean
          default: false

    WorkforceResponse:
      type: object
      properties:
        workforce:
          type: array
          items:
            $ref: '#/components/schemas/WorkforceMember'
        total:
          type: integer

    WorkforceMember:
      type: object
      properties:
        npc_id:
          type: string
          format: uuid
        contract_id:
          type: string
          format: uuid
        name:
          type: string
        hiring_type:
          type: string
          enum: [merchant, quest_giver, fixer, bodyguard, mercenary, diplomat, engineer, hacker]
        status:
          type: string
          enum: [active, busy, idle, unavailable]
        current_task:
          $ref: '#/components/schemas/NPCTask'
          nullable: true
        performance_score:
          type: number
          format: decimal

    AssignTaskRequest:
      type: object
      required:
        - task_type
        - task_description
      properties:
        task_type:
          type: string
        task_description:
          type: string
        priority:
          type: integer
          minimum: 1
          maximum: 10
          default: 5
        resources:
          type: object
          additionalProperties: true
        deadline:
          type: string
          format: date-time
          nullable: true

    NPCTask:
      type: object
      properties:
        id:
          type: string
          format: uuid
        contract_id:
          type: string
          format: uuid
        npc_id:
          type: string
          format: uuid
        task_type:
          type: string
        task_description:
          type: string
        priority:
          type: integer
        status:
          type: string
          enum: [pending, in-progress, completed, failed]
        assigned_at:
          type: string
          format: date-time
        started_at:
          type: string
          format: date-time
          nullable: true
        completed_at:
          type: string
          format: date-time
          nullable: true
        resources:
          type: object
          additionalProperties: true

    NPCTasksResponse:
      type: object
      properties:
        tasks:
          type: array
          items:
            $ref: '#/components/schemas/NPCTask'
        total:
          type: integer

    UpdateTaskRequest:
      type: object
      properties:
        task_description:
          type: string
        priority:
          type: integer
          minimum: 1
          maximum: 10
        status:
          type: string
          enum: [pending, in-progress, completed, failed]
        resources:
          type: object
          additionalProperties: true

    NPCPerformance:
      type: object
      properties:
        npc_id:
          type: string
          format: uuid
        contract_id:
          type: string
          format: uuid
        skill_level:
          type: integer
        relationship_level:
          type: integer
        efficiency_score:
          type: number
          format: decimal
        tasks_completed:
          type: integer
        tasks_failed:
          type: integer
        loyalty_score:
          type: number
          format: decimal
        last_update:
          type: string
          format: date-time

    NPCStatus:
      type: object
      properties:
        npc_id:
          type: string
          format: uuid
        contract_id:
          type: string
          format: uuid
        status:
          type: string
          enum: [active, busy, idle, unavailable]
        current_task:
          $ref: '#/components/schemas/NPCTask'
          nullable: true
        location:
          type: object
          properties:
            x:
              type: number
            y:
              type: number
            z:
              type: number
        last_update:
          type: string
          format: date-time

    InteractWithNPCRequest:
      type: object
      required:
        - interaction_type
      properties:
        interaction_type:
          type: string
          enum: [talk, train, reward, criticize, dismiss]
        message:
          type: string
        reward_amount:
          type: number
          format: decimal
          nullable: true

    InteractionResponse:
      type: object
      properties:
        interaction_id:
          type: string
          format: uuid
        npc_id:
          type: string
          format: uuid
        interaction_type:
          type: string
        npc_response:
          type: string
        relationship_change:
          type: integer
        loyalty_change:
          type: number
          format: decimal

    PayrollCalculationResponse:
      type: object
      properties:
        total_payroll:
          type: number
          format: decimal
        npc_payments:
          type: array
          items:
            $ref: '#/components/schemas/NPCPayment'
        period_start:
          type: string
          format: date-time
        period_end:
          type: string
          format: date-time

    NPCPayment:
      type: object
      properties:
        npc_id:
          type: string
          format: uuid
        contract_id:
          type: string
          format: uuid
        payment_type:
          type: string
          enum: [salary, one-time, profit-share]
        amount:
          type: number
          format: decimal
        status:
          type: string
          enum: [pending, paid, failed]

    PaySalaryRequest:
      type: object
      required:
        - contract_ids
      properties:
        contract_ids:
          type: array
          items:
            type: string
            format: uuid
        payment_date:
          type: string
          format: date-time

    PaymentResponse:
      type: object
      properties:
        payments_processed:
          type: integer
        total_amount:
          type: number
          format: decimal
        failed_payments:
          type: array
          items:
            type: object
            properties:
              contract_id:
                type: string
                format: uuid
              error:
                type: string

    EconomyReportsResponse:
      type: object
      properties:
        period:
          type: string
          enum: [daily, weekly, monthly]
        start_date:
          type: string
          format: date
        end_date:
          type: string
          format: date
        total_expenses:
          type: number
          format: decimal
        total_income:
          type: number
          format: decimal
        net_profit:
          type: number
          format: decimal
        npc_count:
          type: integer
        average_efficiency:
          type: number
          format: decimal
        reports:
          type: array
          items:
            $ref: '#/components/schemas/EconomyReport'

    EconomyReport:
      type: object
      properties:
        date:
          type: string
          format: date
        expenses:
          type: number
          format: decimal
        income:
          type: number
          format: decimal
        profit:
          type: number
          format: decimal
        npc_count:
          type: integer

    HiringLimitsResponse:
      type: object
      properties:
        hiring_type:
          type: string
          enum: [merchant, quest_giver, fixer, bodyguard, mercenary, diplomat, engineer, hacker]
        current_count:
          type: integer
        max_count:
          type: integer
        scaling_factors:
          type: object
          additionalProperties: true
        requirements:
          type: object
          properties:
            reputation:
              type: string
            skills:
              type: array
              items:
                type: string
            resources:
              type: object
              additionalProperties: true

    CreateHiringChainRequest:
      type: object
      required:
        - chain_name
        - npc_ids
        - chain_type
      properties:
        chain_name:
          type: string
        npc_ids:
          type: array
          items:
            type: string
            format: uuid
        chain_type:
          type: string
        efficiency_bonus:
          type: number
          format: decimal
          default: 0.0

    HiringChain:
      type: object
      properties:
        id:
          type: string
          format: uuid
        character_id:
          type: string
          format: uuid
        chain_name:
          type: string
        npc_ids:
          type: array
          items:
            type: string
            format: uuid
        chain_type:
          type: string
        efficiency_bonus:
          type: number
          format: decimal
        created_at:
          type: string
          format: date-time

    CreateGroupContractRequest:
      type: object
      required:
        - group_name
        - contract_ids
      properties:
        group_name:
          type: string
        contract_ids:
          type: array
          items:
            type: string
            format: uuid
        shared_bonuses:
          type: object
          additionalProperties: true

    GroupContract:
      type: object
      properties:
        id:
          type: string
          format: uuid
        character_id:
          type: string
          format: uuid
        group_name:
          type: string
        contract_ids:
          type: array
          items:
            type: string
            format: uuid
        shared_bonuses:
          type: object
          additionalProperties: true
        created_at:
          type: string
          format: date-time

    ConfigureAutomationRequest:
      type: object
      required:
        - automation_type
        - configuration
      properties:
        automation_type:
          type: string
          enum: [hiring, task_assignment, payment, management]
        configuration:
          type: object
          additionalProperties: true
        enabled:
          type: boolean
          default: true

    AutomationConfiguration:
      type: object
      properties:
        id:
          type: string
          format: uuid
        character_id:
          type: string
          format: uuid
        automation_type:
          type: string
          enum: [hiring, task_assignment, payment, management]
        configuration:
          type: object
          additionalProperties: true
        enabled:
          type: boolean
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time

    PlayerReputation:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        faction_reputations:
          type: array
          items:
            $ref: '#/components/schemas/FactionReputation'
        overall_reputation:
          type: integer
          minimum: -100
          maximum: 100
        last_update:
          type: string
          format: date-time

    FactionReputation:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        faction_id:
          type: string
          format: uuid
        faction_name:
          type: string
        reputation_value:
          type: integer
          minimum: -100
          maximum: 100
        tier:
          type: string
          enum: [hated, hostile, unfriendly, neutral, friendly, honored, legendary]
        tier_color:
          type: string
        heat:
          type: integer
          minimum: 0
          maximum: 100
        last_change:
          type: string
          format: date-time
        last_update:
          type: string
          format: date-time

    ChangeReputationRequest:
      type: object
      required:
        - faction_id
        - change_amount
        - reason
      properties:
        faction_id:
          type: string
          format: uuid
        change_amount:
          type: integer
          description: Изменение репутации (может быть отрицательным)
        reason:
          type: string
          enum: [quest_completed, enemy_killed, npc_interaction, transaction, world_event, player_order, other]
        source_id:
          type: string
          format: uuid
          nullable: true
          description: ID источника изменения (квест, NPC, событие и т.д.)

    ReputationChangeResponse:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        faction_id:
          type: string
          format: uuid
        old_reputation:
          type: integer
        new_reputation:
          type: integer
        old_tier:
          type: string
          enum: [hated, hostile, unfriendly, neutral, friendly, honored, legendary]
        new_tier:
          type: string
          enum: [hated, hostile, unfriendly, neutral, friendly, honored, legendary]
        tier_changed:
          type: boolean
        heat_change:
          type: integer
        new_heat:
          type: integer

    ReputationTier:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        faction_id:
          type: string
          format: uuid
        tier:
          type: string
          enum: [hated, hostile, unfriendly, neutral, friendly, honored, legendary]
        tier_name:
          type: string
        tier_color:
          type: string
        reputation_value:
          type: integer
        tier_range:
          type: object
          properties:
            min:
              type: integer
            max:
              type: integer
        effects:
          $ref: '#/components/schemas/ReputationEffects'

    HeatStatus:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        faction_id:
          type: string
          format: uuid
        heat_value:
          type: integer
          minimum: 0
          maximum: 100
        heat_level:
          type: string
          enum: [none, low, medium, high, critical]
        decay_rate:
          type: number
          format: decimal
        next_decay:
          type: string
          format: date-time
        last_update:
          type: string
          format: date-time

    ReduceHeatRequest:
      type: object
      required:
        - faction_id
        - reduction_method
      properties:
        faction_id:
          type: string
          format: uuid
        reduction_method:
          type: string
          enum: [time, quest, payment, reputation_improvement]
        amount:
          type: integer
          minimum: 1
          description: Количество Heat для снижения (опционально, если не указано - максимальное снижение)

    AccessStatus:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        faction_id:
          type: string
          format: uuid
        access_type:
          type: string
          enum: [territory, trade, quest, npc_recruitment, vip_services]
        has_access:
          type: boolean
        access_level:
          type: string
          enum: [blocked, restricted, normal, enhanced]
        reason:
          type: string
          nullable: true
        required_tier:
          type: string
          enum: [hated, hostile, unfriendly, neutral, friendly, honored, legendary]
          nullable: true

    ReputationDiscounts:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        faction_id:
          type: string
          format: uuid
        price_modifier:
          type: number
          format: decimal
          description: Модификатор цены (1.0 = без изменений, 0.9 = скидка 10%, 1.5 = наценка 50%)
        discount_percentage:
          type: number
          format: decimal
          description: Процент скидки
        applicable_categories:
          type: array
          items:
            type: string
        tier:
          type: string
          enum: [hated, hostile, unfriendly, neutral, friendly, honored, legendary]

    StartRecoveryRequest:
      type: object
      required:
        - faction_id
        - recovery_method
      properties:
        faction_id:
          type: string
          format: uuid
        recovery_method:
          type: string
          enum: [quest, payment, time, reputation_improvement]
        target_reputation:
          type: integer
          minimum: -100
          maximum: 100
          description: Целевая репутация для восстановления

    RecoveryStatus:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        faction_id:
          type: string
          format: uuid
        recovery_method:
          type: string
          enum: [quest, payment, time, reputation_improvement]
        status:
          type: string
          enum: [not_started, in_progress, completed, cancelled]
        current_reputation:
          type: integer
        target_reputation:
          type: integer
        progress_percentage:
          type: number
          format: decimal
        started_at:
          type: string
          format: date-time
        estimated_completion:
          type: string
          format: date-time
          nullable: true

    FactionRelationsResponse:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        relations:
          type: array
          items:
            $ref: '#/components/schemas/FactionReputation'
        total:
          type: integer

    ReputationEffects:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        faction_id:
          type: string
          format: uuid
        tier:
          type: string
          enum: [hated, hostile, unfriendly, neutral, friendly, honored, legendary]
        territory_access:
          type: string
          enum: [blocked, restricted, normal, enhanced]
        trade_access:
          type: string
          enum: [blocked, minimal, restricted, normal, enhanced]
        npc_aggression:
          type: string
          enum: [none, low, medium, high]
        price_modifier:
          type: number
          format: decimal
        quest_access:
          type: string
          enum: [none, limited, restricted, normal, enhanced]
        vip_services:
          type: boolean
        npc_recruitment:
          type: boolean
        exclusive_locations:
          type: boolean
        faction_bonuses:
          type: array
          items:
            type: string
        decay_modifier:
          type: number
          format: decimal

    ReputationHistoryResponse:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        faction_id:
          type: string
          format: uuid
          nullable: true
        history:
          type: array
          items:
            $ref: '#/components/schemas/ReputationHistoryEntry'
        total:
          type: integer

    ReputationHistoryEntry:
      type: object
      properties:
        id:
          type: string
          format: uuid
        player_id:
          type: string
          format: uuid
        faction_id:
          type: string
          format: uuid
        change_amount:
          type: integer
        old_reputation:
          type: integer
        new_reputation:
          type: integer
        old_tier:
          type: string
          enum: [hated, hostile, unfriendly, neutral, friendly, honored, legendary]
        new_tier:
          type: string
          enum: [hated, hostile, unfriendly, neutral, friendly, honored, legendary]
        reason:
          type: string
        source_id:
          type: string
          format: uuid
          nullable: true
        changed_at:
          type: string
          format: date-time

    Relationship:
      type: object
      properties:
        player_id1:
          type: string
          format: uuid
        player_id2:
          type: string
          format: uuid
        relationship_type:
          type: string
          enum: [friends, close_allies, pact, neutral, enemies, nemesis]
        reputation_value:
          type: integer
          minimum: -100
          maximum: 100
        trust_level:
          type: integer
          minimum: 1
          maximum: 5
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time

    RelationshipsResponse:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        relationships:
          type: array
          items:
            $ref: '#/components/schemas/Relationship'
        total:
          type: integer

    SetRelationshipRequest:
      type: object
      required:
        - target_player_id
        - relationship_type
      properties:
        target_player_id:
          type: string
          format: uuid
        relationship_type:
          type: string
          enum: [friends, close_allies, pact, neutral, enemies, nemesis]
        reputation_value:
          type: integer
          minimum: -100
          maximum: 100

    TrustLevel:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        target_player_id:
          type: string
          format: uuid
        trust_level:
          type: integer
          minimum: 1
          maximum: 5
        trust_points:
          type: integer
        last_update:
          type: string
          format: date-time

    UpdateTrustRequest:
      type: object
      required:
        - target_player_id
        - trust_change
      properties:
        target_player_id:
          type: string
          format: uuid
        trust_change:
          type: integer
          description: Изменение доверия (может быть отрицательным)
        reason:
          type: string

    CreateTrustContractRequest:
      type: object
      required:
        - target_player_id
        - trust_level
        - terms
      properties:
        target_player_id:
          type: string
          format: uuid
        trust_level:
          type: integer
          minimum: 1
          maximum: 5
        terms:
          type: object
          additionalProperties: true
        duration_days:
          type: integer
          minimum: 1

    TrustContract:
      type: object
      properties:
        id:
          type: string
          format: uuid
        player_id1:
          type: string
          format: uuid
        player_id2:
          type: string
          format: uuid
        trust_level:
          type: integer
          minimum: 1
          maximum: 5
        terms:
          type: object
          additionalProperties: true
        status:
          type: string
          enum: [active, terminated, expired]
        created_at:
          type: string
          format: date-time
        expires_at:
          type: string
          format: date-time
          nullable: true

    TerminateTrustContractRequest:
      type: object
      required:
        - reason
      properties:
        reason:
          type: string

    CreateAllianceRequest:
      type: object
      required:
        - alliance_type
        - name
      properties:
        alliance_type:
          type: string
          enum: [combat, trade, clan, faction]
        name:
          type: string
        description:
          type: string
        terms:
          type: object
          additionalProperties: true

    Alliance:
      type: object
      properties:
        id:
          type: string
          format: uuid
        alliance_type:
          type: string
          enum: [combat, trade, clan, faction]
        name:
          type: string
        description:
          type: string
        members:
          type: array
          items:
            type: string
            format: uuid
        terms:
          type: object
          additionalProperties: true
        status:
          type: string
          enum: [active, terminated, expired]
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time

    AlliancesResponse:
      type: object
      properties:
        alliances:
          type: array
          items:
            $ref: '#/components/schemas/Alliance'
        total:
          type: integer

    TerminateAllianceRequest:
      type: object
      required:
        - reason
      properties:
        reason:
          type: string

    InviteToAllianceRequest:
      type: object
      required:
        - target_player_id
      properties:
        target_player_id:
          type: string
          format: uuid
        message:
          type: string

    AllianceInvite:
      type: object
      properties:
        id:
          type: string
          format: uuid
        alliance_id:
          type: string
          format: uuid
        inviter_id:
          type: string
          format: uuid
        invitee_id:
          type: string
          format: uuid
        status:
          type: string
          enum: [pending, accepted, rejected, expired]
        created_at:
          type: string
          format: date-time

    JoinAllianceRequest:
      type: object
      properties:
        invite_id:
          type: string
          format: uuid
          nullable: true

    LeaveAllianceRequest:
      type: object
      required:
        - reason
      properties:
        reason:
          type: string

    PlayerRatings:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        combat_rating:
          type: integer
        trade_rating:
          type: integer
        social_rating:
          type: integer
        overall_rating:
          type: integer
        total_ratings:
          type: integer
        last_update:
          type: string
          format: date-time

    UpdateRatingRequest:
      type: object
      required:
        - target_player_id
        - rating_type
        - rating_value
      properties:
        target_player_id:
          type: string
          format: uuid
        rating_type:
          type: string
          enum: [combat, trade, social, overall]
        rating_value:
          type: integer
          minimum: 1
          maximum: 5
        comment:
          type: string

    SocialCapital:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        capital_value:
          type: integer
        network_size:
          type: integer
        influence_score:
          type: number
          format: decimal
        trust_score:
          type: number
          format: decimal
        last_update:
          type: string
          format: date-time

    InteractionHistoryResponse:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        interactions:
          type: array
          items:
            $ref: '#/components/schemas/InteractionEntry'
        total:
          type: integer

    InteractionEntry:
      type: object
      properties:
        id:
          type: string
          format: uuid
        player_id1:
          type: string
          format: uuid
        player_id2:
          type: string
          format: uuid
        interaction_type:
          type: string
          enum: [quest, trade, combat, social, other]
        description:
          type: string
        reputation_change:
          type: integer
        trust_change:
          type: integer
        occurred_at:
          type: string
          format: date-time

    RequestArbitrationRequest:
      type: object
      required:
        - target_player_id
        - dispute_type
        - description
      properties:
        target_player_id:
          type: string
          format: uuid
        dispute_type:
          type: string
          enum: [trade, contract, alliance, reputation, other]
        description:
          type: string
        evidence:
          type: array
          items:
            type: string

    ArbitrationCase:
      type: object
      properties:
        id:
          type: string
          format: uuid
        player_id1:
          type: string
          format: uuid
        player_id2:
          type: string
          format: uuid
        dispute_type:
          type: string
          enum: [trade, contract, alliance, reputation, other]
        description:
          type: string
        status:
          type: string
          enum: [pending, in_review, resolved, dismissed]
        resolution:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
        resolved_at:
          type: string
          format: date-time
          nullable: true

    CreatePlayerOrderRequest:
      type: object
      required:
        - order_type
        - title
        - description
        - reward
      properties:
        order_type:
          type: string
          enum: [combat, hacking, trade, political, research, social]
        title:
          type: string
        description:
          type: string
        reward:
          type: object
        requirements:
          type: object
        deadline:
          type: string
          format: date-time

    PlayerOrder:
      type: object
      properties:
        id:
          type: string
          format: uuid
        customer_id:
          type: string
          format: uuid
        executor_id:
          type: string
          format: uuid
          nullable: true
        order_type:
          type: string
        title:
          type: string
        description:
          type: string
        status:
          type: string
          enum: [open, accepted, in_progress, completed, cancelled]
        reward:
          type: object
        created_at:
          type: string
          format: date-time
        completed_at:
          type: string
          format: date-time
          nullable: true

    PlayerOrdersResponse:
      type: object
      properties:
        orders:
          type: array
          items:
            $ref: '#/components/schemas/PlayerOrder'
        total:
          type: integer

    CompletePlayerOrderRequest:
      type: object
      required:
        - success
      properties:
        success:
          type: boolean
        evidence:
          type: array
          items:
            type: string

    ReviewPlayerOrderRequest:
      type: object
      required:
        - rating
      properties:
        rating:
          type: integer
          minimum: 1
          maximum: 5
        comment:
          type: string
        executor_id:
          type: string
          format: uuid

    PlayerOrderReview:
      type: object
      properties:
        id:
          type: string
          format: uuid
        order_id:
          type: string
          format: uuid
        reviewer_id:
          type: string
          format: uuid
        executor_id:
          type: string
          format: uuid
        rating:
          type: integer
        comment:
          type: string
        created_at:
          type: string
          format: date-time

    CreateMultiExecutorOrderRequest:
      type: object
      required:
        - order_type
        - title
        - description
        - max_executors
      properties:
        order_type:
          type: string
          enum: [combat, hacking, trade, political, research, social]
        title:
          type: string
        description:
          type: string
        max_executors:
          type: integer
          minimum: 2
        reward:
          type: object
        requirements:
          type: object

    InviteExecutorRequest:
      type: object
      required:
        - executor_id
      properties:
        executor_id:
          type: string
          format: uuid
        message:
          type: string

    OrderAuctionsResponse:
      type: object
      properties:
        auctions:
          type: array
          items:
            $ref: '#/components/schemas/OrderAuction'
        total:
          type: integer

    CreateOrderAuctionRequest:
      type: object
      required:
        - order_id
        - starting_bid
        - duration
      properties:
        order_id:
          type: string
          format: uuid
        starting_bid:
          type: number
          format: float
        duration:
          type: integer
        reserve_price:
          type: number
          format: float
          nullable: true

    OrderAuction:
      type: object
      properties:
        id:
          type: string
          format: uuid
        order_id:
          type: string
          format: uuid
        starting_bid:
          type: number
          format: float
        current_bid:
          type: number
          format: float
        reserve_price:
          type: number
          format: float
          nullable: true
        status:
          type: string
          enum: [open, closed, cancelled]
        highest_bidder_id:
          type: string
          format: uuid
          nullable: true
        bids:
          type: array
          items:
            type: object
        created_at:
          type: string
          format: date-time
        closes_at:
          type: string
          format: date-time

    BidOnAuctionRequest:
      type: object
      required:
        - amount
      properties:
        amount:
          type: number
          format: float

    BuyOrderOptionRequest:
      type: object
      required:
        - option_type
        - strike_price
      properties:
        option_type:
          type: string
          enum: [call, put]
        strike_price:
          type: number
          format: float
        premium:
          type: number
          format: float
        expiration_time:
          type: string
          format: date-time

    OrderOption:
      type: object
      properties:
        id:
          type: string
          format: uuid
        order_id:
          type: string
          format: uuid
        buyer_id:
          type: string
          format: uuid
        option_type:
          type: string
        strike_price:
          type: number
          format: float
        premium:
          type: number
          format: float
        status:
          type: string
          enum: [active, exercised, expired]
        expiration_time:
          type: string
          format: date-time
        created_at:
          type: string
          format: date-time

    RequestArbitrationRequest:
      type: object
      required:
        - reason
      properties:
        reason:
          type: string
        evidence:
          type: array
          items:
            type: string

    ArbitrationCase:
      type: object
      properties:
        id:
          type: string
          format: uuid
        order_id:
          type: string
          format: uuid
        requester_id:
          type: string
          format: uuid
        reason:
          type: string
        status:
          type: string
          enum: [pending, in_review, resolved, dismissed]
        arbitrator_id:
          type: string
          format: uuid
          nullable: true
        resolution:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
        resolved_at:
          type: string
          format: date-time
          nullable: true

    BuyOrderInsuranceRequest:
      type: object
      required:
        - coverage_type
        - premium
      properties:
        coverage_type:
          type: string
          enum: [completion, cancellation, failure]
        premium:
          type: number
          format: float
        coverage_amount:
          type: number
          format: float

    OrderInsurance:
      type: object
      properties:
        id:
          type: string
          format: uuid
        order_id:
          type: string
          format: uuid
        buyer_id:
          type: string
          format: uuid
        coverage_type:
          type: string
        premium:
          type: number
          format: float
        coverage_amount:
          type: number
          format: float
        status:
          type: string
          enum: [active, claimed, expired]
        created_at:
          type: string
          format: date-time

    OrderRatingsResponse:
      type: object
      properties:
        character_id:
          type: string
          format: uuid
        as_creator:
          type: object
          properties:
            average_rating:
              type: number
              format: float
            total_reviews:
              type: integer
        as_executor:
          type: object
          properties:
            average_rating:
              type: number
              format: float
            total_reviews:
              type: integer

    OrderReputation:
      type: object
      properties:
        character_id:
          type: string
          format: uuid
        reputation_score:
          type: number
          format: float
        reputation_tier:
          type: string
        total_orders_created:
          type: integer
        total_orders_completed:
          type: integer
        success_rate:
          type: number
          format: float
        average_rating:
          type: number
          format: float

    OrderPricingResponse:
      type: object
      properties:
        order_type:
          type: string
        complexity:
          type: string
        base_price:
          type: number
          format: float
        commission:
          type: number
          format: float
        total_price:
          type: number
          format: float
        estimated_duration:
          type: integer
        pricing_breakdown:
          type: object

    MentorsResponse:
      type: object
      properties:
        mentors:
          type: array
          items:
            $ref: '#/components/schemas/Mentor'
        total:
          type: integer

    Mentor:
      type: object
      properties:
        id:
          type: string
          format: uuid
        character_id:
          type: string
          format: uuid
        reputation:
          type: integer
        skills:
          type: array
          items:
            type: string
        rating:
          type: number
          format: float

    MentorshipContractsResponse:
      type: object
      properties:
        contracts:
          type: array
          items:
            $ref: '#/components/schemas/MentorshipContract'
        total:
          type: integer

    CreateMentorshipContractRequest:
      type: object
      required:
        - mentor_id
        - mentee_id
        - skills
      properties:
        mentor_id:
          type: string
          format: uuid
        mentee_id:
          type: string
          format: uuid
        skills:
          type: array
          items:
            type: string
        payment:
          type: object

    MentorshipContract:
      type: object
      properties:
        id:
          type: string
          format: uuid
        mentor_id:
          type: string
          format: uuid
        mentee_id:
          type: string
          format: uuid
        skills:
          type: array
          items:
            type: string
        status:
          type: string
          enum: [active, completed, terminated]
        created_at:
          type: string
          format: date-time
        completed_at:
          type: string
          format: date-time
          nullable: true

    MenteesResponse:
      type: object
      properties:
        mentees:
          type: array
          items:
            $ref: '#/components/schemas/Mentee'
        total:
          type: integer

    Mentee:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        level:
          type: integer
        skills:
          type: array
          items:
            type: string
        looking_for:
          type: array
          items:
            type: string

    CreateMentorshipProposalRequest:
      type: object
      required:
        - mentor_id
        - mentee_id
        - skills
      properties:
        mentor_id:
          type: string
          format: uuid
        mentee_id:
          type: string
          format: uuid
        skills:
          type: array
          items:
            type: string
        message:
          type: string
        payment:
          type: object

    MentorshipProposal:
      type: object
      properties:
        id:
          type: string
          format: uuid
        mentor_id:
          type: string
          format: uuid
        mentee_id:
          type: string
          format: uuid
        skills:
          type: array
          items:
            type: string
        status:
          type: string
          enum: [pending, accepted, rejected]
        created_at:
          type: string
          format: date-time

    TerminateContractRequest:
      type: object
      properties:
        reason:
          type: string

    CreateMentorshipScheduleRequest:
      type: object
      required:
        - contract_id
        - format
      properties:
        contract_id:
          type: string
          format: uuid
        format:
          type: string
          enum: [theoretical, practical, content_based, examination, group, vr]
        time_slots:
          type: array
          items:
            type: object
            properties:
              start_time:
                type: string
                format: date-time
              end_time:
                type: string
                format: date-time
              location:
                type: string

    MentorshipSchedule:
      type: object
      properties:
        id:
          type: string
          format: uuid
        contract_id:
          type: string
          format: uuid
        format:
          type: string
        time_slots:
          type: array
          items:
            type: object
        created_at:
          type: string
          format: date-time

    UpdateMentorshipScheduleRequest:
      type: object
      properties:
        time_slots:
          type: array
          items:
            type: object

    CreateMentorshipLessonRequest:
      type: object
      required:
        - contract_id
        - skill
        - format
      properties:
        contract_id:
          type: string
          format: uuid
        skill:
          type: string
        format:
          type: string
          enum: [theoretical, practical, content_based, examination, group, vr]
        scheduled_time:
          type: string
          format: date-time
        content_id:
          type: string
          format: uuid
          nullable: true

    MentorshipLesson:
      type: object
      properties:
        id:
          type: string
          format: uuid
        contract_id:
          type: string
          format: uuid
        skill:
          type: string
        format:
          type: string
        status:
          type: string
          enum: [scheduled, started, completed, cancelled]
        scheduled_time:
          type: string
          format: date-time
        started_at:
          type: string
          format: date-time
          nullable: true
        completed_at:
          type: string
          format: date-time
          nullable: true
        evaluation:
          type: object
          nullable: true

    MentorshipLessonsResponse:
      type: object
      properties:
        lessons:
          type: array
          items:
            $ref: '#/components/schemas/MentorshipLesson'
        total:
          type: integer

    EvaluateLessonRequest:
      type: object
      required:
        - rating
      properties:
        rating:
          type: integer
          minimum: 1
          maximum: 5
        comment:
          type: string
        skill_progress:
          type: object

    SkillProgressResponse:
      type: object
      properties:
        contract_id:
          type: string
          format: uuid
        skills:
          type: array
          items:
            type: object
            properties:
              skill:
                type: string
              level:
                type: integer
              progress:
                type: number
                format: float
              lessons_completed:
                type: integer

    MentorReputation:
      type: object
      properties:
        mentor_id:
          type: string
          format: uuid
        rating:
          type: number
          format: float
        total_reviews:
          type: integer
        reviews:
          type: array
          items:
            $ref: '#/components/schemas/MentorReview'

    ReviewMentorRequest:
      type: object
      required:
        - rating
      properties:
        rating:
          type: integer
          minimum: 1
          maximum: 5
        comment:
          type: string
        contract_id:
          type: string
          format: uuid

    MentorReview:
      type: object
      properties:
        id:
          type: string
          format: uuid
        mentor_id:
          type: string
          format: uuid
        reviewer_id:
          type: string
          format: uuid
        rating:
          type: integer
        comment:
          type: string
        created_at:
          type: string
          format: date-time

    AcademiesResponse:
      type: object
      properties:
        academies:
          type: array
          items:
            $ref: '#/components/schemas/Academy'
        total:
          type: integer

    Academy:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        type:
          type: string
          enum: [corporate, gang, independent]
        description:
          type: string
        location:
          type: string
        rating:
          type: number
          format: float
        programs:
          type: array
          items:
            type: string

    EnrollInAcademyRequest:
      type: object
      required:
        - character_id
        - program_id
      properties:
        character_id:
          type: string
          format: uuid
        program_id:
          type: string
          format: uuid

    AcademyEnrollment:
      type: object
      properties:
        id:
          type: string
          format: uuid
        academy_id:
          type: string
          format: uuid
        character_id:
          type: string
          format: uuid
        program_id:
          type: string
          format: uuid
        status:
          type: string
          enum: [enrolled, active, completed, dropped]
        enrolled_at:
          type: string
          format: date-time

    AcademyProgramsResponse:
      type: object
      properties:
        programs:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                format: uuid
              name:
                type: string
              description:
                type: string
              skills:
                type: array
                items:
                  type: string
              duration:
                type: string
              cost:
                type: number
                format: float

    CreateMentorshipChainRequest:
      type: object
      required:
        - character_id
        - chain_type
      properties:
        character_id:
          type: string
          format: uuid
        chain_type:
          type: string
          enum: [player_to_player, player_to_npc, npc_to_player, npc_to_npc]

    MentorshipChain:
      type: object
      properties:
        id:
          type: string
          format: uuid
        character_id:
          type: string
          format: uuid
        chain_type:
          type: string
        links:
          type: array
          items:
            type: object
        created_at:
          type: string
          format: date-time

    MentorshipChainsResponse:
      type: object
      properties:
        chains:
          type: array
          items:
            $ref: '#/components/schemas/MentorshipChain'

    MentorshipContentResponse:
      type: object
      properties:
        content:
          type: array
          items:
            $ref: '#/components/schemas/MentorshipContent'
        total:
          type: integer

    CreateMentorshipContentRequest:
      type: object
      required:
        - title
        - skill
        - format
      properties:
        title:
          type: string
        skill:
          type: string
        format:
          type: string
          enum: [theoretical, practical, content_based, examination, group, vr]
        description:
          type: string
        content_data:
          type: object

    MentorshipContent:
      type: object
      properties:
        id:
          type: string
          format: uuid
        title:
          type: string
        skill:
          type: string
        format:
          type: string
        description:
          type: string
        content_data:
          type: object
        created_by:
          type: string
          format: uuid
        created_at:
          type: string
          format: date-time

    MentorshipPaymentsResponse:
      type: object
      properties:
        payments:
          type: array
          items:
            $ref: '#/components/schemas/MentorshipPayment'
        total:
          type: integer

    ProcessMentorshipPaymentRequest:
      type: object
      required:
        - contract_id
        - amount
        - currency
      properties:
        contract_id:
          type: string
          format: uuid
        amount:
          type: number
          format: float
        currency:
          type: string
        payment_type:
          type: string
          enum: [lesson, contract, bonus]

    MentorshipPayment:
      type: object
      properties:
        id:
          type: string
          format: uuid
        contract_id:
          type: string
          format: uuid
        from_character_id:
          type: string
          format: uuid
        to_character_id:
          type: string
          format: uuid
        amount:
          type: number
          format: float
        currency:
          type: string
        payment_type:
          type: string
        status:
          type: string
          enum: [pending, completed, failed]
        created_at:
          type: string
          format: date-time

    Error:
      type: object
      properties:
        error:
          type: string

  responses:
    BadRequest:
      description: Неверный запрос
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'

    Unauthorized:
      description: Требуется аутентификация
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'

    NotFound:
      description: Ресурс не найден
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'

    InternalServerError:
      description: Внутренняя ошибка сервера
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'

security:
  - BearerAuth: []

