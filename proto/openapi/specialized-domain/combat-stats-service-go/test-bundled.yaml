openapi: 3.0.3
info:
  title: Test
  version: 1.0.0
components:
  schemas:
    WeaponAnalytics:
      type: object
      required:
        - weapon_id
        - weapon_name
        - total_usage
        - accuracy_percentage
        - average_damage_per_hit
        - kill_death_ratio
        - popularity_rank
      properties:
        weapon_id:
          type: string
          format: uuid
          description: Weapon unique identifier
          example: 550e8400-e29b-41d4-a716-446655440001
        weapon_name:
          type: string
          description: Weapon display name
          example: Malorian Arms 3516
          maxLength: 100
        total_usage:
          type: integer
          format: int64
          description: Total times weapon was used
          example: 125000
          minimum: 0
        accuracy_percentage:
          type: number
          format: float
          description: Average accuracy with this weapon
          example: 72.5
          minimum: 0
          maximum: 100
        average_damage_per_hit:
          type: number
          format: float
          description: Average damage per successful hit
          example: 85.3
          minimum: 0
        kill_death_ratio:
          type: number
          format: float
          description: K/D ratio when using this weapon
          example: 1.45
          minimum: 0
        popularity_rank:
          type: integer
          description: Popularity ranking among all weapons
          example: 3
          minimum: 1
        headshot_rate:
          type: number
          format: float
          description: Headshot percentage with this weapon
          example: 28.7
          minimum: 0
          maximum: 100
        average_ttk_seconds:
          type: number
          format: float
          description: Average time to kill in seconds
          example: 3.2
          minimum: 0
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%. Analytics queries optimized.'
    WeaponAnalyticsResponse:
      type: object
      required:
        - analytics
      properties:
        analytics:
          $ref: '#/components/schemas/WeaponAnalytics'
        comparison:
          type: object
          description: Comparison with other weapons in same category
          properties:
            category_average_accuracy:
              type: number
              format: float
              example: 65.2
            category_rank:
              type: integer
              example: 2
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
