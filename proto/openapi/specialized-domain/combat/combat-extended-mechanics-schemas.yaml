openapi: 3.0.3
components:
  schemas:
    CombatHackingRequest:
      type: object
      required:
        - character_id
        - session_id
        - hacking_type
        - target_id
      properties:
        character_id:
          type: string
          format: uuid
          description: Идентификатор персонажа
        session_id:
          type: string
          format: uuid
          description: Идентификатор боевой сессии
        target_id:
          type: string
          format: uuid
          description: Идентификатор цели взлома
        network_id:
          type: string
          format: uuid
          nullable: true
          description: Идентификатор сети (если требуется)
        hacking_type:
          type: string
          enum:
            - disable_implant
            - control_device
            - access_network
            - infrastructure_hack
          description: Тип взлома
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CombatHackingResponse:
      type: object
      required:
        - success
        - effects_applied
      properties:
        effects_applied:
          type: array
          items:
            type: object
            properties:
              effect_type:
                type: string
              target_id:
                type: string
                format: uuid
              duration:
                type: integer
                description: Длительность эффекта в секундах
        success:
          type: boolean
          description: Успешность взлома
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CombatHackingNetwork:
      type: object
      required:
        - network_id
        - network_name
        - network_type
        - access_level
      properties:
        network_id:
          type: string
          format: uuid
        network_name:
          type: string
        network_type:
          type: string
          enum:
            - enemy
            - device
            - infrastructure
            - combat_scenario
        available_demons:
          type: array
          items:
            type: string
        access_level:
          type: integer
          minimum: 1
          maximum: 10
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CombatImplantActivationRequest:
      type: object
      required:
        - character_id
        - session_id
        - implant_id
      properties:
        character_id:
          type: string
          format: uuid
        session_id:
          type: string
          format: uuid
        implant_id:
          type: string
          format: uuid
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CombatImplantActivationResponse:
      type: object
      required:
        - activation_id
        - effects_applied
      properties:
        activation_id:
          type: string
          format: uuid
        effects_applied:
          type: array
          items:
            $ref: '#/components/schemas/CombatImplantEffect'
        energy_used:
          type: integer
        humanity_cost:
          type: integer
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CombatImplantEffect:
      type: object
      required:
        - effect_id
        - effect_type
        - applied_at
      properties:
        effect_id:
          type: string
          format: uuid
        implant_id:
          type: string
          format: uuid
        effect_type:
          type: string
        applied_at:
          type: string
          format: date-time
        expires_at:
          type: string
          format: date-time
          nullable: true
        modifiers:
          type: object
          description: Модификаторы эффекта
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    AdvancedAimRequest:
      type: object
      required:
        - character_id
        - weapon_id
        - target_position
      properties:
        character_id:
          type: string
          format: uuid
        weapon_id:
          type: string
          format: uuid
        accuracy_modifiers:
          type: object
          nullable: true
        target_position:
          $ref: ../../common-schemas.yaml#/components/schemas/Position3D
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    AdvancedAimResponse:
      type: object
      required:
        - accuracy
        - calculated_position
      properties:
        calculated_position:
          $ref: ../../common-schemas.yaml#/components/schemas/Position3D
        modifiers_applied:
          type: array
          items:
            type: string
        accuracy:
          type: number
          format: float
          minimum: 0
          maximum: 1
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    RecoilControlRequest:
      type: object
      required:
        - character_id
        - weapon_id
        - shots_fired
      properties:
        character_id:
          type: string
          format: uuid
        weapon_id:
          type: string
          format: uuid
        shots_fired:
          type: integer
          minimum: 1
        control_skill:
          type: number
          format: float
          nullable: true
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    RecoilControlResponse:
      type: object
      required:
        - recoil_reduction
        - final_spread
      properties:
        recoil_reduction:
          type: number
          format: float
        final_spread:
          type: number
          format: float
        control_applied:
          type: boolean
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CombatLoadout:
      type: object
      required:
        - loadout_id
        - character_id
        - name
        - weapons
        - abilities
        - implants
      properties:
        loadout_id:
          type: string
          format: uuid
        character_id:
          type: string
          format: uuid
        name:
          type: string
        weapons:
          type: array
          items:
            type: string
            format: uuid
        abilities:
          type: array
          items:
            type: string
            format: uuid
        implants:
          type: array
          items:
            type: string
            format: uuid
        equipment:
          type: array
          items:
            type: string
            format: uuid
          nullable: true
        is_active:
          type: boolean
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CombatLoadoutCreate:
      type: object
      required:
        - character_id
        - name
        - weapons
        - abilities
        - implants
      properties:
        character_id:
          type: string
          format: uuid
        name:
          type: string
        weapons:
          type: array
          items:
            type: string
            format: uuid
        abilities:
          type: array
          items:
            type: string
            format: uuid
        implants:
          type: array
          items:
            type: string
            format: uuid
        equipment:
          type: array
          items:
            type: string
            format: uuid
          nullable: true
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CombatLoadoutEquipRequest:
      type: object
      required:
        - character_id
        - session_id
        - loadout_id
      properties:
        character_id:
          type: string
          format: uuid
        session_id:
          type: string
          format: uuid
        loadout_id:
          type: string
          format: uuid
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CombatMechanicsStatus:
      type: object
      required:
        - character_id
        - session_id
        - active_implants
        - available_networks
        - shooting_status
        - active_loadout
      properties:
        character_id:
          type: string
          format: uuid
        session_id:
          type: string
          format: uuid
        shooting_status:
          type: object
          properties:
            weapon_id:
              type: string
              format: uuid
            accuracy:
              type: number
              format: float
            recoil_control:
              type: number
              format: float
        active_loadout:


        active_implants:
          type: array
          items:
            $ref: '#/components/schemas/CombatImplantEffect'
        available_networks:
          type: array
          items:
            $ref: '#/components/schemas/CombatHackingNetwork'
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'

info:
paths:
