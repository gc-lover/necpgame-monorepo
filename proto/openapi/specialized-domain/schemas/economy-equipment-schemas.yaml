openapi: 3.0.3
components:
  schemas:
    GenerateEquipmentRequest:
      type: object
      required:
        - item_type
      properties:
        brand_id:
          type: string
          format: uuid
          nullable: true
        seed:
          type: string
          nullable: true
        source:
          type: string
          enum:
            - LOOT
            - CRAFT
            - PURCHASE
            - QUEST
          nullable: true
        item_type:
          $ref: '#/components/schemas/EquipmentItemType'
        rarity:

      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    GeneratedItem:
      type: object
      required:
        - id
        - seed
        - brand_id
        - item_type
        - rarity
        - stats
        - generated_at
      properties:
        id:
          type: string
          format: uuid
        brand_id:
          type: string
          format: uuid
        seed:
          type: string
        generated_at:
          type: string
          format: date-time
        stats:
          type: object
          additionalProperties: true
        item_type:
          $ref: '#/components/schemas/EquipmentItemType'
        rarity:
          $ref: '#/components/schemas/EquipmentRarity'
        modifiers:
          type: array
          items:
            type: string
            format: uuid
        mod_slots:
          type: integer
          minimum: 0
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    EquipmentItemType:
      type: string
      enum:
        - WEAPON
        - IMPLANT
        - ARMOR
        - ACCESSORY
    EquipmentRarity:
      type: string
      enum:
        - COMMON
        - UNCOMMON
        - RARE
        - EPIC
        - LEGENDARY
    EquipmentMatrix:
      type: object
      required:
        - id
        - brand_id
        - item_type
        - rarity
        - stat_pools
        - created_at
        - updated_at
        - version
      properties:
        id:
          type: string
          format: uuid
        brand_id:
          type: string
          format: uuid
        brand_bonuses:
          type: object
          additionalProperties: true
        item_type:
          $ref: '#/components/schemas/EquipmentItemType'
        rarity:
          $ref: '#/components/schemas/EquipmentRarity'
        stat_pools:
          type: array
          items:
            $ref: '#/components/schemas/StatPool'
        modifiers:
          type: array
          items:
            $ref: '#/components/schemas/Modifier'
        version:
          type: integer
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    StatPool:
      type: object
      required:
        - id
        - name
        - stat_type
        - min_value
        - max_value
        - distribution
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        rarity_modifiers:
          type: object
          additionalProperties: true
        distribution:
          $ref: '#/components/schemas/StatDistribution'
        stat_type:
          $ref: '#/components/schemas/StatType'
        min_value:
          type: number
          format: float
        max_value:
          type: number
          format: float
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    StatType:
      type: string
      enum:
        - DAMAGE
        - ACCURACY
        - RANGE
        - FIRE_RATE
        - RELOAD_SPEED
        - MAGAZINE_SIZE
        - CRIT_CHANCE
        - CRIT_DAMAGE
        - STABILITY
        - HANDLING
        - DURABILITY
        - ENERGY_COST
        - COOLDOWN
        - EFFECT_DURATION
    StatDistribution:
      type: string
      enum:
        - UNIFORM
        - NORMAL
        - EXPONENTIAL
    Modifier:
      type: object
      required:
        - id
        - name
        - modifier_type
        - value
        - rarity
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        restrictions:
          type: object
          additionalProperties: true
        rarity:
          $ref: '#/components/schemas/EquipmentRarity'
        modifier_type:
          $ref: '#/components/schemas/ModifierType'
        compatibility:
          type: array
          items:
            type: string
        value:
          type: number
          format: float
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    ModifierType:
      type: string
      enum:
        - DAMAGE_BOOST
        - CRIT_CHANCE
        - ELEMENTAL_DAMAGE
        - STATUS_EFFECT
        - STAT_BOOST
        - REDUCTION
        - MULTIPLIER
    Brand:
      type: object
      required:
        - id
        - name
        - description
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
        identity:
          type: string
        bonuses:
          type: object
          additionalProperties: true
        faction_exclusives:
          type: array
          items:
            type: string
            format: uuid
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    BrandsListResponse:
      type: object
      required:
        - brands
      properties:
        brands:
          type: array
          items:
            $ref: '#/components/schemas/Brand'
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    Rarity:
      type: object
      required:
        - name
        - level
      properties:
        color:
          type: string
        name:
          $ref: '#/components/schemas/EquipmentRarity'
        level:
          type: integer
          minimum: 0
        drop_chance:
          type: number
          format: float
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    RaritiesListResponse:
      type: object
      required:
        - rarities
      properties:
        rarities:
          type: array
          items:
            $ref: '#/components/schemas/Rarity'
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    StatPoolsListResponse:
      type: object
      required:
        - stat_pools
      properties:
        stat_pools:
          type: array
          items:
            $ref: '#/components/schemas/StatPool'
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    ValidateBalanceRequest:
      type: object
      required:
        - item_id
      properties:
        item_id:
          type: string
          format: uuid
        league:
          type: string
          nullable: true
        game_mode:
          type: string
          enum:
            - PVE
            - PVP
            - EXTRACT
          nullable: true
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    BalanceValidationResult:
      type: object
      required:
        - valid
        - item_id
      properties:
        item_id:
          type: string
          format: uuid
        temperature_restrictions:
          type: object
          additionalProperties: true
          nullable: true
        issues:
          type: array
          items:
            type: object
            properties:
              type:
                type: string
              message:
                type: string
              severity:
                type: string
                enum:
                  - LOW
                  - MEDIUM
                  - HIGH
                  - CRITICAL
        ttk_estimate:
          type: number
          format: float
          nullable: true
        cyberpsychosis_risk:
          type: number
          format: float
          nullable: true
        valid:
          type: boolean
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CatalogItem:
      type: object
      required:
        - id
        - name
        - category
        - rarity
      properties:
        id:
          type: string
          format: uuid
        brand_id:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
        category:
          type: string
        brand_name:
          type: string
        icon_url:
          type: string
          format: uri
        created_at:
          type: string
          format: date-time
        stats:
          type: object
          additionalProperties: true
        rarity:
          $ref: '#/components/schemas/EquipmentRarity'
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    IconicItem:
      type: object
      required:
        - id
        - name
        - year
        - unlocked
      properties:
        id:
          type: string
          format: uuid
        brand_id:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
        category:
          type: string
        brand_name:
          type: string
        unique_ability:
          type: string
        unlock_condition:
          type: string
        rarity:
          type: string
          enum:
            - ICONIC
        icon_url:
          type: string
          format: uri
        created_at:
          type: string
          format: date-time
        stats:
          type: object
          additionalProperties: true
        year:
          type: integer
          minimum: 2020
          maximum: 2093
        timeline_position:
          type: integer
        unlocked:
          type: boolean
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    EquipmentAnalytics:
      type: object
      required:
        - period
        - total_items
      properties:
        period:
          type: string
          enum:
            - day
            - week
            - month
            - year
        items_by_category:
          type: object
          additionalProperties:
            type: integer
        items_by_rarity:
          type: object
          additionalProperties:
            type: integer
        generation_stats:
          type: object
          properties:
            total_generated:
              type: integer
            by_source:
              type: object
              additionalProperties:
                type: integer
        most_popular_brands:
          type: array
          items:
            type: object
            properties:
              brand_id:
                type: string
                format: uuid
              brand_name:
                type: string
              count:
                type: integer
        total_items:
          type: integer
        iconic_unlocks:
          type: integer
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'

info:
paths:
