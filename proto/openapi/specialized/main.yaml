openapi: 3.0.3
info:
  title: Specialized domain API
  description: 'Consolidated specialized domain Domain API for NECPGAME.

    This domain consolidates all specialized functionality.

    '
  version: 1.0.0
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  contact:
    name: NECPGAME API Support
    url: https://necpgame.com/support
    email: api@necpgame.com
servers:
- url: http://localhost:8080/api/v1
  description: Development server
- url: https://api.necpgame.com/api/v1
  description: Production server
security:
- BearerAuth: []
tags:
- name: Specialized domain
  description: specialized domain domain endpoints
paths:
  /api/v1/quests/health:
    $ref: ./quests/main.yaml#/paths/~1api~1v1~1quests~1health
  /api/v1/quests:
    $ref: ./quests/main.yaml#/paths/~1api~1v1~1quests
  /api/v1/quests/{quest_id}:
    $ref: ./quests/main.yaml#/paths/~1api~1v1~1quests~1{quest_id}
  /api/v1/quests/{quest_id}/accept:
    $ref: ./quests/main.yaml#/paths/~1api~1v1~1quests~1{quest_id}~1accept
  /api/v1/quests/{quest_id}/progress:
    $ref: ./quests/main.yaml#/paths/~1api~1v1~1quests~1{quest_id}~1progress
  /api/v1/quests/{quest_id}/complete:
    $ref: ./quests/main.yaml#/paths/~1api~1v1~1quests~1{quest_id}~1complete
  /api/v1/quests/content/reload:
    $ref: ./quests/main.yaml#/paths/~1api~1v1~1quests~1content~1reload
  /health:
    $ref: ./combat/combat-system.yaml#/paths/~1health
  /api/v1/combat/sessions:
    $ref: ./combat/combat-system.yaml#/paths/~1api~1v1~1combat~1sessions
  /api/v1/combat/sessions/{session_id}:
    $ref: ./combat/combat-system.yaml#/paths/~1api~1v1~1combat~1sessions~1{session_id}
  /api/v1/combat/sessions/{session_id}/actions:
    $ref: ./combat/combat-system.yaml#/paths/~1api~1v1~1combat~1sessions~1{session_id}~1actions
  /api/v1/combat/weapons:
    $ref: ./combat/combat-system.yaml#/paths/~1api~1v1~1combat~1weapons
  /api/v1/combat/abilities:
    $ref: ./combat/combat-system.yaml#/paths/~1api~1v1~1combat~1abilities
  /combat/abilities/health:
    $ref: ./combat/combat-abilities-service-go/main.yaml#/paths/~1health
  /combat/abilities:
    $ref: ./combat/combat-abilities-service-go/main.yaml#/paths/~1combat~1abilities
  /combat/abilities/{ability_id}/cooldown:
    $ref: ./combat/combat-abilities-service-go/main.yaml#/paths/~1combat~1abilities~1{ability_id}~1cooldown
  /combat/abilities/{ability_id}/synergies:
    $ref: ./combat/combat-abilities-service-go/main.yaml#/paths/~1combat~1abilities~1{ability_id}~1synergies
  /combat/abilities/validate:
    $ref: ./combat/combat-abilities-service-go/main.yaml#/paths/~1combat~1abilities~1validate
  /api/v1/players/{player_id}/stats:
    get:
      tags:
      - Player Analytics
      summary: Get player statistics and performance metrics
      operationId: getPlayerStats
      parameters:
      - name: player_id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: Player statistics retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlayerStats'
        '404':
          description: Player not found
  /api/v1/players/{player_id}/achievements:
    get:
      tags:
      - Achievement System
      summary: Get player achievements and progress
      operationId: getPlayerAchievements
      parameters:
      - name: player_id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: Player achievements retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlayerAchievements'
  /api/v1/leaderboards/combat:
    get:
      tags:
      - Leaderboards
      summary: Get combat leaderboards
      operationId: getCombatLeaderboards
      parameters:
      - name: limit
        in: query
        schema:
          type: integer
          minimum: 1
          maximum: 100
          default: 50
      - name: timeframe
        in: query
        schema:
          type: string
          enum:
          - daily
          - weekly
          - monthly
          - all_time
          default: weekly
      responses:
        '200':
          description: Combat leaderboards retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CombatLeaderboard'
  /api/v1/leaderboards/quests:
    get:
      tags:
      - Leaderboards
      summary: Get quest completion leaderboards
      operationId: getQuestLeaderboards
      parameters:
      - name: limit
        in: query
        schema:
          type: integer
          minimum: 1
          maximum: 100
          default: 50
      - name: quest_type
        in: query
        schema:
          type: string
          enum:
          - main
          - side
          - faction
          - event
      responses:
        '200':
          description: Quest leaderboards retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestLeaderboard'
  /api/v1/events/active:
    get:
      tags:
      - Game Events
      summary: Get currently active game events
      operationId: getActiveEvents
      responses:
        '200':
          description: Active events retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ActiveEvents'
  /api/v1/events/{event_id}/participate:
    post:
      tags:
      - Game Events
      summary: Participate in a game event
      operationId: participateInEvent
      parameters:
      - name: event_id
        in: path
        required: true
        schema:
          type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EventParticipation'
      responses:
        '200':
          description: Successfully joined event
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EventParticipationResponse'
  /api/v1/world/state:
    get:
      tags:
      - World Systems
      summary: Get current world state and environmental conditions
      operationId: getWorldState
      parameters:
      - name: location
        in: query
        schema:
          type: string
      responses:
        '200':
          description: World state retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WorldState'
  /api/v1/mechanics/health:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1health
  /api/v1/mechanics/health/batch:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1health~1batch
  /api/v1/mechanics/health/ws:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1health~1ws
  /api/v1/mechanics:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics
  /api/v1/mechanics/{mechanic_id}:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1{mechanic_id}
  /api/v1/mechanics/validate:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1validate
  /api/v1/mechanics/conflicts:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1conflicts
  /api/v1/mechanics/economy/resources/health:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1economy~1resources~1health
  /api/v1/mechanics/economy/resources/catalog:
    $ref: ../economy/economy-resources-catalog-service.yaml#/paths/~1api~1v1~1economy~1resources~1catalog
  /api/v1/mechanics/economy/trade/health:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1economy~1trade~1health
  /api/v1/mechanics/economy/production/health:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1economy~1production~1health
  /api/v1/mechanics/social/guilds/health:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1social~1guilds~1health
  /api/v1/mechanics/social/relationships/health:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1social~1relationships~1health
  /api/v1/mechanics/social/reputation/health:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1social~1reputation~1health
  /api/v1/mechanics/world/locations/health:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1world~1locations~1health
  /api/v1/mechanics/world/cities/health:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1world~1cities~1health
  /api/v1/mechanics/world/factions/health:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1world~1factions~1health
  /api/v1/mechanics/combat/system/health:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1combat~1system~1health
  /api/v1/mechanics/combat/abilities/health:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1combat~1abilities~1health
  /api/v1/mechanics/combat/weapons/health:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1combat~1weapons~1health
  /api/v1/mechanics/weapons/health:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1weapons~1health
  /api/v1/mechanics/economy/weapons/health:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1economy~1weapons~1health
  /api/v1/mechanics/gameplay/weapons/health:
    $ref: ./mechanics/game-mechanics-service.yaml#/paths/~1api~1v1~1mechanics~1gameplay~1weapons~1health
  /api/v1/stealth/visibility/{character_id}:
    $ref: ./movement/stealth.yaml#/paths/~1gameplay~1combat~1stealth~1{character_id}~1visibility
  /api/v1/specialized-domain/health:
    get:
      summary: specialized domain domain health check
      operationId: specialized-domainHealthCheck
      tags:
      - Specialized domain
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HealthResponse'
          headers:
            Cache-Control:
              schema:
                type: string
                example: max-age=300, s-maxage=600
            ETag:
              schema:
                type: string
                example: '"-api-v1-specialized-domain-health-v1.0"'
            Content-Encoding:
              schema:
                type: string
                enum:
                - gzip
                - deflate
                - br
  /api/v1/specialized-domain/health/batch:
    post:
      summary: Batch health check for multiple domains
      operationId: batchHealthCheck
      tags:
      - System
      description: 'Performance optimization: Check multiple domain health in single
        request'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
              - domains
              properties:
                domains:
                  type: array
                  items:
                    type: string
                  maxItems: 10
      responses:
        '200':
          description: Batch health results
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/HealthResponse'
                  total_time_ms:
                    type: integer
                    description: Total processing time
  /api/v1/specialized-domain/health/ws:
    get:
      summary: Real-time health monitoring WebSocket
      operationId: healthWebSocket
      tags:
      - System
      description: Real-time health updates without polling
      responses:
        '101':
          description: WebSocket connection established
components:
  schemas:
    Quest:
      $ref: ./gameplay/Quest
    QuestDetailResponse:
      $ref: ./gameplay/QuestDetailResponse
    QuestListResponse:
      $ref: ./gameplay/QuestListResponse
    QuestProgressResponse:
      $ref: ./gameplay/QuestProgressResponse
    QuestCompletionResponse:
      $ref: ./gameplay/QuestCompletionResponse
    QuestObjective:
      $ref: ./gameplay/QuestObjective
    QuestReward:
      $ref: ./gameplay/QuestReward
    CombatAbilityHealthResponse:
      $ref: ./combat/combat-abilities-service-go/main.yaml#/components/schemas/HealthResponse
    CombatAbilityError:
      $ref: ./combat/combat-abilities-service-go/main.yaml#/components/schemas/Error
    CombatActivateAbilityRequest:
      $ref: ./gameplay/ActivateAbilityRequest
    CombatActivateAbilityResponse:
      $ref: ./combat/combat-abilities-service-go/main.yaml#/components/schemas/ActivateAbilityResponse
    CombatListAbilitiesResponse:
      $ref: ./combat/combat-abilities-service-go/main.yaml#/components/schemas/ListAbilitiesResponse
    CombatAbilityCooldownResponse:
      $ref: ./combat/combat-abilities-service-go/main.yaml#/components/schemas/AbilityCooldownResponse
    CombatAbilitySynergiesResponse:
      $ref: ./combat/combat-abilities-service-go/main.yaml#/components/schemas/AbilitySynergiesResponse
    CombatValidateAbilityRequest:
      $ref: ./gameplay/ValidateAbilityRequest
    CombatValidateAbilityResponse:
      $ref: ./combat/combat-abilities-service-go/main.yaml#/components/schemas/ValidateAbilityResponse
    CombatAbilityInfo:
      $ref: ./combat/combat-abilities-service-go/main.yaml#/components/schemas/AbilityInfo
    CombatSynergyInfo:
      $ref: ./combat/combat-abilities-service-go/main.yaml#/components/schemas/SynergyInfo
    HealthResponse:
      $ref: ../common/schemas/health.yaml#/HealthResponse
    Error:
      $ref: ../common/schemas/error.yaml#/Error
    WebSocketHealthMessage:
      type: object
      required:
      - type
      - message_timestamp
      - health
      properties:
        type:
          type: string
          enum:
          - health_update
          - health_alert
          - service_down
        message_timestamp:
          type: string
          format: date-time
          description: Timestamp of the health message
        health:
          $ref: '#/components/schemas/HealthResponse'
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large â†’ small).
        Expected memory savings: 30-50%.'
    StealthVisibility:
      $ref: ./movement/stealth.yaml#/components/schemas/StealthVisibility
    PlayerStats:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        total_playtime:
          type: integer
          description: Total playtime in minutes
        quests_completed:
          type: integer
        combat_wins:
          type: integer
        combat_losses:
          type: integer
        experience_gained:
          type: integer
        items_collected:
          type: integer
        last_active:
          type: string
          format: date-time
        favorite_weapon:
          type: string
        favorite_location:
          type: string
        achievements_unlocked:
          type: integer
    PlayerAchievements:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        total_achievements:
          type: integer
        achievements:
          type: array
          items:
            $ref: '#/components/schemas/Achievement'
        progress:
          type: array
          items:
            $ref: '#/components/schemas/AchievementProgress'
    Achievement:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        description:
          type: string
        icon:
          type: string
        rarity:
          type: string
          enum:
          - common
          - rare
          - epic
          - legendary
        unlocked_at:
          type: string
          format: date-time
    AchievementProgress:
      type: object
      properties:
        achievement_id:
          type: string
        current_progress:
          type: integer
        required_progress:
          type: integer
        percentage_complete:
          type: number
          format: float
    CombatLeaderboard:
      type: object
      properties:
        timeframe:
          type: string
        rankings:
          type: array
          items:
            $ref: '#/components/schemas/CombatRanking'
    CombatRanking:
      type: object
      properties:
        rank:
          type: integer
        player_id:
          type: string
          format: uuid
        player_name:
          type: string
        wins:
          type: integer
        losses:
          type: integer
        win_rate:
          type: number
          format: float
        total_score:
          type: integer
    QuestLeaderboard:
      type: object
      properties:
        quest_type:
          type: string
        rankings:
          type: array
          items:
            $ref: '#/components/schemas/QuestRanking'
    QuestRanking:
      type: object
      properties:
        rank:
          type: integer
        player_id:
          type: string
          format: uuid
        player_name:
          type: string
        quests_completed:
          type: integer
        total_quest_points:
          type: integer
        average_completion_time:
          type: integer
          description: Average completion time in minutes
    ActiveEvents:
      type: object
      properties:
        events:
          type: array
          items:
            $ref: '#/components/schemas/GameEvent'
    GameEvent:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        description:
          type: string
        type:
          type: string
          enum:
          - seasonal
          - limited_time
          - community
          - special
        start_time:
          type: string
          format: date-time
        end_time:
          type: string
          format: date-time
        rewards:
          type: array
          items:
            $ref: '#/components/schemas/EventReward'
        participants:
          type: integer
        max_participants:
          type: integer
    EventParticipation:
      type: object
      properties:
        player_id:
          type: string
          format: uuid
        event_id:
          type: string
        participation_type:
          type: string
          enum:
          - solo
          - team
          - guild
    EventParticipationResponse:
      type: object
      properties:
        success:
          type: boolean
        message:
          type: string
        event_id:
          type: string
        join_time:
          type: string
          format: date-time
    EventReward:
      type: object
      properties:
        type:
          type: string
          enum:
          - experience
          - item
          - currency
          - achievement
        name:
          type: string
        quantity:
          type: integer
    WorldState:
      type: object
      properties:
        location:
          type: string
        weather:
          type: string
          enum:
          - clear
          - rainy
          - stormy
          - foggy
          - snowy
        time_of_day:
          type: string
          enum:
          - dawn
          - morning
          - noon
          - afternoon
          - evening
          - night
          - midnight
        active_events:
          type: array
          items:
            type: string
        environmental_hazards:
          type: array
          items:
            type: string
        population_density:
          type: string
          enum:
          - low
          - medium
          - high
          - crowded
        security_level:
          type: string
          enum:
          - safe
          - moderate
          - dangerous
          - critical
    PaginationParams:
      $ref: ../common/schemas/pagination.yaml#/PaginationParams
    PaginatedResponse:
      $ref: ../common/schemas/pagination.yaml#/PaginatedResponse
  responses:
    OK:
      $ref: ../common/responses/success.yaml#/OK
    Created:
      $ref: ../common/responses/success.yaml#/Created
    BadRequest:
      $ref: ./gameplay/BadRequest
    Unauthorized:
      $ref: ../common/responses/error.yaml#/Unauthorized
    Forbidden:
      $ref: ../common/responses/error.yaml#/Forbidden
    NotFound:
      $ref: ../common/responses/error.yaml#/NotFound
    Conflict:
      $ref: ../common/responses/error.yaml#/Conflict
    InternalServerError:
      $ref: ../common/responses/error.yaml#/InternalServerError
    HealthOK:
      $ref: ../common/responses/success.yaml#/HealthOK
    HealthBatchSuccess:
      $ref: ../common/responses/success.yaml#/HealthBatchSuccess
  securitySchemes:
    BearerAuth:
      $ref: ../common/security/security.yaml#/BearerAuth
    ApiKeyAuth:
      $ref: ../common/security/security.yaml#/ApiKeyAuth
    ServiceAuth:
      $ref: ../common/security/security.yaml#/ServiceAuth
