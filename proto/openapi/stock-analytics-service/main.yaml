openapi: 3.0.3
info:
  title: Stock Analytics Charts Service API
  description: '**Enterprise-Grade Stock Analytics Charts API for NECPGAME**

    High-performance real-time stock charts and technical analysis API for MMOFPS
    trading mechanics.

    ## Key Features

    - **Real-time chart data** with sub-millisecond latency - **Technical indicators**
    calculations (RSI, MACD, Bollinger Bands) - **WebSocket streaming** for live chart
    updates - **Market overview** with sector performance - **Custom chart configurations**
    for trading strategies

    ## Domain Purpose

    Provides financial market data and technical analysis for in-game trading systems,
    supporting real-time decision making for players in the NECPGAME economy.

    ## Performance Targets

    - P99 Latency: <100ms for chart data retrieval - Memory: <25KB per chart request
    - Concurrent users: 50,000+ simultaneous chart viewers - Data throughput: 10,000+
    charts/second - WebSocket connections: 25,000+ active streams

    ## Enterprise Architecture

    - **Microservice domain:** economy-domain (financial systems) - **Data source:**
    PostgreSQL with TimescaleDB for time-series - **Caching:** Redis for hot chart
    data - **Streaming:** WebSocket with connection pooling - **Security:** JWT authentication
    with financial data encryption '
  version: 1.0.0
  contact:
    name: NECPGAME API Support
    url: https://necpgame.com/support
    email: api@necpgame.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
servers:
- url: http://localhost:8150
  description: Local development server
- url: https://api.necpgame.com/stock-analytics-charts/v1
  description: Production server
security:
- BearerAuth: []
tags: []
paths:
  /health:
    $ref: ./paths/health.yaml#/paths/~1health
  /readiness:
    $ref: ./paths/readiness.yaml#/paths/~1readiness
  /metrics:
    $ref: ./paths/metrics.yaml#/paths/~1metrics
  /api/v1/stock/chart:
    $ref: ./paths/api-v1-stock-chart.yaml#/paths/~1api~1v1~1stock~1chart
  /api/v1/stock/indicators:
    $ref: ./paths/api-v1-stock-indicators.yaml#/paths/~1api~1v1~1stock~1indicators
  /api/v1/market/overview:
    $ref: ./paths/api-v1-market-overview.yaml#/paths/~1api~1v1~1market~1overview
  /api/v1/stock/chart/custom:
    $ref: ./paths/api-v1-stock-chart-custom.yaml#/paths/~1api~1v1~1stock~1chart~1custom
  /api/v1/stock/stream:
    $ref: ./paths/api-v1-stock-stream.yaml#/paths/~1api~1v1~1stock~1stream
components:
  schemas:
    Error:
      $ref: ./schemas/stock-analytics-service-schemas.yaml#/components/schemas/Error
    HealthCheckResponse:
      $ref: ./schemas/stock-analytics-service-schemas.yaml#/components/schemas/HealthCheckResponse
    ReadinessCheckResponse:
      $ref: ./schemas/stock-analytics-service-schemas.yaml#/components/schemas/ReadinessCheckResponse
    StockChartData:
      $ref: ./schemas/stock-analytics-service-schemas.yaml#/components/schemas/StockChartData
    ChartPoint:
      $ref: ./schemas/stock-analytics-service-schemas.yaml#/components/schemas/ChartPoint
    ChartMetadata:
      $ref: ./schemas/stock-analytics-service-schemas.yaml#/components/schemas/ChartMetadata
    StockIndicators:
      $ref: ./schemas/stock-analytics-service-schemas.yaml#/components/schemas/StockIndicators
    RSIIndicator:
      $ref: ./schemas/stock-analytics-service-schemas.yaml#/components/schemas/RSIIndicator
    MACDIndicator:
      $ref: ./schemas/stock-analytics-service-schemas.yaml#/components/schemas/MACDIndicator
    MACDValue:
      $ref: ./schemas/stock-analytics-service-schemas.yaml#/components/schemas/MACDValue
    BollingerBands:
      $ref: ./schemas/stock-analytics-service-schemas.yaml#/components/schemas/BollingerBands
    MarketOverview:
      $ref: ./schemas/stock-analytics-service-schemas.yaml#/components/schemas/MarketOverview
    IndexData:
      $ref: ./schemas/stock-analytics-service-schemas.yaml#/components/schemas/IndexData
    SectorData:
      $ref: ./schemas/stock-analytics-service-schemas.yaml#/components/schemas/SectorData
    StockVolumeData:
      $ref: ./schemas/stock-analytics-service-schemas.yaml#/components/schemas/StockVolumeData
    CustomChartRequest:
      $ref: ./schemas/stock-analytics-service-schemas.yaml#/components/schemas/CustomChartRequest
    CustomChartResponse:
      $ref: ./schemas/stock-analytics-service-schemas.yaml#/components/schemas/CustomChartResponse
    HealthResponse:
      $ref: ./schemas/stock-analytics-service-schemas.yaml#/components/schemas/HealthResponse
    PaginationParams:
      $ref: ./schemas/stock-analytics-service-schemas.yaml#/components/schemas/PaginationParams
    PaginatedResponse:
      $ref: ./schemas/stock-analytics-service-schemas.yaml#/components/schemas/PaginatedResponse
  responses:
    OK:
      $ref: ./schemas/stock-analytics-service-responses.yaml#/components/responses/OK
    Created:
      $ref: ./schemas/stock-analytics-service-responses.yaml#/components/responses/Created
    BadRequest:
      $ref: ./schemas/stock-analytics-service-responses.yaml#/components/responses/BadRequest
    Unauthorized:
      $ref: ./schemas/stock-analytics-service-responses.yaml#/components/responses/Unauthorized
    Forbidden:
      $ref: ./schemas/stock-analytics-service-responses.yaml#/components/responses/Forbidden
    NotFound:
      $ref: ./schemas/stock-analytics-service-responses.yaml#/components/responses/NotFound
    Conflict:
      $ref: ./schemas/stock-analytics-service-responses.yaml#/components/responses/Conflict
    InternalServerError:
      $ref: ./schemas/stock-analytics-service-responses.yaml#/components/responses/InternalServerError
    HealthOK:
      $ref: ./schemas/stock-analytics-service-responses.yaml#/components/responses/HealthOK
    HealthBatchSuccess:
      $ref: ./schemas/stock-analytics-service-responses.yaml#/components/responses/HealthBatchSuccess
  securitySchemes:
    BearerAuth:
      $ref: ../common/security/security.yaml#/BearerAuth
    ApiKeyAuth:
      $ref: ../common/security/security.yaml#/ApiKeyAuth
    ServiceAuth:
      $ref: ../common/security/security.yaml#/ServiceAuth
