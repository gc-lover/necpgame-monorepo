openapi: 3.0.3
info:
  title: Stock Events Admin Schemas
  description: Схемы данных для stock events admin API
  version: 1.0.0
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

components:
  schemas:
    EventSimulationRequest:
      type: object
      properties:
        event_id:
          type: string
          format: uuid
          description: ID игрового события
        stock_symbol:
          type: string
          description: Символ акции
        impact_multiplier:
          type: number
          format: float
          description: Множитель влияния (опционально)
          default: 1.0
      required:
        - event_id
        - stock_symbol

    EventSimulationResult:
      type: object
      properties:
        event_id:
          type: string
          format: uuid
        stock_symbol:
          type: string
        current_price:
          type: number
          format: float
          description: Текущая цена
        simulated_price:
          type: number
          format: float
          description: Симулированная цена после события
        price_change:
          type: number
          format: float
          description: Изменение цены
        price_change_percent:
          type: number
          format: float
          description: Процент изменения цены
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small).'

    EventApplicationRequest:
      type: object
      properties:
        event_id:
          type: string
          format: uuid
        stock_symbol:
          type: string
        apply_immediately:
          type: boolean
          default: false
      required:
        - event_id
        - stock_symbol

    EventImpact:
      type: object
      properties:
        id:
          type: string
          format: uuid
        event_id:
          type: string
          format: uuid
        stock_symbol:
          type: string
        applied_at:
          type: string
          format: date-time
        price_before:
          type: number
          format: float
        price_after:
          type: number
          format: float
        impact_multiplier:
          type: number
          format: float
        admin_user_id:
          type: string
          format: uuid
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small).'
