components:
  schemas:
    AccountResponse:
      type: object
      required:
      - account_id
      - email
      - username
      - created_at
      - last_login_at
      properties:
        account_id:
          type: string
          format: uuid
        username:
          type: string
        display_name:
          type: string
        email:
          type: string
          format: email
        status:
          type: string
          enum:
          - active
          - suspended
          - banned
        avatar_url:
          type: string
          format: uri
        created_at:
          type: string
          format: date-time
        last_login_at:
          type: string
          format: date-time
        email_verified:
          type: boolean
        two_factor_enabled:
          type: boolean
        character_slots:
          type: integer
        character_slots_used:
          type: integer
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    UpdateAccountRequest:
      type: object
      properties:
        display_name:
          type: string
          maxLength: 64
        avatar_url:
          type: string
          format: uri
        newsletter_subscribe:
          type: boolean
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    UserSummary:
      type: object
      required:
      - account_id
      - username
      properties:
        account_id:
          type: string
          format: uuid
        username:
          type: string
        display_name:
          type: string
        avatar_url:
          type: string
          format: uri
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    OAuthLinkRequest:
      type: object
      required:
      - authorization_code
      properties:
        authorization_code:
          type: string
        redirect_uri:
          type: string
          format: uri
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    SecuritySettings:
      type: object
      required:
      - two_factor_enabled
      - login_history
      properties:
        two_factor_secret:
          type: string
        last_password_change:
          type: string
          format: date-time
        login_history:
          type: array
          items:
            $ref: '#/components/schemas/LoginHistoryEntry'
        two_factor_enabled:
          type: boolean
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    LoginHistoryEntry:
      type: object
      required:
      - timestamp
      - ip_address
      - user_agent
      properties:
        ip_address:
          type: string
        user_agent:
          type: string
        location:
          type: string
        device_type:
          type: string
        timestamp:
          type: string
          format: date-time
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
