openapi: 3.0.3
info:
  title: Combat Abilities Activation Schemas
  description: Схемы данных для активации боевых способностей
  version: 1.0.0
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
components:
  schemas:
    AbilityActivationRequest:
      type: object
      required:
        - ability_id
      properties:
        ability_id:
          type: string
          format: uuid
          description: Идентификатор способности для активации
          example: 550e8400-e29b-41d4-a716-446655440000
        target_id:
          type: string
          format: uuid
          nullable: true
          description: Идентификатор цели (если требуется)
          example: 550e8400-e29b-41d4-a716-446655440007
        position:
          type: object
          nullable: true
          description: Позиция для активации (если требуется)
          properties:
            x:
              type: number
              format: float
            y:
              type: number
              format: float
            z:
              type: number
              format: float
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    AbilityActivationResponse:
      type: object
      required:
        - success
        - ability_id
      properties:
        ability_id:
          type: string
          format: uuid
          description: Идентификатор активированной способности
          example: 550e8400-e29b-41d4-a716-446655440000
        message:
          type: string
          nullable: true
          description: Сообщение о результате
          example: Ability activated successfully
        cooldown_expires_at:
          type: string
          format: date-time
          nullable: true
          description: Время окончания кулдауна
          example: '2025-11-23T10:00:15Z'
        cyberpsychosis_level:
          type: number
          format: float
          minimum: 0
          maximum: 1
          description: Текущий уровень киберпсихоза
          example: 0.15
        success:
          type: boolean
          description: Успешность активации
          example: true
        cooldown_started:
          type: boolean
          description: Запущен ли кулдаун
          example: true
        synergy_triggered:
          type: boolean
          description: Сработала ли синергия
          example: false
        cyberpsychosis_updated:
          type: boolean
          description: Обновлен ли киберпсихоз
          example: true
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'

paths:

