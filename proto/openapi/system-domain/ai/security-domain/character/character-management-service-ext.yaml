$ref: '#/components/schemas/CharacterActivityResponse'
'404':
  $ref: '#/components/responses/NotFound'
'500':
  $ref: '#/components/responses/InternalServerError'
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    CreateCharacterRequest:
      type: object
      required:
      - name
      - characterClass
      - origin
      properties:
        name:
          type: string
          minLength: 3
          maxLength: 50
          description: Имя персонажа
        characterClass:
          type: string
          enum:
          - solo
          - nomad
          - corpo
          - fixer
          - netrunner
          - techie
          - media
          - rockerboy
          - edgerunner
          description: Класс персонажа
        origin:
          type: string
          enum:
          - nomad
          - corpo
          - street_kid
          - edgerunner
          - trauma_team
          description: Происхождение персонажа
        appearance:
          $ref: '#/components/schemas/CharacterAppearance'
        attributes:
          $ref: '#/components/schemas/CharacterAttributes'
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    UpdateCharacterRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 3
          maxLength: 50
          description: Новое имя персонажа
        appearance:
          $ref: '#/components/schemas/CharacterAppearance'
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    SwitchCharacterRequest:
      type: object
      required:
      - characterId
      properties:
        characterId:
          type: string
          format: uuid
          description: ID персонажа для активации
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    PurchaseSlotsRequest:
      type: object
      required:
      - slotsCount
      properties:
        slotsCount:
          type: integer
          minimum: 1
          maximum: 5
          description: Количество слотов для покупки
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CharacterListResponse:
      type: object
      properties:
        activeCharacterId:
          type: string
          format: uuid
        characters:
          type: array
          items:
            $ref: '#/components/schemas/Character'
        totalCount:
          type: integer
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CharacterResponse:
      type: object
      properties:
        character:
          $ref: '#/components/schemas/Character'
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    SwitchCharacterResponse:
      type: object
      properties:
        previousCharacterId:
          type: string
          format: uuid
        newCharacterId:
          type: string
          format: uuid
        switchedAt:
          type: string
          format: date-time
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    PlayerSlotsResponse:
      type: object
      properties:
        totalSlots:
          type: integer
          description: Общее количество слотов
        usedSlots:
          type: integer
          description: Занятых слотов
        availableSlots:
          type: integer
          description: Доступных слотов
        canPurchaseMore:
          type: boolean
          description: Можно ли купить дополнительные слоты
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    PurchaseSlotsResponse:
      type: object
      properties:
        cost:
          type: object
          description: Стоимость покупки
          properties:
            currency:
              type: string
            amount:
              type: number
        newTotalSlots:
          type: integer
          description: Новое общее количество слотов
        purchasedSlots:
          type: integer
          description: Купленных слотов
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CharacterStatsResponse:
      type: object
      properties:
        characterId:
          type: string
          format: uuid
        recalculatedAt:
          type: string
          format: date-time
        stats:
          $ref: '#/components/schemas/CharacterStats'
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CharacterActivityResponse:
      type: object
      properties:
        characterId:
          type: string
          format: uuid
        activities:
          type: array
          items:
            $ref: '#/components/schemas/CharacterActivity'
        totalCount:
          type: integer
        hasMore:
          type: boolean
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    SuccessResponse:
      type: object
      properties:
        message:
          type: string
        success:
          type: boolean
          default: true
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    Error:
      type: object
      properties:
        error:
          type: string
        code:
          type: string
        details:
          type: object
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    Character:
      type: object
      properties:
        id:
          type: string
          format: uuid
        playerId:
          type: string
          format: uuid
        name:
          type: string
        characterClass:
          type: string
        origin:
          type: string
        status:
          type: string
          enum:
          - active
          - deleted
          - dead
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        deletedAt:
          type: string
          format: date-time
        appearance:
          $ref: '#/components/schemas/CharacterAppearance'
        stats:
          $ref: '#/components/schemas/CharacterStats'
        level:
          type: integer
          minimum: 1
        experience:
          type: integer
          minimum: 0
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CharacterAppearance:
      type: object
      properties:
        hairColor:
          type: string
        eyeColor:
          type: string
        skinTone:
          type: string
        gender:
          type: string
          enum:
          - male
          - female
          - other
        cyberware:
          type: array
          items:
            type: string
        tattoos:
          type: array
          items:
            type: string
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CharacterAttributes:
      type: object
      properties:
        intelligence:
          type: integer
          minimum: 1
          maximum: 10
        reflexes:
          type: integer
          minimum: 1
          maximum: 10
        dexterity:
          type: integer
          minimum: 1
          maximum: 10
        technology:
          type: integer
          minimum: 1
          maximum: 10
        cool:
          type: integer
          minimum: 1
          maximum: 10
        willpower:
          type: integer
          minimum: 1
          maximum: 10
        luck:
          type: integer
          minimum: 1
          maximum: 10
        movement:
          type: integer
          minimum: 1
          maximum: 10
        body:
          type: integer
          minimum: 1
          maximum: 10
        empathy:
          type: integer
          minimum: 1
          maximum: 10
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CharacterStats:
      type: object
      properties:
        health:
          type: integer
        maxHealth:
          type: integer
        armor:
          type: integer
        actionPoints:
          type: integer
        humanity:
          type: integer
        maxHumanity:
          type: integer
        reputation:
          type: integer
        streetCred:
          type: integer
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    CharacterActivity:
      type: object
      properties:
        id:
          type: string
          format: uuid
        characterId:
          type: string
          format: uuid
        description:
          type: string
        location:
          type: string
        activityType:
          type: string
          enum:
          - login
          - logout
          - combat
          - quest
          - trade
          - crafting
          - leveling
        createdAt:
          type: string
          format: date-time
        experienceGained:
          type: integer
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
  responses:
    BadRequest:
      description: Неверный запрос
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    Unauthorized:
      description: Не авторизован
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    Forbidden:
      description: Доступ запрещен
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    NotFound:
      description: Ресурс не найден
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    Conflict:
      description: Конфликт данных
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    TooManyRequests:
      description: Слишком много запросов
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    InternalServerError:
      description: Внутренняя ошибка сервера
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
