components:
  schemas:
    LeaderboardEntry:
      type: object
      required:
      - rank
      - character_id
      - character_name
      - score
      properties:
        character_id:
          type: string
          format: uuid
          description: ID персонажа
        character_name:
          type: string
          maxLength: 100
          description: Имя персонажа
        division:
          type: string
          nullable: true
          maxLength: 50
          description: Дивизион
        rank:
          type: integer
          minimum: 1
          description: Позиция в рейтинге
        score:
          type: integer
          description: Очки
        wins:
          type: integer
          default: 0
          description: Побед
        losses:
          type: integer
          default: 0
          description: Поражений
        win_streak:
          type: integer
          default: 0
          description: Победная серия
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory: ~70 bytes/instance.'
    TournamentRewards:
      type: object
      properties:
        participation_reward:
          $ref: '#/components/schemas/CosmeticReward'
          description: Награда за участие
        placement_rewards:
          type: array
          items:
            $ref: '#/components/schemas/PlacementReward'
          description: Награды за места
        special_rewards:
          type: array
          items:
            $ref: '#/components/schemas/SpecialReward'
          description: Специальные награды
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory: ~80 bytes/instance.'
    PlacementReward:
      type: object
      required:
      - placement
      - reward
      properties:
        placement_range:
          type: object
          properties:
            min:
              type: integer
              minimum: 1
            max:
              type: integer
              minimum: 1
          nullable: true
          description: Диапазон мест (для 4-10 мест и т.д.)
        reward:
          $ref: '#/components/schemas/CosmeticReward'
        placement:
          type: integer
          minimum: 1
          description: Место
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory: ~50 bytes/instance.'
    SpecialReward:
      type: object
      required:
      - condition
      - reward
      properties:
        condition:
          type: string
          maxLength: 255
          description: Условие награды
        reward:
          $ref: '#/components/schemas/CosmeticReward'
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory: ~40 bytes/instance.'
    CosmeticReward:
      type: object
      required:
      - type
      - item_id
      properties:
        item_id:
          type: string
          format: uuid
          description: ID предмета
        name:
          type: string
          maxLength: 100
          description: Название предмета
        description:
          type: string
          nullable: true
          description: Описание предмета
        icon_url:
          type: string
          nullable: true
          description: URL иконки
        type:
          type: string
          enum:
          - title
          - banner
          - emblem
          - effect
          - intro
          description: Тип косметического предмета
        rarity:
          type: string
          enum:
          - common
          - uncommon
          - rare
          - epic
          - legendary
          default: common
          description: Редкость
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory: ~60 bytes/instance.'
    ClaimRewardRequest:
      type: object
      required:
      - tournament_id
      - reward_type
      properties:
        tournament_id:
          type: string
          format: uuid
          description: ID турнира
        reward_type:
          type: string
          enum:
          - participation
          - placement
          - special
          description: Тип награды
        placement:
          type: integer
          nullable: true
          minimum: 1
          description: Место (для placement rewards)
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory: ~40 bytes/instance.'
    ClaimedReward:
      type: object
      required:
      - id
      - tournament_id
      - character_id
      - reward
      - claimed_at
      properties:
        id:
          type: string
          format: uuid
          description: ID получения награды
        tournament_id:
          type: string
          format: uuid
          description: ID турнира
        character_id:
          type: string
          format: uuid
          description: ID персонажа
        claimed_at:
          type: string
          format: date-time
          description: Время получения
        reward:
          $ref: '#/components/schemas/CosmeticReward'
        placement:
          type: integer
          nullable: true
          description: Занятое место
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory: ~80 bytes/instance.'
