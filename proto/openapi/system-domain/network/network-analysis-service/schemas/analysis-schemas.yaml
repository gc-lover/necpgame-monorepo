# Network Architecture Analysis schemas
# Core schemas for comprehensive network architecture analysis

NetworkArchitectureAnalysis:
  type: object
  required:
    - analysis_id
    - timestamp
    - architecture_overview
    - performance_assessment
  properties:
    analysis_id:
      type: string
      description: Unique analysis identifier
      example: "arch-analysis-2025-001"
    timestamp:
      type: string
      format: date-time
      description: Analysis timestamp
    architecture_overview:
      $ref: '#/components/schemas/ArchitectureOverview'
    performance_assessment:
      $ref: '#/components/schemas/PerformanceAssessment'
    recommendations:
      type: array
      items:
        $ref: '#/components/schemas/OptimizationRecommendation'
    security_posture:
      $ref: '#/components/schemas/SecurityPosture'

# BACKEND NOTE: Large analysis objects optimized for memory alignment
ArchitectureOverview:
  type: object
  required:
    - topology_type
    - server_count
    - region_count
    - connection_patterns
  properties:
    topology_type:
      type: string
      enum: [centralized, distributed, hybrid, mesh]
      description: Network topology type
      example: distributed
    server_count:
      type: integer
      description: Total number of servers
      example: 50
    region_count:
      type: integer
      description: Number of geographic regions
      example: 12
    connection_patterns:
      type: object
      description: Connection pattern statistics

PerformanceAssessment:
  type: object
  required:
    - average_latency
    - peak_latency
    - packet_loss_rate
    - throughput_capacity
  properties:
    average_latency:
      type: number
      format: float
      description: Average network latency in milliseconds
      example: 45.2
    peak_latency:
      type: number
      format: float
      description: Peak network latency in milliseconds
      example: 120.5
    packet_loss_rate:
      type: number
      format: float
      minimum: 0
      maximum: 1
      description: Packet loss rate (0.0 to 1.0)
      example: 0.0012
    throughput_capacity:
      type: integer
      description: Current throughput capacity in Mbps
      example: 10000

SecurityPosture:
  type: object
  required:
    - overall_score
    - vulnerability_count
    - active_threats
  properties:
    overall_score:
      type: number
      format: float
      minimum: 0
      maximum: 100
      description: Security score (0-100)
      example: 87.5
    vulnerability_count:
      type: integer
      description: Number of identified vulnerabilities
      example: 3
    active_threats:
      type: integer
      description: Number of active security threats
      example: 0
