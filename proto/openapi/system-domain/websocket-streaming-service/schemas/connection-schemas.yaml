components:
  schemas:
    ConnectionDetails:
      type: object
      required:
      - connection_id
      - player_id
      - connected_at
      - status
      properties:
        connection_id:
          type: string
          format: uuid
          description: Unique connection identifier
          example: 550e8400-e29b-41d4-a716-446655440000
        player_id:
          type: string
          format: uuid
          description: Associated player identifier
          example: 550e8400-e29b-41d4-a716-446655440001
        ip_address:
          type: string
          description: Client IP address
          example: 192.168.1.100
        user_agent:
          type: string
          description: Client user agent string
          example: NECPGAME-Client/1.0.0
        client_version:
          type: string
          description: Client application version
          example: 1.0.0
        status:
          type: string
          enum:
          - connecting
          - connected
          - disconnecting
          - disconnected
          description: Connection status
          example: connected
        connected_at:
          type: string
          format: date-time
          description: Connection establishment timestamp
          example: '2025-12-20T21:40:00Z'
        last_activity:
          type: string
          format: date-time
          description: Last activity timestamp
          example: '2025-12-20T21:41:30Z'
        subscription_count:
          type: integer
          minimum: 0
          description: Number of active subscriptions
          example: 5
        messages_sent:
          type: integer
          minimum: 0
          description: Total messages sent to client
          example: 1250
        messages_received:
          type: integer
          minimum: 0
          description: Total messages received from client
          example: 25
        bytes_sent:
          type: integer
          minimum: 0
          description: Total bytes sent
          example: 256000
        bytes_received:
          type: integer
          minimum: 0
          description: Total bytes received
          example: 2048
        ping_latency_ms:
          type: integer
          minimum: 0
          description: Current ping latency in milliseconds
          example: 45
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
    ConnectionStatsResponse:
      type: object
      required:
      - total_connections
      - active_connections
      - peak_connections_today
      - average_latency_ms
      properties:
        connections_by_region:
          type: object
          description: Connection count by geographic region
          additionalProperties:
            type: integer
            minimum: 0
          example:
            us-east: 800
            eu-west: 600
            asia-pacific: 1100
        connections_by_client_version:
          type: object
          description: Connection count by client version
          additionalProperties:
            type: integer
            minimum: 0
          example:
            1.0.0: 1800
            1.1.0: 700
        total_connections:
          type: integer
          minimum: 0
          description: Total connections since server start
          example: 50000
        active_connections:
          type: integer
          minimum: 0
          description: Currently active connections
          example: 2500
        peak_connections_today:
          type: integer
          minimum: 0
          description: Peak connections today
          example: 3200
        average_latency_ms:
          type: number
          format: float
          minimum: 0
          description: Average ping latency across all connections
          example: 42.5
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small). Expected memory savings: 30-50%.'
