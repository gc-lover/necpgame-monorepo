openapi: 3.0.3
paths:
  /trials:
    get:
      operationId: listTrials
      summary: List time trials
      description: Retrieve paginated list of available time trials with filtering
        options
      tags:
      - Trial Management
      parameters:
      - name: status
        in: query
        schema:
          type: string
          enum:
          - active
          - inactive
          - deprecated
        description: Filter by trial status
      - name: type
        in: query
        schema:
          type: string
          enum:
          - speedrun_raid
          - time_attack_dungeon
          - weekly_challenge
          - seasonal_trial
        description: Filter by trial type
      - name: difficulty
        in: query
        schema:
          type: string
          enum:
          - normal
          - heroic
          - mythic
          - legendary
        description: Filter by difficulty
      - name: limit
        in: query
        schema:
          type: integer
          minimum: 1
          maximum: 100
          default: 20
        description: Number of results per page
      - name: offset
        in: query
        schema:
          type: integer
          minimum: 0
          default: 0
        description: Pagination offset
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                required:
                - trials
                - total
                - limit
                - offset
                properties:
                  trials:
                    type: array
                    items:
                      $ref: '#/components/schemas/TimeTrial'
                  total:
                    type: integer
                    minimum: 0
                    description: Total number of trials matching criteria
                  limit:
                    type: integer
                    description: Results per page
                  offset:
                    type: integer
                    description: Pagination offset
        '400':
          description: Invalid request parameters
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    post:
      operationId: createTrial
      summary: Create time trial
      description: Create a new time trial configuration (admin only)
      tags:
      - Trial Management
      security:
      - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TimeTrial'
      responses:
        '201':
          description: Trial created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimeTrial'
        '400':
          description: Invalid request data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden - insufficient permissions
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
