# World Cities Service - OpenAPI Specification

## üìã **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**

World Cities Service –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **enterprise-grade —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–æ—Ä–æ–¥–∞–º–∏** –¥–ª—è NECPGAME —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã. –°–µ—Ä–≤–∏—Å
–æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≥–æ—Ä–æ–¥–∞—Ö –≤ –∏–≥—Ä–æ–≤–æ–º –º–∏—Ä–µ, –≤–∫–ª—é—á–∞—è –∏—Ö –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ,
–∫–∏–±–µ—Ä–ø–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ, –≤–ª–∏—è–Ω–∏–µ —Ñ—Ä–∞–∫—Ü–∏–π –∏ timeline —ç–≤–æ–ª—é—Ü–∏–∏.

## üéØ **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**

### üåÜ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ì–æ—Ä–æ–¥–∞–º–∏**

- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –≥–æ—Ä–æ–¥–æ–≤ –≤ –∏–≥—Ä–æ–≤–æ–º –º–∏—Ä–µ
- –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏ –≥—Ä–∞–Ω–∏—Ü—ã
- –ö–∏–±–µ—Ä–ø–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞
- –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∏ –¥–µ–º–æ–≥—Ä–∞—Ñ–∏—è

### üèõÔ∏è **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**

- –ö–∞—Ç–∞–ª–æ–≥ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π –ø–æ –≥–æ—Ä–æ–¥–∞–º
- –¢–∏–ø—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (–Ω–µ–æ–Ω–æ–≤—ã–µ –±–∞—à–Ω–∏, –ø–æ–¥–∑–µ–º–Ω—ã–µ –∫–æ–º–ø–ª–µ–∫—Å—ã, etc.)
- –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –∏ –∫—É–ª—å—Ç—É—Ä–Ω–∞—è –∑–Ω–∞—á–∏–º–æ—Å—Ç—å
- –¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏ —Ç–æ—á–∫–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞

### üë• **–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∏ –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –ê—Å–ø–µ–∫—Ç—ã**

- –í–ª–∏—è–Ω–∏–µ —Ñ—Ä–∞–∫—Ü–∏–π –Ω–∞ –≥–æ—Ä–æ–¥—Å–∫—É—é –∂–∏–∑–Ω—å
- –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã
- –°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Å—É–±–∫—É–ª—å—Ç—É—Ä—ã
- –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –∑–æ–Ω—ã –∏ —Ç–æ—Ä–≥–æ–≤—ã–µ —Ä–∞–π–æ–Ω—ã

### üìÖ **Timeline –≠–≤–æ–ª—é—Ü–∏–∏**

- –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è –≥–æ—Ä–æ–¥–∞
- –≠–≤–æ–ª—é—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥–µ–º–æ–≥—Ä–∞—Ñ–∏–∏ –∏ –∫—É–ª—å—Ç—É—Ä–µ
- –ë—É–¥—É—â–∏–µ –ø–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è –∏ –ø—Ä–æ–µ–∫—Ç—ã

### üéÆ **–ò–≥—Ä–æ–≤–∞—è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**

- –ö–≤–µ—Å—Ç–æ–≤—ã–µ –ª–æ–∫–∞—Ü–∏–∏ –∏ —Å—é–∂–µ—Ç–Ω—ã–µ —Ç–æ—á–∫–∏
- NPC –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∏ –¥–∏–∞–ª–æ–≥–∏
- –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ —Ç–æ—Ä–≥–æ–≤–ª—è
- –ú–∏—Å—Å–∏–∏ –∏ –∑–∞–¥–∞–Ω–∏—è –ø–æ –≥–æ—Ä–æ–¥–∞–º

## üèóÔ∏è **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**

### Enterprise-Grade –ü—Ä–∏–Ω—Ü–∏–ø—ã

- **SOLID/DRY Compliance**: –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –≤–º–µ—Å—Ç–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- **Performance Optimized**: –°—Ç—Ä—É–∫—Ç—É—Ä—ã —Å —É—á–µ—Ç–æ–º alignment –ø–∞–º—è—Ç–∏
- **Security First**: JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- **Scalable Design**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∏–ª–ª–∏–æ–Ω–æ–≤ –≥–æ—Ä–æ–¥–æ–≤

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

- **P99 Latency**: <25ms –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –≥–æ—Ä–æ–¥–∞–º–∏
- **Memory**: <50KB –Ω–∞ –∞–∫—Ç–∏–≤–Ω—É—é —Å–µ—Å—Å–∏—é —Ä–∞–±–æ—Ç—ã —Å –≥–æ—Ä–æ–¥–∞–º–∏
- **Concurrent Users**: 100,000+ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Data Consistency**: ACID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üîå **API Endpoints**

### –û—Å–Ω–æ–≤–Ω—ã–µ –û–ø–µ—Ä–∞—Ü–∏–∏

- `GET /cities` - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤
- `POST /cities` - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –≥–æ—Ä–æ–¥
- `GET /cities/{id}` - –ü–æ–ª—É—á–∏—Ç—å –≥–æ—Ä–æ–¥ –ø–æ ID
- `PUT /cities/{id}` - –û–±–Ω–æ–≤–∏—Ç—å –≥–æ—Ä–æ–¥
- `DELETE /cities/{id}` - –£–¥–∞–ª–∏—Ç—å –≥–æ—Ä–æ–¥

### –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ó–∞–ø—Ä–æ—Å—ã

- `GET /cities/search` - –ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º
- `GET /cities/{id}/landmarks` - –î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≥–æ—Ä–æ–¥–∞
- `GET /cities/{id}/timeline` - Timeline —ç–≤–æ–ª—é—Ü–∏–∏ –≥–æ—Ä–æ–¥–∞
- `GET /cities/{id}/factions` - –í–ª–∏—è–Ω–∏–µ —Ñ—Ä–∞–∫—Ü–∏–π –≤ –≥–æ—Ä–æ–¥–µ

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –§—É–Ω–∫—Ü–∏–∏

- `POST /cities/{id}/landmarks` - –î–æ–±–∞–≤–∏—Ç—å –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- `PUT /cities/{id}/timeline` - –û–±–Ω–æ–≤–∏—Ç—å timeline —Å–æ–±—ã—Ç–∏—è
- `PATCH /cities/{id}/economy` - –û–±–Ω–æ–≤–∏—Ç—å —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

## üìä **–°—Ö–µ–º—ã –î–∞–Ω–Ω—ã—Ö**

### City Entity

```yaml
City:
  type: object
  properties:
    id: string (UUID)
    name: string
    coordinates: GeoPoint
    cyberpunk_level: integer (1-10)
    population: integer
    economy_data: EconomyMetrics
    landmarks: Landmark[]
    timeline_events: TimelineEvent[]
    faction_influence: FactionInfluence[]
```

### Landmark Entity

```yaml
Landmark:
  type: object
  properties:
    name: string (required)
    type: string (required)
    description: string
    coordinates: GeoPoint
    historical_significance: integer (1-10)
    architectural_style: string
    visitor_capacity: integer
```

## üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

- **JWT Authentication**: –í—Å–µ endpoints —Ç—Ä–µ–±—É—é—Ç –≤–∞–ª–∏–¥–Ω—ã–π —Ç–æ–∫–µ–Ω
- **Role-Based Access**: –†–∞–∑–ª–∏—á–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤/–∞–¥–º–∏–Ω–æ–≤
- **Input Validation**: –°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **Rate Limiting**: –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π
- **Audit Logging**: –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üìà **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞**

- **Performance Metrics**: P99 latency, throughput, error rates
- **Business Metrics**: –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –≥–æ—Ä–æ–¥–æ–≤, –≤—Ä–µ–º—è –ø–æ—Å–µ—â–µ–Ω–∏—è
- **User Analytics**: –ü–æ–≤–µ–¥–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤ –≤ –≥–æ—Ä–æ–¥–∞—Ö
- **Content Metrics**: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–≤–µ—Å—Ç–æ–≤ –∏ –º–∏—Å—Å–∏–π

## üöÄ **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**

### Production Environment

- Kubernetes –∫–ª–∞—Å—Ç–µ—Ä —Å auto-scaling
- PostgreSQL —Å PostGIS –¥–ª—è –≥–µ–æ–¥–∞–Ω–Ω—ã—Ö
- Redis –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
- Elasticsearch –¥–ª—è –ø–æ–∏—Å–∫–∞

### Development Environment

- Docker Compose –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- Hot reload –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
- In-memory database –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## ü§ù **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**

- **Location Service**: –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏ –∑–æ–Ω—ã
- **Faction Service**: –í–ª–∏—è–Ω–∏–µ —Ñ—Ä–∞–∫—Ü–∏–π –≤ –≥–æ—Ä–æ–¥–∞—Ö
- **Quest Service**: –ö–≤–µ—Å—Ç—ã –∏ –º–∏—Å—Å–∏–∏ –≤ –≥–æ—Ä–æ–¥–∞—Ö
- **Economy Service**: –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **Timeline Service**: –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è

## üìù **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**

### –ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –≥–æ—Ä–æ–¥–∞

```bash
curl -X POST /api/v1/world-cities/cities \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Night City",
    "coordinates": {"lat": 40.7128, "lng": -74.0060},
    "cyberpunk_level": 10,
    "population": 8000000,
    "description": "The city of dreams and nightmares"
  }'
```

### –ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤

```bash
curl "/api/v1/world-cities/cities/search?cyberpunk_level=8&population_min=1000000"
```

–≠—Ç–æ—Ç —Å–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–æ—Ä–æ–¥–∞–º–∏ –≤ NECPGAME, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –±–æ–≥–∞—Ç—ã–π,
immersive –æ–ø—ã—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –º–∏—Ä–∞ Night City.
