openapi: 3.0.3
components:
  schemas:
    Error:
      $ref: ../common/schemas/infrastructure-entities.yaml#/ErrorResponse
    HealthResponse:
      $ref: ../common/schemas/health.yaml#/HealthResponse
    WebSocketHealthMessage:
      type: object
      required:
      - type
      - timestamp
      properties:
        type:
          type: string
          enum:
          - health_update
          - service_alert
        timestamp:
          type: string
          format: date-time
        service:
          type: string
        status:
          type: string
          enum:
          - healthy
          - degraded
          - unhealthy
        details:
          type: object
    WorldRegion:
      type: object
      description: '**PERFORMANCE:** Struct alignment optimized for 64-byte cache
        lines'
      required:
      - id
      - name
      - continent
      - status
      - cities_count
      properties:
        id:
          type: string
          minLength: 1
          maxLength: 100
        name:
          type: string
          minLength: 1
          maxLength: 100
        continent:
          type: string
          enum:
          - africa
          - america
          - asia
          - europe
          - oceania
          - antarctica
          - arctic
          - cis
          - middle-east
        status:
          type: string
          enum:
          - draft
          - ready_for_backend
          - approved
          - published
        cities_count:
          type: integer
          format: int32
          minimum: 0
        description:
          type: string
          maxLength: 500
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    WorldRegionDetail:
      allOf:
      - $ref: '#/components/schemas/WorldRegion'
      - type: object
        properties:
          timeline_periods:
            type: array
            items:
              $ref: '#/components/schemas/TimelinePeriod'
          key_locations:
            type: array
            items:
              $ref: '#/components/schemas/KeyLocation'
          related_systems:
            type: array
            items:
              type: string
    TimelineEvent:
      type: object
      required:
      - period
      - title
      - description
      properties:
        period:
          type: string
          minLength: 1
          maxLength: 20
        title:
          type: string
          minLength: 1
          maxLength: 200
        description:
          type: string
          maxLength: 2000
        mechanics_links:
          type: array
          items:
            type: string
    TimelinePeriod:
      type: object
      required:
      - id
      - title
      - body
      properties:
        id:
          type: string
          minLength: 1
          maxLength: 50
        title:
          type: string
          minLength: 1
          maxLength: 200
        body:
          type: string
          maxLength: 5000
        mechanics_links:
          type: array
          items:
            type: string
        assets:
          type: array
          items:
            type: string
    KeyLocation:
      type: object
      required:
      - name
      - type
      - significance
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 100
        type:
          type: string
          enum:
          - corporate
          - residential
          - commercial
          - military
          - research
          - cultural
        significance:
          type: string
          maxLength: 500
        coordinates:
          type: string
          maxLength: 50
    PaginationParams:
      $ref: ../common/schemas/pagination.yaml#/PaginationParams
    PaginatedResponse:
      $ref: ../common/schemas/pagination.yaml#/PaginatedResponse
