# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ –Ω–∞ Python

## [FORBIDDEN] –ö–†–ò–¢–ò–ß–ù–û: –¢–æ–ª—å–∫–æ Python —Å–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã!

–ù–∞—á–∏–Ω–∞—è —Å —ç—Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞, **–ó–ê–ü–†–ï–©–ï–ù–û** —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –Ω–∞:
- [ERROR] Shell/Bash (.sh)
- [ERROR] PowerShell (.ps1)
- [ERROR] Batch (.bat/.cmd)
- [ERROR] Perl (.pl)
- [ERROR] Ruby (.rb)
- [ERROR] JavaScript (.js)

**–¢–û–õ–¨–ö–û Python (.py) —Å–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –¥–ª—è –Ω–æ–≤–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!**

## [OK] –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è (—Å–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)

–≠—Ç–∏ —Å–∫—Ä–∏–ø—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è:

### Git Hooks (`.githooks/*.sh`)
- `pre-commit` - –∑–∞—â–∏—Ç–∞ –æ—Ç –æ–ø–∞—Å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
- `post-commit` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `pre-push` - —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (`infrastructure/**/*.sh`)
- Docker —Å–±–æ—Ä–∫–∞ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (`scripts/git-security/*.bat`)
- –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∑–∞—â–∏—Ç—ã Git
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ–ø–∞—Å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
- –°–∏—Å—Ç–µ–º–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –°–±–æ—Ä–∫–∞ (`scripts/linting/*`)
- Node.js –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ª–∏–Ω—Ç–∏–Ω–≥–∞
- –ü–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç

## [SYMBOL] OK –†–ï–§–ê–ö–¢–û–†–ò–ù–ì –ó–ê–í–ï–†–®–ï–ù - –ù–û–í–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ SOLID –ø—Ä–∏–Ω—Ü–∏–ø–∞–º:

#### üéØ **–ü—Ä–∏–Ω—Ü–∏–ø—ã SOLID —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:**
- **Single Responsibility**: –ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –¥–µ–ª–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –¥–µ–ª–æ
- **Open/Closed**: –õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞
- **Liskov Substitution**: –í—Å–µ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å –±–∞–∑–æ–≤—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏
- **Interface Segregation**: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- **Dependency Inversion**: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–Ω–∂–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã

#### üèóÔ∏è **–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤:**

```
scripts/
‚îú‚îÄ‚îÄ core/                          # –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ base_script.py            # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ config.py                 # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ file_manager.py           # –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ logger.py                 # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ command_runner.py         # –ó–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥
‚îú‚îÄ‚îÄ openapi/                      # –†–∞–±–æ—Ç–∞ —Å OpenAPI
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ openapi_manager.py        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è–º–∏
‚îú‚îÄ‚îÄ sql/                          # –†–∞–±–æ—Ç–∞ —Å SQL
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ liquibase_processor.py    # –û–±—Ä–∞–±–æ—Ç–∫–∞ Liquibase –º–∏–≥—Ä–∞—Ü–∏–π
‚îú‚îÄ‚îÄ validation/                   # –í–∞–ª–∏–¥–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ base_validator.py         # –ë–∞–∑–æ–≤—ã–π –≤–∞–ª–∏–¥–∞—Ç–æ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ openapi_validator.py      # –í–∞–ª–∏–¥–∞—Ç–æ—Ä OpenAPI
‚îú‚îÄ‚îÄ generation/                   # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ go_service_generator.py   # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä Go —Å–µ—Ä–≤–∏—Å–æ–≤
‚îî‚îÄ‚îÄ [—Å–∫—Ä–∏–ø—Ç—ã]                     # –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
```

#### üìä **–†–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:**

| –°–∫—Ä–∏–ø—Ç | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|--------|----------|
| `batch-optimize-openapi-struct-alignment.py` | OK | –ú–∞—Å—Å–æ–≤—ã–π –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä OpenAPI |
| `fix-all-openapi-warnings.py` | OK | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö OpenAPI warnings |
| `fix-common-refs.py` | OK | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—â–∏—Ö —Å—Å—ã–ª–æ–∫ |
| `fix-openapi-warnings.py` | OK | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ OpenAPI warnings |
| `generate-all-domains-go.py` | OK | –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä Go —Å–µ—Ä–≤–∏—Å–æ–≤ |
| `reorder-liquibase-columns.py` | OK | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ä—è–¥–∫–∞ –∫–æ–ª–æ–Ω–æ–∫ SQL |
| `reorder-openapi-fields.py` | OK | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ä—è–¥–∫–∞ –ø–æ–ª–µ–π OpenAPI |
| `validate-kafka-schemas.py` | ‚è≥ | –í–∞–ª–∏–¥–∞—Ü–∏—è Kafka —Å—Ö–µ–º |
| `validate-all-migrations.py` | ‚è≥ | –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –º–∏–≥—Ä–∞—Ü–∏–π |
| `validate-domains-openapi.py` | ‚è≥ | –í–∞–ª–∏–¥–∞—Ü–∏—è OpenAPI –¥–æ–º–µ–Ω–æ–≤ |
| `framework.py` | ‚è≥ | –§—Ä–µ–π–º–≤–æ—Ä–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤ |

#### ‚öôÔ∏è **–ì–ª–æ–±–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ –ø—Ä–æ–µ–∫—Ç–∞:**

–°–æ–∑–¥–∞–Ω `project-config.yaml` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ (1000 —Å—Ç—Ä–æ–∫)
- –ó–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ OpenAPI, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## [TRANSPORT]Ô∏è –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π Python —Å–∫—Ä–∏–ø—Ç

### –ò—Å–ø–æ–ª—å–∑—É–π –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É:

```python
#!/usr/bin/env python3
from scripts.core.base_script import BaseScript
from scripts.openapi.openapi_manager import OpenAPIManager

class MyScript(BaseScript):
    def __init__(self):
        super().__init__("my-script", "Description of what it does")
        self.openapi_manager = OpenAPIManager(
            self.file_manager, self.command_runner, self.logger
        )

    def add_script_args(self):
        self.parser.add_argument('--input', required=True, help='Input file')
        self.parser.add_argument('--output', help='Output file')

    def run(self):
        args = self.parse_args()

        # –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
        self.logger.info(f"Processing {args.input}")

        if args.dry_run:
            self.logger.info("DRY RUN: no changes will be made")
            return

        # –¢–≤–æ—è –ª–æ–≥–∏–∫–∞ –∑–¥–µ—Å—å...

if __name__ == "__main__":
    script = MyScript()
    script.main()
```

### –ó–∞–ø—É—Å–∫:
```bash
python scripts/my_script.py --help
python scripts/my_script.py --input file.txt --verbose
python scripts/my_script.py --dry-run  # –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ç–µ—Å—Ç
```

## [BOOK] –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è:

- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å —É—Ä–æ–≤–Ω—è–º–∏ (DEBUG, INFO, WARNING, ERROR)
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤**: `--verbose`, `--dry-run`, `--config`
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è**: –ø—Ä–æ–≤–µ—Ä–∫–∞ Python –≤–µ—Ä—Å–∏–∏, –Ω–∞–ª–∏—á–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ exit codes
- **–ó–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥**: `self.command_runner.run(['git', 'status'])`
- **–†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏**: `self.file_manager.read_yaml()`, `write_yaml()`
- **OpenAPI –æ–ø–µ—Ä–∞—Ü–∏–∏**: `self.openapi_manager.validate_with_redocly()`
- **SQL –æ–±—Ä–∞–±–æ—Ç–∫–∞**: —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ SQL

### –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã:
- **OpenAPIManager**: –≤–∞–ª–∏–¥–∞—Ü–∏—è, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- **LiquibaseProcessor**: –æ–±—Ä–∞–±–æ—Ç–∫–∞ SQL –º–∏–≥—Ä–∞—Ü–∏–π
- **GoServiceGenerator**: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Go –∫–æ–¥–∞

### –£—Ç–∏–ª–∏—Ç—ã:
```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ Python —Å–∫—Ä–∏–ø—Ç—ã
python scripts/framework.py --list-scripts

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –≤—Å–µ—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
python scripts/framework.py --validate-scripts

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥
python -c "from scripts.core.config import ConfigManager; print(ConfigManager().load_config())"
```

## [SYMBOL] –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤

### –ü—Ä–∏–º–µ—Ä: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è Bash —Å–∫—Ä–∏–ø—Ç–∞

**–ë—ã–ª–æ (Bash):**
```bash
#!/bin/bash
if [ -z "$1" ]; then
    echo "Usage: $0 <file>"
    exit 1
fi

echo "Processing $1..."
grep "pattern" "$1" > output.txt
echo "Done"
```

**–°—Ç–∞–ª–æ (Python):**
```python
#!/usr/bin/env python3
from scripts.framework import ScriptFramework
import re

class FileProcessor(ScriptFramework):
    def add_script_args(self):
        self.parser.add_argument('input_file', help='File to process')

    def run(self):
        args = self.parse_args()

        self.logger.info(f"Processing {args.input_file}")

        content = self.read_file(Path(args.input_file))
        matches = re.findall(r'pattern', content)

        output_path = Path("output.txt")
        self.write_file(output_path, '\n'.join(matches))

        self.logger.info(f"Found {len(matches)} matches, saved to {output_path}")

if __name__ == "__main__":
    script = FileProcessor("File Processor", "Find patterns in files")
    script.main()
```

## [ALERT] Git Hook –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å `.sh`/`.ps1`/`.bat` —Ñ–∞–π–ª –≤ `scripts/`:

```
[BLOCKED] COMMIT BLOCKED: FORBIDDEN SCRIPT TYPE DETECTED!

SCRIPT LANGUAGE POLICY ENFORCEMENT:
‚Ä¢ [OK] ALLOWED: .py (Python scripts)
‚Ä¢ [ERROR] FORBIDDEN: .sh, .ps1, .bat, .cmd, .pl, .rb, .js

WHY THIS IS ENFORCED:
‚Ä¢ Python is cross-platform and maintainable
‚Ä¢ Shell scripts cause platform compatibility issues
‚Ä¢ Python has better error handling and testing
‚Ä¢ Single language reduces cognitive load
```

## [TARGET] –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–∞—á–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é** —Å –≤—ã—Å–æ–∫–æ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫** –¥–ª—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
4. **–£–¥–∞–ª—è—Ç—å** —Å—Ç–∞—Ä—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏
5. **–û–±–Ω–æ–≤–ª—è—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** —Å –Ω–æ–≤—ã–º–∏ Python –∫–æ–º–∞–Ω–¥–∞–º–∏

## [SYMBOL] –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

- –ü–æ—Å–º–æ—Ç—Ä–∏ –ø—Ä–∏–º–µ—Ä—ã –≤ `scripts/*.py`
- –ò—Å–ø–æ–ª—å–∑—É–π `python scripts/framework.py --help`
- –°–æ–∑–¥–∞–π Issue –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–π
