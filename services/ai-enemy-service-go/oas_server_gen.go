// Code generated by ogen, DO NOT EDIT.

package main

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// ApplyDamage implements applyDamage operation.
	//
	// Apply damage to enemy.
	//
	// POST /enemies/{enemy_id}/damage
	ApplyDamage(ctx context.Context, req *DamageRequest, params ApplyDamageParams) (*DamageResponse, error)
	// CreateSquad implements createSquad operation.
	//
	// Create new enemy squad.
	//
	// POST /squads
	CreateSquad(ctx context.Context, req *CreateSquadRequest) (*SquadResponse, error)
	// GetActiveEnemies implements getActiveEnemies operation.
	//
	// Get all active AI enemies in zone.
	//
	// GET /enemies
	GetActiveEnemies(ctx context.Context, params GetActiveEnemiesParams) (*EnemyListResponse, error)
	// GetActiveSquads implements getActiveSquads operation.
	//
	// Get all active enemy squads.
	//
	// GET /squads
	GetActiveSquads(ctx context.Context, params GetActiveSquadsParams) (*SquadListResponse, error)
	// GetEnemy implements getEnemy operation.
	//
	// Get enemy details.
	//
	// GET /enemies/{enemy_id}
	GetEnemy(ctx context.Context, params GetEnemyParams) (GetEnemyRes, error)
	// GetEnemyBehavior implements getEnemyBehavior operation.
	//
	// Get enemy behavior state.
	//
	// GET /enemies/{enemy_id}/behavior
	GetEnemyBehavior(ctx context.Context, params GetEnemyBehaviorParams) (*EnemyBehaviorResponse, error)
	// GetHealth implements getHealth operation.
	//
	// Health check endpoint.
	//
	// GET /health
	GetHealth(ctx context.Context) (*HealthResponse, error)
	// GetSquad implements getSquad operation.
	//
	// Get squad details.
	//
	// GET /squads/{squad_id}
	GetSquad(ctx context.Context, params GetSquadParams) (*SquadResponse, error)
	// GetTelemetry implements getTelemetry operation.
	//
	// Get AI system telemetry.
	//
	// GET /telemetry
	GetTelemetry(ctx context.Context, params GetTelemetryParams) (*TelemetryResponse, error)
	// GetZoneSync implements getZoneSync operation.
	//
	// Get zone synchronization state.
	//
	// GET /zones/{zone_id}/sync
	GetZoneSync(ctx context.Context, params GetZoneSyncParams) (*ZoneSyncResponse, error)
	// RemoveEnemy implements removeEnemy operation.
	//
	// Remove enemy.
	//
	// DELETE /enemies/{enemy_id}
	RemoveEnemy(ctx context.Context, params RemoveEnemyParams) error
	// SpawnEnemy implements spawnEnemy operation.
	//
	// Spawn new AI enemy.
	//
	// POST /enemies
	SpawnEnemy(ctx context.Context, req *SpawnEnemyRequest) (*EnemyResponse, error)
	// TriggerEnemyBehavior implements triggerEnemyBehavior operation.
	//
	// Trigger enemy behavior.
	//
	// POST /enemies/{enemy_id}/behavior
	TriggerEnemyBehavior(ctx context.Context, req *TriggerBehaviorRequest, params TriggerEnemyBehaviorParams) error
	// UpdateEnemy implements updateEnemy operation.
	//
	// Update enemy state.
	//
	// PUT /enemies/{enemy_id}
	UpdateEnemy(ctx context.Context, req *UpdateEnemyRequest, params UpdateEnemyParams) (*EnemyResponse, error)
	// UpdateSquad implements updateSquad operation.
	//
	// Update squad coordination.
	//
	// PUT /squads/{squad_id}
	UpdateSquad(ctx context.Context, req *UpdateSquadRequest, params UpdateSquadParams) (*SquadResponse, error)
	// UseEnemyAbility implements useEnemyAbility operation.
	//
	// Use enemy ability.
	//
	// POST /enemies/{enemy_id}/abilities
	UseEnemyAbility(ctx context.Context, req *UseAbilityRequest, params UseEnemyAbilityParams) (*AbilityResponse, error)
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
