// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// AllianceServiceHealthCheck implements allianceServiceHealthCheck operation.
	//
	// **Enterprise-grade health check endpoint**
	// Provides real-time health status of the alliance service microservice.
	// Critical for service discovery, load balancing, and monitoring.
	// **Performance:** <1ms response time, cached for 30 seconds.
	//
	// GET /health
	AllianceServiceHealthCheck(ctx context.Context, params AllianceServiceHealthCheckParams) (AllianceServiceHealthCheckRes, error)
	// CreateAlliance implements createAlliance operation.
	//
	// **Enterprise-grade alliance creation endpoint**
	// Validates alliance uniqueness, political landscape impact, and business rules. Supports
	// alliance-specific initialization and member invitations.
	// **Performance:** <75ms P95, includes validation and political impact calculation.
	//
	// POST /alliances
	CreateAlliance(ctx context.Context, req *CreateAllianceRequest) (CreateAllianceRes, error)
	// GetAlliance implements getAlliance operation.
	//
	// **Enterprise-grade alliance retrieval endpoint**
	// Retrieves complete alliance information including members, treaties, diplomatic relations, and
	// political standing.
	// Optimized with caching and conditional requests.
	// **Performance:** <10ms P95 with Redis caching.
	//
	// GET /alliances/{allianceId}
	GetAlliance(ctx context.Context, params GetAllianceParams) (GetAllianceRes, error)
	// GetAllianceDiplomacy implements getAllianceDiplomacy operation.
	//
	// **Enterprise-grade diplomatic relations endpoint**
	// Retrieves complete diplomatic matrix for alliance including relationships with other alliances,
	// factions, and political entities.
	// Essential for strategic decision making and political navigation.
	// **Performance:** <25ms P95, cached with 5-minute TTL.
	//
	// GET /alliances/{allianceId}/diplomacy
	GetAllianceDiplomacy(ctx context.Context, params GetAllianceDiplomacyParams) (GetAllianceDiplomacyRes, error)
	// GetAllianceTreaties implements getAllianceTreaties operation.
	//
	// **Enterprise-grade treaty management endpoint**
	// Retrieves all active treaties for the alliance including trade agreements, military pacts, and
	// diplomatic arrangements.
	// Critical for alliance strategy and obligations tracking.
	// **Performance:** <20ms P95, cached with 5-minute TTL.
	//
	// GET /alliances/{allianceId}/treaties
	GetAllianceTreaties(ctx context.Context, params GetAllianceTreatiesParams) (GetAllianceTreatiesRes, error)
	// JoinAlliance implements joinAlliance operation.
	//
	// **Enterprise-grade alliance membership endpoint**
	// Handles faction/guild alliance joining with treaty acceptance and integration. Validates
	// membership criteria and updates alliance statistics.
	// **Performance:** <50ms P95, includes treaty validation.
	//
	// POST /alliances/{allianceId}/join
	JoinAlliance(ctx context.Context, req *JoinAllianceRequest, params JoinAllianceParams) (JoinAllianceRes, error)
	// LeaveAlliance implements leaveAlliance operation.
	//
	// **Enterprise-grade alliance departure endpoint**
	// Handles clean alliance departure with treaty termination and impact assessment. Updates alliance
	// statistics and applies departure penalties.
	// **Performance:** <30ms P95, includes treaty recalculation.
	//
	// POST /alliances/{allianceId}/leave
	LeaveAlliance(ctx context.Context, req OptLeaveAllianceRequest, params LeaveAllianceParams) (LeaveAllianceRes, error)
	// ListAlliances implements listAlliances operation.
	//
	// **Enterprise-grade alliance listing endpoint**
	// Supports complex filtering by type, member count, influence, and relationships. Optimized for
	// high-throughput scenarios with proper indexing.
	// **Performance:** <15ms P95, supports 1000+ concurrent requests.
	//
	// GET /alliances
	ListAlliances(ctx context.Context, params ListAlliancesParams) (ListAlliancesRes, error)
	// ProposeTreaty implements proposeTreaty operation.
	//
	// **Enterprise-grade treaty proposal endpoint**
	// Initiates treaty negotiations with other alliances or factions. Validates proposal legitimacy and
	// diplomatic standing.
	// **Performance:** <60ms P95, includes diplomatic validation.
	//
	// POST /alliances/{allianceId}/treaties
	ProposeTreaty(ctx context.Context, req *TreatyProposalRequest, params ProposeTreatyParams) (ProposeTreatyRes, error)
	// UpdateAlliance implements updateAlliance operation.
	//
	// **Enterprise-grade alliance update endpoint**
	// Supports partial updates with political impact assessment and validation. Ensures alliance
	// integrity and political balance maintenance.
	// **Performance:** <40ms P95, includes political impact calculation.
	//
	// PUT /alliances/{allianceId}
	UpdateAlliance(ctx context.Context, req *UpdateAllianceRequest, params UpdateAllianceParams) (UpdateAllianceRes, error)
	// NewError creates *ErrRespStatusCode from error returned by handler.
	//
	// Used for common default response.
	NewError(ctx context.Context, err error) *ErrRespStatusCode
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
