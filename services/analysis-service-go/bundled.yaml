openapi: 3.0.3
info:
  title: Game Analytics Dashboard Service API - Enterprise-Grade Analytics for NECPGAME
  description: '**Enterprise-Grade Game Analytics Dashboard Service API for NECPGAME
    MMORPG**

    Comprehensive analytics platform providing real-time insights into game performance,
    player behavior, economic metrics, and strategic decision support for Cyberpunk
    2077-style competitive shooter.

    ## Key Features

    - **Real-time Game Analytics Dashboard** - Live performance metrics and KPIs -
    **Player Behavior Analytics** - Advanced player segmentation and retention analysis
    - **Economic Analytics** - Currency flow, market trends, and trading patterns
    - **Combat Statistics** - Detailed combat performance and win/loss analytics -
    **Social Network Analysis** - Guild dynamics and player relationships - **Revenue
    Analytics** - Monetization metrics and player spending patterns - **Technical
    Performance** - System health, latency, and bottleneck analysis

    ## Domain Purpose

    This service provides comprehensive analytics capabilities for MMORPG operations,
    including real-time dashboards, player metrics, economic analysis, and strategic
    research tools.

    ## Performance Targets

    - P99 Latency: <100ms for analytics queries - Memory: <300MB per dashboard instance
    - Concurrent analysts: 1000+ simultaneous sessions - Data processing: Real-time
    stream analytics with <5s latency - Storage: Time-series optimized database with
    1+ year retention

    ## Security Features

    - Role-based access control (Admin, Analyst, Developer) - Encrypted data transmission
    and storage - Audit trails for all analytics queries - Rate limiting and abuse
    prevention '
  version: 1.0.0
  contact:
    name: NECPGAME Analytics API Support
    email: analytics@necp.game
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
servers:
- url: https://api.necpgame.com/v1/analytics
  description: Production server
- url: https://staging-api.necpgame.com/v1/analytics
  description: Staging server
- url: http://localhost:8091/api/v1/analytics
  description: Local development server
security:
- BearerAuth: []
tags:
- name: Game Analytics Dashboard
  description: Real-time game analytics and dashboard operations
- name: Player Analytics
  description: Player behavior, retention, and segmentation analytics
- name: Economic Analytics
  description: Currency flow, trading, and monetization analytics
- name: Combat Analytics
  description: Combat performance and statistics
- name: Social Analytics
  description: Guild and social network analysis
- name: Revenue Analytics
  description: Monetization and revenue metrics
- name: Technical Performance
  description: System performance and health monitoring
paths:
  /health:
    $ref: ./paths/health.yaml#/paths/~1health
  /api/v1/analytics/dashboard/overview:
    $ref: ./paths/api-v1-analytics-dashboard-overview.yaml#/paths/~1api~1v1~1analytics~1dashboard~1overview
  /api/v1/analytics/players/behavior:
    $ref: ./paths/api-v1-analytics-players-behavior.yaml#/paths/~1api~1v1~1analytics~1players~1behavior
  /api/v1/analytics/economy/overview:
    $ref: ./paths/api-v1-analytics-economy-overview.yaml#/paths/~1api~1v1~1analytics~1economy~1overview
  /api/v1/analytics/combat/performance:
    $ref: ./paths/api-v1-analytics-combat-performance.yaml#/paths/~1api~1v1~1analytics~1combat~1performance
  /api/v1/analytics/social/network:
    $ref: ./paths/api-v1-analytics-social-network.yaml#/paths/~1api~1v1~1analytics~1social~1network
  /api/v1/analytics/revenue/monetization:
    $ref: ./paths/api-v1-analytics-revenue-monetization.yaml#/paths/~1api~1v1~1analytics~1revenue~1monetization
  /api/v1/analytics/performance/system:
    $ref: ./paths/api-v1-analytics-performance-system.yaml#/paths/~1api~1v1~1analytics~1performance~1system
  /api/v1/analytics/alerts:
    $ref: ./paths/api-v1-analytics-alerts.yaml#/paths/~1api~1v1~1analytics~1alerts
  /api/v1/analytics/reports/{report_type}:
    $ref: ./paths/api-v1-analytics-reports-{report_type}.yaml#/paths/~1api~1v1~1analytics~1reports~1{report_type}
components:
  schemas:
    HealthResponse:
      $ref: ../common/schemas/health.yaml#/HealthResponse
    GameAnalyticsOverview:
      type: object
      required:
      - summary
      - player_metrics
      - economic_indicators
      - combat_stats
      - system_health
      - timestamp
      properties:
        summary:
          $ref: '#/components/schemas/DashboardSummary'
        player_metrics:
          $ref: '#/components/schemas/PlayerMetricsSummary'
        economic_indicators:
          $ref: '#/components/schemas/EconomicIndicators'
        combat_stats:
          $ref: '#/components/schemas/CombatStatsSummary'
        social_metrics:
          $ref: '#/components/schemas/SocialMetricsSummary'
        system_health:
          $ref: '#/components/schemas/SystemHealthSummary'
        timestamp:
          type: string
          format: date-time
          example: '2025-12-21T10:00:00Z'
        period:
          type: string
          example: 24h
      description: Comprehensive game analytics overview dashboard data.
    DashboardSummary:
      type: object
      required:
      - active_users
      - total_revenue
      - average_session_time
      - server_health_score
      properties:
        active_users:
          type: integer
          example: 125000
          minimum: 0
        new_registrations:
          type: integer
          example: 2500
          minimum: 0
        total_revenue:
          type: number
          format: float
          example: 45678.9
          minimum: 0
        average_session_time:
          type: number
          format: float
          example: 45.5
          minimum: 0
          description: Average session time in minutes
        server_health_score:
          type: number
          format: float
          minimum: 0
          maximum: 100
          example: 98.5
        alerts_count:
          type: integer
          example: 3
          minimum: 0
      description: Key performance indicators summary.
    PlayerMetricsSummary:
      type: object
      required:
      - active_users
      - new_users
      - retention_rate
      - average_session_duration
      properties:
        active_users:
          type: integer
          example: 125000
        new_users:
          type: integer
          example: 2500
        retention_rate:
          type: object
          properties:
            day1:
              type: number
              format: float
              example: 85.5
            day7:
              type: number
              format: float
              example: 45.2
            day30:
              type: number
              format: float
              example: 25.8
        average_session_duration:
          type: number
          format: float
          example: 45.5
          description: Average session duration in minutes
        churn_rate:
          type: number
          format: float
          example: 12.3
        player_segments:
          type: object
          properties:
            casual:
              type: integer
              example: 75000
            hardcore:
              type: integer
              example: 35000
            competitive:
              type: integer
              example: 15000
      description: Player engagement and behavior metrics.
    EconomicIndicators:
      type: object
      required:
      - total_currency_circulation
      - inflation_rate
      - trading_volume
      properties:
        total_currency_circulation:
          type: number
          format: float
          example: 5000000.0
        inflation_rate:
          type: number
          format: float
          example: 2.3
          description: Monthly inflation rate percentage
        trading_volume:
          type: number
          format: float
          example: 125000.0
        market_stability_index:
          type: number
          format: float
          minimum: 0
          maximum: 100
          example: 87.5
        top_traded_items:
          type: array
          items:
            type: object
            properties:
              item_id:
                type: string
                example: cyberware_mk3
              volume:
                type: integer
                example: 1500
              average_price:
                type: number
                format: float
                example: 2500.0
          maxItems: 10
      description: In-game economy health indicators.
    CombatStatsSummary:
      type: object
      required:
      - total_matches
      - average_match_duration
      - win_rate
      properties:
        total_matches:
          type: integer
          example: 50000
        average_match_duration:
          type: number
          format: float
          example: 12.5
          description: Average match duration in minutes
        win_rate:
          type: number
          format: float
          example: 52.3
        popular_game_modes:
          type: array
          items:
            type: object
            properties:
              mode:
                type: string
                example: ranked_deathmatch
              matches:
                type: integer
                example: 15000
              average_players:
                type: integer
                example: 8
          maxItems: 5
        regional_performance:
          type: object
          properties:
            north_america:
              type: number
              format: float
              example: 55.2
            europe:
              type: number
              format: float
              example: 51.8
            asia:
              type: number
              format: float
              example: 49.5
      description: Combat performance summary statistics.
    SocialMetricsSummary:
      type: object
      required:
      - active_guilds
      - average_guild_size
      - social_connections
      properties:
        active_guilds:
          type: integer
          example: 2500
        average_guild_size:
          type: number
          format: float
          example: 15.3
        social_connections:
          type: integer
          example: 75000
        guild_activity_score:
          type: number
          format: float
          minimum: 0
          maximum: 100
          example: 78.5
        top_guilds:
          type: array
          items:
            type: object
            properties:
              guild_id:
                type: string
                example: shadow_runners
              member_count:
                type: integer
                example: 50
              activity_score:
                type: number
                format: float
                example: 95.2
          maxItems: 10
      description: Social interaction and community metrics.
    SystemHealthSummary:
      type: object
      required:
      - overall_health_score
      - response_time_avg
      - error_rate
      properties:
        overall_health_score:
          type: number
          format: float
          minimum: 0
          maximum: 100
          example: 98.5
        response_time_avg:
          type: number
          format: float
          example: 45.2
          description: Average response time in milliseconds
        error_rate:
          type: number
          format: float
          example: 0.05
          description: Error rate as percentage
        active_services:
          type: integer
          example: 25
        critical_alerts:
          type: integer
          example: 1
        infrastructure_status:
          type: object
          properties:
            database:
              type: string
              enum:
              - healthy
              - degraded
              - critical
              example: healthy
            cache:
              type: string
              enum:
              - healthy
              - degraded
              - critical
              example: healthy
            messaging:
              type: string
              enum:
              - healthy
              - degraded
              - critical
              example: healthy
      description: System performance and health indicators.
    PlayerBehaviorAnalytics:
      type: object
      required:
      - period
      - metrics
      - segments
      - timestamp
      properties:
        period:
          type: string
          example: 7d
        metrics:
          $ref: '#/components/schemas/PlayerMetricsSummary'
        segments:
          type: array
          items:
            $ref: '#/components/schemas/PlayerSegment'
        retention_curves:
          type: object
          description: Retention curves by cohort
        engagement_patterns:
          type: object
          properties:
            peak_hours:
              type: array
              items:
                type: string
                example: '20:00'
            preferred_game_modes:
              type: array
              items:
                type: string
                example: ranked_deathmatch
        timestamp:
          type: string
          format: date-time
      description: Detailed player behavior analytics data.
    PlayerSegment:
      type: object
      required:
      - segment_name
      - player_count
      - characteristics
      properties:
        segment_name:
          type: string
          example: hardcore_gamers
        player_count:
          type: integer
          example: 35000
        characteristics:
          type: object
          properties:
            average_level:
              type: number
              format: float
              example: 45.2
            average_session_time:
              type: number
              format: float
              example: 120.5
            preferred_content:
              type: array
              items:
                type: string
                example: cyberpunk_quests
        retention_rate:
          type: number
          format: float
          example: 78.5
        lifetime_value:
          type: number
          format: float
          example: 125.5
      description: Player segment analysis data.
    EconomicAnalytics:
      type: object
      required:
      - period
      - currency_flow
      - market_trends
      - player_wealth
      - timestamp
      properties:
        period:
          type: string
          example: 24h
        currency_flow:
          type: object
          properties:
            total_circulation:
              type: number
              format: float
              example: 5000000.0
            daily_volume:
              type: number
              format: float
              example: 250000.0
            inflation_rate:
              type: number
              format: float
              example: 2.3
        market_trends:
          type: array
          items:
            type: object
            properties:
              item_category:
                type: string
                example: cyberware
              price_trend:
                type: string
                enum:
                - increasing
                - decreasing
                - stable
                example: increasing
              volume_change:
                type: number
                format: float
                example: 15.5
        player_wealth:
          type: object
          properties:
            average_balance:
              type: number
              format: float
              example: 1250.0
            wealth_distribution:
              type: object
              properties:
                low_income:
                  type: number
                  format: float
                  example: 45.2
                middle_class:
                  type: number
                  format: float
                  example: 35.8
                high_rollers:
                  type: number
                  format: float
                  example: 19.0
        trading_activity:
          type: object
          properties:
            active_traders:
              type: integer
              example: 15000
            successful_trades:
              type: integer
              example: 45000
            average_trade_value:
              type: number
              format: float
              example: 850.0
        timestamp:
          type: string
          format: date-time
      description: Comprehensive economic analytics data.
    CombatAnalytics:
      type: object
      required:
      - period
      - overall_stats
      - weapon_performance
      - class_balance
      - timestamp
      properties:
        period:
          type: string
          example: 24h
        overall_stats:
          type: object
          properties:
            total_matches:
              type: integer
              example: 50000
            average_duration:
              type: number
              format: float
              example: 12.5
            overall_win_rate:
              type: number
              format: float
              example: 52.3
        weapon_performance:
          type: array
          items:
            type: object
            properties:
              weapon_id:
                type: string
                example: malorian_arms_350d
              usage_rate:
                type: number
                format: float
                example: 15.5
              win_rate:
                type: number
                format: float
                example: 58.2
              average_kills:
                type: number
                format: float
                example: 12.3
        class_balance:
          type: array
          items:
            type: object
            properties:
              class_name:
                type: string
                example: netrunner
              pick_rate:
                type: number
                format: float
                example: 22.5
              win_rate:
                type: number
                format: float
                example: 51.8
              average_score:
                type: number
                format: float
                example: 2450
        regional_stats:
          type: object
          properties:
            north_america:
              $ref: '#/components/schemas/RegionalCombatStats'
            europe:
              $ref: '#/components/schemas/RegionalCombatStats'
            asia:
              $ref: '#/components/schemas/RegionalCombatStats'
        timestamp:
          type: string
          format: date-time
      description: Detailed combat performance analytics.
    RegionalCombatStats:
      type: object
      required:
      - total_matches
      - average_ping
      - win_rate
      properties:
        total_matches:
          type: integer
          example: 12500
        average_ping:
          type: number
          format: float
          example: 45.2
        win_rate:
          type: number
          format: float
          example: 55.2
        popular_weapons:
          type: array
          items:
            type: string
            example: militech_m2077
          maxItems: 5
      description: Combat statistics for specific geographic region.
    SocialAnalytics:
      type: object
      required:
      - period
      - guild_metrics
      - social_connections
      - community_health
      - timestamp
      properties:
        period:
          type: string
          example: 7d
        guild_metrics:
          type: object
          properties:
            total_guilds:
              type: integer
              example: 2500
            active_guilds:
              type: integer
              example: 1800
            average_guild_size:
              type: number
              format: float
              example: 15.3
            guild_retention_rate:
              type: number
              format: float
              example: 82.5
        social_connections:
          type: object
          properties:
            total_connections:
              type: integer
              example: 75000
            average_connections_per_player:
              type: number
              format: float
              example: 8.5
            connection_growth_rate:
              type: number
              format: float
              example: 12.3
        community_health:
          type: object
          properties:
            engagement_score:
              type: number
              format: float
              minimum: 0
              maximum: 100
              example: 78.5
            toxicity_level:
              type: number
              format: float
              minimum: 0
              maximum: 100
              example: 15.2
            positive_interactions:
              type: number
              format: float
              example: 85.3
        top_guilds:
          type: array
          items:
            $ref: '#/components/schemas/GuildAnalytics'
          maxItems: 10
        timestamp:
          type: string
          format: date-time
      description: Social network and community analytics.
    GuildAnalytics:
      type: object
      required:
      - guild_id
      - name
      - member_count
      - activity_score
      properties:
        guild_id:
          type: string
          example: shadow_runners
        name:
          type: string
          example: Shadow Runners
        member_count:
          type: integer
          example: 50
        activity_score:
          type: number
          format: float
          minimum: 0
          maximum: 100
          example: 95.2
        average_member_level:
          type: number
          format: float
          example: 42.5
        weekly_active_members:
          type: integer
          example: 35
        achievements:
          type: array
          items:
            type: string
            example: tournament_winner_q4_2024
          maxItems: 5
      description: Individual guild performance metrics.
    RevenueAnalytics:
      type: object
      required:
      - period
      - revenue_metrics
      - player_spending
      - monetization_efficiency
      - timestamp
      properties:
        period:
          type: string
          example: 30d
        revenue_metrics:
          type: object
          properties:
            total_revenue:
              type: number
              format: float
              example: 456789.5
            daily_average:
              type: number
              format: float
              example: 15226.32
            monthly_recurring:
              type: number
              format: float
              example: 125000.0
            arpu:
              type: number
              format: float
              example: 15.25
              description: Average Revenue Per User
            arppu:
              type: number
              format: float
              example: 85.5
              description: Average Revenue Per Paying User
        player_spending:
          type: object
          properties:
            paying_users_percentage:
              type: number
              format: float
              example: 12.5
            average_purchase_value:
              type: number
              format: float
              example: 45.8
            purchase_frequency:
              type: number
              format: float
              example: 2.3
              description: Average purchases per paying user per month
        monetization_efficiency:
          type: object
          properties:
            conversion_rate:
              type: number
              format: float
              example: 8.5
              description: Free to paying user conversion rate
            retention_ltv:
              type: number
              format: float
              example: 125.5
              description: Lifetime value of retained players
            churn_impact:
              type: number
              format: float
              example: -15.2
              description: Revenue impact of churned users
        top_revenue_sources:
          type: array
          items:
            type: object
            properties:
              source:
                type: string
                example: cosmetic_packs
              revenue:
                type: number
                format: float
                example: 125000.0
              percentage:
                type: number
                format: float
                example: 35.2
          maxItems: 5
        timestamp:
          type: string
          format: date-time
      description: Revenue and monetization analytics data.
    SystemPerformanceAnalytics:
      type: object
      required:
      - period
      - api_performance
      - database_performance
      - infrastructure_health
      - timestamp
      properties:
        period:
          type: string
          example: 1h
        api_performance:
          type: object
          properties:
            average_response_time:
              type: number
              format: float
              example: 45.2
              description: Average response time in milliseconds
            p95_response_time:
              type: number
              format: float
              example: 125.5
            p99_response_time:
              type: number
              format: float
              example: 250.8
            error_rate:
              type: number
              format: float
              example: 0.05
            throughput:
              type: integer
              example: 1500
              description: Requests per second
        database_performance:
          type: object
          properties:
            connection_pool_utilization:
              type: number
              format: float
              example: 75.5
            average_query_time:
              type: number
              format: float
              example: 12.3
            slow_queries_count:
              type: integer
              example: 5
            cache_hit_rate:
              type: number
              format: float
              example: 94.2
        infrastructure_health:
          type: object
          properties:
            cpu_utilization:
              type: number
              format: float
              example: 68.5
            memory_utilization:
              type: number
              format: float
              example: 72.3
            disk_utilization:
              type: number
              format: float
              example: 45.8
            network_bandwidth:
              type: number
              format: float
              example: 850.5
              description: Network bandwidth usage in Mbps
        active_alerts:
          type: array
          items:
            $ref: '#/components/schemas/SystemAlert'
          maxItems: 20
        timestamp:
          type: string
          format: date-time
      description: System performance and infrastructure health analytics.
    SystemAlert:
      type: object
      required:
      - severity
      - message
      - timestamp
      properties:
        severity:
          type: string
          enum:
          - critical
          - high
          - medium
          - low
          example: high
        message:
          type: string
          example: Database connection pool utilization above 90%
        component:
          type: string
          example: database
        value:
          type: number
          format: float
          example: 92.5
        threshold:
          type: number
          format: float
          example: 90.0
        timestamp:
          type: string
          format: date-time
      description: System performance alert information.
    AnalyticsAlerts:
      type: object
      required:
      - alerts
      - summary
      - timestamp
      properties:
        alerts:
          type: array
          items:
            $ref: '#/components/schemas/AnalyticsAlert'
        summary:
          type: object
          properties:
            critical_count:
              type: integer
              example: 1
            high_count:
              type: integer
              example: 3
            medium_count:
              type: integer
              example: 8
            low_count:
              type: integer
              example: 15
        timestamp:
          type: string
          format: date-time
      description: Analytics alerts and notifications data.
    AnalyticsAlert:
      type: object
      required:
      - id
      - severity
      - title
      - message
      - category
      - timestamp
      properties:
        id:
          type: string
          example: alert_20240115_001
        severity:
          type: string
          enum:
          - critical
          - high
          - medium
          - low
          example: high
        title:
          type: string
          example: Player Retention Drop
        message:
          type: string
          example: 7-day retention rate dropped by 15% in the last 24 hours
        category:
          type: string
          enum:
          - player_engagement
          - economic_health
          - combat_balance
          - system_performance
          - security
          - revenue
          example: player_engagement
        metric:
          type: string
          example: retention_rate_7d
        current_value:
          type: number
          format: float
          example: 42.3
        threshold_value:
          type: number
          format: float
          example: 45.0
        change_percentage:
          type: number
          format: float
          example: -15.2
        acknowledged:
          type: boolean
          example: false
        timestamp:
          type: string
          format: date-time
        acknowledged_at:
          type: string
          format: date-time
          nullable: true
        acknowledged_by:
          type: string
          nullable: true
          example: admin@necpgame.com
      description: Individual analytics alert details.
    AnalyticsReport:
      type: object
      required:
      - report_type
      - period
      - data
      - generated_at
      properties:
        report_type:
          type: string
          enum:
          - player-retention
          - economic-health
          - combat-balance
          - revenue-analysis
          - social-network
          - performance-summary
          example: player-retention
        period:
          type: object
          properties:
            start_date:
              type: string
              format: date
              example: '2024-01-01'
            end_date:
              type: string
              format: date
              example: '2024-01-31'
        data:
          type: object
          description: Report-specific data payload
        metadata:
          type: object
          properties:
            total_records:
              type: integer
              example: 50000
            data_freshness:
              type: string
              example: '2024-01-15T14:30:00Z'
            generation_time_seconds:
              type: number
              format: float
              example: 45.2
        generated_at:
          type: string
          format: date-time
        generated_by:
          type: string
          example: analytics-service
        format:
          type: string
          enum:
          - json
          - csv
          - pdf
          example: json
      description: Generated analytics report data.
    Error:
      $ref: ../common/schemas/infrastructure-entities.yaml#/ErrorResponse
    PaginationParams:
      $ref: ../common/schemas/pagination.yaml#/PaginationParams
    PaginatedResponse:
      $ref: ../common/schemas/pagination.yaml#/PaginatedResponse
  responses:
    OK:
      $ref: ../common/responses/success.yaml#/OK
    Created:
      $ref: ../common/responses/success.yaml#/Created
    BadRequest:
      $ref: ../common/responses/error.yaml#/BadRequest
    Unauthorized:
      $ref: ../common/responses/error.yaml#/Unauthorized
    Forbidden:
      $ref: ../common/responses/error.yaml#/Forbidden
    NotFound:
      $ref: ../common/responses/error.yaml#/NotFound
    Conflict:
      $ref: ../common/responses/error.yaml#/Conflict
    InternalServerError:
      $ref: ../common/responses/error.yaml#/InternalServerError
    HealthOK:
      $ref: ../common/responses/success.yaml#/HealthOK
    HealthBatchSuccess:
      $ref: ../common/responses/success.yaml#/HealthBatchSuccess
  securitySchemes:
    BearerAuth:
      $ref: ../common/security/security.yaml#/BearerAuth
    ApiKeyAuth:
      $ref: ../common/security/security.yaml#/ApiKeyAuth
    ServiceAuth:
      $ref: ../common/security/security.yaml#/ServiceAuth
