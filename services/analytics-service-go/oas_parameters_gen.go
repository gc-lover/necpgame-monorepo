// Code generated by ogen, DO NOT EDIT.

package api

import (
	"net/http"

	"github.com/ogen-go/ogen/conv"
	"github.com/ogen-go/ogen/middleware"
	"github.com/ogen-go/ogen/ogenerrors"
	"github.com/ogen-go/ogen/uri"
)

// AnalyticsServiceHealthCheckParams is parameters of analyticsServiceHealthCheck operation.
type AnalyticsServiceHealthCheckParams struct {
	AcceptEncoding OptAnalyticsServiceHealthCheckAcceptEncoding `json:",omitempty,omitzero"`
}

func unpackAnalyticsServiceHealthCheckParams(packed middleware.Parameters) (params AnalyticsServiceHealthCheckParams) {
	{
		key := middleware.ParameterKey{
			Name: "Accept-Encoding",
			In:   "header",
		}
		if v, ok := packed[key]; ok {
			params.AcceptEncoding = v.(OptAnalyticsServiceHealthCheckAcceptEncoding)
		}
	}
	return params
}

func decodeAnalyticsServiceHealthCheckParams(args [0]string, argsEscaped bool, r *http.Request) (params AnalyticsServiceHealthCheckParams, _ error) {
	h := uri.NewHeaderDecoder(r.Header)
	// Decode header: Accept-Encoding.
	if err := func() error {
		cfg := uri.HeaderParameterDecodingConfig{
			Name:    "Accept-Encoding",
			Explode: false,
		}
		if err := h.HasParam(cfg); err == nil {
			if err := h.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotAcceptEncodingVal AnalyticsServiceHealthCheckAcceptEncoding
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotAcceptEncodingVal = AnalyticsServiceHealthCheckAcceptEncoding(c)
					return nil
				}(); err != nil {
					return err
				}
				params.AcceptEncoding.SetTo(paramsDotAcceptEncodingVal)
				return nil
			}); err != nil {
				return err
			}
			if err := func() error {
				if value, ok := params.AcceptEncoding.Get(); ok {
					if err := func() error {
						if err := value.Validate(); err != nil {
							return err
						}
						return nil
					}(); err != nil {
						return err
					}
				}
				return nil
			}(); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "Accept-Encoding",
			In:   "header",
			Err:  err,
		}
	}
	return params, nil
}

// GetCombatAnalyticsOverviewParams is parameters of getCombatAnalyticsOverview operation.
type GetCombatAnalyticsOverviewParams struct {
	// Time period for analytics.
	Period OptGetCombatAnalyticsOverviewPeriod `json:",omitempty,omitzero"`
	// Filter by game mode.
	GameMode OptGetCombatAnalyticsOverviewGameMode `json:",omitempty,omitzero"`
}

func unpackGetCombatAnalyticsOverviewParams(packed middleware.Parameters) (params GetCombatAnalyticsOverviewParams) {
	{
		key := middleware.ParameterKey{
			Name: "period",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.Period = v.(OptGetCombatAnalyticsOverviewPeriod)
		}
	}
	{
		key := middleware.ParameterKey{
			Name: "game_mode",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.GameMode = v.(OptGetCombatAnalyticsOverviewGameMode)
		}
	}
	return params
}

func decodeGetCombatAnalyticsOverviewParams(args [0]string, argsEscaped bool, r *http.Request) (params GetCombatAnalyticsOverviewParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Set default value for query: period.
	{
		val := GetCombatAnalyticsOverviewPeriod("day")
		params.Period.SetTo(val)
	}
	// Decode query: period.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "period",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotPeriodVal GetCombatAnalyticsOverviewPeriod
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotPeriodVal = GetCombatAnalyticsOverviewPeriod(c)
					return nil
				}(); err != nil {
					return err
				}
				params.Period.SetTo(paramsDotPeriodVal)
				return nil
			}); err != nil {
				return err
			}
			if err := func() error {
				if value, ok := params.Period.Get(); ok {
					if err := func() error {
						if err := value.Validate(); err != nil {
							return err
						}
						return nil
					}(); err != nil {
						return err
					}
				}
				return nil
			}(); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "period",
			In:   "query",
			Err:  err,
		}
	}
	// Decode query: game_mode.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "game_mode",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotGameModeVal GetCombatAnalyticsOverviewGameMode
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotGameModeVal = GetCombatAnalyticsOverviewGameMode(c)
					return nil
				}(); err != nil {
					return err
				}
				params.GameMode.SetTo(paramsDotGameModeVal)
				return nil
			}); err != nil {
				return err
			}
			if err := func() error {
				if value, ok := params.GameMode.Get(); ok {
					if err := func() error {
						if err := value.Validate(); err != nil {
							return err
						}
						return nil
					}(); err != nil {
						return err
					}
				}
				return nil
			}(); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "game_mode",
			In:   "query",
			Err:  err,
		}
	}
	return params, nil
}

// GetEconomyMarketAnalyticsParams is parameters of getEconomyMarketAnalytics operation.
type GetEconomyMarketAnalyticsParams struct {
	// Type of economic asset.
	AssetType OptGetEconomyMarketAnalyticsAssetType `json:",omitempty,omitzero"`
	// Analysis timeframe.
	Timeframe OptGetEconomyMarketAnalyticsTimeframe `json:",omitempty,omitzero"`
}

func unpackGetEconomyMarketAnalyticsParams(packed middleware.Parameters) (params GetEconomyMarketAnalyticsParams) {
	{
		key := middleware.ParameterKey{
			Name: "asset_type",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.AssetType = v.(OptGetEconomyMarketAnalyticsAssetType)
		}
	}
	{
		key := middleware.ParameterKey{
			Name: "timeframe",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.Timeframe = v.(OptGetEconomyMarketAnalyticsTimeframe)
		}
	}
	return params
}

func decodeGetEconomyMarketAnalyticsParams(args [0]string, argsEscaped bool, r *http.Request) (params GetEconomyMarketAnalyticsParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: asset_type.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "asset_type",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotAssetTypeVal GetEconomyMarketAnalyticsAssetType
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotAssetTypeVal = GetEconomyMarketAnalyticsAssetType(c)
					return nil
				}(); err != nil {
					return err
				}
				params.AssetType.SetTo(paramsDotAssetTypeVal)
				return nil
			}); err != nil {
				return err
			}
			if err := func() error {
				if value, ok := params.AssetType.Get(); ok {
					if err := func() error {
						if err := value.Validate(); err != nil {
							return err
						}
						return nil
					}(); err != nil {
						return err
					}
				}
				return nil
			}(); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "asset_type",
			In:   "query",
			Err:  err,
		}
	}
	// Set default value for query: timeframe.
	{
		val := GetEconomyMarketAnalyticsTimeframe("medium")
		params.Timeframe.SetTo(val)
	}
	// Decode query: timeframe.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "timeframe",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotTimeframeVal GetEconomyMarketAnalyticsTimeframe
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotTimeframeVal = GetEconomyMarketAnalyticsTimeframe(c)
					return nil
				}(); err != nil {
					return err
				}
				params.Timeframe.SetTo(paramsDotTimeframeVal)
				return nil
			}); err != nil {
				return err
			}
			if err := func() error {
				if value, ok := params.Timeframe.Get(); ok {
					if err := func() error {
						if err := value.Validate(); err != nil {
							return err
						}
						return nil
					}(); err != nil {
						return err
					}
				}
				return nil
			}(); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "timeframe",
			In:   "query",
			Err:  err,
		}
	}
	return params, nil
}

// GetPlayerBehaviorAnalyticsParams is parameters of getPlayerBehaviorAnalytics operation.
type GetPlayerBehaviorAnalyticsParams struct {
	// Player segment to analyze.
	Segment OptGetPlayerBehaviorAnalyticsSegment `json:",omitempty,omitzero"`
	// Behavior metric to analyze.
	Metric OptGetPlayerBehaviorAnalyticsMetric `json:",omitempty,omitzero"`
}

func unpackGetPlayerBehaviorAnalyticsParams(packed middleware.Parameters) (params GetPlayerBehaviorAnalyticsParams) {
	{
		key := middleware.ParameterKey{
			Name: "segment",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.Segment = v.(OptGetPlayerBehaviorAnalyticsSegment)
		}
	}
	{
		key := middleware.ParameterKey{
			Name: "metric",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.Metric = v.(OptGetPlayerBehaviorAnalyticsMetric)
		}
	}
	return params
}

func decodeGetPlayerBehaviorAnalyticsParams(args [0]string, argsEscaped bool, r *http.Request) (params GetPlayerBehaviorAnalyticsParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: segment.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "segment",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotSegmentVal GetPlayerBehaviorAnalyticsSegment
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotSegmentVal = GetPlayerBehaviorAnalyticsSegment(c)
					return nil
				}(); err != nil {
					return err
				}
				params.Segment.SetTo(paramsDotSegmentVal)
				return nil
			}); err != nil {
				return err
			}
			if err := func() error {
				if value, ok := params.Segment.Get(); ok {
					if err := func() error {
						if err := value.Validate(); err != nil {
							return err
						}
						return nil
					}(); err != nil {
						return err
					}
				}
				return nil
			}(); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "segment",
			In:   "query",
			Err:  err,
		}
	}
	// Set default value for query: metric.
	{
		val := GetPlayerBehaviorAnalyticsMetric("engagement")
		params.Metric.SetTo(val)
	}
	// Decode query: metric.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "metric",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotMetricVal GetPlayerBehaviorAnalyticsMetric
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotMetricVal = GetPlayerBehaviorAnalyticsMetric(c)
					return nil
				}(); err != nil {
					return err
				}
				params.Metric.SetTo(paramsDotMetricVal)
				return nil
			}); err != nil {
				return err
			}
			if err := func() error {
				if value, ok := params.Metric.Get(); ok {
					if err := func() error {
						if err := value.Validate(); err != nil {
							return err
						}
						return nil
					}(); err != nil {
						return err
					}
				}
				return nil
			}(); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "metric",
			In:   "query",
			Err:  err,
		}
	}
	return params, nil
}

// GetSystemPerformanceMetricsParams is parameters of getSystemPerformanceMetrics operation.
type GetSystemPerformanceMetricsParams struct {
	// System component to monitor.
	Component OptGetSystemPerformanceMetricsComponent `json:",omitempty,omitzero"`
}

func unpackGetSystemPerformanceMetricsParams(packed middleware.Parameters) (params GetSystemPerformanceMetricsParams) {
	{
		key := middleware.ParameterKey{
			Name: "component",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.Component = v.(OptGetSystemPerformanceMetricsComponent)
		}
	}
	return params
}

func decodeGetSystemPerformanceMetricsParams(args [0]string, argsEscaped bool, r *http.Request) (params GetSystemPerformanceMetricsParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: component.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "component",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotComponentVal GetSystemPerformanceMetricsComponent
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotComponentVal = GetSystemPerformanceMetricsComponent(c)
					return nil
				}(); err != nil {
					return err
				}
				params.Component.SetTo(paramsDotComponentVal)
				return nil
			}); err != nil {
				return err
			}
			if err := func() error {
				if value, ok := params.Component.Get(); ok {
					if err := func() error {
						if err := value.Validate(); err != nil {
							return err
						}
						return nil
					}(); err != nil {
						return err
					}
				}
				return nil
			}(); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "component",
			In:   "query",
			Err:  err,
		}
	}
	return params, nil
}
