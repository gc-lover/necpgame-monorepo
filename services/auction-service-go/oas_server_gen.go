// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// AuctionServiceBatchHealthCheck implements auctionServiceBatchHealthCheck operation.
	//
	// **Performance optimization:** Check multiple services health in single request
	// Reduces N HTTP calls to 1 call. Critical for orchestration.
	// **Use case:** Service mesh health checks, Kubernetes readiness probes.
	//
	// POST /health/batch
	AuctionServiceBatchHealthCheck(ctx context.Context, req *AuctionServiceBatchHealthCheckReq) (AuctionServiceBatchHealthCheckRes, error)
	// AuctionServiceHealthCheck implements auctionServiceHealthCheck operation.
	//
	// **Enterprise-grade health check endpoint**
	// Provides real-time health status of the auction service microservice.
	// Critical for service discovery, load balancing, and monitoring.
	// **Performance:** <1ms response time, cached for 30 seconds.
	//
	// GET /health
	AuctionServiceHealthCheck(ctx context.Context, params AuctionServiceHealthCheckParams) (AuctionServiceHealthCheckRes, error)
	// AuctionServiceHealthWebSocket implements auctionServiceHealthWebSocket operation.
	//
	// **Performance optimization:** Real-time health updates without polling
	// Eliminates periodic HTTP requests, reduces server load by ~90%.
	// Perfect for dashboard monitoring and alerting systems.
	// **Protocol:** WebSocket with JSON payloads
	// **Heartbeat:** 30 second intervals
	// **Reconnection:** Automatic with exponential backoff.
	//
	// GET /health/ws
	AuctionServiceHealthWebSocket(ctx context.Context, params AuctionServiceHealthWebSocketParams) (AuctionServiceHealthWebSocketRes, error)
	// BuyoutAuction implements buyoutAuction operation.
	//
	// **Immediately purchase auction at buyout price**
	// Ends auction early if buyout price is set and buyer has sufficient funds.
	// **Atomicity:** All operations executed in single transaction.
	//
	// POST /auctions/{auctionId}/buyout
	BuyoutAuction(ctx context.Context, params BuyoutAuctionParams) (BuyoutAuctionRes, error)
	// CreateAuction implements createAuction operation.
	//
	// **Create auction for item with bidding system**
	// Initiates a timed auction with configurable bidding rules and buyout options.
	// **Security:** Only item owner can create auctions **Performance:** <50ms P99 latency for auction
	// creation.
	//
	// POST /auctions
	CreateAuction(ctx context.Context, req *CreateAuctionRequest) (CreateAuctionRes, error)
	// GetAuction implements getAuction operation.
	//
	// **Retrieve detailed auction information**
	// Returns complete auction data including bidding history and current bids.
	// **Performance:** Cached for active auctions.
	//
	// GET /auctions/{auctionId}
	GetAuction(ctx context.Context, params GetAuctionParams) (GetAuctionRes, error)
	// GetAuctionBids implements getAuctionBids operation.
	//
	// **Get paginated bidding history for auction**
	// Returns chronological list of all bids placed on the auction.
	// **Performance:** Indexed queries with efficient pagination.
	//
	// GET /auctions/{auctionId}/bids
	GetAuctionBids(ctx context.Context, params GetAuctionBidsParams) (*GetAuctionBidsOK, error)
	// ListAuctions implements listAuctions operation.
	//
	// **Get paginated list of active auctions**
	// Returns auctions with filtering by status, item type, and price range.
	// **Performance:** Optimized with database indexes on status and end_time.
	//
	// GET /auctions
	ListAuctions(ctx context.Context, params ListAuctionsParams) (*ListAuctionsOK, error)
	// PlaceBid implements placeBid operation.
	//
	// **Place a bid on active auction**
	// Validates bid amount, updates current price, and handles automatic bidding.
	// **Concurrency:** Optimistic locking prevents bid conflicts **Performance:** <30ms P99 latency for
	// bid placement.
	//
	// POST /auctions/{auctionId}/bids
	PlaceBid(ctx context.Context, req *PlaceBidRequest, params PlaceBidParams) (PlaceBidRes, error)
	// UpdateAuction implements updateAuction operation.
	//
	// **Update auction configuration**
	// Allows auction owner to modify auction settings before start.
	// **Security:** Only auction creator can update.
	//
	// PUT /auctions/{auctionId}
	UpdateAuction(ctx context.Context, req *UpdateAuctionReq, params UpdateAuctionParams) (UpdateAuctionRes, error)
	// NewError creates *ErrRespStatusCode from error returned by handler.
	//
	// Used for common default response.
	NewError(ctx context.Context, err error) *ErrRespStatusCode
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
