<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.20.xsd">

    <changeSet id="034-seed-quest-objectives-data" author="system">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="quest_objectives"/>
            <sqlCheck expectedResult="0">SELECT COUNT(*) FROM quest_objectives</sqlCheck>
        </preConditions>

        <!-- Objectives для quest_find_trader -->
        <insert tableName="quest_objectives">
            <column name="id" value="obj_find_trader_location"/>
            <column name="quest_id" value="quest_find_trader"/>
            <column name="description" value="Найти торговца в районе Watson"/>
            <column name="type" value="LOCATION"/>
            <column name="target_progress" valueNumeric="1"/>
            <column name="optional" valueBoolean="false"/>
            <column name="order_index" valueNumeric="0"/>
        </insert>

        <insert tableName="quest_objectives">
            <column name="id" value="obj_find_trader_talk"/>
            <column name="quest_id" value="quest_find_trader"/>
            <column name="description" value="Поговорить с торговцем Джейком"/>
            <column name="type" value="TALK"/>
            <column name="target_progress" valueNumeric="1"/>
            <column name="optional" valueBoolean="false"/>
            <column name="order_index" valueNumeric="1"/>
        </insert>

        <!-- Objectives для quest_first_implant -->
        <insert tableName="quest_objectives">
            <column name="id" value="obj_implant_find_ripper"/>
            <column name="quest_id" value="quest_first_implant"/>
            <column name="description" value="Найти риппердока"/>
            <column name="type" value="LOCATION"/>
            <column name="target_progress" valueNumeric="1"/>
            <column name="optional" valueBoolean="false"/>
            <column name="order_index" valueNumeric="0"/>
        </insert>

        <insert tableName="quest_objectives">
            <column name="id" value="obj_implant_collect_eddies"/>
            <column name="quest_id" value="quest_first_implant"/>
            <column name="description" value="Собрать 1000 эдди для установки импланта"/>
            <column name="type" value="COLLECT"/>
            <column name="target_progress" valueNumeric="1000"/>
            <column name="optional" valueBoolean="false"/>
            <column name="order_index" valueNumeric="1"/>
        </insert>

        <insert tableName="quest_objectives">
            <column name="id" value="obj_implant_install"/>
            <column name="quest_id" value="quest_first_implant"/>
            <column name="description" value="Установить первый имплант"/>
            <column name="type" value="INTERACT"/>
            <column name="target_progress" valueNumeric="1"/>
            <column name="optional" valueBoolean="false"/>
            <column name="order_index" valueNumeric="2"/>
        </insert>

        <!-- Objectives для quest_gang_trouble -->
        <insert tableName="quest_objectives">
            <column name="id" value="obj_gang_investigate"/>
            <column name="quest_id" value="quest_gang_trouble"/>
            <column name="description" value="Расследовать проблему с бандой"/>
            <column name="type" value="LOCATION"/>
            <column name="target_progress" valueNumeric="1"/>
            <column name="optional" valueBoolean="false"/>
            <column name="order_index" valueNumeric="0"/>
        </insert>

        <insert tableName="quest_objectives">
            <column name="id" value="obj_gang_kill_enemies"/>
            <column name="quest_id" value="quest_gang_trouble"/>
            <column name="description" value="Разобраться с бандитами (0/5)"/>
            <column name="type" value="KILL"/>
            <column name="target_progress" valueNumeric="5"/>
            <column name="optional" valueBoolean="false"/>
            <column name="order_index" valueNumeric="1"/>
        </insert>

        <insert tableName="quest_objectives">
            <column name="id" value="obj_gang_report"/>
            <column name="quest_id" value="quest_gang_trouble"/>
            <column name="description" value="Доложить заказчику"/>
            <column name="type" value="TALK"/>
            <column name="target_progress" valueNumeric="1"/>
            <column name="optional" valueBoolean="false"/>
            <column name="order_index" valueNumeric="2"/>
        </insert>

        <rollback>
            <delete tableName="quest_objectives"/>
        </rollback>
    </changeSet>

</databaseChangeLog>
