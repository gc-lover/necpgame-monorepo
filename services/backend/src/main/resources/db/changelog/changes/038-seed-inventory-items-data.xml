<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.20.xsd">

    <changeSet id="038-seed-inventory-items-data" author="system">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="inventory_items"/>
            <sqlCheck expectedResult="0">SELECT COUNT(*) FROM inventory_items</sqlCheck>
        </preConditions>

        <!-- Weapons -->
        <insert tableName="inventory_items">
            <column name="id" value="item_pistol_m10af"/>
            <column name="name" value="M-10AF Lexington"/>
            <column name="description" value="Стандартный пистолет корпорации Militech. Надежный и точный."/>
            <column name="category" value="WEAPONS"/>
            <column name="weight" value="1.5"/>
            <column name="stackable" valueBoolean="false"/>
            <column name="rarity" value="COMMON"/>
            <column name="value" value="500"/>
            <column name="equippable" valueBoolean="true"/>
            <column name="usable" valueBoolean="false"/>
            <column name="quest_item" valueBoolean="false"/>
            <column name="min_level" value="1"/>
            <column name="slot_type" value="WEAPON_PRIMARY"/>
            <column name="equip_bonuses" value='{"damage": 25, "accuracy": 10}'/>
        </insert>

        <insert tableName="inventory_items">
            <column name="id" value="item_knife_tactical"/>
            <column name="name" value="Тактический нож"/>
            <column name="description" value="Компактный нож для ближнего боя."/>
            <column name="category" value="WEAPONS"/>
            <column name="weight" value="0.5"/>
            <column name="stackable" valueBoolean="false"/>
            <column name="rarity" value="COMMON"/>
            <column name="value" value="100"/>
            <column name="equippable" valueBoolean="true"/>
            <column name="usable" valueBoolean="false"/>
            <column name="quest_item" valueBoolean="false"/>
            <column name="min_level" value="1"/>
            <column name="slot_type" value="WEAPON_SECONDARY"/>
            <column name="equip_bonuses" value='{"damage": 15, "critical": 5}'/>
        </insert>

        <!-- Armor -->
        <insert tableName="inventory_items">
            <column name="id" value="item_armor_basic_jacket"/>
            <column name="name" value="Уличная куртка"/>
            <column name="description" value="Базовая защитная куртка с кевларовыми вставками."/>
            <column name="category" value="ARMOR"/>
            <column name="weight" value="2.0"/>
            <column name="stackable" valueBoolean="false"/>
            <column name="rarity" value="COMMON"/>
            <column name="value" value="200"/>
            <column name="equippable" valueBoolean="true"/>
            <column name="usable" valueBoolean="false"/>
            <column name="quest_item" valueBoolean="false"/>
            <column name="min_level" value="1"/>
            <column name="slot_type" value="BODY"/>
            <column name="equip_bonuses" value='{"armor": 15, "health": 25}'/>
        </insert>

        <!-- Consumables -->
        <insert tableName="inventory_items">
            <column name="id" value="item_healthpack_basic"/>
            <column name="name" value="Базовая аптечка"/>
            <column name="description" value="Восстанавливает 50 HP. Незаменимая вещь в Night City."/>
            <column name="category" value="CONSUMABLES"/>
            <column name="weight" value="0.2"/>
            <column name="stackable" valueBoolean="true"/>
            <column name="rarity" value="COMMON"/>
            <column name="value" value="50"/>
            <column name="equippable" valueBoolean="false"/>
            <column name="usable" valueBoolean="true"/>
            <column name="quest_item" valueBoolean="false"/>
            <column name="use_effects" value='[{"type": "heal", "value": 50}]'/>
        </insert>

        <insert tableName="inventory_items">
            <column name="id" value="item_energydrink"/>
            <column name="name" value="Nicola Energy Drink"/>
            <column name="description" value="Энергетический напиток. Восстанавливает 30 энергии."/>
            <column name="category" value="CONSUMABLES"/>
            <column name="weight" value="0.3"/>
            <column name="stackable" valueBoolean="true"/>
            <column name="rarity" value="COMMON"/>
            <column name="value" value="20"/>
            <column name="equippable" valueBoolean="false"/>
            <column name="usable" valueBoolean="true"/>
            <column name="quest_item" valueBoolean="false"/>
            <column name="use_effects" value='[{"type": "energy", "value": 30}]'/>
        </insert>

        <!-- Resources -->
        <insert tableName="inventory_items">
            <column name="id" value="item_resource_scrap"/>
            <column name="name" value="Металлолом"/>
            <column name="description" value="Обычный металлолом. Можно использовать для крафта."/>
            <column name="category" value="RESOURCES"/>
            <column name="weight" value="0.5"/>
            <column name="stackable" valueBoolean="true"/>
            <column name="rarity" value="COMMON"/>
            <column name="value" value="5"/>
            <column name="equippable" valueBoolean="false"/>
            <column name="usable" valueBoolean="false"/>
            <column name="quest_item" valueBoolean="false"/>
        </insert>

        <insert tableName="inventory_items">
            <column name="id" value="item_resource_electronics"/>
            <column name="name" value="Электроника"/>
            <column name="description" value="Компоненты электроники. Нужны для апгрейдов."/>
            <column name="category" value="RESOURCES"/>
            <column name="weight" value="0.3"/>
            <column name="stackable" valueBoolean="true"/>
            <column name="rarity" value="UNCOMMON"/>
            <column name="value" value="25"/>
            <column name="equippable" valueBoolean="false"/>
            <column name="usable" valueBoolean="false"/>
            <column name="quest_item" valueBoolean="false"/>
        </insert>

        <rollback>
            <delete tableName="inventory_items"/>
        </rollback>
    </changeSet>

</databaseChangeLog>
