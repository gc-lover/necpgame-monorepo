<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.22.xsd">

    <changeSet id="090-seed-world-events-framework-data" author="backend-agent">
        <insert tableName="world_eras">
            <column name="era" value="2060-2077"/>
            <column name="name" value="Corporate Control"/>
            <column name="description" value="Эпоха доминации мегакорпораций над мегаполисами и экономикой."/>
            <column name="key_features_json" valueJSON='["Корпоративные войны","Распад государств","Кибернетизация населения"]'/>
            <column name="major_factions_json" valueJSON='["Arasaka","Militech","Trauma Team"]'/>
            <column name="technology_level" valueNumeric="8"/>
            <column name="danger_level" value="HIGH"/>
            <column name="active_events_count" valueNumeric="4"/>
            <column name="is_current" valueBoolean="true"/>
        </insert>

        <insert tableName="world_eras">
            <column name="era" value="2078-2090"/>
            <column name="name" value="New Equilibrium"/>
            <column name="description" value="Период восстановления и балансировки сил после корпоративных войн."/>
            <column name="key_features_json" valueJSON='["Глобальные альянсы","Синтетическая экономика"]'/>
            <column name="major_factions_json" valueJSON='["Orbital Council","Mox Syndicate"]'/>
            <column name="technology_level" valueNumeric="7"/>
            <column name="danger_level" value="MEDIUM"/>
            <column name="active_events_count" valueNumeric="2"/>
            <column name="is_current" valueBoolean="false"/>
        </insert>

        <insert tableName="world_era_mechanics">
            <column name="era" value="2060-2077"/>
            <column name="base_dc" valueNumeric="16"/>
            <column name="combat_modifier" valueNumeric="2"/>
            <column name="social_modifier" valueNumeric="1"/>
            <column name="hacking_modifier" valueNumeric="3"/>
            <column name="crafting_modifier" valueNumeric="-1"/>
            <column name="example_challenges_json" valueJSON='[
              {"challenge":"Инфильтрация корпоративного датацентра","dc":19},
              {"challenge":"Переговоры с арасака-агентом","dc":17}
            ]'/>
            <column name="economic_state_json" valueJSON='{"inflation_rate":3.4,"average_prices_multiplier":1.6,"currency_stability":"LOW"}'/>
            <column name="technology_restrictions_json" valueJSON='["Военные орбитальные платформы","Искусственные ИИ класса Omega"]'/>
            <column name="social_mechanics_json" valueJSON='{"reputation_volatility":2.5,"faction_hostility_multiplier":1.8}'/>
        </insert>

        <insert tableName="world_era_mechanics">
            <column name="era" value="2078-2090"/>
            <column name="base_dc" valueNumeric="14"/>
            <column name="combat_modifier" valueNumeric="1"/>
            <column name="social_modifier" valueNumeric="0"/>
            <column name="hacking_modifier" valueNumeric="2"/>
            <column name="crafting_modifier" valueNumeric="1"/>
            <column name="example_challenges_json" valueJSON='[
              {"challenge":"Защита каравана через руины","dc":15},
              {"challenge":"Дипломатия с независимыми нетраннерами","dc":16}
            ]'/>
            <column name="economic_state_json" valueJSON='{"inflation_rate":1.2,"average_prices_multiplier":1.2,"currency_stability":"MEDIUM"}'/>
            <column name="technology_restrictions_json" valueJSON='["Квантовые телепортеры"]'/>
            <column name="social_mechanics_json" valueJSON='{"reputation_volatility":1.3,"faction_hostility_multiplier":1.1}'/>
        </insert>

        <insert tableName="world_events">
            <column name="id" value="b88c4b88-2b6a-4d53-9a11-7a3df8c2e601"/>
            <column name="name" value="The DataKrash Redux"/>
            <column name="event_type" value="GLOBAL"/>
            <column name="era" value="2060-2077"/>
            <column name="severity" value="MAJOR"/>
            <column name="start_date" valueDate="2072-04-12T09:00:00+00:00"/>
            <column name="end_date" valueDate="2073-11-01T12:00:00+00:00"/>
            <column name="is_active" valueBoolean="false"/>
            <column name="affected_regions_json" valueJSON='["Night City","Neo-Detroit","Singapore Arcology"]'/>
            <column name="description" value="Обновлённая волна сетевого коллапса, вызванная неизвестным ИИ."/>
            <column name="lore_background" value="Вирус адаптировался к современным протоколам, оставляя фрагменты старых алгоритмов Rache Bartmoss."/>
            <column name="quest_hooks_json" valueJSON='[
              {"quest_id":"quest-net-404","trigger_condition":"Сканировать заражённый узел NetWatch"}
            ]'/>
            <column name="faction_involvement_json" valueJSON='[
              {"faction":"Netwatch","role":"VICTIM"},
              {"faction":"Rogue AI Collective","role":"INSTIGATOR"}
            ]'/>
        </insert>

        <insert tableName="world_events">
            <column name="id" value="0f2f6a72-1d34-4a62-8159-94ed10f8a2df"/>
            <column name="name" value="Orbital Trade Embargo"/>
            <column name="event_type" value="ECONOMIC"/>
            <column name="era" value="2060-2077"/>
            <column name="severity" value="MODERATE"/>
            <column name="start_date" valueDate="2069-06-20T00:00:00+00:00"/>
            <column name="is_active" valueBoolean="true"/>
            <column name="affected_regions_json" valueJSON='["Night City","Orbital Ring"]'/>
            <column name="description" value="Корпорации ввели эмбарго на поставку редких микроядр."/>
            <column name="lore_background" value="OrbitEx заблокировала поставки для независимых поселений после конфликта с Nomad Clans."/>
            <column name="quest_hooks_json" valueJSON='[
              {"quest_id":"quest-supply-run","trigger_condition":"Заключить сделку с кланом Aldecaldos"}
            ]'/>
            <column name="faction_involvement_json" valueJSON='[
              {"faction":"OrbitEx","role":"INSTIGATOR"},
              {"faction":"Nomad Clans","role":"VICTIM"},
              {"faction":"Arasaka","role":"BENEFICIARY"}
            ]'/>
        </insert>

        <insert tableName="world_event_effects">
            <column name="effect_id" value="f41de476-08c9-4d2e-86b1-8c93fc2e0caa"/>
            <column name="event_id" value="b88c4b88-2b6a-4d53-9a11-7a3df8c2e601"/>
            <column name="effect_type" value="TECHNOLOGICAL"/>
            <column name="description" value="Системы защиты переходят в автономный режим, усложняя взлом."/>
            <column name="modifier_type" value="NET_DEFENSE"/>
            <column name="modifier_value" valueNumeric="2.50"/>
            <column name="duration" value="18 месяцев"/>
            <column name="is_stackable" valueBoolean="false"/>
        </insert>

        <insert tableName="world_event_effects">
            <column name="effect_id" value="b9c295a1-0c30-45de-9f54-3b4f572ddf6b"/>
            <column name="event_id" value="0f2f6a72-1d34-4a62-8159-94ed10f8a2df"/>
            <column name="effect_type" value="ECONOMIC"/>
            <column name="description" value="Стоимость высокоэнергетических ядер увеличивается."/>
            <column name="modifier_type" value="PRICE_MULTIPLIER"/>
            <column name="modifier_value" valueNumeric="1.40"/>
            <column name="duration" value="Пока действует эмбарго"/>
            <column name="is_stackable" valueBoolean="false"/>
        </insert>

        <insert tableName="world_event_character_effects">
            <column name="effect_id" value="f41de476-08c9-4d2e-86b1-8c93fc2e0caa"/>
            <column name="character_id" value="d6bcfbc0-8e9c-4ae2-b95e-01cb1f8521dd"/>
            <column name="applied_at" valueDate="2072-05-01T10:15:00+00:00"/>
            <column name="expires_at" valueDate="2073-11-01T12:00:00+00:00"/>
        </insert>

        <insert tableName="faction_ai_sliders">
            <column name="id" value="5c7aa2d1-0a46-4df1-8b43-0c4f8ac69f7c"/>
            <column name="faction" value="Arasaka"/>
            <column name="influence" valueNumeric="82.5"/>
            <column name="aggression" valueNumeric="7.4"/>
            <column name="wealth" valueNumeric="95.2"/>
            <column name="technology" valueNumeric="8.8"/>
            <column name="relations_json" valueJSON='{"Militech":-40,"Netwatch":-15,"Aldecaldos":-25}'/>
        </insert>

        <insert tableName="faction_ai_sliders">
            <column name="id" value="4a851b28-9ef7-4dd3-9a85-ec5e1e5ee1b6"/>
            <column name="faction" value="Aldecaldos"/>
            <column name="influence" valueNumeric="58.0"/>
            <column name="aggression" valueNumeric="4.2"/>
            <column name="wealth" valueNumeric="37.5"/>
            <column name="technology" valueNumeric="5.6"/>
            <column name="relations_json" valueJSON='{"Arasaka":-20,"Militech":-10,"Mox Syndicate":15}'/>
        </insert>

        <insert tableName="economic_multipliers">
            <column name="id" value="e1d04b8a-1d3c-4dea-a51d-d50fc13f9024"/>
            <column name="price_multipliers_json" valueJSON='{"cyberware":1.8,"arms":1.5,"biotech":1.3}'/>
            <column name="trade_restrictions_json" valueJSON='[
              {"item_category":"micro-cores","restriction_type":"REGULATED","multiplier":1.4},
              {"item_category":"military-grade implants","restriction_type":"TAXED","multiplier":1.2}
            ]'/>
            <column name="currency_exchange_rates_json" valueJSON='{"eurodollar":1.0,"yen":116.4,"eddies":1.0}'/>
            <column name="updated_at" valueDate="2072-09-15T12:30:00+00:00"/>
        </insert>

        <insert tableName="technology_access">
            <column name="technology_id" value="cc58bea5-71b3-4d4c-9a70-771f9c8ad1cc"/>
            <column name="name" value="Militech Hermes Drone"/>
            <column name="category" value="VEHICLES"/>
            <column name="available" valueBoolean="true"/>
            <column name="required_era" value="2060-2077"/>
            <column name="restricted_factions_json" valueJSON='["Arasaka","Rogue AI Collective"]'/>
        </insert>

        <insert tableName="technology_access">
            <column name="technology_id" value="d87c3ef1-3b92-4ec1-82bd-f96d4dd39c4c"/>
            <column name="name" value="Synaptic Mesh 3.0"/>
            <column name="category" value="CYBERWARE"/>
            <column name="available" valueBoolean="true"/>
            <column name="required_era" value="2060-2077"/>
            <column name="restricted_factions_json" valueJSON='["Militech"]'/>
        </insert>

        <insert tableName="technology_access">
            <column name="technology_id" value="f9c1aeba-0be2-412e-9c78-749bd887cd35"/>
            <column name="name" value="Quantum Mesh Uplink"/>
            <column name="category" value="NETRUNNING"/>
            <column name="available" valueBoolean="false"/>
            <column name="required_era" value="2078-2090"/>
            <column name="restricted_factions_json" valueJSON='[]'/>
        </insert>
    </changeSet>

</databaseChangeLog>
