// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// ApplyModerationAction implements applyModerationAction operation.
	//
	// Apply a moderation action for a violation.
	//
	// POST /api/v1/moderation/actions/{violation_id}
	ApplyModerationAction(ctx context.Context, req *ApplyModerationActionRequest, params ApplyModerationActionParams) (ApplyModerationActionRes, error)
	// CheckMessage implements checkMessage operation.
	//
	// Check if a chat message violates moderation rules (hot path - P99 <50ms).
	//
	// POST /api/v1/moderation/check-message
	CheckMessage(ctx context.Context, req *CheckMessageRequest) (CheckMessageRes, error)
	// CreateModerationRule implements createModerationRule operation.
	//
	// Create a new moderation rule.
	//
	// POST /api/v1/moderation/rules
	CreateModerationRule(ctx context.Context, req *CreateModerationRuleRequest) (CreateModerationRuleRes, error)
	// DeleteModerationRule implements deleteModerationRule operation.
	//
	// Delete a moderation rule.
	//
	// DELETE /api/v1/moderation/rules/{rule_id}
	DeleteModerationRule(ctx context.Context, params DeleteModerationRuleParams) (DeleteModerationRuleRes, error)
	// GetModerationLogs implements getModerationLogs operation.
	//
	// Retrieve moderation action logs for auditing.
	//
	// GET /api/v1/moderation/logs
	GetModerationLogs(ctx context.Context, params GetModerationLogsParams) (GetModerationLogsRes, error)
	// GetModerationRule implements getModerationRule operation.
	//
	// Retrieve a specific moderation rule.
	//
	// GET /api/v1/moderation/rules/{rule_id}
	GetModerationRule(ctx context.Context, params GetModerationRuleParams) (GetModerationRuleRes, error)
	// GetModerationRules implements getModerationRules operation.
	//
	// Retrieve all active moderation rules.
	//
	// GET /api/v1/moderation/rules
	GetModerationRules(ctx context.Context, params GetModerationRulesParams) (GetModerationRulesRes, error)
	// GetModerationViolation implements getModerationViolation operation.
	//
	// Retrieve detailed information about a violation.
	//
	// GET /api/v1/moderation/violations/{violation_id}
	GetModerationViolation(ctx context.Context, params GetModerationViolationParams) (GetModerationViolationRes, error)
	// GetModerationViolations implements getModerationViolations operation.
	//
	// Retrieve moderation violations with filtering.
	//
	// GET /api/v1/moderation/violations
	GetModerationViolations(ctx context.Context, params GetModerationViolationsParams) (GetModerationViolationsRes, error)
	// UpdateModerationRule implements updateModerationRule operation.
	//
	// Update an existing moderation rule.
	//
	// PUT /api/v1/moderation/rules/{rule_id}
	UpdateModerationRule(ctx context.Context, req *UpdateModerationRuleRequest, params UpdateModerationRuleParams) (UpdateModerationRuleRes, error)
	// UpdateViolationStatus implements updateViolationStatus operation.
	//
	// Update the status of a moderation violation.
	//
	// PATCH /api/v1/moderation/violations/{violation_id}
	UpdateViolationStatus(ctx context.Context, req *UpdateViolationStatusReq, params UpdateViolationStatusParams) (UpdateViolationStatusRes, error)
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
