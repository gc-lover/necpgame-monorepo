// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// AddChannelMember implements addChannelMember operation.
	//
	// Добавить участника в канал.
	//
	// POST /api/v1/chat/channels/{channel_id}/members
	AddChannelMember(ctx context.Context, req *AddMemberRequest, params AddChannelMemberParams) (AddChannelMemberRes, error)
	// BanPlayer implements banPlayer operation.
	//
	// Заблокировать игрока в чате.
	//
	// POST /api/v1/chat/bans
	BanPlayer(ctx context.Context, req *BanPlayerRequest) (BanPlayerRes, error)
	// CreateChannel implements createChannel operation.
	//
	// Создать приватный канал.
	//
	// POST /api/v1/chat/channels
	CreateChannel(ctx context.Context, req *CreateChannelRequest) (CreateChannelRes, error)
	// DeleteChannel implements deleteChannel operation.
	//
	// Удалить канал.
	//
	// DELETE /api/v1/chat/channels/{channel_id}
	DeleteChannel(ctx context.Context, params DeleteChannelParams) (DeleteChannelRes, error)
	// DeleteMessage implements deleteMessage operation.
	//
	// Удалить сообщение.
	//
	// DELETE /api/v1/chat/messages/{message_id}
	DeleteMessage(ctx context.Context, params DeleteMessageParams) (DeleteMessageRes, error)
	// GetChannel implements getChannel operation.
	//
	// Получить информацию о канале.
	//
	// GET /api/v1/chat/channels/{channel_id}
	GetChannel(ctx context.Context, params GetChannelParams) (GetChannelRes, error)
	// GetChannelMessages implements getChannelMessages operation.
	//
	// Получить историю сообщений канала.
	//
	// GET /api/v1/chat/channels/{channel_id}/messages
	GetChannelMessages(ctx context.Context, params GetChannelMessagesParams) (GetChannelMessagesRes, error)
	// GetChannels implements getChannels operation.
	//
	// Получить список доступных каналов.
	//
	// GET /api/v1/chat/channels
	GetChannels(ctx context.Context) (*ChannelsListResponse, error)
	// RemoveChannelMember implements removeChannelMember operation.
	//
	// Удалить участника из канала.
	//
	// DELETE /api/v1/chat/channels/{channel_id}/members/{player_id}
	RemoveChannelMember(ctx context.Context, params RemoveChannelMemberParams) (RemoveChannelMemberRes, error)
	// SendMessage implements sendMessage operation.
	//
	// Отправить сообщение в канал.
	//
	// POST /api/v1/chat/messages
	SendMessage(ctx context.Context, req *SendMessageRequest) (SendMessageRes, error)
	// UnbanPlayer implements unbanPlayer operation.
	//
	// Снять бан с игрока.
	//
	// DELETE /api/v1/chat/bans/{ban_id}
	UnbanPlayer(ctx context.Context, params UnbanPlayerParams) (UnbanPlayerRes, error)
	// UpdateChannel implements updateChannel operation.
	//
	// Обновить настройки канала.
	//
	// PATCH /api/v1/chat/channels/{channel_id}
	UpdateChannel(ctx context.Context, req *UpdateChannelRequest, params UpdateChannelParams) (UpdateChannelRes, error)
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
