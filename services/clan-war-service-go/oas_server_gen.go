// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// ClanWarServiceHealthCheck implements clanWarServiceHealthCheck operation.
	//
	// **Enterprise-grade health check endpoint**
	// Provides real-time health status of the clan war service microservice.
	// Critical for service discovery, load balancing, and monitoring.
	// **Performance:** <1ms response time, cached for 30 seconds.
	//
	// GET /health
	ClanWarServiceHealthCheck(ctx context.Context, params ClanWarServiceHealthCheckParams) (ClanWarServiceHealthCheckRes, error)
	// DeclareClanWar implements declareClanWar operation.
	//
	// **Enterprise-grade war declaration endpoint**
	// Validates war legitimacy, clan relations, and political constraints. Initiates formal war
	// declaration with treaty requirements.
	// **Performance:** <75ms P95, includes diplomatic validation.
	//
	// POST /clan-wars
	DeclareClanWar(ctx context.Context, req *WarDeclarationRequest) (DeclareClanWarRes, error)
	// GetClanWar implements getClanWar operation.
	//
	// **Enterprise-grade clan war retrieval endpoint**
	// Retrieves complete war information including participants, battles, casualties, and current status
	// with real-time updates.
	// Optimized with caching and conditional requests.
	// **Performance:** <10ms P95 with Redis caching.
	//
	// GET /clan-wars/{warId}
	GetClanWar(ctx context.Context, params GetClanWarParams) (GetClanWarRes, error)
	// GetWarBattles implements getWarBattles operation.
	//
	// **Enterprise-grade battle history endpoint**
	// Retrieves complete battle log for the war including outcomes, casualties, strategic movements, and
	// performance statistics.
	// Critical for war analysis and strategic planning.
	// **Performance:** <20ms P95, cached with 5-minute TTL.
	//
	// GET /clan-wars/{warId}/battles
	GetWarBattles(ctx context.Context, params GetWarBattlesParams) (GetWarBattlesRes, error)
	// GetWarStatistics implements getWarStatistics operation.
	//
	// **Enterprise-grade war statistics endpoint**
	// Provides comprehensive war analytics including casualty rates, territory gains, resource
	// expenditures, and performance metrics for all participants.
	// Essential for strategic assessment and post-war analysis.
	// **Performance:** <25ms P95, cached with real-time updates.
	//
	// GET /clan-wars/{warId}/statistics
	GetWarStatistics(ctx context.Context, params GetWarStatisticsParams) (GetWarStatisticsRes, error)
	// ListClanWars implements listClanWars operation.
	//
	// **Enterprise-grade clan war listing endpoint**
	// Supports complex filtering by status, participants, duration, and outcomes. Optimized for
	// high-throughput scenarios with proper indexing.
	// **Performance:** <15ms P95, supports 1000+ concurrent requests.
	//
	// GET /clan-wars
	ListClanWars(ctx context.Context, params ListClanWarsParams) (ListClanWarsRes, error)
	// ProposeWarNegotiation implements proposeWarNegotiation operation.
	//
	// **Enterprise-grade war negotiation endpoint**
	// Initiates diplomatic negotiations including ceasefire proposals, peace treaties, and surrender
	// terms during active warfare.
	// **Performance:** <60ms P95, includes diplomatic validation.
	//
	// POST /clan-wars/{warId}/negotiate
	ProposeWarNegotiation(ctx context.Context, req *WarNegotiationRequest, params ProposeWarNegotiationParams) (ProposeWarNegotiationRes, error)
	// ReportBattle implements reportBattle operation.
	//
	// **Enterprise-grade battle reporting endpoint**
	// Submits verified battle results with casualty reports, strategic analysis, and performance metrics
	// for official war record.
	// **Performance:** <50ms P95, includes validation and statistics update.
	//
	// POST /clan-wars/{warId}/battles
	ReportBattle(ctx context.Context, req *BattleReportRequest, params ReportBattleParams) (ReportBattleRes, error)
	// UpdateClanWar implements updateClanWar operation.
	//
	// **Enterprise-grade clan war update endpoint**
	// Supports status updates, treaty negotiations, and ceasefire agreements. Ensures war integrity and
	// participant consent for major changes.
	// **Performance:** <40ms P95, includes diplomatic impact calculation.
	//
	// PUT /clan-wars/{warId}
	UpdateClanWar(ctx context.Context, req *WarUpdateRequest, params UpdateClanWarParams) (UpdateClanWarRes, error)
	// NewError creates *ErrRespStatusCode from error returned by handler.
	//
	// Used for common default response.
	NewError(ctx context.Context, err error) *ErrRespStatusCode
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
