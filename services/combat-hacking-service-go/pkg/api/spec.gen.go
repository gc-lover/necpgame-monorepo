// Package api provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.5.1 DO NOT EDIT.
package api

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"net/url"
	"path"
	"strings"

	"github.com/getkin/kin-openapi/openapi3"
)

// Base64 encoded, gzipped, json marshaled Swagger object
var swaggerSpec = []string{

	"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",
	"XpmES2Kc7Kzu/DsAAP//5TRv37A5AAA=",
}

// GetSwagger returns the content of the embedded swagger specification file
// or error if failed to decode
func decodeSpec() ([]byte, error) {
	zipped, err := base64.StdEncoding.DecodeString(strings.Join(swaggerSpec, ""))
	if err != nil {
		return nil, fmt.Errorf("error base64 decoding spec: %w", err)
	}
	zr, err := gzip.NewReader(bytes.NewReader(zipped))
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}
	var buf bytes.Buffer
	_, err = buf.ReadFrom(zr)
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}

	return buf.Bytes(), nil
}

var rawSpec = decodeSpecCached()

// a naive cached of a decoded swagger spec
func decodeSpecCached() func() ([]byte, error) {
	data, err := decodeSpec()
	return func() ([]byte, error) {
		return data, err
	}
}

// Constructs a synthetic filesystem for resolving external references when loading openapi specifications.
func PathToRawSpec(pathToFile string) map[string]func() ([]byte, error) {
	res := make(map[string]func() ([]byte, error))
	if len(pathToFile) > 0 {
		res[pathToFile] = rawSpec
	}

	return res
}

// GetSwagger returns the Swagger specification corresponding to the generated code
// in this file. The external references of Swagger specification are resolved.
// The logic of resolving external references is tightly connected to "import-mapping" feature.
// Externally referenced files must be embedded in the corresponding golang packages.
// Urls can be supported but this task was out of the scope.
func GetSwagger() (swagger *openapi3.T, err error) {
	resolvePath := PathToRawSpec("")

	loader := openapi3.NewLoader()
	loader.IsExternalRefsAllowed = true
	loader.ReadFromURIFunc = func(loader *openapi3.Loader, url *url.URL) ([]byte, error) {
		pathToFile := url.String()
		pathToFile = path.Clean(pathToFile)
		getSpec, ok := resolvePath[pathToFile]
		if !ok {
			err1 := fmt.Errorf("path not found: %s", pathToFile)
			return nil, err1
		}
		return getSpec()
	}
	var specData []byte
	specData, err = rawSpec()
	if err != nil {
		return
	}
	swagger, err = loader.LoadFromData(specData)
	if err != nil {
		return
	}
	return
}
