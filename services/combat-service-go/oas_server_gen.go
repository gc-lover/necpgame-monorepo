// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// CombatServiceBatchHealthCheck implements combatServiceBatchHealthCheck operation.
	//
	// **Performance optimization:** Check multiple services health in single request
	// Reduces N HTTP calls to 1 call. Critical for orchestration.
	// **Use case:** Service mesh health checks, Kubernetes readiness probes.
	//
	// POST /health/batch
	CombatServiceBatchHealthCheck(ctx context.Context, req *CombatServiceBatchHealthCheckReq) (CombatServiceBatchHealthCheckRes, error)
	// CombatServiceCalculateDamage implements combatServiceCalculateDamage operation.
	//
	// **Enterprise-grade damage calculation endpoint**
	// Calculates final damage based on attacker stats, weapon properties, target defenses, and active
	// modifiers/effects.
	// Essential for fair combat mechanics and anti-cheat validation.
	// **Performance:** <5ms P95, synchronous calculation required
	// **Security:** Server-side only, validates all input parameters.
	//
	// POST /combat/damage/calculate
	CombatServiceCalculateDamage(ctx context.Context, req *DamageCalculationRequest) (CombatServiceCalculateDamageRes, error)
	// CombatServiceCreateSession implements combatServiceCreateSession operation.
	//
	// **Combat session creation endpoint**
	// Initializes a new combat session with participants, rules, and environment.
	// **Performance:** <50ms P95, includes validation and setup.
	//
	// POST /combat/sessions
	CombatServiceCreateSession(ctx context.Context, req *CreateCombatSessionRequest) (CombatServiceCreateSessionRes, error)
	// CombatServiceExecuteAction implements combatServiceExecuteAction operation.
	//
	// **Combat action execution endpoint**
	// Processes player combat actions like attacks, abilities, movement.
	// **Performance:** <15ms P95, real-time processing required.
	//
	// POST /combat/sessions/{sessionId}/actions
	CombatServiceExecuteAction(ctx context.Context, req *CombatActionRequest, params CombatServiceExecuteActionParams) (CombatServiceExecuteActionRes, error)
	// CombatServiceGetSession implements combatServiceGetSession operation.
	//
	// **Combat session retrieval endpoint**
	// Returns current state and details of a combat session.
	// **Performance:** <25ms P95, cached for active sessions.
	//
	// GET /combat/sessions/{sessionId}
	CombatServiceGetSession(ctx context.Context, params CombatServiceGetSessionParams) (CombatServiceGetSessionRes, error)
	// CombatServiceGetSessionState implements combatServiceGetSessionState operation.
	//
	// **Combat session state endpoint**
	// Returns real-time state of combat session including participant status, effects, and current turn
	// information.
	// **Performance:** <10ms P95, real-time updates required.
	//
	// GET /combat/sessions/{sessionId}/state
	CombatServiceGetSessionState(ctx context.Context, params CombatServiceGetSessionStateParams) (CombatServiceGetSessionStateRes, error)
	// CombatServiceGetWeaponAnalytics implements combatServiceGetWeaponAnalytics operation.
	//
	// **Enterprise-grade weapon analytics endpoint**
	// Provides comprehensive statistics on weapon usage patterns, effectiveness metrics, balance
	// analysis, and player behavior insights.
	// Essential for game balancing, content updates, and player experience optimization.
	// **Performance:** <50ms P95 with cached aggregations
	// **Data Sources:** Combat logs, player statistics, matchmaking data.
	//
	// GET /combat/weapons/{weaponId}/analytics
	CombatServiceGetWeaponAnalytics(ctx context.Context, params CombatServiceGetWeaponAnalyticsParams) (CombatServiceGetWeaponAnalyticsRes, error)
	// CombatServiceHealthCheck implements combatServiceHealthCheck operation.
	//
	// **Enterprise-grade health check endpoint**
	// Provides real-time health status of the combat microservice.
	// Critical for service discovery, load balancing, and monitoring.
	// **Performance:** <1ms response time, cached for 30 seconds.
	//
	// GET /health
	CombatServiceHealthCheck(ctx context.Context, params CombatServiceHealthCheckParams) (CombatServiceHealthCheckRes, error)
	// CombatServiceHealthWebSocket implements combatServiceHealthWebSocket operation.
	//
	// **Performance optimization:** Real-time health updates without polling
	// Eliminates periodic HTTP requests, reduces server load by ~90%.
	// Perfect for dashboard monitoring and alerting systems.
	// **Protocol:** WebSocket with JSON payloads
	// **Heartbeat:** 30 second intervals
	// **Reconnection:** Automatic with exponential backoff.
	//
	// GET /health/ws
	CombatServiceHealthWebSocket(ctx context.Context, params CombatServiceHealthWebSocketParams) (CombatServiceHealthWebSocketRes, error)
	// NewError creates *ErrRespStatusCode from error returned by handler.
	//
	// Used for common default response.
	NewError(ctx context.Context, err error) *ErrRespStatusCode
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
