openapi: 3.0.3
info:
  title: Communication Service API - Enterprise-Grade Social Domain Service
  description: '**Enterprise-Grade Communication API for NECPGAME Social Domain**

    This API manages all player communication systems including chat, notifications,
    voice channels, and moderation in the cyberpunk MMOFPS RPG.

    ## Key Features

    - **Chat System**: Multi-channel text communication with rich formatting - **Notifications**:
    Real-time in-game and external notifications - **Voice Channels**: Spatial audio
    communication in lobbies and parties - **Moderation**: Content moderation and
    community management - **Performance Optimized**: MMOFPS-grade performance with
    <50ms P99 latency

    ## Domain Purpose

    The Communication domain handles all aspects of player-to-player and system-to-player
    communication in Night City. Players chat, receive notifications, join voice channels,
    and participate in moderated community interactions.

    ## Performance Targets

    - P99 Latency: <50ms for chat operations, <10ms for notifications - Memory: <50KB
    per active user session - Concurrent users: 100,000+ simultaneous communications
    - WebSocket connections: 50,000+ concurrent voice channels

    '
  version: 1.0.0
  contact:
    name: NECPGAME API Support
    url: https://necpgame.com/support
    email: api@necpgame.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
servers:
- url: https://api.necpgame.com/v1/communication
  description: Production server
- url: https://staging-api.necpgame.com/v1/communication
  description: Staging server
- url: http://localhost:8080/api/v1/communication
  description: Local development server
security:
- BearerAuth: []
tags:
- name: Chat
  description: Text communication and messaging
- name: Notifications
  description: In-game and external notifications
- name: Voice Channels
  description: Voice communication and lobbies
- name: Moderation
  description: Content moderation and community management
- name: Health Monitoring
  description: System health and performance monitoring
paths:
  /health:
    get:
      summary: Communication service health check
      description: '**Enterprise-grade health check endpoint**

        Provides real-time health status of the communication domain microservice.

        Critical for service discovery, load balancing, and monitoring.

        **Performance:** <1ms response time, cached for 30 seconds

        '
      operationId: communicationHealthCheck
      tags:
      - Health Monitoring
      parameters:
      - name: Accept-Encoding
        in: header
        schema:
          type: string
          enum:
          - gzip
          - deflate
          - br
      responses:
        '200':
          description: Service is healthy
          headers:
            Cache-Control:
              schema:
                type: string
                example: max-age=30, s-maxage=60
            ETag:
              schema:
                type: string
                example: '"communication-health-v1.0"'
            Content-Encoding:
              schema:
                type: string
                enum:
                - gzip
                - deflate
                - br
          content:
            application/json:
              schema:
                type: object
                required:
                - status
                - timestamp
                properties:
                  status:
                    type: string
                    enum:
                    - healthy
                    - degraded
                    - unhealthy
                    example: healthy
                    maxLength: 255
                  domain:
                    type: string
                    example: service-name
                    maxLength: 255
                  timestamp:
                    type: string
                    format: date-time
                    example: '2025-12-28T10:00:00Z'
                    maxLength: 255
                  version:
                    type: string
                    example: 1.0.0
                    maxLength: 50
                  uptime_seconds:
                    type: integer
                    example: 3600
                    minimum: 0
                  active_connections:
                    type: integer
                    example: 1500
                    minimum: 0
                description: 'BACKEND NOTE: Fields ordered for struct alignment (large
                  → small). Expected memory savings: 30-50%.'
        '503':
          description: Service is unhealthy
          content:
            application/json:
              schema:
                type: object
                required:
                - status
                - timestamp
                properties:
                  status:
                    type: string
                    enum:
                    - healthy
                    - degraded
                    - unhealthy
                    example: healthy
                    maxLength: 255
                  domain:
                    type: string
                    example: service-name
                    maxLength: 255
                  timestamp:
                    type: string
                    format: date-time
                    example: '2025-12-28T10:00:00Z'
                    maxLength: 255
                  version:
                    type: string
                    example: 1.0.0
                    maxLength: 50
                  uptime_seconds:
                    type: integer
                    example: 3600
                    minimum: 0
                  active_connections:
                    type: integer
                    example: 1500
                    minimum: 0
                description: 'BACKEND NOTE: Fields ordered for struct alignment (large
                  → small). Expected memory savings: 30-50%.'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /health/batch:
    get:
      summary: Batch health check for communication dependencies
      description: '**Batch health check for communication service dependencies**

        Checks health of chat, notifications, voice, and moderation subsystems.

        **Performance:** <10ms response time, cached for 15 seconds

        '
      operationId: communicationBatchHealthCheck
      tags:
      - Health Monitoring
      responses:
        '200':
          description: All subsystems healthy
          content:
            application/json:
              schema:
                type: object
                required:
                - status
                - timestamp
                properties:
                  status:
                    type: string
                    enum:
                    - healthy
                    - degraded
                    - unhealthy
                    example: healthy
                    maxLength: 255
                  domain:
                    type: string
                    example: service-name
                    maxLength: 255
                  timestamp:
                    type: string
                    format: date-time
                    example: '2025-12-28T10:00:00Z'
                    maxLength: 255
                  version:
                    type: string
                    example: 1.0.0
                    maxLength: 50
                  uptime_seconds:
                    type: integer
                    example: 3600
                    minimum: 0
                  active_connections:
                    type: integer
                    example: 1500
                    minimum: 0
                description: 'BACKEND NOTE: Fields ordered for struct alignment (large
                  → small). Expected memory savings: 30-50%.'
        '207':
          description: Partial subsystem failure
          content:
            application/json:
              schema:
                type: object
                required:
                - status
                - timestamp
                properties:
                  status:
                    type: string
                    enum:
                    - healthy
                    - degraded
                    - unhealthy
                    example: healthy
                    maxLength: 255
                  domain:
                    type: string
                    example: service-name
                    maxLength: 255
                  timestamp:
                    type: string
                    format: date-time
                    example: '2025-12-28T10:00:00Z'
                    maxLength: 255
                  version:
                    type: string
                    example: 1.0.0
                    maxLength: 50
                  uptime_seconds:
                    type: integer
                    example: 3600
                    minimum: 0
                  active_connections:
                    type: integer
                    example: 1500
                    minimum: 0
                description: 'BACKEND NOTE: Fields ordered for struct alignment (large
                  → small). Expected memory savings: 30-50%.'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /health/ws:
    get:
      summary: WebSocket health check for real-time communication
      description: '**WebSocket health check for voice and chat systems**

        Tests WebSocket connectivity and real-time message routing.

        **Performance:** <5ms response time, persistent connection test

        '
      operationId: communicationWebSocketHealthCheck
      tags:
      - Health Monitoring
      responses:
        '200':
          description: WebSocket connection healthy
          content:
            application/json:
              schema:
                type: object
                required:
                - status
                - timestamp
                properties:
                  status:
                    type: string
                    enum:
                    - healthy
                    - degraded
                    - unhealthy
                    example: healthy
                    maxLength: 255
                  domain:
                    type: string
                    example: service-name
                    maxLength: 255
                  timestamp:
                    type: string
                    format: date-time
                    example: '2025-12-28T10:00:00Z'
                    maxLength: 255
                  version:
                    type: string
                    example: 1.0.0
                    maxLength: 50
                  uptime_seconds:
                    type: integer
                    example: 3600
                    minimum: 0
                  active_connections:
                    type: integer
                    example: 1500
                    minimum: 0
                description: 'BACKEND NOTE: Fields ordered for struct alignment (large
                  → small). Expected memory savings: 30-50%.'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /chat/channels:
    get:
      summary: List chat channels
      description: '**Retrieve paginated list of accessible chat channels**

        Returns channels user can join based on permissions and guild membership.

        **Performance:** <50ms with pagination, supports 1000+ channels per user

        '
      operationId: listChatChannels
      tags:
      - Chat
      security:
      - BearerAuth: []
      parameters:
      - name: type
        in: query
        schema:
          type: string
          enum:
          - global
          - guild
          - party
          - private
          - trade
          - help
        description: Filter by channel type
      - name: guild_id
        in: query
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        description: Filter by guild ID
      - name: limit
        in: query
        schema:
          type: integer
          minimum: 1
          maximum: 100
          default: 50
        description: Number of channels to return
      - name: offset
        in: query
        schema:
          type: integer
          minimum: 0
          default: 0
        description: Pagination offset
      responses:
        '200':
          description: Chat channels retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                - type: object
                  required:
                  - items
                  - total
                  - limit
                  - offset
                  properties:
                    items:
                      type: array
                      description: Array of items
                    total:
                      type: integer
                      minimum: 0
                      example: 100
                      description: Total number of items
                    limit:
                      type: integer
                      minimum: 1
                      maximum: 100
                      example: 20
                      description: Items per page
                    offset:
                      type: integer
                      minimum: 0
                      example: 0
                      description: Number of items to skip
                - type: object
                  properties:
                    items:
                      type: array
                      items:
                        $ref: '#/components/schemas/ChatChannelResponse'
        '400':
          description: Invalid request parameters
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '401':
          description: Authentication required
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    post:
      summary: Create chat channel
      description: '**Create a new chat channel**

        Supports guild, party, and private channel creation with permission checks.

        **Performance:** <100ms with validation and permission checks

        '
      operationId: createChatChannel
      tags:
      - Chat
      security:
      - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateChatChannelRequest'
      responses:
        '201':
          description: Chat channel created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChatChannelResponse'
        '400':
          description: Invalid request parameters
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '403':
          description: Access denied
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /chat/channels/{channelId}:
    get:
      summary: Get chat channel details
      description: '**Retrieve detailed information about a specific chat channel**

        Includes member count, permissions, and channel settings.

        **Performance:** <20ms with caching, real-time member counts

        '
      operationId: getChatChannel
      tags:
      - Chat
      security:
      - BearerAuth: []
      parameters:
      - name: channelId
        in: path
        required: true
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
      responses:
        '200':
          description: Chat channel details retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChatChannelResponse'
        '404':
          description: Resource not found
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    put:
      summary: Update chat channel
      description: '**Update chat channel settings and permissions**

        Requires channel ownership or moderator permissions.

        **Performance:** <50ms with permission validation

        '
      operationId: updateChatChannel
      tags:
      - Chat
      security:
      - BearerAuth: []
      parameters:
      - name: channelId
        in: path
        required: true
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateChatChannelRequest'
      responses:
        '200':
          description: Chat channel updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChatChannelResponse'
        '403':
          description: Access denied
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    delete:
      summary: Delete chat channel
      description: '**Delete a chat channel**

        Requires channel ownership or administrator permissions.

        **Performance:** <30ms with cleanup operations

        '
      operationId: deleteChatChannel
      tags:
      - Chat
      security:
      - BearerAuth: []
      parameters:
      - name: channelId
        in: path
        required: true
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
      responses:
        '204':
          description: Chat channel deleted successfully
        '403':
          description: Access denied
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /chat/channels/{channelId}/messages:
    get:
      summary: Get chat messages
      description: '**Retrieve paginated chat messages from a channel**

        Supports message history with filtering and search capabilities.

        **Performance:** <100ms with pagination, supports 10k+ messages per channel

        '
      operationId: getChatMessages
      tags:
      - Chat
      security:
      - BearerAuth: []
      parameters:
      - name: channelId
        in: path
        required: true
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
      - name: before
        in: query
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        description: Get messages before this message ID
      - name: after
        in: query
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        description: Get messages after this message ID
      - name: limit
        in: query
        schema:
          type: integer
          minimum: 1
          maximum: 100
          default: 50
        description: Number of messages to return
      - name: search
        in: query
        schema:
          type: string
          maxLength: 100
        description: Search messages by content
      responses:
        '200':
          description: Chat messages retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                - type: object
                  required:
                  - items
                  - total
                  - limit
                  - offset
                  properties:
                    items:
                      type: array
                      description: Array of items
                    total:
                      type: integer
                      minimum: 0
                      example: 100
                      description: Total number of items
                    limit:
                      type: integer
                      minimum: 1
                      maximum: 100
                      example: 20
                      description: Items per page
                    offset:
                      type: integer
                      minimum: 0
                      example: 0
                      description: Number of items to skip
                - type: object
                  properties:
                    items:
                      type: array
                      items:
                        $ref: '#/components/schemas/ChatMessageResponse'
        '403':
          description: Access denied
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    post:
      summary: Send chat message
      description: '**Send a message to a chat channel**

        Supports rich text, mentions, attachments, and real-time delivery.

        **Performance:** <20ms with spam filtering and moderation checks

        '
      operationId: sendChatMessage
      tags:
      - Chat
      security:
      - BearerAuth: []
      parameters:
      - name: channelId
        in: path
        required: true
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SendChatMessageRequest'
      responses:
        '201':
          description: Chat message sent successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChatMessageResponse'
        '400':
          description: Invalid request parameters
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '403':
          description: Access denied
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /chat/messages/{messageId}:
    put:
      summary: Edit chat message
      description: '**Edit an existing chat message**

        Only message author can edit, within time limits.

        **Performance:** <30ms with permission and content validation

        '
      operationId: editChatMessage
      tags:
      - Chat
      security:
      - BearerAuth: []
      parameters:
      - name: messageId
        in: path
        required: true
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EditChatMessageRequest'
      responses:
        '200':
          description: Chat message edited successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChatMessageResponse'
        '403':
          description: Access denied
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    delete:
      summary: Delete chat message
      description: '**Delete a chat message**

        Author can delete own messages, moderators can delete any message.

        **Performance:** <20ms with soft delete implementation

        '
      operationId: deleteChatMessage
      tags:
      - Chat
      security:
      - BearerAuth: []
      parameters:
      - name: messageId
        in: path
        required: true
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
      responses:
        '204':
          description: Chat message deleted successfully
        '403':
          description: Access denied
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /chat/messages/{messageId}/reactions:
    post:
      summary: Add reaction to message
      description: '**Add emoji reaction to a chat message**

        Supports multiple reactions per message and user.

        **Performance:** <15ms with real-time broadcast

        '
      operationId: addMessageReaction
      tags:
      - Chat
      security:
      - BearerAuth: []
      parameters:
      - name: messageId
        in: path
        required: true
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddReactionRequest'
      responses:
        '201':
          description: Reaction added successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageReactionResponse'
        '400':
          description: Invalid request parameters
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    delete:
      summary: Remove reaction from message
      description: '**Remove user''s reaction from a chat message**

        User can only remove their own reactions.

        **Performance:** <10ms with real-time update

        '
      operationId: removeMessageReaction
      tags:
      - Chat
      security:
      - BearerAuth: []
      parameters:
      - name: messageId
        in: path
        required: true
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
      - name: emoji
        in: query
        required: true
        schema:
          type: string
          maxLength: 10
        description: Emoji to remove
      responses:
        '204':
          description: Reaction removed successfully
        '404':
          description: Resource not found
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /notifications:
    get:
      summary: Get user notifications
      description: '**Retrieve user''s notifications with pagination**

        Supports filtering by type, read status, and time range.

        **Performance:** <50ms with Redis caching, supports 100k+ notifications per
        user

        '
      operationId: getUserNotifications
      tags:
      - Notifications
      security:
      - BearerAuth: []
      parameters:
      - name: type
        in: query
        schema:
          type: string
          enum:
          - system
          - social
          - achievement
          - commerce
          - combat
          - guild
        description: Filter by notification type
      - name: read
        in: query
        schema:
          type: boolean
        description: Filter by read status
      - name: limit
        in: query
        schema:
          type: integer
          minimum: 1
          maximum: 100
          default: 50
        description: Number of notifications to return
      - name: offset
        in: query
        schema:
          type: integer
          minimum: 0
          default: 0
        description: Pagination offset
      responses:
        '200':
          description: Notifications retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                - type: object
                  required:
                  - items
                  - total
                  - limit
                  - offset
                  properties:
                    items:
                      type: array
                      description: Array of items
                    total:
                      type: integer
                      minimum: 0
                      example: 100
                      description: Total number of items
                    limit:
                      type: integer
                      minimum: 1
                      maximum: 100
                      example: 20
                      description: Items per page
                    offset:
                      type: integer
                      minimum: 0
                      example: 0
                      description: Number of items to skip
                - type: object
                  properties:
                    items:
                      type: array
                      items:
                        $ref: '#/components/schemas/NotificationResponse'
        '401':
          description: Authentication required
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    post:
      summary: Send notification
      description: '**Send notification to user or group**

        Supports scheduled delivery and priority levels.

        **Performance:** <25ms with queue-based processing

        '
      operationId: sendNotification
      tags:
      - Notifications
      security:
      - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SendNotificationRequest'
      responses:
        '202':
          description: Notification queued for delivery
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotificationQueuedResponse'
        '400':
          description: Invalid request parameters
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /notifications/{notificationId}:
    get:
      summary: Get notification details
      description: '**Retrieve detailed information about a specific notification**

        Includes full content and metadata.

        **Performance:** <15ms with caching

        '
      operationId: getNotification
      tags:
      - Notifications
      security:
      - BearerAuth: []
      parameters:
      - name: notificationId
        in: path
        required: true
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
      responses:
        '200':
          description: Notification details retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotificationResponse'
        '404':
          description: Resource not found
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    put:
      summary: Mark notification as read
      description: '**Mark a notification as read**

        Updates read timestamp and triggers related actions.

        **Performance:** <10ms with immediate consistency

        '
      operationId: markNotificationRead
      tags:
      - Notifications
      security:
      - BearerAuth: []
      parameters:
      - name: notificationId
        in: path
        required: true
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
      responses:
        '200':
          description: Notification marked as read
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotificationResponse'
        '404':
          description: Resource not found
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    delete:
      summary: Delete notification
      description: '**Delete a notification**

        Soft delete with recovery option within 30 days.

        **Performance:** <15ms with archival

        '
      operationId: deleteNotification
      tags:
      - Notifications
      security:
      - BearerAuth: []
      parameters:
      - name: notificationId
        in: path
        required: true
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
      responses:
        '204':
          description: Notification deleted successfully
        '404':
          description: Resource not found
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /notifications/bulk/mark-read:
    post:
      summary: Mark multiple notifications as read
      description: '**Bulk mark notifications as read**

        Efficient bulk operation for UI interactions.

        **Performance:** <50ms for up to 100 notifications

        '
      operationId: bulkMarkNotificationsRead
      tags:
      - Notifications
      security:
      - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BulkMarkReadRequest'
      responses:
        '200':
          description: Notifications marked as read
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BulkOperationResponse'
        '400':
          description: Invalid request parameters
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /notifications/settings:
    get:
      summary: Get notification settings
      description: '**Retrieve user''s notification preferences**

        Includes settings for each notification type and delivery method.

        **Performance:** <20ms with user-specific caching

        '
      operationId: getNotificationSettings
      tags:
      - Notifications
      security:
      - BearerAuth: []
      responses:
        '200':
          description: Notification settings retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotificationSettingsResponse'
        '401':
          description: Authentication required
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    put:
      summary: Update notification settings
      description: '**Update user''s notification preferences**

        Supports granular control over notification types and channels.

        **Performance:** <30ms with validation

        '
      operationId: updateNotificationSettings
      tags:
      - Notifications
      security:
      - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateNotificationSettingsRequest'
      responses:
        '200':
          description: Notification settings updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotificationSettingsResponse'
        '400':
          description: Invalid request parameters
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /voice/channels:
    get:
      summary: List voice channels
      description: '**Retrieve available voice channels**

        Returns channels user can join based on permissions.

        **Performance:** <30ms with real-time occupancy data

        '
      operationId: listVoiceChannels
      tags:
      - Voice Channels
      security:
      - BearerAuth: []
      parameters:
      - name: type
        in: query
        schema:
          type: string
          enum:
          - lobby
          - guild
          - party
          - private
        description: Filter by channel type
      - name: guild_id
        in: query
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        description: Filter by guild ID
      responses:
        '200':
          description: Voice channels retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  channels:
                    type: array
                    items:
                      $ref: '#/components/schemas/VoiceChannelResponse'
        '401':
          description: Authentication required
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    post:
      summary: Create voice channel
      description: '**Create a new voice channel**

        Supports temporary and permanent channels with capacity limits.

        **Performance:** <50ms with WebRTC setup

        '
      operationId: createVoiceChannel
      tags:
      - Voice Channels
      security:
      - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateVoiceChannelRequest'
      responses:
        '201':
          description: Voice channel created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VoiceChannelResponse'
        '400':
          description: Invalid request parameters
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /voice/channels/{channelId}:
    get:
      summary: Get voice channel details
      description: '**Retrieve detailed information about a voice channel**

        Includes participants, settings, and connection info.

        **Performance:** <20ms with real-time participant data

        '
      operationId: getVoiceChannel
      tags:
      - Voice Channels
      security:
      - BearerAuth: []
      parameters:
      - name: channelId
        in: path
        required: true
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
      responses:
        '200':
          description: Voice channel details retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VoiceChannelResponse'
        '404':
          description: Resource not found
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    put:
      summary: Update voice channel
      description: '**Update voice channel settings**

        Requires channel ownership or moderator permissions.

        **Performance:** <30ms with participant notifications

        '
      operationId: updateVoiceChannel
      tags:
      - Voice Channels
      security:
      - BearerAuth: []
      parameters:
      - name: channelId
        in: path
        required: true
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateVoiceChannelRequest'
      responses:
        '200':
          description: Voice channel updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VoiceChannelResponse'
        '403':
          description: Access denied
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    delete:
      summary: Delete voice channel
      description: '**Delete a voice channel**

        Disconnects all participants and cleans up resources.

        **Performance:** <40ms with graceful disconnections

        '
      operationId: deleteVoiceChannel
      tags:
      - Voice Channels
      security:
      - BearerAuth: []
      parameters:
      - name: channelId
        in: path
        required: true
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
      responses:
        '204':
          description: Voice channel deleted successfully
        '403':
          description: Access denied
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /voice/channels/{channelId}/join:
    post:
      summary: Join voice channel
      description: '**Join a voice channel**

        Returns WebRTC connection information and channel token.

        **Performance:** <25ms with capacity checks and token generation

        '
      operationId: joinVoiceChannel
      tags:
      - Voice Channels
      security:
      - BearerAuth: []
      parameters:
      - name: channelId
        in: path
        required: true
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/JoinVoiceChannelRequest'
      responses:
        '200':
          description: Successfully joined voice channel
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VoiceChannelConnectionResponse'
        '403':
          description: Access denied
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '429':
          description: Too many requests - rate limit exceeded
          content:
            application/json:
              schema:
                allOf:
                - type: object
                  required:
                  - code
                  - message
                  properties:
                    code:
                      type: integer
                      example: 500
                      format: int32
                      minimum: 100
                      maximum: 599
                    message:
                      type: string
                      example: Internal server error
                      maxLength: 1000
                    details:
                      type: object
                      description: Additional error details
                  description: Standard error response format
                - type: object
                  properties:
                    retry_after:
                      type: integer
                      example: 60
                      description: Seconds to wait before retrying
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /voice/channels/{channelId}/leave:
    post:
      summary: Leave voice channel
      description: '**Leave a voice channel**

        Updates channel occupancy and notifies other participants.

        **Performance:** <15ms with immediate cleanup

        '
      operationId: leaveVoiceChannel
      tags:
      - Voice Channels
      security:
      - BearerAuth: []
      parameters:
      - name: channelId
        in: path
        required: true
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
      responses:
        '204':
          description: Successfully left voice channel
        '404':
          description: Resource not found
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /voice/channels/{channelId}/participants:
    get:
      summary: Get voice channel participants
      description: '**Retrieve list of participants in a voice channel**

        Real-time participant information with speaking status.

        **Performance:** <15ms with WebSocket broadcasting

        '
      operationId: getVoiceChannelParticipants
      tags:
      - Voice Channels
      security:
      - BearerAuth: []
      parameters:
      - name: channelId
        in: path
        required: true
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
      responses:
        '200':
          description: Voice channel participants retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  participants:
                    type: array
                    items:
                      $ref: '#/components/schemas/VoiceParticipantResponse'
        '403':
          description: Access denied
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /moderation/reports:
    get:
      summary: Get moderation reports
      description: '**Retrieve moderation reports with filtering**

        Supports status filtering and priority sorting.

        **Performance:** <40ms with pagination support

        '
      operationId: getModerationReports
      tags:
      - Moderation
      security:
      - BearerAuth: []
      parameters:
      - name: status
        in: query
        schema:
          type: string
          enum:
          - pending
          - investigating
          - resolved
          - dismissed
        description: Filter by report status
      - name: priority
        in: query
        schema:
          type: string
          enum:
          - low
          - medium
          - high
          - critical
        description: Filter by priority level
      - name: limit
        in: query
        schema:
          type: integer
          minimum: 1
          maximum: 50
          default: 20
        description: Number of reports to return
      - name: offset
        in: query
        schema:
          type: integer
          minimum: 0
          default: 0
        description: Pagination offset
      responses:
        '200':
          description: Moderation reports retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                - type: object
                  required:
                  - items
                  - total
                  - limit
                  - offset
                  properties:
                    items:
                      type: array
                      description: Array of items
                    total:
                      type: integer
                      minimum: 0
                      example: 100
                      description: Total number of items
                    limit:
                      type: integer
                      minimum: 1
                      maximum: 100
                      example: 20
                      description: Items per page
                    offset:
                      type: integer
                      minimum: 0
                      example: 0
                      description: Number of items to skip
                - type: object
                  properties:
                    items:
                      type: array
                      items:
                        $ref: '#/components/schemas/ModerationReportResponse'
        '403':
          description: Access denied
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    post:
      summary: Create moderation report
      description: '**Submit a new moderation report**

        Supports reporting chat messages, users, and channels.

        **Performance:** <30ms with automatic duplicate detection

        '
      operationId: createModerationReport
      tags:
      - Moderation
      security:
      - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateModerationReportRequest'
      responses:
        '201':
          description: Moderation report created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModerationReportResponse'
        '400':
          description: Invalid request parameters
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /moderation/reports/{reportId}:
    get:
      summary: Get moderation report details
      description: '**Retrieve detailed information about a moderation report**

        Includes evidence, comments, and resolution history.

        **Performance:** <25ms with full context loading

        '
      operationId: getModerationReport
      tags:
      - Moderation
      security:
      - BearerAuth: []
      parameters:
      - name: reportId
        in: path
        required: true
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
      responses:
        '200':
          description: Moderation report details retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModerationReportResponse'
        '404':
          description: Resource not found
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    put:
      summary: Update moderation report
      description: '**Update report status and add moderator notes**

        Requires moderator permissions.

        **Performance:** <35ms with audit logging

        '
      operationId: updateModerationReport
      tags:
      - Moderation
      security:
      - BearerAuth: []
      parameters:
      - name: reportId
        in: path
        required: true
        schema:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateModerationReportRequest'
      responses:
        '200':
          description: Moderation report updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModerationReportResponse'
        '403':
          description: Access denied
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /moderation/actions:
    post:
      summary: Execute moderation action
      description: '**Execute moderation action on reported content**

        Supports warnings, mutes, bans, and content removal.

        **Performance:** <45ms with immediate enforcement

        '
      operationId: executeModerationAction
      tags:
      - Moderation
      security:
      - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExecuteModerationActionRequest'
      responses:
        '200':
          description: Moderation action executed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModerationActionResponse'
        '400':
          description: Invalid request parameters
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '403':
          description: Access denied
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
components:
  responses:
    OK:
      description: Operation completed successfully
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: true
              message:
                type: string
                example: Operation completed
    Created:
      description: Resource created successfully
      headers:
        Location:
          schema:
            type: string
            format: uri
          description: URI of the created resource
      content:
        application/json:
          schema:
            type: object
            properties:
              id:
                type: string
                format: uuid
                description: Unique identifier of created resource
              created_at:
                type: string
                format: date-time
                description: Creation timestamp
    Updated:
      description: Resource updated successfully
      content:
        application/json:
          schema:
            type: object
            properties:
              id:
                type: string
                format: uuid
                description: Unique identifier of updated resource
              updated_at:
                type: string
                format: date-time
                description: Last modification timestamp
    Deleted:
      description: Resource deleted successfully
      content:
        application/json:
          schema:
            type: object
            properties:
              id:
                type: string
                format: uuid
                description: Unique identifier of deleted resource
              deleted_at:
                type: string
                format: date-time
                description: Deletion timestamp
    BadRequest:
      description: Invalid request parameters
      content:
        application/json:
          schema:
            type: object
            required:
            - code
            - message
            properties:
              code:
                type: integer
                example: 500
                format: int32
                minimum: 100
                maximum: 599
              message:
                type: string
                example: Internal server error
                maxLength: 1000
              details:
                type: object
                description: Additional error details
            description: Standard error response format
    Unauthorized:
      description: Authentication required
      content:
        application/json:
          schema:
            type: object
            required:
            - code
            - message
            properties:
              code:
                type: integer
                example: 500
                format: int32
                minimum: 100
                maximum: 599
              message:
                type: string
                example: Internal server error
                maxLength: 1000
              details:
                type: object
                description: Additional error details
            description: Standard error response format
    Forbidden:
      description: Access denied
      content:
        application/json:
          schema:
            type: object
            required:
            - code
            - message
            properties:
              code:
                type: integer
                example: 500
                format: int32
                minimum: 100
                maximum: 599
              message:
                type: string
                example: Internal server error
                maxLength: 1000
              details:
                type: object
                description: Additional error details
            description: Standard error response format
    NotFound:
      description: Resource not found
      content:
        application/json:
          schema:
            type: object
            required:
            - code
            - message
            properties:
              code:
                type: integer
                example: 500
                format: int32
                minimum: 100
                maximum: 599
              message:
                type: string
                example: Internal server error
                maxLength: 1000
              details:
                type: object
                description: Additional error details
            description: Standard error response format
    TooManyRequests:
      description: Too many requests - rate limit exceeded
      content:
        application/json:
          schema:
            allOf:
            - type: object
              required:
              - code
              - message
              properties:
                code:
                  type: integer
                  example: 500
                  format: int32
                  minimum: 100
                  maximum: 599
                message:
                  type: string
                  example: Internal server error
                  maxLength: 1000
                details:
                  type: object
                  description: Additional error details
              description: Standard error response format
            - type: object
              properties:
                retry_after:
                  type: integer
                  example: 60
                  description: Seconds to wait before retrying
  schemas:
    BaseEntity:
      type: object
      required:
      - id
      - created_at
      - updated_at
      properties:
        id:
          type: string
          format: uuid
          description: Unique identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        created_at:
          type: string
          format: date-time
          description: Creation timestamp (ISO 8601)
          example: '2025-12-28T10:00:00Z'
          maxLength: 30
        updated_at:
          type: string
          format: date-time
          description: Last update timestamp (ISO 8601)
          example: '2025-12-28T10:00:00Z'
          maxLength: 30
    ChatChannelResponse:
      allOf:
      - allOf:
        - allOf:
          - $ref: '#/components/schemas/BaseEntity'
          - type: object
            properties:
              created_by:
                type: string
                format: uuid
                description: ID of user who created the entity
                example: 123e4567-e89b-12d3-a456-426614174001
                maxLength: 36
              updated_by:
                type: string
                format: uuid
                description: ID of user who last modified the entity
                example: 123e4567-e89b-12d3-a456-426614174002
                maxLength: 36
          description: 'BACKEND NOTE: Extends BaseEntity with audit trail. Use for
            admin-managed entities.'
        - type: object
          required:
          - name
          - type
          - is_private
          properties:
            name:
              type: string
              description: Channel display name
              example: General Chat
              maxLength: 50
            type:
              type: string
              enum:
              - global
              - guild
              - party
              - private
              - trade
              - help
              description: Channel type
              example: guild
            is_private:
              type: boolean
              description: Whether channel is private
              example: false
            owner_id:
              type: string
              format: uuid
              description: Universally Unique Identifier (UUID v4)
              example: 123e4567-e89b-12d3-a456-426614174000
              maxLength: 36
            guild_id:
              type: string
              format: uuid
              description: Universally Unique Identifier (UUID v4)
              example: 123e4567-e89b-12d3-a456-426614174000
              maxLength: 36
            member_count:
              type: integer
              minimum: 0
              description: Current member count
              example: 42
            max_members:
              type: integer
              minimum: 1
              description: Maximum allowed members
              example: 100
            last_message_at:
              type: string
              format: date-time
              description: ISO 8601 timestamp
              example: '2025-12-28T10:00:00Z'
              maxLength: 30
            is_moderated:
              type: boolean
              description: Whether channel has moderation
              example: true
            allowed_roles:
              type: array
              items:
                type: string
              description: Roles allowed to join
        description: 'BACKEND NOTE: Chat channels with access control.'
      - type: object
        properties:
          current_members:
            type: integer
            description: Current number of online members
            example: 23
          is_joined:
            type: boolean
            description: Whether current user is joined
            example: true
    CreateChatChannelRequest:
      type: object
      required:
      - name
      - type
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 50
          description: Channel name
          example: General Chat
        type:
          type: string
          enum:
          - guild
          - party
          - private
          description: Channel type
          example: guild
        description:
          type: string
          maxLength: 200
          description: Channel description
        guild_id:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        max_members:
          type: integer
          minimum: 2
          maximum: 1000
          description: Maximum members allowed
        is_temporary:
          type: boolean
          description: Whether channel is temporary
          default: false
    UpdateChatChannelRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 50
          description: Channel name
        description:
          type: string
          maxLength: 200
          description: Channel description
        max_members:
          type: integer
          minimum: 2
          maximum: 1000
          description: Maximum members allowed
    ChatMessageResponse:
      allOf:
      - allOf:
        - type: object
          required:
          - id
          - created_at
          - updated_at
          properties:
            id:
              type: string
              format: uuid
              description: Unique identifier (UUID v4)
              example: 123e4567-e89b-12d3-a456-426614174000
              maxLength: 36
            created_at:
              type: string
              format: date-time
              description: Creation timestamp (ISO 8601)
              example: '2025-12-28T10:00:00Z'
              maxLength: 30
            updated_at:
              type: string
              format: date-time
              description: Last modification timestamp (ISO 8601)
              example: '2025-12-28T10:30:00Z'
              maxLength: 30
          description: 'BACKEND NOTE: Base entity with ordered fields for struct alignment.
            Memory savings: 30-50%. All domain entities should extend this.'
        - type: object
          required:
          - channel_id
          - sender_id
          - content
          - sent_at
          properties:
            channel_id:
              type: string
              format: uuid
              description: Universally Unique Identifier (UUID v4)
              example: 123e4567-e89b-12d3-a456-426614174000
              maxLength: 36
            sender_id:
              type: string
              format: uuid
              description: Universally Unique Identifier (UUID v4)
              example: 123e4567-e89b-12d3-a456-426614174000
              maxLength: 36
            content:
              type: string
              description: Message content
              example: Anyone up for a gig tonight?
              maxLength: 2000
            sent_at:
              type: string
              format: date-time
              description: ISO 8601 timestamp
              example: '2025-12-28T10:00:00Z'
              maxLength: 30
            edited_at:
              type: string
              format: date-time
              description: ISO 8601 timestamp
              example: '2025-12-28T10:00:00Z'
              maxLength: 30
            is_deleted:
              type: boolean
              description: Whether message was deleted
              example: false
            attachments:
              type: array
              items:
                type: object
                properties:
                  type:
                    type: string
                    enum:
                    - image
                    - link
                    - item
                    - location
                  url:
                    type: string
                    format: uri
                  metadata:
                    type: object
              description: Message attachments
            mentions:
              type: array
              items:
                type: string
                format: uuid
                description: Universally Unique Identifier (UUID v4)
                example: 123e4567-e89b-12d3-a456-426614174000
                maxLength: 36
              description: Mentioned user IDs
            reactions:
              type: array
              items:
                type: object
                required:
                - emoji
                - user_id
                properties:
                  emoji:
                    type: string
                    maxLength: 10
                  user_id:
                    type: string
                    format: uuid
                    description: Universally Unique Identifier (UUID v4)
                    example: 123e4567-e89b-12d3-a456-426614174000
                    maxLength: 36
                  reacted_at:
                    type: string
                    format: date-time
                    description: ISO 8601 timestamp
                    example: '2025-12-28T10:00:00Z'
                    maxLength: 30
              description: Message reactions
        description: 'BACKEND NOTE: Chat messages with rich content and reactions.'
      - type: object
        properties:
          author:
            allOf:
            - allOf:
              - $ref: '#/components/schemas/BaseEntity'
              - type: object
                properties:
                  created_by:
                    type: string
                    format: uuid
                    description: ID of user who created the entity
                    example: 123e4567-e89b-12d3-a456-426614174001
                    maxLength: 36
                  updated_by:
                    type: string
                    format: uuid
                    description: ID of user who last modified the entity
                    example: 123e4567-e89b-12d3-a456-426614174002
                    maxLength: 36
              description: 'BACKEND NOTE: Extends BaseEntity with audit trail. Use
                for admin-managed entities.'
            - type: object
              required:
              - username
              - display_name
              properties:
                username:
                  type: string
                  pattern: ^[a-zA-Z0-9_-]{3,30}$
                  description: Unique username
                  example: night_runner_2077
                  maxLength: 30
                display_name:
                  type: string
                  description: Display name shown to other players
                  example: Night Runner
                  maxLength: 50
                email:
                  type: string
                  format: email
                  description: Email address
                  example: user@necpgame.com
                  maxLength: 255
                avatar_url:
                  type: string
                  format: uri
                  description: Profile avatar image URL
                  example: https://cdn.necpgame.com/avatars/night_runner.png
                bio:
                  type: string
                  description: User biography/description
                  example: Cyberpunk mercenary with a heart of gold
                  maxLength: 500
                country:
                  type: string
                  pattern: ^[A-Z]{2}$
                  description: ISO 3166-1 alpha-2 country code
                  example: US
                timezone:
                  type: string
                  description: User timezone (IANA format)
                  example: America/New_York
                  maxLength: 50
                preferred_language:
                  type: string
                  pattern: ^[a-z]{2}(-[A-Z]{2})?$
                  description: Preferred language (ISO 639-1)
                  example: en-US
                is_online:
                  type: boolean
                  description: Current online status
                  example: true
                last_seen_at:
                  type: string
                  format: date-time
                  description: ISO 8601 timestamp
                  example: '2025-12-28T10:00:00Z'
                  maxLength: 30
                reputation_score:
                  type: integer
                  minimum: 0
                  description: Community reputation score
                  example: 1250
            description: 'BACKEND NOTE: User profiles with social metadata.'
          channel_name:
            type: string
            description: Channel display name
            example: General Chat
    SendChatMessageRequest:
      type: object
      required:
      - content
      properties:
        content:
          type: string
          minLength: 1
          maxLength: 2000
          description: Message content
          example: Anyone up for a gig tonight?
        reply_to:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        attachments:
          type: array
          items:
            type: object
            required:
            - type
            - url
            properties:
              type:
                type: string
                enum:
                - image
                - link
                - item
                - location
              url:
                type: string
                format: uri
              metadata:
                type: object
    EditChatMessageRequest:
      type: object
      required:
      - content
      properties:
        content:
          type: string
          minLength: 1
          maxLength: 2000
          description: Updated message content
    AddReactionRequest:
      type: object
      required:
      - emoji
      properties:
        emoji:
          type: string
          maxLength: 10
          description: Emoji reaction
          example: 👍
    MessageReactionResponse:
      type: object
      properties:
        message_id:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        emoji:
          type: string
          example: 👍
        user_id:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        reacted_at:
          type: string
          format: date-time
          description: ISO 8601 timestamp
          example: '2025-12-28T10:00:00Z'
          maxLength: 30
    NotificationResponse:
      type: object
      allOf:
      - type: object
        required:
        - id
        - created_at
        - updated_at
        properties:
          id:
            type: string
            format: uuid
            description: Unique identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          created_at:
            type: string
            format: date-time
            description: Creation timestamp (ISO 8601)
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          updated_at:
            type: string
            format: date-time
            description: Last modification timestamp (ISO 8601)
            example: '2025-12-28T10:30:00Z'
            maxLength: 30
        description: 'BACKEND NOTE: Base entity with ordered fields for struct alignment.
          Memory savings: 30-50%. All domain entities should extend this.'
      - type: object
        required:
        - user_id
        - type
        - title
        - content
        - read
        properties:
          user_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          type:
            type: string
            enum:
            - system
            - social
            - achievement
            - commerce
            - combat
            - guild
            description: Notification type
            example: achievement
          title:
            type: string
            maxLength: 100
            description: Notification title
            example: Achievement Unlocked!
          content:
            type: string
            maxLength: 1000
            description: Notification content
            example: You've earned the 'Night Runner' achievement!
          read:
            type: boolean
            description: Whether notification has been read
            example: false
          read_at:
            type: string
            format: date-time
            description: ISO 8601 timestamp
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          priority:
            type: string
            enum:
            - low
            - normal
            - high
            - critical
            description: Notification priority
            example: normal
          actions:
            type: array
            items:
              type: object
              properties:
                label:
                  type: string
                  maxLength: 50
                action:
                  type: string
                  maxLength: 200
          expires_at:
            type: string
            format: date-time
            description: ISO 8601 timestamp
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
    SendNotificationRequest:
      type: object
      required:
      - recipients
      - type
      - title
      - content
      properties:
        recipients:
          oneOf:
          - type: array
            items:
              type: string
              format: uuid
              description: Universally Unique Identifier (UUID v4)
              example: 123e4567-e89b-12d3-a456-426614174000
              maxLength: 36
          - type: string
            enum:
            - all
            - online
            - guild_members
        type:
          type: string
          enum:
          - system
          - social
          - achievement
          - commerce
          - combat
          - guild
          description: Notification type
        title:
          type: string
          minLength: 1
          maxLength: 100
          description: Notification title
        content:
          type: string
          minLength: 1
          maxLength: 1000
          description: Notification content
        priority:
          type: string
          enum:
          - low
          - normal
          - high
          - critical
          default: normal
        actions:
          type: array
          maxItems: 3
          items:
            type: object
            required:
            - label
            - action
            properties:
              label:
                type: string
                minLength: 1
                maxLength: 50
              action:
                type: string
                minLength: 1
                maxLength: 200
        expires_at:
          type: string
          format: date-time
          description: ISO 8601 timestamp
          example: '2025-12-28T10:00:00Z'
          maxLength: 30
        scheduled_for:
          type: string
          format: date-time
          description: ISO 8601 timestamp
          example: '2025-12-28T10:00:00Z'
          maxLength: 30
    NotificationQueuedResponse:
      type: object
      properties:
        notification_id:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        queued_at:
          type: string
          format: date-time
          description: ISO 8601 timestamp
          example: '2025-12-28T10:00:00Z'
          maxLength: 30
        estimated_delivery:
          type: string
          format: date-time
          description: ISO 8601 timestamp
          example: '2025-12-28T10:00:00Z'
          maxLength: 30
        recipient_count:
          type: integer
          description: Number of recipients
          example: 1500
    BulkMarkReadRequest:
      type: object
      required:
      - notification_ids
      properties:
        notification_ids:
          type: array
          items:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          minItems: 1
          maxItems: 100
          description: IDs of notifications to mark as read
    BulkOperationResponse:
      type: object
      properties:
        success_count:
          type: integer
          description: Number of successful operations
          example: 95
        failure_count:
          type: integer
          description: Number of failed operations
          example: 5
        failures:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                format: uuid
                description: Universally Unique Identifier (UUID v4)
                example: 123e4567-e89b-12d3-a456-426614174000
                maxLength: 36
              error:
                type: string
                description: Error message
    NotificationSettingsResponse:
      type: object
      properties:
        user_id:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        settings:
          type: object
          properties:
            system_notifications:
              $ref: '#/components/schemas/NotificationTypeSettings'
            social_notifications:
              $ref: '#/components/schemas/NotificationTypeSettings'
            achievement_notifications:
              $ref: '#/components/schemas/NotificationTypeSettings'
            commerce_notifications:
              $ref: '#/components/schemas/NotificationTypeSettings'
            combat_notifications:
              $ref: '#/components/schemas/NotificationTypeSettings'
            guild_notifications:
              $ref: '#/components/schemas/NotificationTypeSettings'
        channels:
          type: object
          properties:
            in_game:
              type: boolean
              description: Enable in-game notifications
              example: true
            push:
              type: boolean
              description: Enable push notifications
              example: true
            email:
              type: boolean
              description: Enable email notifications
              example: false
    NotificationTypeSettings:
      type: object
      properties:
        enabled:
          type: boolean
          description: Whether this notification type is enabled
          example: true
        priority_filter:
          type: string
          enum:
          - all
          - normal_and_above
          - high_and_above
          - critical_only
          description: Minimum priority level to show
          example: normal_and_above
    UpdateNotificationSettingsRequest:
      type: object
      properties:
        settings:
          $ref: '#/components/schemas/NotificationSettingsResponse/properties/settings'
        channels:
          $ref: '#/components/schemas/NotificationSettingsResponse/properties/channels'
    VoiceChannelResponse:
      type: object
      allOf:
      - type: object
        required:
        - id
        - created_at
        - updated_at
        properties:
          id:
            type: string
            format: uuid
            description: Unique identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          created_at:
            type: string
            format: date-time
            description: Creation timestamp (ISO 8601)
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          updated_at:
            type: string
            format: date-time
            description: Last modification timestamp (ISO 8601)
            example: '2025-12-28T10:30:00Z'
            maxLength: 30
        description: 'BACKEND NOTE: Base entity with ordered fields for struct alignment.
          Memory savings: 30-50%. All domain entities should extend this.'
      - type: object
        required:
        - name
        - type
        - max_participants
        properties:
          name:
            type: string
            maxLength: 50
            description: Channel name
            example: Guild Voice
          type:
            type: string
            enum:
            - lobby
            - guild
            - party
            - private
            description: Channel type
            example: guild
          description:
            type: string
            maxLength: 200
            description: Channel description
          guild_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          owner_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          max_participants:
            type: integer
            minimum: 2
            maximum: 100
            description: Maximum participants
            example: 10
          current_participants:
            type: integer
            description: Current participant count
            example: 3
          is_temporary:
            type: boolean
            description: Whether channel is temporary
            example: false
          bitrate:
            type: integer
            minimum: 8000
            maximum: 128000
            description: Audio bitrate in bps
            example: 64000
          region:
            type: string
            description: Geographic region for latency optimization
            example: us-east
          participants:
            type: array
            items:
              $ref: '#/components/schemas/VoiceParticipantResponse'
    CreateVoiceChannelRequest:
      type: object
      required:
      - name
      - type
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 50
          description: Channel name
        type:
          type: string
          enum:
          - guild
          - party
          - private
          description: Channel type
        description:
          type: string
          maxLength: 200
          description: Channel description
        guild_id:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        max_participants:
          type: integer
          minimum: 2
          maximum: 100
          default: 10
        bitrate:
          type: integer
          minimum: 8000
          maximum: 128000
          default: 64000
        is_temporary:
          type: boolean
          default: false
    UpdateVoiceChannelRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 50
        description:
          type: string
          maxLength: 200
        max_participants:
          type: integer
          minimum: 2
          maximum: 100
        bitrate:
          type: integer
          minimum: 8000
          maximum: 128000
    JoinVoiceChannelRequest:
      type: object
      properties:
        mute_on_join:
          type: boolean
          description: Whether to join muted
          default: false
        deafen_on_join:
          type: boolean
          description: Whether to join deafened
          default: false
    VoiceChannelConnectionResponse:
      type: object
      properties:
        channel_id:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        token:
          type: string
          description: Connection token for WebRTC
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        rtc_configuration:
          type: object
          description: WebRTC configuration
          properties:
            ice_servers:
              type: array
              items:
                type: object
                properties:
                  urls:
                    type: array
                    items:
                      type: string
                  username:
                    type: string
                  credential:
                    type: string
        region:
          type: string
          description: Optimal region for connection
          example: us-east
    VoiceParticipantResponse:
      type: object
      properties:
        user_id:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        username:
          type: string
          description: Display name
          example: Night Runner
        joined_at:
          type: string
          format: date-time
          description: ISO 8601 timestamp
          example: '2025-12-28T10:00:00Z'
          maxLength: 30
        is_muted:
          type: boolean
          description: Whether participant is muted
          example: false
        is_deafened:
          type: boolean
          description: Whether participant is deafened
          example: false
        is_speaking:
          type: boolean
          description: Whether participant is currently speaking
          example: true
        volume_level:
          type: number
          minimum: 0
          maximum: 1
          description: Participant volume level
          example: 0.8
    ModerationReportResponse:
      type: object
      allOf:
      - type: object
        required:
        - id
        - created_at
        - updated_at
        properties:
          id:
            type: string
            format: uuid
            description: Unique identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          created_at:
            type: string
            format: date-time
            description: Creation timestamp (ISO 8601)
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          updated_at:
            type: string
            format: date-time
            description: Last modification timestamp (ISO 8601)
            example: '2025-12-28T10:30:00Z'
            maxLength: 30
        description: 'BACKEND NOTE: Base entity with ordered fields for struct alignment.
          Memory savings: 30-50%. All domain entities should extend this.'
      - type: object
        required:
        - reporter_id
        - reported_content_type
        - reported_content_id
        - reason
        - status
        properties:
          reporter_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          reported_user_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          reported_content_type:
            type: string
            enum:
            - user
            - message
            - channel
            - guild
            description: Type of reported content
            example: message
          reported_content_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          reason:
            type: string
            enum:
            - harassment
            - spam
            - inappropriate_content
            - cheating
            - griefing
            - other
            description: Report reason
            example: harassment
          description:
            type: string
            maxLength: 1000
            description: Detailed description of the issue
          status:
            type: string
            enum:
            - pending
            - investigating
            - resolved
            - dismissed
            description: Report status
            example: pending
          priority:
            type: string
            enum:
            - low
            - medium
            - high
            - critical
            description: Report priority
            example: medium
          assigned_moderator_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          resolution:
            type: string
            maxLength: 500
            description: Resolution notes
          resolved_at:
            type: string
            format: date-time
            description: ISO 8601 timestamp
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          evidence_urls:
            type: array
            items:
              type: string
              format: uri
            description: URLs to evidence screenshots/logs
    CreateModerationReportRequest:
      type: object
      required:
      - reported_content_type
      - reported_content_id
      - reason
      properties:
        reported_user_id:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        reported_content_type:
          type: string
          enum:
          - user
          - message
          - channel
          - guild
          description: Type of reported content
        reported_content_id:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        reason:
          type: string
          enum:
          - harassment
          - spam
          - inappropriate_content
          - cheating
          - griefing
          - other
          description: Report reason
        description:
          type: string
          minLength: 10
          maxLength: 1000
          description: Detailed description
        evidence_urls:
          type: array
          items:
            type: string
            format: uri
          maxItems: 5
          description: URLs to evidence
    UpdateModerationReportRequest:
      type: object
      properties:
        status:
          type: string
          enum:
          - investigating
          - resolved
          - dismissed
        priority:
          type: string
          enum:
          - low
          - medium
          - high
          - critical
        assigned_moderator_id:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        resolution:
          type: string
          maxLength: 500
          description: Resolution notes
    ExecuteModerationActionRequest:
      type: object
      required:
      - report_id
      - action_type
      properties:
        report_id:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        action_type:
          type: string
          enum:
          - warn
          - mute
          - ban
          - delete_content
          - suspend_account
          description: Type of moderation action
        duration:
          type: integer
          description: Duration in minutes (for temporary actions)
          minimum: 1
          maximum: 525600
        reason:
          type: string
          minLength: 10
          maxLength: 500
          description: Reason for the action
    ModerationActionResponse:
      type: object
      properties:
        action_id:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        report_id:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        action_type:
          type: string
          enum:
          - warn
          - mute
          - ban
          - delete_content
          - suspend_account
        target_user_id:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        executed_by:
          type: string
          format: uuid
          description: Universally Unique Identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        executed_at:
          type: string
          format: date-time
          description: ISO 8601 timestamp
          example: '2025-12-28T10:00:00Z'
          maxLength: 30
        duration:
          type: integer
          description: Duration in minutes
        expires_at:
          type: string
          format: date-time
          description: ISO 8601 timestamp
          example: '2025-12-28T10:00:00Z'
          maxLength: 30
    AuditableEntity:
      allOf:
      - $ref: '#/components/schemas/BaseEntity'
      - type: object
        properties:
          created_by:
            type: string
            format: uuid
            description: ID of user who created the entity
            example: 123e4567-e89b-12d3-a456-426614174001
            maxLength: 36
          updated_by:
            type: string
            format: uuid
            description: ID of user who last modified the entity
            example: 123e4567-e89b-12d3-a456-426614174002
            maxLength: 36
      description: 'BACKEND NOTE: Extends BaseEntity with audit trail. Use for admin-managed
        entities.'
    VersionedEntity:
      allOf:
      - $ref: '#/components/schemas/BaseEntity'
      - type: object
        required:
        - version
        properties:
          version:
            type: integer
            minimum: 1
            description: Optimistic locking version
            example: 1
      description: 'BACKEND NOTE: Extends BaseEntity with version control. Use for
        concurrent-safe updates.'
    SoftDeletableEntity:
      allOf:
      - $ref: '#/components/schemas/BaseEntity'
      - type: object
        properties:
          deleted_at:
            type: string
            format: date-time
            nullable: true
            description: Soft deletion timestamp (null if not deleted)
            example: null
            maxLength: 30
      description: 'BACKEND NOTE: Extends BaseEntity with soft delete capability.
        Use for recoverable deletions.'
    UpdateRequest:
      type: object
      required:
      - id
      description: Base schema for update operations with optimistic locking support.
      properties:
        id:
          $ref: '#/components/schemas/UUID'
        version:
          type: integer
          minimum: 1
          description: Current entity version for optimistic locking
        metadata:
          type: object
          properties:
            updated_by:
              $ref: '#/components/schemas/UUID'
            reason:
              type: string
              maxLength: 200
              description: Update reason for audit trail
    HealthResponse:
      type: object
      required:
      - status
      - timestamp
      properties:
        status:
          type: string
          enum:
          - healthy
          - degraded
          - unhealthy
          example: healthy
          maxLength: 255
        domain:
          type: string
          example: service-name
          maxLength: 255
        timestamp:
          type: string
          format: date-time
          example: '2025-12-28T10:00:00Z'
          maxLength: 255
        version:
          type: string
          example: 1.0.0
          maxLength: 50
        uptime_seconds:
          type: integer
          example: 3600
          minimum: 0
        active_connections:
          type: integer
          example: 1500
          minimum: 0
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small).
        Expected memory savings: 30-50%.'
    Error:
      type: object
      required:
      - code
      - message
      properties:
        code:
          type: integer
          example: 500
          format: int32
          minimum: 100
          maximum: 599
        message:
          type: string
          example: Internal server error
          maxLength: 1000
        details:
          type: object
          description: Additional error details
      description: Standard error response format
    PaginationParams:
      type: object
      properties:
        limit:
          type: integer
          minimum: 1
          maximum: 100
          default: 20
          example: 20
        offset:
          type: integer
          minimum: 0
          default: 0
          example: 0
    PaginatedResponse:
      type: object
      required:
      - items
      - total
      - limit
      - offset
      properties:
        items:
          type: array
          description: Array of items
        total:
          type: integer
          minimum: 0
          example: 100
          description: Total number of items
        limit:
          type: integer
          minimum: 1
          maximum: 100
          example: 20
          description: Items per page
        offset:
          type: integer
          minimum: 0
          example: 0
          description: Number of items to skip
    UUID:
      type: string
      format: uuid
      description: Universally Unique Identifier (UUID v4)
      example: 123e4567-e89b-12d3-a456-426614174000
      maxLength: 36
    Email:
      type: string
      format: email
      description: Email address
      example: user@necpgame.com
      maxLength: 255
    Timestamp:
      type: string
      format: date-time
      description: ISO 8601 timestamp
      example: '2025-12-28T10:00:00Z'
      maxLength: 30
    Version:
      type: string
      pattern: ^\d+\.\d+\.\d+$
      description: Semantic version (MAJOR.MINOR.PATCH)
      example: 1.0.0
      maxLength: 20
    ValidationResult:
      type: object
      required:
      - valid
      properties:
        valid:
          type: boolean
          description: Whether validation passed
          example: true
        errors:
          type: array
          items:
            type: string
          description: Validation error messages
          example:
          - Field is required
          - Invalid format
        warnings:
          type: array
          items:
            type: string
          description: Validation warnings
          example:
          - Deprecated field usage
    UserProfileEntity:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/BaseEntity'
        - type: object
          properties:
            created_by:
              type: string
              format: uuid
              description: ID of user who created the entity
              example: 123e4567-e89b-12d3-a456-426614174001
              maxLength: 36
            updated_by:
              type: string
              format: uuid
              description: ID of user who last modified the entity
              example: 123e4567-e89b-12d3-a456-426614174002
              maxLength: 36
        description: 'BACKEND NOTE: Extends BaseEntity with audit trail. Use for admin-managed
          entities.'
      - type: object
        required:
        - username
        - display_name
        properties:
          username:
            type: string
            pattern: ^[a-zA-Z0-9_-]{3,30}$
            description: Unique username
            example: night_runner_2077
            maxLength: 30
          display_name:
            type: string
            description: Display name shown to other players
            example: Night Runner
            maxLength: 50
          email:
            type: string
            format: email
            description: Email address
            example: user@necpgame.com
            maxLength: 255
          avatar_url:
            type: string
            format: uri
            description: Profile avatar image URL
            example: https://cdn.necpgame.com/avatars/night_runner.png
          bio:
            type: string
            description: User biography/description
            example: Cyberpunk mercenary with a heart of gold
            maxLength: 500
          country:
            type: string
            pattern: ^[A-Z]{2}$
            description: ISO 3166-1 alpha-2 country code
            example: US
          timezone:
            type: string
            description: User timezone (IANA format)
            example: America/New_York
            maxLength: 50
          preferred_language:
            type: string
            pattern: ^[a-z]{2}(-[A-Z]{2})?$
            description: Preferred language (ISO 639-1)
            example: en-US
          is_online:
            type: boolean
            description: Current online status
            example: true
          last_seen_at:
            type: string
            format: date-time
            description: ISO 8601 timestamp
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          reputation_score:
            type: integer
            minimum: 0
            description: Community reputation score
            example: 1250
      description: 'BACKEND NOTE: User profiles with social metadata.'
    FriendshipEntity:
      allOf:
      - type: object
        required:
        - id
        - created_at
        - updated_at
        properties:
          id:
            type: string
            format: uuid
            description: Unique identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          created_at:
            type: string
            format: date-time
            description: Creation timestamp (ISO 8601)
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          updated_at:
            type: string
            format: date-time
            description: Last modification timestamp (ISO 8601)
            example: '2025-12-28T10:30:00Z'
            maxLength: 30
        description: 'BACKEND NOTE: Base entity with ordered fields for struct alignment.
          Memory savings: 30-50%. All domain entities should extend this.'
      - type: object
        required:
        - user_id
        - friend_id
        - status
        properties:
          user_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          friend_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          status:
            type: string
            enum:
            - pending
            - accepted
            - blocked
            description: Friendship status
            example: accepted
          requested_at:
            type: string
            format: date-time
            description: ISO 8601 timestamp
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          accepted_at:
            type: string
            format: date-time
            description: ISO 8601 timestamp
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          blocked_at:
            type: string
            format: date-time
            description: ISO 8601 timestamp
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          friendship_level:
            type: integer
            minimum: 1
            maximum: 10
            description: Friendship intimacy level
            example: 5
          shared_experiences:
            type: integer
            minimum: 0
            description: Number of shared gaming sessions
            example: 47
      description: 'BACKEND NOTE: Friendship relationships with status tracking.'
    GuildEntity:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/BaseEntity'
        - type: object
          properties:
            created_by:
              type: string
              format: uuid
              description: ID of user who created the entity
              example: 123e4567-e89b-12d3-a456-426614174001
              maxLength: 36
            updated_by:
              type: string
              format: uuid
              description: ID of user who last modified the entity
              example: 123e4567-e89b-12d3-a456-426614174002
              maxLength: 36
        description: 'BACKEND NOTE: Extends BaseEntity with audit trail. Use for admin-managed
          entities.'
      - type: object
        required:
        - name
        - leader_id
        - member_count
        properties:
          name:
            type: string
            description: Guild display name
            example: Cyberpunk Legends
            maxLength: 50
          description:
            type: string
            description: Guild description
            example: Elite cyberpunk mercenaries
            maxLength: 500
          leader_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          tag:
            type: string
            pattern: ^[A-Z0-9]{2,5}$
            description: Guild tag/acronym
            example: CPL
            maxLength: 5
          member_count:
            type: integer
            minimum: 1
            maximum: 1000
            description: Current member count
            example: 156
          max_members:
            type: integer
            minimum: 1
            maximum: 1000
            description: Maximum allowed members
            example: 200
          level:
            type: integer
            minimum: 1
            description: Guild level
            example: 25
          experience:
            type: integer
            minimum: 0
            description: Guild experience points
            example: 50000
          reputation:
            type: integer
            description: Guild reputation score
            example: 8750
          is_recruiting:
            type: boolean
            description: Whether guild is accepting new members
            example: true
          requirements:
            type: object
            properties:
              min_level:
                type: integer
                minimum: 1
              min_reputation:
                type: integer
                minimum: 0
            description: Membership requirements
          emblem_url:
            type: string
            format: uri
            description: Guild emblem/logo URL
          founded_at:
            type: string
            format: date-time
            description: ISO 8601 timestamp
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
      description: 'BACKEND NOTE: Guild/clan organizations with membership management.'
    GuildMemberEntity:
      allOf:
      - type: object
        required:
        - id
        - created_at
        - updated_at
        properties:
          id:
            type: string
            format: uuid
            description: Unique identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          created_at:
            type: string
            format: date-time
            description: Creation timestamp (ISO 8601)
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          updated_at:
            type: string
            format: date-time
            description: Last modification timestamp (ISO 8601)
            example: '2025-12-28T10:30:00Z'
            maxLength: 30
        description: 'BACKEND NOTE: Base entity with ordered fields for struct alignment.
          Memory savings: 30-50%. All domain entities should extend this.'
      - type: object
        required:
        - guild_id
        - user_id
        - role
        - joined_at
        properties:
          guild_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          user_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          role:
            type: string
            enum:
            - leader
            - officer
            - veteran
            - member
            - recruit
            description: Member role in guild
            example: officer
          joined_at:
            type: string
            format: date-time
            description: ISO 8601 timestamp
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          rank:
            type: integer
            minimum: 1
            description: Member rank/position
            example: 3
          contribution_points:
            type: integer
            minimum: 0
            description: Points contributed to guild
            example: 1250
          permissions:
            type: array
            items:
              type: string
              enum:
              - invite_members
              - kick_members
              - manage_roles
              - manage_bank
              - declare_war
            description: Granted permissions
          is_active:
            type: boolean
            description: Whether member is active
            example: true
          last_active_at:
            type: string
            format: date-time
            description: ISO 8601 timestamp
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
      description: 'BACKEND NOTE: Guild membership with roles and permissions.'
    ChatChannelEntity:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/BaseEntity'
        - type: object
          properties:
            created_by:
              type: string
              format: uuid
              description: ID of user who created the entity
              example: 123e4567-e89b-12d3-a456-426614174001
              maxLength: 36
            updated_by:
              type: string
              format: uuid
              description: ID of user who last modified the entity
              example: 123e4567-e89b-12d3-a456-426614174002
              maxLength: 36
        description: 'BACKEND NOTE: Extends BaseEntity with audit trail. Use for admin-managed
          entities.'
      - type: object
        required:
        - name
        - type
        - is_private
        properties:
          name:
            type: string
            description: Channel display name
            example: General Chat
            maxLength: 50
          type:
            type: string
            enum:
            - global
            - guild
            - party
            - private
            - trade
            - help
            description: Channel type
            example: guild
          is_private:
            type: boolean
            description: Whether channel is private
            example: false
          owner_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          guild_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          member_count:
            type: integer
            minimum: 0
            description: Current member count
            example: 42
          max_members:
            type: integer
            minimum: 1
            description: Maximum allowed members
            example: 100
          last_message_at:
            type: string
            format: date-time
            description: ISO 8601 timestamp
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          is_moderated:
            type: boolean
            description: Whether channel has moderation
            example: true
          allowed_roles:
            type: array
            items:
              type: string
            description: Roles allowed to join
      description: 'BACKEND NOTE: Chat channels with access control.'
    ChatMessageEntity:
      allOf:
      - type: object
        required:
        - id
        - created_at
        - updated_at
        properties:
          id:
            type: string
            format: uuid
            description: Unique identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          created_at:
            type: string
            format: date-time
            description: Creation timestamp (ISO 8601)
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          updated_at:
            type: string
            format: date-time
            description: Last modification timestamp (ISO 8601)
            example: '2025-12-28T10:30:00Z'
            maxLength: 30
        description: 'BACKEND NOTE: Base entity with ordered fields for struct alignment.
          Memory savings: 30-50%. All domain entities should extend this.'
      - type: object
        required:
        - channel_id
        - sender_id
        - content
        - sent_at
        properties:
          channel_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          sender_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          content:
            type: string
            description: Message content
            example: Anyone up for a gig tonight?
            maxLength: 2000
          sent_at:
            type: string
            format: date-time
            description: ISO 8601 timestamp
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          edited_at:
            type: string
            format: date-time
            description: ISO 8601 timestamp
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          is_deleted:
            type: boolean
            description: Whether message was deleted
            example: false
          attachments:
            type: array
            items:
              type: object
              properties:
                type:
                  type: string
                  enum:
                  - image
                  - link
                  - item
                  - location
                url:
                  type: string
                  format: uri
                metadata:
                  type: object
            description: Message attachments
          mentions:
            type: array
            items:
              type: string
              format: uuid
              description: Universally Unique Identifier (UUID v4)
              example: 123e4567-e89b-12d3-a456-426614174000
              maxLength: 36
            description: Mentioned user IDs
          reactions:
            type: array
            items:
              type: object
              required:
              - emoji
              - user_id
              properties:
                emoji:
                  type: string
                  maxLength: 10
                user_id:
                  type: string
                  format: uuid
                  description: Universally Unique Identifier (UUID v4)
                  example: 123e4567-e89b-12d3-a456-426614174000
                  maxLength: 36
                reacted_at:
                  type: string
                  format: date-time
                  description: ISO 8601 timestamp
                  example: '2025-12-28T10:00:00Z'
                  maxLength: 30
            description: Message reactions
      description: 'BACKEND NOTE: Chat messages with rich content and reactions.'
    RelationshipEntity:
      allOf:
      - type: object
        required:
        - id
        - created_at
        - updated_at
        properties:
          id:
            type: string
            format: uuid
            description: Unique identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          created_at:
            type: string
            format: date-time
            description: Creation timestamp (ISO 8601)
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          updated_at:
            type: string
            format: date-time
            description: Last modification timestamp (ISO 8601)
            example: '2025-12-28T10:30:00Z'
            maxLength: 30
        description: 'BACKEND NOTE: Base entity with ordered fields for struct alignment.
          Memory savings: 30-50%. All domain entities should extend this.'
      - type: object
        required:
        - character_id
        - target_id
        - type
        - level
        properties:
          character_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          target_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          type:
            type: string
            enum:
            - friendship
            - romance
            - rivalry
            - mentorship
            - business
            - enmity
            description: Relationship type
            example: romance
          level:
            type: integer
            minimum: -10
            maximum: 10
            description: Relationship intensity (-10 to +10)
            example: 7
          description:
            type: string
            description: Relationship description
            example: Close romantic partner
            maxLength: 200
          established_at:
            type: string
            format: date-time
            description: ISO 8601 timestamp
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          last_interaction_at:
            type: string
            format: date-time
            description: ISO 8601 timestamp
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          interaction_count:
            type: integer
            minimum: 0
            description: Number of interactions
            example: 23
          flags:
            type: array
            items:
              type: string
              enum:
              - exclusive
              - public
              - secret
              - temporary
            description: Relationship flags
      description: 'BACKEND NOTE: Character relationships with intensity tracking.'
    ReputationEntity:
      allOf:
      - type: object
        required:
        - id
        - created_at
        - updated_at
        properties:
          id:
            type: string
            format: uuid
            description: Unique identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          created_at:
            type: string
            format: date-time
            description: Creation timestamp (ISO 8601)
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          updated_at:
            type: string
            format: date-time
            description: Last modification timestamp (ISO 8601)
            example: '2025-12-28T10:30:00Z'
            maxLength: 30
        description: 'BACKEND NOTE: Base entity with ordered fields for struct alignment.
          Memory savings: 30-50%. All domain entities should extend this.'
      - type: object
        required:
        - subject_id
        - target_id
        - score
        properties:
          subject_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          target_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          score:
            type: integer
            minimum: -100
            maximum: 100
            description: Reputation score (-100 to +100)
            example: 45
          category:
            type: string
            enum:
            - trading
            - combat
            - social
            - leadership
            - craftsmanship
            - reliability
            - generosity
            - combat_skill
            description: Reputation category
            example: trading
          evidence_count:
            type: integer
            minimum: 0
            description: Number of reputation events
            example: 12
          last_updated_at:
            type: string
            format: date-time
            description: ISO 8601 timestamp
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          is_public:
            type: boolean
            description: Whether reputation is visible to others
            example: true
          evidence:
            type: array
            items:
              type: object
              properties:
                event_type:
                  type: string
                  enum:
                  - trade_completed
                  - combat_assist
                  - guild_help
                  - quest_shared
                points:
                  type: integer
                timestamp:
                  type: string
                  format: date-time
                  description: ISO 8601 timestamp
                  example: '2025-12-28T10:00:00Z'
                  maxLength: 30
                description:
                  type: string
                  maxLength: 200
            description: Reputation evidence/events
            maxItems: 50
      description: 'BACKEND NOTE: Reputation system with evidence tracking and multiple
        categories.'
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT Bearer token authentication
    ApiKeyAuth:
      type: apiKey
      in: header
      name: X-API-Key
      description: API Key authentication
    ServiceAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: Service-to-service authentication token
