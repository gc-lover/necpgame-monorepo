// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// AddCompanionExperience implements addCompanionExperience operation.
	//
	// **Grant experience points to a companion**
	// Increases companion's experience, potentially triggering level ups.
	// Validates experience amount and companion ownership.
	// **Performance:** <75ms P95, includes level calculation.
	//
	// POST /players/{playerId}/companions/{companionId}/experience
	AddCompanionExperience(ctx context.Context, req *AddCompanionExperienceReq, params AddCompanionExperienceParams) (AddCompanionExperienceRes, error)
	// CompanionServiceHealthCheck implements companionServiceHealthCheck operation.
	//
	// **Enterprise-grade health check endpoint**
	// Provides real-time health status of the companion service microservice.
	// Critical for service discovery, load balancing, and monitoring.
	// Includes companion operation status and rollback capabilities.
	// **Performance:** <1ms response time, cached for 30 seconds.
	//
	// GET /health
	CompanionServiceHealthCheck(ctx context.Context, params CompanionServiceHealthCheckParams) (CompanionServiceHealthCheckRes, error)
	// GetCompanionDetails implements getCompanionDetails operation.
	//
	// **Retrieve detailed information about a player's companion**
	// Returns comprehensive companion information including stats,
	// abilities, experience, and current status.
	// **Performance:** <50ms P95, database query.
	//
	// GET /players/{playerId}/companions/{companionId}
	GetCompanionDetails(ctx context.Context, params GetCompanionDetailsParams) (GetCompanionDetailsRes, error)
	// GetCompanionType implements getCompanionType operation.
	//
	// **Retrieve detailed information about a specific companion type**
	// Returns comprehensive information about a companion type including
	// abilities, stats, and requirements.
	// **Performance:** <25ms P95, cached data.
	//
	// GET /companion/types/{typeId}
	GetCompanionType(ctx context.Context, params GetCompanionTypeParams) (GetCompanionTypeRes, error)
	// GetCompanionTypes implements getCompanionTypes operation.
	//
	// **Retrieve available companion types**
	// Returns list of all companion types available in the game.
	// Includes basic information about each companion type.
	// **Performance:** <25ms P95, cached data.
	//
	// GET /companion/types
	GetCompanionTypes(ctx context.Context) (GetCompanionTypesRes, error)
	// GetPlayerCompanions implements getPlayerCompanions operation.
	//
	// **Retrieve player's companion collection**
	// Returns list of all companions owned by a player.
	// Includes companion stats, levels, and current status.
	// **Performance:** <50ms P95, database query with pagination.
	//
	// GET /players/{playerId}/companions
	GetPlayerCompanions(ctx context.Context, params GetPlayerCompanionsParams) (GetPlayerCompanionsRes, error)
	// PurchaseCompanion implements purchaseCompanion operation.
	//
	// **Purchase a new companion**
	// Allows player to purchase a companion of specified type.
	// Validates player balance and companion availability.
	// **Performance:** <100ms P95, includes validation and balance check
	// **Security:** Requires confirmation token for purchase operations.
	//
	// POST /players/{playerId}/companions/purchase
	PurchaseCompanion(ctx context.Context, req *PurchaseCompanionReq, params PurchaseCompanionParams) (PurchaseCompanionRes, error)
	// RecallCompanion implements recallCompanion operation.
	//
	// **Recall an active companion**
	// Deactivates a companion, ending its active session.
	// Companion becomes available for storage or other operations.
	// **Performance:** <50ms P95, database update.
	//
	// POST /players/{playerId}/companions/{companionId}/recall
	RecallCompanion(ctx context.Context, params RecallCompanionParams) (RecallCompanionRes, error)
	// RenameCompanion implements renameCompanion operation.
	//
	// **Rename a companion**
	// Changes the display name of a companion.
	// Validates name length and content.
	// **Performance:** <50ms P95, database update.
	//
	// PUT /players/{playerId}/companions/{companionId}/rename
	RenameCompanion(ctx context.Context, req *RenameCompanionReq, params RenameCompanionParams) (RenameCompanionRes, error)
	// SummonCompanion implements summonCompanion operation.
	//
	// **Summon a companion for active use**
	// Activates a companion for the player session.
	// Companion becomes available for abilities and interactions.
	// **Performance:** <50ms P95, database update.
	//
	// POST /players/{playerId}/companions/{companionId}/summon
	SummonCompanion(ctx context.Context, params SummonCompanionParams) (SummonCompanionRes, error)
	// UseCompanionAbility implements useCompanionAbility operation.
	//
	// **Activate a companion ability**
	// Triggers the specified ability for the companion.
	// Validates ability availability, cooldowns, and resource costs.
	// **Performance:** <100ms P95, includes ability validation and execution.
	//
	// POST /players/{playerId}/companions/{companionId}/abilities/{abilityId}/use
	UseCompanionAbility(ctx context.Context, params UseCompanionAbilityParams) (UseCompanionAbilityRes, error)
	// NewError creates *ErrRespStatusCode from error returned by handler.
	//
	// Used for common default response.
	NewError(ctx context.Context, err error) *ErrRespStatusCode
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
