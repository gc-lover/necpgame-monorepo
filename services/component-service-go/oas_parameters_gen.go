// Code generated by ogen, DO NOT EDIT.

package api

import (
	"net/http"

	"github.com/go-faster/errors"
	"github.com/google/uuid"
	"github.com/ogen-go/ogen/conv"
	"github.com/ogen-go/ogen/middleware"
	"github.com/ogen-go/ogen/ogenerrors"
	"github.com/ogen-go/ogen/uri"
	"github.com/ogen-go/ogen/validate"
)

// ComponentHealthCheckParams is parameters of componentHealthCheck operation.
type ComponentHealthCheckParams struct {
	AcceptEncoding OptComponentHealthCheckAcceptEncoding `json:",omitempty,omitzero"`
}

func unpackComponentHealthCheckParams(packed middleware.Parameters) (params ComponentHealthCheckParams) {
	{
		key := middleware.ParameterKey{
			Name: "Accept-Encoding",
			In:   "header",
		}
		if v, ok := packed[key]; ok {
			params.AcceptEncoding = v.(OptComponentHealthCheckAcceptEncoding)
		}
	}
	return params
}

func decodeComponentHealthCheckParams(args [0]string, argsEscaped bool, r *http.Request) (params ComponentHealthCheckParams, _ error) {
	h := uri.NewHeaderDecoder(r.Header)
	// Decode header: Accept-Encoding.
	if err := func() error {
		cfg := uri.HeaderParameterDecodingConfig{
			Name:    "Accept-Encoding",
			Explode: false,
		}
		if err := h.HasParam(cfg); err == nil {
			if err := h.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotAcceptEncodingVal ComponentHealthCheckAcceptEncoding
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotAcceptEncodingVal = ComponentHealthCheckAcceptEncoding(c)
					return nil
				}(); err != nil {
					return err
				}
				params.AcceptEncoding.SetTo(paramsDotAcceptEncodingVal)
				return nil
			}); err != nil {
				return err
			}
			if err := func() error {
				if value, ok := params.AcceptEncoding.Get(); ok {
					if err := func() error {
						if err := value.Validate(); err != nil {
							return err
						}
						return nil
					}(); err != nil {
						return err
					}
				}
				return nil
			}(); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "Accept-Encoding",
			In:   "header",
			Err:  err,
		}
	}
	return params, nil
}

// GetActiveAffixesParams is parameters of getActiveAffixes operation.
type GetActiveAffixesParams struct {
	// Context ID (encounter, area, character).
	ContextID OptUUID `json:",omitempty,omitzero"`
	// Filter by affix type.
	Type OptGetActiveAffixesType `json:",omitempty,omitzero"`
	// Filter by target type.
	Target OptGetActiveAffixesTarget `json:",omitempty,omitzero"`
}

func unpackGetActiveAffixesParams(packed middleware.Parameters) (params GetActiveAffixesParams) {
	{
		key := middleware.ParameterKey{
			Name: "context_id",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.ContextID = v.(OptUUID)
		}
	}
	{
		key := middleware.ParameterKey{
			Name: "type",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.Type = v.(OptGetActiveAffixesType)
		}
	}
	{
		key := middleware.ParameterKey{
			Name: "target",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.Target = v.(OptGetActiveAffixesTarget)
		}
	}
	return params
}

func decodeGetActiveAffixesParams(args [0]string, argsEscaped bool, r *http.Request) (params GetActiveAffixesParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: context_id.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "context_id",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotContextIDVal uuid.UUID
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToUUID(val)
					if err != nil {
						return err
					}

					paramsDotContextIDVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.ContextID.SetTo(paramsDotContextIDVal)
				return nil
			}); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "context_id",
			In:   "query",
			Err:  err,
		}
	}
	// Decode query: type.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "type",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotTypeVal GetActiveAffixesType
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotTypeVal = GetActiveAffixesType(c)
					return nil
				}(); err != nil {
					return err
				}
				params.Type.SetTo(paramsDotTypeVal)
				return nil
			}); err != nil {
				return err
			}
			if err := func() error {
				if value, ok := params.Type.Get(); ok {
					if err := func() error {
						if err := value.Validate(); err != nil {
							return err
						}
						return nil
					}(); err != nil {
						return err
					}
				}
				return nil
			}(); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "type",
			In:   "query",
			Err:  err,
		}
	}
	// Decode query: target.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "target",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotTargetVal GetActiveAffixesTarget
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotTargetVal = GetActiveAffixesTarget(c)
					return nil
				}(); err != nil {
					return err
				}
				params.Target.SetTo(paramsDotTargetVal)
				return nil
			}); err != nil {
				return err
			}
			if err := func() error {
				if value, ok := params.Target.Get(); ok {
					if err := func() error {
						if err := value.Validate(); err != nil {
							return err
						}
						return nil
					}(); err != nil {
						return err
					}
				}
				return nil
			}(); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "target",
			In:   "query",
			Err:  err,
		}
	}
	return params, nil
}

// GetActiveCooperativeChallengesParams is parameters of getActiveCooperativeChallenges operation.
type GetActiveCooperativeChallengesParams struct {
	// Character identifier for availability check.
	CharacterID      uuid.UUID
	ParticipantRange OptGetActiveCooperativeChallengesParticipantRange `json:",omitempty,omitzero"`
}

func unpackGetActiveCooperativeChallengesParams(packed middleware.Parameters) (params GetActiveCooperativeChallengesParams) {
	{
		key := middleware.ParameterKey{
			Name: "character_id",
			In:   "query",
		}
		params.CharacterID = packed[key].(uuid.UUID)
	}
	{
		key := middleware.ParameterKey{
			Name: "participant_range",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.ParticipantRange = v.(OptGetActiveCooperativeChallengesParticipantRange)
		}
	}
	return params
}

func decodeGetActiveCooperativeChallengesParams(args [0]string, argsEscaped bool, r *http.Request) (params GetActiveCooperativeChallengesParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: character_id.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "character_id",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToUUID(val)
				if err != nil {
					return err
				}

				params.CharacterID = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "character_id",
			In:   "query",
			Err:  err,
		}
	}
	// Decode query: participant_range.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "participant_range",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotParticipantRangeVal GetActiveCooperativeChallengesParticipantRange
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotParticipantRangeVal = GetActiveCooperativeChallengesParticipantRange(c)
					return nil
				}(); err != nil {
					return err
				}
				params.ParticipantRange.SetTo(paramsDotParticipantRangeVal)
				return nil
			}); err != nil {
				return err
			}
			if err := func() error {
				if value, ok := params.ParticipantRange.Get(); ok {
					if err := func() error {
						if err := value.Validate(); err != nil {
							return err
						}
						return nil
					}(); err != nil {
						return err
					}
				}
				return nil
			}(); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "participant_range",
			In:   "query",
			Err:  err,
		}
	}
	return params, nil
}

// GetChallengeModesParams is parameters of getChallengeModes operation.
type GetChallengeModesParams struct {
	// Character identifier for availability check.
	CharacterID uuid.UUID
	// Filter by mode type.
	ModeType OptGetChallengeModesModeType `json:",omitempty,omitzero"`
	// Only return modes the character can access.
	UnlockedOnly OptBool `json:",omitempty,omitzero"`
}

func unpackGetChallengeModesParams(packed middleware.Parameters) (params GetChallengeModesParams) {
	{
		key := middleware.ParameterKey{
			Name: "character_id",
			In:   "query",
		}
		params.CharacterID = packed[key].(uuid.UUID)
	}
	{
		key := middleware.ParameterKey{
			Name: "mode_type",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.ModeType = v.(OptGetChallengeModesModeType)
		}
	}
	{
		key := middleware.ParameterKey{
			Name: "unlocked_only",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.UnlockedOnly = v.(OptBool)
		}
	}
	return params
}

func decodeGetChallengeModesParams(args [0]string, argsEscaped bool, r *http.Request) (params GetChallengeModesParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: character_id.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "character_id",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToUUID(val)
				if err != nil {
					return err
				}

				params.CharacterID = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "character_id",
			In:   "query",
			Err:  err,
		}
	}
	// Decode query: mode_type.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "mode_type",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotModeTypeVal GetChallengeModesModeType
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotModeTypeVal = GetChallengeModesModeType(c)
					return nil
				}(); err != nil {
					return err
				}
				params.ModeType.SetTo(paramsDotModeTypeVal)
				return nil
			}); err != nil {
				return err
			}
			if err := func() error {
				if value, ok := params.ModeType.Get(); ok {
					if err := func() error {
						if err := value.Validate(); err != nil {
							return err
						}
						return nil
					}(); err != nil {
						return err
					}
				}
				return nil
			}(); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "mode_type",
			In:   "query",
			Err:  err,
		}
	}
	// Set default value for query: unlocked_only.
	{
		val := bool(true)
		params.UnlockedOnly.SetTo(val)
	}
	// Decode query: unlocked_only.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "unlocked_only",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotUnlockedOnlyVal bool
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToBool(val)
					if err != nil {
						return err
					}

					paramsDotUnlockedOnlyVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.UnlockedOnly.SetTo(paramsDotUnlockedOnlyVal)
				return nil
			}); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "unlocked_only",
			In:   "query",
			Err:  err,
		}
	}
	return params, nil
}

// GetCombatWavesParams is parameters of getCombatWaves operation.
type GetCombatWavesParams struct {
	// Filter by encounter type.
	EncounterType OptGetCombatWavesEncounterType `json:",omitempty,omitzero"`
	// Filter by difficulty level.
	Difficulty OptGetCombatWavesDifficulty `json:",omitempty,omitzero"`
	// Maximum waves to return.
	Limit OptInt `json:",omitempty,omitzero"`
}

func unpackGetCombatWavesParams(packed middleware.Parameters) (params GetCombatWavesParams) {
	{
		key := middleware.ParameterKey{
			Name: "encounter_type",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.EncounterType = v.(OptGetCombatWavesEncounterType)
		}
	}
	{
		key := middleware.ParameterKey{
			Name: "difficulty",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.Difficulty = v.(OptGetCombatWavesDifficulty)
		}
	}
	{
		key := middleware.ParameterKey{
			Name: "limit",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.Limit = v.(OptInt)
		}
	}
	return params
}

func decodeGetCombatWavesParams(args [0]string, argsEscaped bool, r *http.Request) (params GetCombatWavesParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: encounter_type.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "encounter_type",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotEncounterTypeVal GetCombatWavesEncounterType
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotEncounterTypeVal = GetCombatWavesEncounterType(c)
					return nil
				}(); err != nil {
					return err
				}
				params.EncounterType.SetTo(paramsDotEncounterTypeVal)
				return nil
			}); err != nil {
				return err
			}
			if err := func() error {
				if value, ok := params.EncounterType.Get(); ok {
					if err := func() error {
						if err := value.Validate(); err != nil {
							return err
						}
						return nil
					}(); err != nil {
						return err
					}
				}
				return nil
			}(); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "encounter_type",
			In:   "query",
			Err:  err,
		}
	}
	// Decode query: difficulty.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "difficulty",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotDifficultyVal GetCombatWavesDifficulty
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotDifficultyVal = GetCombatWavesDifficulty(c)
					return nil
				}(); err != nil {
					return err
				}
				params.Difficulty.SetTo(paramsDotDifficultyVal)
				return nil
			}); err != nil {
				return err
			}
			if err := func() error {
				if value, ok := params.Difficulty.Get(); ok {
					if err := func() error {
						if err := value.Validate(); err != nil {
							return err
						}
						return nil
					}(); err != nil {
						return err
					}
				}
				return nil
			}(); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "difficulty",
			In:   "query",
			Err:  err,
		}
	}
	// Set default value for query: limit.
	{
		val := int(20)
		params.Limit.SetTo(val)
	}
	// Decode query: limit.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "limit",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotLimitVal int
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToInt(val)
					if err != nil {
						return err
					}

					paramsDotLimitVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.Limit.SetTo(paramsDotLimitVal)
				return nil
			}); err != nil {
				return err
			}
			if err := func() error {
				if value, ok := params.Limit.Get(); ok {
					if err := func() error {
						if err := (validate.Int{
							MinSet:        true,
							Min:           1,
							MaxSet:        true,
							Max:           50,
							MinExclusive:  false,
							MaxExclusive:  false,
							MultipleOfSet: false,
							MultipleOf:    0,
							Pattern:       nil,
						}).Validate(int64(value)); err != nil {
							return errors.Wrap(err, "int")
						}
						return nil
					}(); err != nil {
						return err
					}
				}
				return nil
			}(); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "limit",
			In:   "query",
			Err:  err,
		}
	}
	return params, nil
}

// GetWorldStateParams is parameters of getWorldState operation.
type GetWorldStateParams struct {
	// Include regional state data.
	IncludeRegions OptBool `json:",omitempty,omitzero"`
	// Include active global events.
	IncludeEvents OptBool `json:",omitempty,omitzero"`
	// Filter to specific region.
	RegionFilter OptUUID `json:",omitempty,omitzero"`
}

func unpackGetWorldStateParams(packed middleware.Parameters) (params GetWorldStateParams) {
	{
		key := middleware.ParameterKey{
			Name: "include_regions",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.IncludeRegions = v.(OptBool)
		}
	}
	{
		key := middleware.ParameterKey{
			Name: "include_events",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.IncludeEvents = v.(OptBool)
		}
	}
	{
		key := middleware.ParameterKey{
			Name: "region_filter",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.RegionFilter = v.(OptUUID)
		}
	}
	return params
}

func decodeGetWorldStateParams(args [0]string, argsEscaped bool, r *http.Request) (params GetWorldStateParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Set default value for query: include_regions.
	{
		val := bool(true)
		params.IncludeRegions.SetTo(val)
	}
	// Decode query: include_regions.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "include_regions",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotIncludeRegionsVal bool
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToBool(val)
					if err != nil {
						return err
					}

					paramsDotIncludeRegionsVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.IncludeRegions.SetTo(paramsDotIncludeRegionsVal)
				return nil
			}); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "include_regions",
			In:   "query",
			Err:  err,
		}
	}
	// Set default value for query: include_events.
	{
		val := bool(true)
		params.IncludeEvents.SetTo(val)
	}
	// Decode query: include_events.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "include_events",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotIncludeEventsVal bool
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToBool(val)
					if err != nil {
						return err
					}

					paramsDotIncludeEventsVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.IncludeEvents.SetTo(paramsDotIncludeEventsVal)
				return nil
			}); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "include_events",
			In:   "query",
			Err:  err,
		}
	}
	// Decode query: region_filter.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "region_filter",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotRegionFilterVal uuid.UUID
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToUUID(val)
					if err != nil {
						return err
					}

					paramsDotRegionFilterVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.RegionFilter.SetTo(paramsDotRegionFilterVal)
				return nil
			}); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "region_filter",
			In:   "query",
			Err:  err,
		}
	}
	return params, nil
}
