openapi: 3.0.3
info:
  title: Cyberspace Easter Eggs Service API
  description: 'Enterprise-grade API for managing cyberspace easter eggs discovery
    and progression in Cyberpunk 2077 MMOFPS game.


    ## Features

    - Easter egg discovery tracking with performance optimization for 1000+ concurrent
    discoveries

    - Player progress management with memory-efficient JSONB storage

    - Achievement integration with external achievement system

    - Real-time statistics and analytics for player engagement

    - Hint system with configurable difficulty levels

    - Event-driven architecture for achievement unlocks


    ## Performance Characteristics

    - Context timeouts: 30s for content-heavy requests, 5s for achievement calls

    - Memory optimization: GOGC=75% for content-heavy workloads

    - Connection pooling: 25 database connections

    - Struct alignment: 30-50% memory savings

    '
  version: 1.0.0
  contact:
    name: Backend Team
    email: backend@necpgame.com
servers:
- url: http://cyberspace-easter-eggs-service-go:8080
  description: Production server
- url: http://localhost:8080
  description: Local development
security: []
tags: []
paths:
  /health:
    $ref: ./paths/health.yaml#/paths/~1health
  /api/v1/easter-eggs:
    $ref: ./paths/api-v1-easter-eggs.yaml#/paths/~1api~1v1~1easter-eggs
  /api/v1/easter-eggs/{id}:
    $ref: ./paths/api-v1-easter-eggs-{id}.yaml#/paths/~1api~1v1~1easter-eggs~1{id}
  /api/v1/easter-eggs/category/{category}:
    $ref: ./paths/api-v1-easter-eggs-category-{category}.yaml#/paths/~1api~1v1~1easter-eggs~1category~1{category}
  /api/v1/easter-eggs/difficulty/{difficulty}:
    $ref: ./paths/api-v1-easter-eggs-difficulty-{difficulty}.yaml#/paths/~1api~1v1~1easter-eggs~1difficulty~1{difficulty}
  /api/v1/players/{playerId}/progress:
    $ref: ./paths/api-v1-players-{playerId}-progress.yaml#/paths/~1api~1v1~1players~1{playerId}~1progress
  /api/v1/players/{playerId}/easter-eggs/{eggId}/discover:
    $ref: ./paths/api-v1-players-{playerId}-easter-eggs-{eggId}-discover.yaml#/paths/~1api~1v1~1players~1{playerId}~1easter-eggs~1{eggId}~1discover
  /api/v1/players/{playerId}/profile:
    $ref: ./paths/api-v1-players-{playerId}-profile.yaml#/paths/~1api~1v1~1players~1{playerId}~1profile
  /api/v1/easter-eggs/{id}/hints:
    $ref: ./paths/api-v1-easter-eggs-{id}-hints.yaml#/paths/~1api~1v1~1easter-eggs~1{id}~1hints
  /api/v1/easter-eggs/{id}/attempt:
    $ref: ./paths/api-v1-easter-eggs-{id}-attempt.yaml#/paths/~1api~1v1~1easter-eggs~1{id}~1attempt
  /api/v1/easter-eggs/{id}/stats:
    $ref: ./paths/api-v1-easter-eggs-{id}-stats.yaml#/paths/~1api~1v1~1easter-eggs~1{id}~1stats
  /api/v1/stats/categories:
    $ref: ./paths/api-v1-stats-categories.yaml#/paths/~1api~1v1~1stats~1categories
  /api/v1/challenges/active:
    $ref: ./paths/api-v1-challenges-active.yaml#/paths/~1api~1v1~1challenges~1active
  /api/v1/players/{playerId}/challenges/{challengeId}/progress:
    $ref: ./paths/api-v1-players-{playerId}-challenges-{challengeId}-progress.yaml#/paths/~1api~1v1~1players~1{playerId}~1challenges~1{challengeId}~1progress
components:
  schemas:
    EasterEgg:
      type: object
      properties:
        id:
          type: string
          description: Unique easter egg identifier
        name:
          type: string
          description: Display name
        category:
          type: string
          enum:
          - technology
          - cultural
          - historical
          - humorous
        difficulty:
          type: string
          enum:
          - easy
          - medium
          - hard
          - legendary
        description:
          type: string
        content:
          type: string
          description: Full content/story
        location:
          $ref: '#/components/schemas/EasterEggLocation'
        discovery_method:
          $ref: '#/components/schemas/DiscoveryMethod'
        rewards:
          type: array
          items:
            $ref: '#/components/schemas/EasterEggReward'
        lore_connections:
          type: array
          items:
            type: string
        status:
          type: string
          enum:
          - active
          - disabled
          - maintenance
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    EasterEggLocation:
      type: object
      properties:
        network_type:
          type: string
          description: Type of network (corporate, public, underground, educational)
        specific_areas:
          type: array
          items:
            type: string
          description: Specific areas where egg can be found
        access_level:
          type: string
          enum:
          - public
          - restricted
          - secure
          - fort_knox
    DiscoveryMethod:
      type: object
      properties:
        type:
          type: string
          enum:
          - scanning
          - pattern_following
          - deep_scan
          - puzzle
        description:
          type: string
        requirements:
          type: array
          items:
            type: string
        time_limit:
          type: integer
          description: Time limit in seconds
    EasterEggReward:
      type: object
      properties:
        type:
          type: string
          enum:
          - experience
          - item
          - achievement
          - currency
          - cosmetic
        value:
          type: integer
          description: Numeric value for rewards
        item_name:
          type: string
          description: Display name for items
        rarity:
          type: string
          enum:
          - common
          - rare
          - epic
          - legendary
    PlayerEasterEggProgress:
      type: object
      properties:
        player_id:
          type: string
        easter_egg_id:
          type: string
        status:
          type: string
          enum:
          - undiscovered
          - discovered
          - completed
          - revisited
        discovered_at:
          type: string
          format: date-time
        completed_at:
          type: string
          format: date-time
        rewards_claimed:
          type: array
          items:
            type: string
        hint_level:
          type: integer
          minimum: 0
          maximum: 3
        visit_count:
          type: integer
        last_visited:
          type: string
          format: date-time
    PlayerEasterEggProfile:
      type: object
      properties:
        player_id:
          type: string
        total_discovered:
          type: integer
        total_completed:
          type: integer
        favorite_category:
          type: string
        average_difficulty:
          type: number
        total_hints_used:
          type: integer
        collection_progress:
          type: number
          minimum: 0
          maximum: 100
        achievement_level:
          type: string
          enum:
          - explorer
          - hunter
          - master
          - legend
        last_activity:
          type: string
          format: date-time
    DiscoveryHint:
      type: object
      properties:
        id:
          type: string
        easter_egg_id:
          type: string
        hint_level:
          type: integer
          minimum: 1
          maximum: 3
        hint_text:
          type: string
        hint_type:
          type: string
          enum:
          - direct
          - indirect
          - misleading
        cost:
          type: integer
          minimum: 0
        is_enabled:
          type: boolean
    EasterEggStatistics:
      type: object
      properties:
        easter_egg_id:
          type: string
        total_discoveries:
          type: integer
        unique_players:
          type: integer
        average_discovery_time:
          type: integer
          description: Average time in seconds
        success_rate:
          type: number
          minimum: 0
          maximum: 1
        popular_discovery_method:
          type: string
    EasterEggCategoryStats:
      type: object
      properties:
        category:
          type: string
        total_easter_eggs:
          type: integer
        discovered_count:
          type: integer
        discovery_rate:
          type: number
        average_difficulty:
          type: number
        most_popular_egg:
          type: string
        least_popular_egg:
          type: string
    EasterEggChallenge:
      type: object
      properties:
        id:
          type: string
        title:
          type: string
        description:
          type: string
        easter_eggs:
          type: array
          items:
            type: string
        rewards:
          type: array
          items:
            $ref: '#/components/schemas/EasterEggReward'
        start_time:
          type: string
          format: date-time
        end_time:
          type: string
          format: date-time
        is_active:
          type: boolean
    HealthResponse:
      $ref: ../common/schemas/health.yaml#/HealthResponse
    Error:
      $ref: ../common/schemas/infrastructure-entities.yaml#/ErrorResponse
    PaginationParams:
      $ref: ../common/schemas/pagination.yaml#/PaginationParams
    PaginatedResponse:
      $ref: ../common/schemas/pagination.yaml#/PaginatedResponse
  responses:
    OK:
      $ref: ../common/responses/success.yaml#/OK
    Created:
      $ref: ../common/responses/success.yaml#/Created
    BadRequest:
      $ref: ../common/responses/error.yaml#/BadRequest
    Unauthorized:
      $ref: ../common/responses/error.yaml#/Unauthorized
    Forbidden:
      $ref: ../common/responses/error.yaml#/Forbidden
    NotFound:
      $ref: ../common/responses/error.yaml#/NotFound
    Conflict:
      $ref: ../common/responses/error.yaml#/Conflict
    InternalServerError:
      $ref: ../common/responses/error.yaml#/InternalServerError
    HealthOK:
      $ref: ../common/responses/success.yaml#/HealthOK
    HealthBatchSuccess:
      $ref: ../common/responses/success.yaml#/HealthBatchSuccess
  securitySchemes:
    BearerAuth:
      $ref: ../common/security/security.yaml#/BearerAuth
    ApiKeyAuth:
      $ref: ../common/security/security.yaml#/ApiKeyAuth
    ServiceAuth:
      $ref: ../common/security/security.yaml#/ServiceAuth
