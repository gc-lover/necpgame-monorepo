// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// CancelMarketListing implements cancelMarketListing operation.
	//
	// Отменяет объявление и возвращает предмет в инвентарь.
	//
	// DELETE /economy/market/listings/{listing_id}
	CancelMarketListing(ctx context.Context, params CancelMarketListingParams) (CancelMarketListingRes, error)
	// CreateMarketListing implements createMarketListing operation.
	//
	// Создает новое объявление о продаже предмета на рынке.
	// Проверяет наличие предмета в инвентаре и лимиты на
	// объявления.
	//
	// POST /economy/market/listings
	CreateMarketListing(ctx context.Context, req *CreateListingRequest) (CreateMarketListingRes, error)
	// CreateSellerReview implements createSellerReview operation.
	//
	// Оставляет отзыв о продавце после покупки.
	//
	// POST /economy/market/reviews
	CreateSellerReview(ctx context.Context, req *CreateReviewRequest) (CreateSellerReviewRes, error)
	// GetMarketListingById implements getMarketListingById operation.
	//
	// Возвращает детальную информацию об объявлении по его
	// ID.
	//
	// GET /economy/market/listings/{listing_id}
	GetMarketListingById(ctx context.Context, params GetMarketListingByIdParams) (GetMarketListingByIdRes, error)
	// GetMyMarketListings implements getMyMarketListings operation.
	//
	// Возвращает список объявлений текущего игрока.
	//
	// GET /economy/market/listings/my
	GetMyMarketListings(ctx context.Context, params GetMyMarketListingsParams) (GetMyMarketListingsRes, error)
	// GetPurchaseHistory implements getPurchaseHistory operation.
	//
	// Возвращает историю покупок текущего игрока.
	//
	// GET /economy/market/history/purchases
	GetPurchaseHistory(ctx context.Context, params GetPurchaseHistoryParams) (GetPurchaseHistoryRes, error)
	// GetSalesHistory implements getSalesHistory operation.
	//
	// Возвращает историю продаж текущего игрока.
	//
	// GET /economy/market/history/sales
	GetSalesHistory(ctx context.Context, params GetSalesHistoryParams) (GetSalesHistoryRes, error)
	// GetSellerProfile implements getSellerProfile operation.
	//
	// Возвращает профиль продавца с рейтингом, статистикой
	// и отзывами.
	//
	// GET /economy/market/sellers/{seller_id}
	GetSellerProfile(ctx context.Context, params GetSellerProfileParams) (GetSellerProfileRes, error)
	// PurchaseMarketItem implements purchaseMarketItem operation.
	//
	// Покупает предмет по объявлению. Проверяет баланс,
	// списывает средства,
	// передает предмет покупателю, начисляет средства
	// продавцу (с учетом комиссии).
	//
	// POST /economy/market/purchase
	PurchaseMarketItem(ctx context.Context, req *PurchaseRequest) (PurchaseMarketItemRes, error)
	// SearchMarketListings implements searchMarketListings operation.
	//
	// Возвращает список объявлений с возможностью
	// фильтрации и поиска.
	//
	// GET /economy/market/listings
	SearchMarketListings(ctx context.Context, params SearchMarketListingsParams) (SearchMarketListingsRes, error)
	// UpdateMarketListing implements updateMarketListing operation.
	//
	// Обновляет существующее объявление (цена, описание).
	//
	// PUT /economy/market/listings/{listing_id}
	UpdateMarketListing(ctx context.Context, req *UpdateListingRequest, params UpdateMarketListingParams) (UpdateMarketListingRes, error)
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
