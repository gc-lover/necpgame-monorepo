// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// BuyoutAuction implements buyoutAuction operation.
	//
	// Instantly purchase auction at buyout price.
	// **BACKEND NOTE:** Immediate completion with no bidding period.
	//
	// POST /auctions/{auction_id}/buyout
	BuyoutAuction(ctx context.Context, params BuyoutAuctionParams) (BuyoutAuctionRes, error)
	// CancelAuction implements cancelAuction operation.
	//
	// Cancel auction (seller only, if no bids placed).
	// **BACKEND NOTE:** Only possible before first bid is placed.
	//
	// POST /auctions/{auction_id}/cancel
	CancelAuction(ctx context.Context, params CancelAuctionParams) (CancelAuctionRes, error)
	// CancelTrade implements cancelTrade operation.
	//
	// Cancel an active trade listing (seller only).
	// **BACKEND NOTE:** Safe cancellation with status validation and refund processing.
	//
	// DELETE /trade/{trade_id}
	CancelTrade(ctx context.Context, params CancelTradeParams) (CancelTradeRes, error)
	// CreateAuction implements createAuction operation.
	//
	// Create a new auction listing.
	// **BACKEND NOTE:** Validates item ownership and locks item inventory.
	//
	// POST /auctions
	CreateAuction(ctx context.Context, req *CreateAuctionRequest) (CreateAuctionRes, error)
	// CreateTradeListing implements createTradeListing operation.
	//
	// Create a new trade listing with validation and anti-fraud checks.
	// **BACKEND NOTE:** Transaction-safe trade creation with inventory validation.
	//
	// POST /trade
	CreateTradeListing(ctx context.Context, req *CreateTradeRequest) (CreateTradeListingRes, error)
	// GetActiveTrades implements getActiveTrades operation.
	//
	// Get paginated list of active trade listings with filtering options.
	// **BACKEND NOTE:** Enterprise-grade trade listing with anti-fraud validation. Supports complex
	// filtering for market analysis and player trading.
	//
	// GET /trade
	GetActiveTrades(ctx context.Context, params GetActiveTradesParams) (GetActiveTradesRes, error)
	// GetAuctionDetails implements getAuctionDetails operation.
	//
	// Get detailed information about a specific auction including bid history.
	//
	// GET /auctions/{auction_id}
	GetAuctionDetails(ctx context.Context, params GetAuctionDetailsParams) (GetAuctionDetailsRes, error)
	// GetAuctions implements getAuctions operation.
	//
	// Get paginated list of auctions with filtering and sorting.
	// **BACKEND NOTE:** Hot path - optimized for 1000+ RPS with Redis caching.
	//
	// GET /auctions
	GetAuctions(ctx context.Context, params GetAuctionsParams) (GetAuctionsRes, error)
	// GetMarketOverview implements getMarketOverview operation.
	//
	// Get aggregated market statistics and active trade counts.
	// **BACKEND NOTE:** Hot path - optimized for 2000+ RPS with Redis caching.
	//
	// GET /market/overview
	GetMarketOverview(ctx context.Context) (GetMarketOverviewRes, error)
	// GetMyAuctions implements getMyAuctions operation.
	//
	// Get auctions created by the authenticated user (seller view).
	//
	// GET /auctions/my
	GetMyAuctions(ctx context.Context, params GetMyAuctionsParams) (GetMyAuctionsRes, error)
	// GetMyBids implements getMyBids operation.
	//
	// Get auctions where the authenticated user has placed bids (bidder view).
	//
	// GET /auctions/my-bids
	GetMyBids(ctx context.Context, params GetMyBidsParams) (GetMyBidsRes, error)
	// GetPlayerTransactionHistory implements getPlayerTransactionHistory operation.
	//
	// Get paginated transaction history for a player.
	// **BACKEND NOTE:** Optimized for player dashboard with indexing on player_id.
	//
	// GET /players/{player_id}/transactions
	GetPlayerTransactionHistory(ctx context.Context, params GetPlayerTransactionHistoryParams) (GetPlayerTransactionHistoryRes, error)
	// GetTradeDetails implements getTradeDetails operation.
	//
	// Get detailed information about a specific trade listing.
	//
	// GET /trade/{trade_id}
	GetTradeDetails(ctx context.Context, params GetTradeDetailsParams) (GetTradeDetailsRes, error)
	// HealthCheck implements healthCheck operation.
	//
	// Get service health status with economy-specific metrics.
	//
	// GET /health
	HealthCheck(ctx context.Context) (HealthCheckRes, error)
	// PlaceBid implements placeBid operation.
	//
	// Place a bid on an active auction. Minimum bid increment is 5%.
	// **BACKEND NOTE:** Atomic operation with balance check and bid validation.
	//
	// POST /auctions/{auction_id}/bid
	PlaceBid(ctx context.Context, req *PlaceBidRequest, params PlaceBidParams) (PlaceBidRes, error)
	// ReadinessCheck implements readinessCheck operation.
	//
	// Comprehensive readiness check including database connectivity.
	//
	// GET /readiness
	ReadinessCheck(ctx context.Context) (ReadinessCheckRes, error)
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
