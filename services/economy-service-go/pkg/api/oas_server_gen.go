// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// CancelTrade implements cancelTrade operation.
	//
	// Cancel an active trade listing (seller only).
	// **BACKEND NOTE:** Safe cancellation with status validation and refund processing.
	//
	// DELETE /trade/{trade_id}
	CancelTrade(ctx context.Context, params CancelTradeParams) (CancelTradeRes, error)
	// CreateTradeListing implements createTradeListing operation.
	//
	// Create a new trade listing with validation and anti-fraud checks.
	// **BACKEND NOTE:** Transaction-safe trade creation with inventory validation.
	//
	// POST /trade
	CreateTradeListing(ctx context.Context, req *CreateTradeRequest) (CreateTradeListingRes, error)
	// GetActiveTrades implements getActiveTrades operation.
	//
	// Get paginated list of active trade listings with filtering options.
	// **BACKEND NOTE:** Enterprise-grade trade listing with anti-fraud validation. Supports complex
	// filtering for market analysis and player trading.
	//
	// GET /trade
	GetActiveTrades(ctx context.Context, params GetActiveTradesParams) (GetActiveTradesRes, error)
	// GetMarketOverview implements getMarketOverview operation.
	//
	// Get aggregated market statistics and active trade counts.
	// **BACKEND NOTE:** Hot path - optimized for 2000+ RPS with Redis caching.
	//
	// GET /market/overview
	GetMarketOverview(ctx context.Context) (GetMarketOverviewRes, error)
	// GetPlayerTransactionHistory implements getPlayerTransactionHistory operation.
	//
	// Get paginated transaction history for a player.
	// **BACKEND NOTE:** Optimized for player dashboard with indexing on player_id.
	//
	// GET /players/{player_id}/transactions
	GetPlayerTransactionHistory(ctx context.Context, params GetPlayerTransactionHistoryParams) (GetPlayerTransactionHistoryRes, error)
	// GetTradeDetails implements getTradeDetails operation.
	//
	// Get detailed information about a specific trade listing.
	//
	// GET /trade/{trade_id}
	GetTradeDetails(ctx context.Context, params GetTradeDetailsParams) (GetTradeDetailsRes, error)
	// HealthCheck implements healthCheck operation.
	//
	// Get service health status with economy-specific metrics.
	//
	// GET /health
	HealthCheck(ctx context.Context) (HealthCheckRes, error)
	// ReadinessCheck implements readinessCheck operation.
	//
	// Comprehensive readiness check including database connectivity.
	//
	// GET /readiness
	ReadinessCheck(ctx context.Context) (ReadinessCheckRes, error)
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
