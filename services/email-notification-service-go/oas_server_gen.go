// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// CreateCampaign implements createCampaign operation.
	//
	// **Campaign creation endpoint**
	// Creates scheduled notification campaigns with targeting and analytics.
	// **Performance:** <75ms P95, includes validation and scheduling.
	//
	// POST /campaigns
	CreateCampaign(ctx context.Context, req *CreateCampaignRequest) (CreateCampaignRes, error)
	// EmailNotificationServiceHealthCheck implements emailNotificationServiceHealthCheck operation.
	//
	// **Enterprise-grade health check endpoint**
	// Provides real-time health status of the push notification microservice.
	// Critical for service discovery, load balancing, and monitoring.
	// **Performance:** <1ms response time, cached for 30 seconds.
	//
	// GET /health
	EmailNotificationServiceHealthCheck(ctx context.Context, params EmailNotificationServiceHealthCheckParams) (EmailNotificationServiceHealthCheckRes, error)
	// GetAnalyticsSummary implements getAnalyticsSummary operation.
	//
	// **Analytics endpoint**
	// Provides aggregated analytics for notifications and campaigns.
	// **Performance:** <50ms P95, cached aggregated data.
	//
	// GET /analytics/summary
	GetAnalyticsSummary(ctx context.Context, params GetAnalyticsSummaryParams) (GetAnalyticsSummaryRes, error)
	// GetNotificationStatus implements getNotificationStatus operation.
	//
	// **Notification status endpoint**
	// Retrieves delivery status and analytics for a specific notification.
	// **Performance:** <20ms P95, cached status data.
	//
	// GET /notifications/{notification_id}/status
	GetNotificationStatus(ctx context.Context, params GetNotificationStatusParams) (GetNotificationStatusRes, error)
	// RegisterDevice implements registerDevice operation.
	//
	// **Device registration endpoint**
	// Registers a device token for receiving push notifications. Supports multiple platforms and handles
	// token updates.
	// **Performance:** <50ms P95, includes token validation.
	//
	// POST /subscriptions
	RegisterDevice(ctx context.Context, req *RegisterDeviceRequest) (RegisterDeviceRes, error)
	// SendNotification implements sendNotification operation.
	//
	// **Notification delivery endpoint**
	// Sends push notification to specified users or devices. Supports targeting, scheduling, and
	// delivery guarantees.
	// **Performance:** <100ms P95, includes queueing and delivery.
	//
	// POST /notifications/send
	SendNotification(ctx context.Context, req *SendNotificationRequest) (SendNotificationRes, error)
	// UnregisterDevice implements unregisterDevice operation.
	//
	// **Device unregistration endpoint**
	// Removes device from push notification delivery. Supports soft delete with cleanup scheduling.
	// **Performance:** <15ms P95, includes cleanup operations.
	//
	// DELETE /devices/{device_id}
	UnregisterDevice(ctx context.Context, params UnregisterDeviceParams) (UnregisterDeviceRes, error)
	// UpdateDevice implements updateDevice operation.
	//
	// **Device update endpoint**
	// Updates device token, platform info, or user preferences for the device.
	// **Performance:** <25ms P95, real-time updates.
	//
	// PUT /devices/{device_id}
	UpdateDevice(ctx context.Context, req *UpdateDeviceRequest, params UpdateDeviceParams) (UpdateDeviceRes, error)
	// NewError creates *ErrRespStatusCode from error returned by handler.
	//
	// Used for common default response.
	NewError(ctx context.Context, err error) *ErrRespStatusCode
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
