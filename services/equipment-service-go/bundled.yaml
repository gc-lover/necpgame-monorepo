openapi: 3.0.3
info:
  title: Equipment Service API - Enterprise-Grade Domain Service
  description: '**Enterprise-Grade Equipment Management API for NECPGAME**

    This API manages equipment systems, item generation, and equipment analytics in
    the Night City universe, providing comprehensive equipment workflows, procedural
    generation, and performance optimization.

    ## Key Features

    - **Equipment Catalog**: Comprehensive equipment database with filtering - **Procedural
    Generation**: Dynamic equipment creation with quality control - **Iconic Equipment**:
    Legendary equipment timeline and unlock mechanics - **Equipment Matrix**: Attribute
    calculation and equipment synergies - **Equipment Analytics**: Usage statistics
    and balance monitoring - **Performance Optimized**: MMOFPS-grade performance with
    <30ms P99 latency

    ## Domain Purpose

    The Equipment domain handles all aspects of character equipment in Night City.
    Players equip gear that affects their abilities, appearance, and combat effectiveness.
    Equipment ranges from basic items to legendary cyberware and weapons.

    ## Performance Targets

    - P99 Latency: <30ms for equipment operations - Memory: <25KB per equipment query
    - Concurrent users: 50,000+ simultaneous equipment operations - Generation time:
    <10ms for procedural equipment

    '
  version: 1.0.0
  contact:
    name: NECPGAME API Support
    email: api@necpgame.com
  license:
    name: MIT
servers:
- url: https://api.necpgame.com/v1/equipment
  description: Production server
- url: https://staging-api.necpgame.com/v1/equipment
  description: Staging server
- url: http://localhost:8080/api/v1/equipment
  description: Local development server
tags:
- name: Equipment Catalog
  description: Каталог оборудования
- name: Iconic Equipment
  description: Культовое оборудование
- name: Equipment Matrix
  description: Процедурная матрица снаряжения
- name: Equipment Analytics
  description: Аналитика оборудования
- name: Health Monitoring
  description: System health and performance monitoring
- name: AI Generation
  description: AI-powered equipment generation
- name: AI Training
  description: Equipment AI model training
security:
- BearerAuth: []
paths:
  /health:
    get:
      summary: Equipment Service Health Check
      description: '**Enterprise-grade health check endpoint**

        Provides real-time health status of the equipment service.

        Critical for service discovery, load balancing, and monitoring.

        **Performance:** <1ms response time, cached for 30 seconds

        '
      operationId: equipmentServiceHealthCheck
      tags:
      - Health Monitoring
      parameters:
      - name: Accept-Encoding
        in: header
        schema:
          type: string
          enum:
          - gzip
          - deflate
          - br
      responses:
        '200':
          description: Service is healthy
          headers:
            Cache-Control:
              schema:
                type: string
                example: max-age=30, s-maxage=60
            ETag:
              schema:
                type: string
                example: '"health-v1.0"'
            Content-Encoding:
              schema:
                type: string
                enum:
                - gzip
                - deflate
                - br
          content:
            application/json:
              schema:
                type: object
                required:
                - status
                - timestamp
                properties:
                  status:
                    type: string
                    enum:
                    - healthy
                    - degraded
                    - unhealthy
                    example: healthy
                    maxLength: 255
                  domain:
                    type: string
                    example: service-name
                    maxLength: 255
                  timestamp:
                    type: string
                    format: date-time
                    example: '2025-12-28T10:00:00Z'
                    maxLength: 255
                  version:
                    type: string
                    example: 1.0.0
                    maxLength: 50
                  uptime_seconds:
                    type: integer
                    example: 3600
                    minimum: 0
                  active_connections:
                    type: integer
                    example: 1500
                    minimum: 0
                description: 'BACKEND NOTE: Fields ordered for struct alignment (large
                  → small). Expected memory savings: 30-50%.'
        '503':
          description: Service is unhealthy
          content:
            application/json:
              schema:
                type: object
                required:
                - status
                - timestamp
                properties:
                  status:
                    type: string
                    enum:
                    - healthy
                    - degraded
                    - unhealthy
                    example: healthy
                    maxLength: 255
                  domain:
                    type: string
                    example: service-name
                    maxLength: 255
                  timestamp:
                    type: string
                    format: date-time
                    example: '2025-12-28T10:00:00Z'
                    maxLength: 255
                  version:
                    type: string
                    example: 1.0.0
                    maxLength: 50
                  uptime_seconds:
                    type: integer
                    example: 3600
                    minimum: 0
                  active_connections:
                    type: integer
                    example: 1500
                    minimum: 0
                description: 'BACKEND NOTE: Fields ordered for struct alignment (large
                  → small). Expected memory savings: 30-50%.'
        '429':
          description: Too many requests - rate limit exceeded
          headers:
            Retry-After:
              schema:
                type: integer
                example: 60
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /health/batch:
    post:
      summary: Batch health check for multiple domain services
      description: '**Performance optimization:** Check multiple domain health in
        single request

        Reduces N HTTP calls to 1 call. Critical for microservice orchestration.

        Eliminates network overhead in health monitoring scenarios.

        **Use case:** Service mesh health checks, Kubernetes readiness probes

        '
      operationId: equipmentServiceBatchHealthCheck
      tags:
      - Health Monitoring
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                services:
                  type: array
                  items:
                    type: string
                    enum:
                    - inventory
                    - economy
                    - gameplay
                    - narrative
      responses:
        '200':
          description: Batch health check results
          content:
            application/json:
              schema:
                description: Batch health results retrieved successfully
                headers:
                  Cache-Control:
                    schema:
                      type: string
                      example: no-cache
                  X-Processing-Time:
                    schema:
                      type: integer
                      example: 15
                      description: Processing time in milliseconds
                content:
                  application/json:
                    schema:
                      type: object
                      required:
                      - results
                      - total_time_ms
                      properties:
                        results:
                          type: array
                          items:
                            type: object
                            required:
                            - status
                            - timestamp
                            properties:
                              status:
                                type: string
                                enum:
                                - healthy
                                - degraded
                                - unhealthy
                                example: healthy
                                maxLength: 255
                              domain:
                                type: string
                                example: service-name
                                maxLength: 255
                              timestamp:
                                type: string
                                format: date-time
                                example: '2025-12-28T10:00:00Z'
                                maxLength: 255
                              version:
                                type: string
                                example: 1.0.0
                                maxLength: 50
                              uptime_seconds:
                                type: integer
                                example: 3600
                                minimum: 0
                              active_connections:
                                type: integer
                                example: 1500
                                minimum: 0
                            description: 'BACKEND NOTE: Fields ordered for struct
                              alignment (large → small). Expected memory savings:
                              30-50%.'
                          description: Health status for each requested service
                        total_time_ms:
                          type: integer
                          description: Total processing time in milliseconds
        '207':
          description: Partial success - some services unhealthy
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: object
                    additionalProperties:
                      type: object
                      required:
                      - status
                      - timestamp
                      properties:
                        status:
                          type: string
                          enum:
                          - healthy
                          - degraded
                          - unhealthy
                          example: healthy
                          maxLength: 255
                        domain:
                          type: string
                          example: service-name
                          maxLength: 255
                        timestamp:
                          type: string
                          format: date-time
                          example: '2025-12-28T10:00:00Z'
                          maxLength: 255
                        version:
                          type: string
                          example: 1.0.0
                          maxLength: 50
                        uptime_seconds:
                          type: integer
                          example: 3600
                          minimum: 0
                        active_connections:
                          type: integer
                          example: 1500
                          minimum: 0
                      description: 'BACKEND NOTE: Fields ordered for struct alignment
                        (large → small). Expected memory savings: 30-50%.'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /equipment/catalog:
    get:
      tags:
      - Equipment Catalog
      summary: Получить каталог оборудования
      description: 'Возвращает каталог оборудования с возможностью фильтрации.

        '
      operationId: getEquipmentCatalog
      security:
      - BearerAuth: []
      parameters:
      - name: category
        in: query
        schema:
          type: string
        description: Фильтр по категории
      - name: brand_id
        in: query
        schema:
          type: string
          format: uuid
        description: Фильтр по бренду
      - name: rarity
        in: query
        schema:
          $ref: '#/components/schemas/EquipmentRarity'
        description: Фильтр по редкости
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Offset'
      responses:
        '200':
          description: Каталог оборудования
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/CatalogItem'
                  total:
                    type: integer
        '401':
          description: Authentication required
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /equipment/catalog/{id}:
    get:
      tags:
      - Equipment Catalog
      summary: Получить предмет из каталога
      description: 'Возвращает детальную информацию о предмете из каталога.

        '
      operationId: getCatalogItem
      security:
      - BearerAuth: []
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
        description: Идентификатор предмета
      responses:
        '200':
          description: Информация о предмете
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CatalogItem'
        '401':
          description: Authentication required
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '404':
          description: Resource not found
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /equipment/iconic/timeline:
    get:
      tags:
      - Iconic Equipment
      summary: Получить временную линию культового оборудования
      description: 'Возвращает временную линию культового оборудования по годам (2020-2093).

        '
      operationId: getIconicTimeline
      security:
      - BearerAuth: []
      parameters:
      - name: year
        in: query
        schema:
          type: integer
          minimum: 2020
          maximum: 2093
        description: Фильтр по году
      - name: unlocked_only
        in: query
        schema:
          type: boolean
        description: Только разблокированное оборудование
      - $ref: '#/components/parameters/Limit'
      - $ref: '#/components/parameters/Offset'
      responses:
        '200':
          description: Временная линия культового оборудования
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/IconicItem'
                  total:
                    type: integer
        '401':
          description: Authentication required
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /equipment/iconic/{id}:
    get:
      tags:
      - Iconic Equipment
      summary: Получить культовый предмет
      description: 'Возвращает детальную информацию о культовом предмете.

        '
      operationId: getIconicItem
      security:
      - BearerAuth: []
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
        description: Идентификатор культового предмета
      responses:
        '200':
          description: Информация о культовом предмете
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IconicItem'
        '401':
          description: Authentication required
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '404':
          description: Resource not found
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /equipment/analytics:
    get:
      tags:
      - Equipment Analytics
      summary: Получить аналитику оборудования
      description: 'Возвращает аналитику по использованию оборудования.

        '
      operationId: getEquipmentAnalytics
      security:
      - BearerAuth: []
      parameters:
      - name: period
        in: query
        schema:
          type: string
          enum:
          - day
          - week
          - month
          - year
        description: Период аналитики
      - name: category
        in: query
        schema:
          type: string
        description: Фильтр по категории
      responses:
        '200':
          description: Аналитика оборудования
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EquipmentAnalytics'
        '401':
          description: Authentication required
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /equipment/generate:
    post:
      tags:
      - Equipment Matrix
      summary: Генерация предмета процедурно
      operationId: generateEquipment
      security:
      - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GenerateEquipmentRequest'
      responses:
        '200':
          description: Предмет сгенерирован
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneratedItem'
        '400':
          description: Invalid request parameters
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '401':
          description: Authentication required
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /equipment/matrix:
    get:
      tags:
      - Equipment Matrix
      summary: Получить матрицу характеристик
      operationId: getEquipmentMatrix
      security:
      - BearerAuth: []
      parameters:
      - name: brand_id
        in: query
        schema:
          type: string
          format: uuid
      - name: item_type
        in: query
        schema:
          $ref: '#/components/schemas/EquipmentItemType'
      - name: rarity
        in: query
        schema:
          $ref: '#/components/schemas/EquipmentRarity'
      responses:
        '200':
          description: Матрица характеристик
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EquipmentMatrix'
        '400':
          description: Invalid request parameters
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '401':
          description: Authentication required
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /equipment/brands:
    get:
      tags:
      - Equipment Matrix
      summary: Получить список брендов
      operationId: getEquipmentBrands
      security:
      - BearerAuth: []
      responses:
        '200':
          description: Список брендов
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BrandsListResponse'
        '401':
          description: Authentication required
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /equipment/rarities:
    get:
      tags:
      - Equipment Matrix
      summary: Получить список редкостей
      operationId: getEquipmentRarities
      security:
      - BearerAuth: []
      responses:
        '200':
          description: Список редкостей
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RaritiesListResponse'
        '401':
          description: Authentication required
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /equipment/stat-pools:
    get:
      tags:
      - Equipment Matrix
      summary: Получить пулы характеристик
      operationId: getStatPools
      security:
      - BearerAuth: []
      parameters:
      - name: item_type
        in: query
        schema:
          $ref: '#/components/schemas/EquipmentItemType'
      responses:
        '200':
          description: Список пулов характеристик
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StatPoolsListResponse'
        '400':
          description: Invalid request parameters
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '401':
          description: Authentication required
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /equipment/validate-balance:
    post:
      tags:
      - Equipment Matrix
      summary: Валидация баланса предмета
      operationId: validateEquipmentBalance
      security:
      - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ValidateBalanceRequest'
      responses:
        '200':
          description: Результат валидации баланса
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BalanceValidationResult'
        '400':
          description: Invalid request parameters
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '401':
          description: Authentication required
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
components:
  parameters:
    Limit:
      name: limit
      in: query
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: 50
      description: Number of items to return
    Offset:
      name: offset
      in: query
      schema:
        type: integer
        minimum: 0
        default: 0
      description: Number of items to skip
  responses:
    OK:
      description: Operation completed successfully
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: true
              message:
                type: string
                example: Operation completed
    Created:
      description: Resource created successfully
      headers:
        Location:
          schema:
            type: string
            format: uri
          description: URI of the created resource
      content:
        application/json:
          schema:
            type: object
            properties:
              id:
                type: string
                format: uuid
                description: Unique identifier of created resource
              created_at:
                type: string
                format: date-time
                description: Creation timestamp
    Updated:
      description: Resource updated successfully
      content:
        application/json:
          schema:
            type: object
            properties:
              id:
                type: string
                format: uuid
                description: Unique identifier of updated resource
              updated_at:
                type: string
                format: date-time
                description: Last modification timestamp
    Deleted:
      description: Resource deleted successfully
      content:
        application/json:
          schema:
            type: object
            properties:
              id:
                type: string
                format: uuid
                description: Unique identifier of deleted resource
              deleted_at:
                type: string
                format: date-time
                description: Deletion timestamp
    BadRequest:
      description: Invalid request parameters
      content:
        application/json:
          schema:
            type: object
            required:
            - code
            - message
            properties:
              code:
                type: integer
                example: 500
                format: int32
                minimum: 100
                maximum: 599
              message:
                type: string
                example: Internal server error
                maxLength: 1000
              details:
                type: object
                description: Additional error details
            description: Standard error response format
    Unauthorized:
      description: Authentication required
      content:
        application/json:
          schema:
            type: object
            required:
            - code
            - message
            properties:
              code:
                type: integer
                example: 500
                format: int32
                minimum: 100
                maximum: 599
              message:
                type: string
                example: Internal server error
                maxLength: 1000
              details:
                type: object
                description: Additional error details
            description: Standard error response format
    NotFound:
      description: Resource not found
      content:
        application/json:
          schema:
            type: object
            required:
            - code
            - message
            properties:
              code:
                type: integer
                example: 500
                format: int32
                minimum: 100
                maximum: 599
              message:
                type: string
                example: Internal server error
                maxLength: 1000
              details:
                type: object
                description: Additional error details
            description: Standard error response format
    TooManyRequests:
      description: Too many requests - rate limit exceeded
      content:
        application/json:
          schema:
            allOf:
            - type: object
              required:
              - code
              - message
              properties:
                code:
                  type: integer
                  example: 500
                  format: int32
                  minimum: 100
                  maximum: 599
                message:
                  type: string
                  example: Internal server error
                  maxLength: 1000
                details:
                  type: object
                  description: Additional error details
              description: Standard error response format
            - type: object
              properties:
                retry_after:
                  type: integer
                  example: 60
                  description: Seconds to wait before retrying
  schemas:
    HealthResponse:
      type: object
      required:
      - status
      - timestamp
      properties:
        status:
          type: string
          enum:
          - healthy
          - degraded
          - unhealthy
          example: healthy
          maxLength: 255
        domain:
          type: string
          example: service-name
          maxLength: 255
        timestamp:
          type: string
          format: date-time
          example: '2025-12-28T10:00:00Z'
          maxLength: 255
        version:
          type: string
          example: 1.0.0
          maxLength: 50
        uptime_seconds:
          type: integer
          example: 3600
          minimum: 0
        active_connections:
          type: integer
          example: 1500
          minimum: 0
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small).
        Expected memory savings: 30-50%.'
    Error:
      type: object
      required:
      - code
      - message
      properties:
        code:
          type: integer
          example: 500
          format: int32
          minimum: 100
          maximum: 599
        message:
          type: string
          example: Internal server error
          maxLength: 1000
        details:
          type: object
          description: Additional error details
      description: Standard error response format
    Equipment:
      allOf:
      - allOf:
        - type: object
          required:
          - id
          - created_at
          - updated_at
          properties:
            id:
              type: string
              format: uuid
              description: Unique identifier (UUID v4)
              example: 123e4567-e89b-12d3-a456-426614174000
              maxLength: 36
            created_at:
              type: string
              format: date-time
              description: Creation timestamp (ISO 8601)
              example: '2025-12-28T10:00:00Z'
              maxLength: 30
            updated_at:
              type: string
              format: date-time
              description: Last modification timestamp (ISO 8601)
              example: '2025-12-28T10:30:00Z'
              maxLength: 30
          description: 'BACKEND NOTE: Base entity with ordered fields for struct alignment.
            Memory savings: 30-50%. All domain entities should extend this.'
        - type: object
          required:
          - name
          - type
          - rarity
          properties:
            name:
              type: string
              description: Item display name
              example: Malorian Arms 3516
              maxLength: 100
            type:
              type: string
              enum:
              - weapon
              - armor
              - implant
              - consumable
              - quest_item
              - cosmetic
              description: Item category
              example: weapon
            rarity:
              type: string
              enum:
              - common
              - uncommon
              - rare
              - epic
              - legendary
              - unique
              description: Item rarity tier
              example: epic
            description:
              type: string
              description: Item description/flavor text
              example: A powerful pistol with cyberpunk aesthetics
              maxLength: 500
            icon_url:
              type: string
              format: uri
              description: Item icon image URL
              example: https://cdn.necpgame.com/items/malorian-3516.png
            is_stackable:
              type: boolean
              description: Whether item can stack in inventory
              example: false
            max_stack_size:
              type: integer
              minimum: 1
              description: Maximum stack size if stackable
              example: 99
        description: 'BACKEND NOTE: Base item entity with gaming-specific fields.'
      - type: object
        properties:
          equipment_type:
            type: string
            enum:
            - weapon
            - armor
            - implant
            - cyberware
            - clothing
            - accessory
            description: Specific equipment category
            example: weapon
          level_requirement:
            type: integer
            minimum: 1
            maximum: 50
            description: Required character level
            example: 15
          stats:
            type: object
            properties:
              attack:
                type: integer
                minimum: 0
                description: Attack stat bonus
                example: 45
              defense:
                type: integer
                minimum: 0
                description: Defense stat bonus
                example: 30
              health:
                type: integer
                minimum: 0
                description: Health stat bonus
                example: 100
              stamina:
                type: integer
                minimum: 0
                description: Stamina stat bonus
                example: 25
            description: Equipment stat bonuses
          durability:
            type: object
            properties:
              current:
                type: integer
                minimum: 0
                description: Current durability
                example: 85
              maximum:
                type: integer
                minimum: 1
                description: Maximum durability
                example: 100
            description: Equipment durability status
          equipped_by:
            type: array
            items:
              type: string
              format: uuid
              description: Universally Unique Identifier (UUID v4)
              example: 123e4567-e89b-12d3-a456-426614174000
              maxLength: 36
            description: Character IDs currently equipping this item
            example:
            - 123e4567-e89b-12d3-a456-426614174000
    CatalogItem:
      allOf:
      - type: object
        required:
        - id
        - created_at
        - updated_at
        properties:
          id:
            type: string
            format: uuid
            description: Unique identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          created_at:
            type: string
            format: date-time
            description: Creation timestamp (ISO 8601)
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          updated_at:
            type: string
            format: date-time
            description: Last modification timestamp (ISO 8601)
            example: '2025-12-28T10:30:00Z'
            maxLength: 30
        description: 'BACKEND NOTE: Base entity with ordered fields for struct alignment.
          Memory savings: 30-50%. All domain entities should extend this.'
      - type: object
        properties:
          name:
            type: string
            description: Equipment display name
          category:
            type: string
            enum:
            - weapon
            - armor
            - accessory
            description: Equipment category
          rarity:
            type: string
            enum:
            - common
            - uncommon
            - rare
            - epic
            - legendary
            description: Equipment rarity
          level_requirement:
            type: integer
            minimum: 1
            description: Required character level
          stats:
            type: object
            properties:
              attack:
                type: integer
                minimum: 0
              defense:
                type: integer
                minimum: 0
      description: 'BACKEND NOTE: Equipment catalog item. Struct-aligned for performance.'
    IconicItem:
      allOf:
      - $ref: '#/components/schemas/CatalogItem'
      - type: object
        properties:
          timeline_year:
            type: integer
            minimum: 2000
            maximum: 2100
            description: Year this iconic item was introduced
          lore_description:
            type: string
            description: Historical significance in Night City lore
      description: 'BACKEND NOTE: Iconic equipment with historical significance.'
    EquipmentAnalytics:
      type: object
      properties:
        total_items:
          type: integer
          minimum: 0
        popular_rarities:
          type: object
          additionalProperties:
            type: integer
            minimum: 0
        category_distribution:
          type: object
          additionalProperties:
            type: integer
            minimum: 0
      description: 'BACKEND NOTE: Equipment usage analytics.'
    GenerateEquipmentRequest:
      type: object
      required:
      - category
      - rarity
      - level
      properties:
        category:
          type: string
          enum:
          - weapon
          - armor
          - accessory
        rarity:
          type: string
          enum:
          - common
          - uncommon
          - rare
          - epic
          - legendary
        level:
          type: integer
          minimum: 1
          maximum: 50
        seed:
          type: integer
          description: Random seed for reproducible generation
      description: 'BACKEND NOTE: Request for procedural equipment generation.'
    GeneratedItem:
      allOf:
      - $ref: '#/components/schemas/CatalogItem'
      - type: object
      description: 'BACKEND NOTE: Procedurally generated equipment item.'
    EquipmentMatrix:
      type: object
      properties:
        brand_id:
          type: string
          format: uuid
        matrix_data:
          type: object
          additionalProperties: true
      description: 'BACKEND NOTE: Equipment compatibility matrix.'
    BrandsListResponse:
      type: object
      properties:
        brands:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                format: uuid
              name:
                type: string
              description:
                type: string
      description: 'BACKEND NOTE: List of equipment brands.'
    RaritiesListResponse:
      type: object
      properties:
        rarities:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
              name:
                type: string
              color:
                type: string
              drop_rate:
                type: number
                minimum: 0
                maximum: 1
      description: 'BACKEND NOTE: List of equipment rarities.'
    StatPoolsListResponse:
      type: object
      properties:
        stat_pools:
          type: array
          items:
            type: object
            properties:
              item_type:
                type: string
                enum:
                - weapon
                - armor
                - accessory
              available_stats:
                type: array
                items:
                  type: string
      description: 'BACKEND NOTE: Available stat pools by item type.'
    BalanceValidationResult:
      type: object
      required:
      - is_valid
      - issues
      properties:
        is_valid:
          type: boolean
          description: Whether the equipment balance is valid
        issues:
          type: array
          items:
            type: string
          description: List of balance issues found
        suggestions:
          type: array
          items:
            type: string
          description: Suggestions for fixing balance issues
      description: Equipment rarity levels
    EquipmentItemType:
      type: string
      enum:
      - weapon
      - armor
      - implant
      - cyberware
      - clothing
      - accessory
      description: Equipment item types
    EquipmentRarity:
      type: string
      enum:
      - common
      - uncommon
      - rare
      - epic
      - legendary
      - unique
    ValidateBalanceRequest:
      type: object
      required:
      - character_id
      - equipment_id
      properties:
        character_id:
          type: string
          format: uuid
          description: Character identifier
        equipment_id:
          type: string
          format: uuid
          description: Equipment item identifier
        current_equipment:
          type: array
          items:
            type: string
            format: uuid
          description: Currently equipped items IDs
      description: Request to validate equipment balance
    CharacterEntity:
      allOf:
      - type: object
        required:
        - id
        - created_at
        - updated_at
        properties:
          id:
            type: string
            format: uuid
            description: Unique identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          created_at:
            type: string
            format: date-time
            description: Creation timestamp (ISO 8601)
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          updated_at:
            type: string
            format: date-time
            description: Last modification timestamp (ISO 8601)
            example: '2025-12-28T10:30:00Z'
            maxLength: 30
        description: 'BACKEND NOTE: Base entity with ordered fields for struct alignment.
          Memory savings: 30-50%. All domain entities should extend this.'
      - type: object
        required:
        - name
        - level
        properties:
          name:
            type: string
            description: Character display name
            example: V, the Mercenary
            maxLength: 100
          level:
            type: integer
            minimum: 1
            maximum: 50
            description: Character level
            example: 25
          experience:
            type: integer
            minimum: 0
            description: Current experience points
            example: 125000
          experience_to_next:
            type: integer
            minimum: 0
            description: Experience needed for next level
            example: 150000
      description: 'BACKEND NOTE: Base character entity. Memory-aligned for performance.'
    CharacterStats:
      type: object
      required:
      - health
      - max_health
      - stamina
      - max_stamina
      properties:
        health:
          type: integer
          minimum: 0
          description: Current health points
          example: 850
        max_health:
          type: integer
          minimum: 1
          description: Maximum health points
          example: 1000
        stamina:
          type: integer
          minimum: 0
          description: Current stamina points
          example: 75
        max_stamina:
          type: integer
          minimum: 1
          description: Maximum stamina points
          example: 100
        strength:
          type: integer
          minimum: 0
          maximum: 20
          description: Physical strength attribute
          example: 15
        dexterity:
          type: integer
          minimum: 0
          maximum: 20
          description: Agility and precision
          example: 18
        intelligence:
          type: integer
          minimum: 0
          maximum: 20
          description: Mental acuity and hacking
          example: 12
        cool:
          type: integer
          minimum: 0
          maximum: 20
          description: Composure under pressure
          example: 16
        tech:
          type: integer
          minimum: 0
          maximum: 20
          description: Technical aptitude
          example: 10
      description: 'BACKEND NOTE: Character attributes and vital stats.'
    ItemEntity:
      allOf:
      - type: object
        required:
        - id
        - created_at
        - updated_at
        properties:
          id:
            type: string
            format: uuid
            description: Unique identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          created_at:
            type: string
            format: date-time
            description: Creation timestamp (ISO 8601)
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          updated_at:
            type: string
            format: date-time
            description: Last modification timestamp (ISO 8601)
            example: '2025-12-28T10:30:00Z'
            maxLength: 30
        description: 'BACKEND NOTE: Base entity with ordered fields for struct alignment.
          Memory savings: 30-50%. All domain entities should extend this.'
      - type: object
        required:
        - name
        - type
        - rarity
        properties:
          name:
            type: string
            description: Item display name
            example: Malorian Arms 3516
            maxLength: 100
          type:
            type: string
            enum:
            - weapon
            - armor
            - implant
            - consumable
            - quest_item
            - cosmetic
            description: Item category
            example: weapon
          rarity:
            type: string
            enum:
            - common
            - uncommon
            - rare
            - epic
            - legendary
            - unique
            description: Item rarity tier
            example: epic
          description:
            type: string
            description: Item description/flavor text
            example: A powerful pistol with cyberpunk aesthetics
            maxLength: 500
          icon_url:
            type: string
            format: uri
            description: Item icon image URL
            example: https://cdn.necpgame.com/items/malorian-3516.png
          is_stackable:
            type: boolean
            description: Whether item can stack in inventory
            example: false
          max_stack_size:
            type: integer
            minimum: 1
            description: Maximum stack size if stackable
            example: 99
      description: 'BACKEND NOTE: Base item entity with gaming-specific fields.'
    WeaponEntity:
      allOf:
      - $ref: '#/components/schemas/ItemEntity'
      - type: object
        required:
        - damage
        - fire_rate
        - ammo_type
        properties:
          damage:
            type: integer
            minimum: 1
            description: Base damage per shot
            example: 45
          damage_type:
            type: string
            enum:
            - physical
            - thermal
            - electrical
            - chemical
            - cyber
            description: Type of damage dealt
            example: physical
          fire_rate:
            type: number
            minimum: 0.1
            description: Shots per second
            example: 8.5
          ammo_type:
            type: string
            description: Required ammunition type
            example: 9mm
            maxLength: 50
          magazine_size:
            type: integer
            minimum: 1
            description: Rounds per magazine
            example: 12
          range:
            type: integer
            minimum: 1
            description: Effective range in meters
            example: 25
      description: 'BACKEND NOTE: Weapon-specific item properties.'
    CombatSessionEntity:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/BaseEntity'
        - type: object
          required:
          - version
          properties:
            version:
              type: integer
              minimum: 1
              description: Optimistic locking version
              example: 1
        description: 'BACKEND NOTE: Extends BaseEntity with version control. Use for
          concurrent-safe updates.'
      - type: object
        required:
        - participants
        - status
        - start_time
        properties:
          participants:
            type: array
            items:
              $ref: '#/components/schemas/CharacterEntity'
            minItems: 2
            maxItems: 10
            description: Characters involved in combat
          status:
            type: string
            enum:
            - active
            - paused
            - completed
            - aborted
            description: Current combat state
            example: active
          start_time:
            type: string
            format: date-time
            description: ISO 8601 timestamp
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          end_time:
            type: string
            format: date-time
            description: ISO 8601 timestamp
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          current_turn:
            type: integer
            minimum: 0
            description: Current turn number in combat
            example: 1
          turn_order:
            type: array
            items:
              type: string
              format: uuid
              description: Universally Unique Identifier (UUID v4)
              example: 123e4567-e89b-12d3-a456-426614174000
              maxLength: 36
            description: Order of turns by character ID
          environment_effects:
            type: array
            items:
              type: string
            description: Active environmental effects
            example:
            - heavy_rain
            - urban_cover
      description: 'BACKEND NOTE: Combat session with optimistic locking.'
    CombatEffectEntity:
      allOf:
      - type: object
        required:
        - id
        - created_at
        - updated_at
        properties:
          id:
            type: string
            format: uuid
            description: Unique identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          created_at:
            type: string
            format: date-time
            description: Creation timestamp (ISO 8601)
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          updated_at:
            type: string
            format: date-time
            description: Last modification timestamp (ISO 8601)
            example: '2025-12-28T10:30:00Z'
            maxLength: 30
        description: 'BACKEND NOTE: Base entity with ordered fields for struct alignment.
          Memory savings: 30-50%. All domain entities should extend this.'
      - type: object
        required:
        - target_id
        - effect_type
        - duration
        properties:
          target_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          effect_type:
            type: string
            enum:
            - buff
            - debuff
            - dot
            - hot
            - stun
            - slow
            description: Type of combat effect
            example: buff
          name:
            type: string
            description: Effect display name
            example: Adrenaline Rush
            maxLength: 50
          description:
            type: string
            description: Effect description
            example: +50% movement speed for 30 seconds
            maxLength: 200
          duration:
            type: integer
            minimum: 1
            description: Effect duration in seconds
            example: 30
          remaining_duration:
            type: integer
            minimum: 0
            description: Time remaining in seconds
            example: 15
          magnitude:
            type: number
            description: Effect strength/intensity
            example: 0.5
          stacks:
            type: integer
            minimum: 1
            maximum: 10
            description: Number of effect stacks
            example: 1
          source_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
      description: 'BACKEND NOTE: Combat effects and status conditions.'
    QuestEntity:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/BaseEntity'
        - type: object
          properties:
            created_by:
              type: string
              format: uuid
              description: ID of user who created the entity
              example: 123e4567-e89b-12d3-a456-426614174001
              maxLength: 36
            updated_by:
              type: string
              format: uuid
              description: ID of user who last modified the entity
              example: 123e4567-e89b-12d3-a456-426614174002
              maxLength: 36
        description: 'BACKEND NOTE: Extends BaseEntity with audit trail. Use for admin-managed
          entities.'
      - type: object
        required:
        - title
        - description
        - type
        - status
        properties:
          title:
            type: string
            description: Quest display title
            example: Phantom Liberty
            maxLength: 100
          description:
            type: string
            description: Quest description
            example: Investigate the mysterious data fragment
            maxLength: 1000
          type:
            type: string
            enum:
            - main_story
            - side_quest
            - gig
            - romance
            - faction
            - cyberpsycho
            description: Quest category
            example: main_story
          status:
            type: string
            enum:
            - available
            - active
            - completed
            - failed
            - expired
            description: Quest availability status
            example: active
          level_requirement:
            type: integer
            minimum: 1
            maximum: 50
            description: Minimum character level required
            example: 20
          rewards:
            type: array
            items:
              type: object
              properties:
                type:
                  type: string
                  enum:
                  - experience
                  - money
                  - item
                  - reputation
                amount:
                  type: integer
                  minimum: 1
                item_id:
                  type: string
                  format: uuid
                  description: Universally Unique Identifier (UUID v4)
                  example: 123e4567-e89b-12d3-a456-426614174000
                  maxLength: 36
            description: Quest completion rewards
          objectives:
            type: array
            items:
              type: object
              required:
              - description
              - completed
              properties:
                description:
                  type: string
                  maxLength: 200
                completed:
                  type: boolean
                progress:
                  type: integer
                  minimum: 0
                target:
                  type: integer
                  minimum: 1
            description: Quest objectives and progress
      description: 'BACKEND NOTE: Quest definition with progress tracking.'
    CombatActionEntity:
      allOf:
      - type: object
        required:
        - id
        - created_at
        - updated_at
        properties:
          id:
            type: string
            format: uuid
            description: Unique identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          created_at:
            type: string
            format: date-time
            description: Creation timestamp (ISO 8601)
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          updated_at:
            type: string
            format: date-time
            description: Last modification timestamp (ISO 8601)
            example: '2025-12-28T10:30:00Z'
            maxLength: 30
        description: 'BACKEND NOTE: Base entity with ordered fields for struct alignment.
          Memory savings: 30-50%. All domain entities should extend this.'
      - type: object
        required:
        - session_id
        - action_type
        - source_id
        properties:
          session_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          action_type:
            type: string
            enum:
            - attack
            - defend
            - ability
            - item
            - move
            description: Type of combat action
            example: attack
          source_id:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          target_ids:
            type: array
            items:
              type: string
              format: uuid
              description: Universally Unique Identifier (UUID v4)
              example: 123e4567-e89b-12d3-a456-426614174000
              maxLength: 36
            description: Targets of the action
          damage_dealt:
            type: integer
            minimum: 0
            description: Damage dealt by this action
            example: 145
          effects_applied:
            type: array
            items:
              type: string
              enum:
              - stun
              - poison
              - burn
              - bleed
              - slow
            description: Status effects applied
          turn_number:
            type: integer
            minimum: 1
            description: Combat turn when action occurred
            example: 3
      description: 'BACKEND NOTE: Combat actions with damage and effects tracking.'
    AbilityEntity:
      allOf:
      - type: object
        required:
        - id
        - created_at
        - updated_at
        properties:
          id:
            type: string
            format: uuid
            description: Unique identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          created_at:
            type: string
            format: date-time
            description: Creation timestamp (ISO 8601)
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          updated_at:
            type: string
            format: date-time
            description: Last modification timestamp (ISO 8601)
            example: '2025-12-28T10:30:00Z'
            maxLength: 30
        description: 'BACKEND NOTE: Base entity with ordered fields for struct alignment.
          Memory savings: 30-50%. All domain entities should extend this.'
      - type: object
        required:
        - name
        - type
        - cooldown
        properties:
          name:
            type: string
            description: Ability display name
            example: Sandevistan Overdrive
            maxLength: 100
          description:
            type: string
            description: Ability description
            example: Temporarily increases movement speed by 300%
            maxLength: 500
          type:
            type: string
            enum:
            - offensive
            - defensive
            - utility
            - movement
            - hacking
            description: Ability category
            example: movement
          cooldown:
            type: integer
            minimum: 0
            description: Cooldown in seconds
            example: 30
          mana_cost:
            type: integer
            minimum: 0
            description: Resource cost to use
            example: 25
          range:
            type: integer
            minimum: 0
            description: Ability range in meters
            example: 10
          damage:
            type: integer
            minimum: 0
            description: Base damage if applicable
            example: 0
          healing:
            type: integer
            minimum: 0
            description: Healing amount if applicable
            example: 50
          effects:
            type: array
            items:
              type: string
            description: Effects applied by ability
            example:
            - speed_boost
            - damage_reduction
          level_requirement:
            type: integer
            minimum: 1
            maximum: 50
            description: Required character level
            example: 15
          icon_url:
            type: string
            format: uri
            description: Ability icon URL
      description: 'BACKEND NOTE: Character abilities and special moves.'
    LocationEntity:
      allOf:
      - type: object
        required:
        - id
        - created_at
        - updated_at
        properties:
          id:
            type: string
            format: uuid
            description: Unique identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          created_at:
            type: string
            format: date-time
            description: Creation timestamp (ISO 8601)
            example: '2025-12-28T10:00:00Z'
            maxLength: 30
          updated_at:
            type: string
            format: date-time
            description: Last modification timestamp (ISO 8601)
            example: '2025-12-28T10:30:00Z'
            maxLength: 30
        description: 'BACKEND NOTE: Base entity with ordered fields for struct alignment.
          Memory savings: 30-50%. All domain entities should extend this.'
      - type: object
        required:
        - name
        - coordinates
        - type
        properties:
          name:
            type: string
            description: Location display name
            example: Container Plaza
            maxLength: 100
          coordinates:
            type: object
            required:
            - x
            - y
            - z
            properties:
              x:
                type: number
                description: X coordinate
                example: 1234.56
              y:
                type: number
                description: Y coordinate
                example: 7890.12
              z:
                type: number
                description: Z coordinate (height)
                example: 15.5
            description: 3D world coordinates
          type:
            type: string
            enum:
            - district
            - building
            - landmark
            - fast_travel
            - quest_location
            - vendor
            description: Location category
            example: district
          faction_control:
            type: string
            format: uuid
            description: Universally Unique Identifier (UUID v4)
            example: 123e4567-e89b-12d3-a456-426614174000
            maxLength: 36
          security_level:
            type: string
            enum:
            - safe
            - moderate
            - dangerous
            - deadly
            description: Location danger level
            example: moderate
          is_discovered:
            type: boolean
            description: Whether player has discovered this location
            example: true
      description: 'BACKEND NOTE: Game world locations and points of interest.'
    BaseEntity:
      type: object
      required:
      - id
      - created_at
      - updated_at
      properties:
        id:
          type: string
          format: uuid
          description: Unique identifier (UUID v4)
          example: 123e4567-e89b-12d3-a456-426614174000
          maxLength: 36
        created_at:
          type: string
          format: date-time
          description: Creation timestamp (ISO 8601)
          example: '2025-12-28T10:00:00Z'
          maxLength: 30
        updated_at:
          type: string
          format: date-time
          description: Last modification timestamp (ISO 8601)
          example: '2025-12-28T10:30:00Z'
          maxLength: 30
      description: 'BACKEND NOTE: Base entity with ordered fields for struct alignment.
        Memory savings: 30-50%. All domain entities should extend this.'
    AuditableEntity:
      allOf:
      - $ref: '#/components/schemas/BaseEntity'
      - type: object
        properties:
          created_by:
            type: string
            format: uuid
            description: ID of user who created the entity
            example: 123e4567-e89b-12d3-a456-426614174001
            maxLength: 36
          updated_by:
            type: string
            format: uuid
            description: ID of user who last modified the entity
            example: 123e4567-e89b-12d3-a456-426614174002
            maxLength: 36
      description: 'BACKEND NOTE: Extends BaseEntity with audit trail. Use for admin-managed
        entities.'
    VersionedEntity:
      allOf:
      - $ref: '#/components/schemas/BaseEntity'
      - type: object
        required:
        - version
        properties:
          version:
            type: integer
            minimum: 1
            description: Optimistic locking version
            example: 1
      description: 'BACKEND NOTE: Extends BaseEntity with version control. Use for
        concurrent-safe updates.'
    SoftDeletableEntity:
      allOf:
      - $ref: '#/components/schemas/BaseEntity'
      - type: object
        properties:
          deleted_at:
            type: string
            format: date-time
            nullable: true
            description: Soft deletion timestamp (null if not deleted)
            example: null
            maxLength: 30
      description: 'BACKEND NOTE: Extends BaseEntity with soft delete capability.
        Use for recoverable deletions.'
    UpdateRequest:
      type: object
      required:
      - id
      description: Base schema for update operations with optimistic locking support.
      properties:
        id:
          $ref: '#/components/schemas/UUID'
        version:
          type: integer
          minimum: 1
          description: Current entity version for optimistic locking
        metadata:
          type: object
          properties:
            updated_by:
              $ref: '#/components/schemas/UUID'
            reason:
              type: string
              maxLength: 200
              description: Update reason for audit trail
    PaginationParams:
      type: object
      properties:
        limit:
          type: integer
          minimum: 1
          maximum: 100
          default: 20
          example: 20
        offset:
          type: integer
          minimum: 0
          default: 0
          example: 0
    PaginatedResponse:
      type: object
      required:
      - items
      - total
      - limit
      - offset
      properties:
        items:
          type: array
          description: Array of items
        total:
          type: integer
          minimum: 0
          example: 100
          description: Total number of items
        limit:
          type: integer
          minimum: 1
          maximum: 100
          example: 20
          description: Items per page
        offset:
          type: integer
          minimum: 0
          example: 0
          description: Number of items to skip
    UUID:
      type: string
      format: uuid
      description: Universally Unique Identifier (UUID v4)
      example: 123e4567-e89b-12d3-a456-426614174000
      maxLength: 36
    Email:
      type: string
      format: email
      description: Email address
      example: user@necpgame.com
      maxLength: 255
    Timestamp:
      type: string
      format: date-time
      description: ISO 8601 timestamp
      example: '2025-12-28T10:00:00Z'
      maxLength: 30
    Version:
      type: string
      pattern: ^\d+\.\d+\.\d+$
      description: Semantic version (MAJOR.MINOR.PATCH)
      example: 1.0.0
      maxLength: 20
    ValidationResult:
      type: object
      required:
      - valid
      properties:
        valid:
          type: boolean
          description: Whether validation passed
          example: true
        errors:
          type: array
          items:
            type: string
          description: Validation error messages
          example:
          - Field is required
          - Invalid format
        warnings:
          type: array
          items:
            type: string
          description: Validation warnings
          example:
          - Deprecated field usage
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT Bearer token authentication
    ApiKeyAuth:
      type: apiKey
      in: header
      name: X-API-Key
      description: API Key authentication
    ServiceAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: Service-to-service authentication token
