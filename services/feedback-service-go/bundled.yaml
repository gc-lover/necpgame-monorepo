openapi: 3.0.3
info:
  title: Player Feedback Service API
  description: '**Enterprise-grade API for Player Feedback System**


    Complete player feedback management system for NECPGAME MMOFPS RPG. Handles player
    submissions,

    GitHub integration, voting system, moderation, and public ideas board with enterprise-grade

    performance optimizations.


    ## Key Features


    - **Player Submissions**: In-game feedback form with automatic GitHub Issue creation

    - **Voting System**: Real-time voting for public suggestions

    - **Moderation**: Automated and manual content moderation

    - **GitHub Integration**: Automatic Issue creation and status synchronization

    - **Ideas Board**: Public board for community-driven feature requests

    - **Performance Optimized**: MMOFPS-grade performance with <20ms P99 latency


    ## Domain Purpose


    Manages all player feedback, suggestions, bug reports, and feature requests with
    seamless

    GitHub integration for agent-based processing and community engagement through
    voting.


    ## Performance Targets


    - P99 Latency: <20ms for all endpoints

    - Memory per Instance: <30KB baseline

    - Concurrent Users: 10,000+ supported

    - Rate Limiting: 5 submissions/hour per player, 10 votes/minute

    - Uptime: 99.9% SLA


    ## Domain Inheritance


    This service inherits from infrastructure-entities.yaml and social-entities.yaml
    providing:

    - Consistent base entity structure (id, timestamps, version)

    - Domain-specific business entities

    - Optimistic locking for concurrent operations

    - Strict typing with validation rules

    '
  version: 1.0.0
  contact:
    name: NECPGAME API Team
    email: api@necpgame.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
servers:
- url: https://api.necpgame.com/v1/feedback
  description: Production environment
- url: https://staging-api.necpgame.com/v1/feedback
  description: Staging environment
- url: http://localhost:8080/api/v1/feedback
  description: Local development
security:
- BearerAuth: []
tags:
- name: Feedback Submissions
  description: Core feedback submission and management
- name: Voting
  description: Voting system for public suggestions
- name: Ideas Board
  description: Public ideas board and community features
- name: Statistics
  description: Feedback statistics and analytics
- name: Health Monitoring
  description: Service health and performance monitoring
paths:
  /health:
    $ref: ./paths/health.yaml#/paths/~1health
  /submit:
    $ref: ./paths/submit.yaml#/paths/~1submit
  /{id}:
    $ref: ./paths/{id}.yaml#/paths/~1{id}
  /player/{player_id}:
    $ref: ./paths/player-{player_id}.yaml#/paths/~1player~1{player_id}
  /{id}/update-status:
    $ref: ./paths/{id}-update-status.yaml#/paths/~1{id}~1update-status
  /board:
    $ref: ./paths/board.yaml#/paths/~1board
  /{id}/vote:
    $ref: ./paths/{id}-vote.yaml#/paths/~1{id}~1vote
  /stats:
    $ref: ./paths/stats.yaml#/paths/~1stats
components:
  schemas:
    FeedbackType:
      type: string
      enum:
      - feature_request
      - bug_report
      - wishlist
      - feedback
      description: Type of feedback submission
      example: feature_request
    FeedbackCategory:
      type: string
      enum:
      - gameplay
      - balance
      - content
      - technical
      - lore
      - ui
      - other
      description: Category of feedback submission
      example: gameplay
    FeedbackStatus:
      type: string
      enum:
      - pending_moderation
      - pending
      - in_review
      - assigned
      - in_progress
      - resolved
      - rejected
      - duplicate
      - merged
      description: Status of feedback submission
      example: pending
    FeedbackPriority:
      type: string
      enum:
      - low
      - medium
      - high
      - critical
      description: Priority level of feedback submission
      example: medium
    GameContext:
      type: object
      description: Game context information captured at submission time
      properties:
        version:
          type: string
          minLength: 1
          maxLength: 50
          description: Game version
          example: 1.2.3
        location:
          type: string
          maxLength: 200
          description: Player location in game
          example: Night City, Downtown
        character_level:
          type: integer
          minimum: 1
          maximum: 100
          description: Character level
          example: 45
        active_quests:
          type: array
          items:
            type: string
            format: uuid
          maxItems: 10
          description: List of active quest IDs
          example:
          - quest_123
          - quest_456
        playtime_hours:
          type: integer
          minimum: 0
          description: Total playtime in hours
          example: 120
    SubmitFeedbackRequest:
      type: object
      required:
      - type
      - category
      - title
      - description
      properties:
        type:
          $ref: '#/components/schemas/FeedbackType'
        category:
          $ref: '#/components/schemas/FeedbackCategory'
        title:
          type: string
          minLength: 1
          maxLength: 100
          description: Feedback title
          example: Add new weapon customization system
        description:
          type: string
          minLength: 1
          maxLength: 2000
          description: Detailed feedback description
          example: I would like to see more weapon customization options...
        priority:
          $ref: '#/components/schemas/FeedbackPriority'
        screenshots:
          type: array
          items:
            type: string
            format: uri
          maxItems: 3
          description: Array of screenshot URLs
          example: []
        game_context:
          $ref: '#/components/schemas/GameContext'
    Feedback:
      allOf:
      - $ref: ../common/schemas/infrastructure-entities.yaml#/components/schemas/InfrastructureEntity
      - type: object
        required:
        - player_id
        - type
        - category
        - title
        - description
        - status
        - votes_count
        properties:
          player_id:
            type: string
            format: uuid
            description: Player who submitted feedback
            example: a1b2c3d4-e5f6-7890-abcd-ef1234567890
          title:
            type: string
            minLength: 1
            maxLength: 100
            description: Feedback title
            example: Add new weapon customization system
          description:
            type: string
            minLength: 1
            maxLength: 2000
            description: Detailed feedback description
            example: I would like to see more weapon customization options...
          github_issue_url:
            type: string
            format: uri
            description: GitHub Issue URL
            example: https://github.com/gc-lover/necpgame-monorepo/issues/1335
          screenshots:
            type: array
            items:
              type: string
              format: uri
            maxItems: 3
            description: Array of screenshot URLs
            example: []
          game_context:
            $ref: '#/components/schemas/GameContext'
          merged_into:
            type: string
            format: uuid
            description: ID of feedback this was merged into
            example: null
          moderation_reason:
            type: string
            maxLength: 500
            description: Reason for moderation action
            example: null
          github_issue_number:
            type: integer
            format: int64
            minimum: 1
            description: GitHub Issue number
            example: 1335
          type:
            $ref: '#/components/schemas/FeedbackType'
          category:
            $ref: '#/components/schemas/FeedbackCategory'
          status:
            $ref: '#/components/schemas/FeedbackStatus'
          priority:
            $ref: '#/components/schemas/FeedbackPriority'
          moderation_status:
            type: string
            enum:
            - pending
            - approved
            - rejected
            description: Moderation status
            example: approved
          votes_count:
            type: integer
            format: int32
            minimum: 0
            description: Number of votes
            example: 42
    FeedbackSubmissionResponse:
      type: object
      required:
      - success
      - message
      - id
      - github_issue_number
      - github_issue_url
      - status
      properties:
        success:
          type: boolean
          example: true
        message:
          type: string
          example: Feedback submitted successfully
        id:
          type: string
          format: uuid
          description: Feedback submission ID
          example: f47ac10b-58cc-4372-a567-0e02b2c3d479
        github_issue_number:
          type: integer
          format: int64
          description: Created GitHub Issue number
          example: 1335
        github_issue_url:
          type: string
          format: uri
          description: GitHub Issue URL
          example: https://github.com/gc-lover/necpgame-monorepo/issues/1335
        status:
          $ref: '#/components/schemas/FeedbackStatus'
    FeedbackResponse:
      type: object
      required:
      - success
      - data
      properties:
        success:
          type: boolean
          example: true
        data:
          $ref: '#/components/schemas/Feedback'
    PlayerFeedbackListResponse:
      type: object
      required:
      - success
      - data
      - pagination
      properties:
        success:
          type: boolean
          example: true
        data:
          type: array
          items:
            $ref: '#/components/schemas/Feedback'
        pagination:
          $ref: ../common/schemas/pagination.yaml#/components/schemas/PaginationResponse
    UpdateStatusRequest:
      type: object
      required:
      - status
      - version
      properties:
        status:
          $ref: '#/components/schemas/FeedbackStatus'
        comment:
          type: string
          maxLength: 500
          description: Optional comment about status change
          example: Assigned to backend team for implementation
        version:
          type: integer
          minimum: 1
          description: Current version for optimistic locking
          example: 1
    IdeasBoardResponse:
      type: object
      required:
      - success
      - data
      - pagination
      properties:
        success:
          type: boolean
          example: true
        data:
          type: array
          items:
            $ref: '#/components/schemas/Feedback'
        pagination:
          $ref: ../common/schemas/pagination.yaml#/components/schemas/PaginationResponse
    VoteResponse:
      type: object
      required:
      - success
      - votes_count
      properties:
        success:
          type: boolean
          example: true
        votes_count:
          type: integer
          format: int32
          minimum: 0
          description: Updated vote count
          example: 43
        message:
          type: string
          example: Vote added successfully
    FeedbackStatsResponse:
      type: object
      required:
      - success
      - data
      properties:
        success:
          type: boolean
          example: true
        data:
          type: object
          required:
          - total_submissions
          - by_type
          - by_category
          - by_status
          - top_voted
          properties:
            total_submissions:
              type: integer
              format: int64
              minimum: 0
              description: Total number of submissions
              example: 1250
            by_type:
              type: object
              additionalProperties:
                type: integer
                format: int64
              description: Count by feedback type
              example:
                feature_request: 800
                bug_report: 300
                wishlist: 100
                feedback: 50
            by_category:
              type: object
              additionalProperties:
                type: integer
                format: int64
              description: Count by category
              example:
                gameplay: 500
                balance: 300
                content: 250
                technical: 100
                lore: 50
                ui: 30
                other: 20
            by_status:
              type: object
              additionalProperties:
                type: integer
                format: int64
              description: Count by status
              example:
                pending: 200
                in_review: 150
                in_progress: 100
                resolved: 700
                rejected: 50
                duplicate: 50
            top_voted:
              type: array
              items:
                type: object
                required:
                - id
                - title
                - votes_count
                properties:
                  id:
                    type: string
                    format: uuid
                  title:
                    type: string
                  votes_count:
                    type: integer
                    format: int32
              maxItems: 10
              description: Top 10 most voted submissions
              example: []
  responses: {}
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: '**JWT Bearer Authentication**


        Use JWT tokens obtained from `/auth/login` or `/auth/refresh`.


        **Token Format:** `Authorization: Bearer <jwt_token>`


        **Token Expiration:** 15 minutes for access tokens, 7 days for refresh tokens


        **Security Features:**

        - RS256 signature verification

        - Token blacklisting on logout

        - Rate limiting per user

        - Geographic restrictions (optional)

        '
