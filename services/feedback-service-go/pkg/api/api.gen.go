// Package api provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.5.1 DO NOT EDIT.
package api

import (
	"context"
	"fmt"
	"net/http"
	"time"

	"github.com/gorilla/mux"
	"github.com/oapi-codegen/runtime"
	openapi_types "github.com/oapi-codegen/runtime/types"
)

const (
	BearerAuthScopes = "BearerAuth.Scopes"
)

// Defines values for FeedbackCategory.
const (
	FeedbackCategoryBalance   FeedbackCategory = "balance"
	FeedbackCategoryContent   FeedbackCategory = "content"
	FeedbackCategoryGameplay  FeedbackCategory = "gameplay"
	FeedbackCategoryLore      FeedbackCategory = "lore"
	FeedbackCategoryOther     FeedbackCategory = "other"
	FeedbackCategoryTechnical FeedbackCategory = "technical"
	FeedbackCategoryUiUx      FeedbackCategory = "ui_ux"
)

// Defines values for FeedbackModerationStatus.
const (
	FeedbackModerationStatusApproved FeedbackModerationStatus = "approved"
	FeedbackModerationStatusPending  FeedbackModerationStatus = "pending"
	FeedbackModerationStatusRejected FeedbackModerationStatus = "rejected"
)

// Defines values for FeedbackPriority.
const (
	FeedbackPriorityCritical FeedbackPriority = "critical"
	FeedbackPriorityHigh     FeedbackPriority = "high"
	FeedbackPriorityLow      FeedbackPriority = "low"
	FeedbackPriorityMedium   FeedbackPriority = "medium"
)

// Defines values for FeedbackStatus.
const (
	FeedbackStatusApproved FeedbackStatus = "approved"
	FeedbackStatusClosed   FeedbackStatus = "closed"
	FeedbackStatusInReview FeedbackStatus = "in_review"
	FeedbackStatusMerged   FeedbackStatus = "merged"
	FeedbackStatusPending  FeedbackStatus = "pending"
	FeedbackStatusRejected FeedbackStatus = "rejected"
)

// Defines values for FeedbackType.
const (
	FeedbackTypeBugReport      FeedbackType = "bug_report"
	FeedbackTypeFeatureRequest FeedbackType = "feature_request"
	FeedbackTypeFeedback       FeedbackType = "feedback"
	FeedbackTypeWishlist       FeedbackType = "wishlist"
)

// Defines values for FeedbackBoardItemCategory.
const (
	FeedbackBoardItemCategoryBalance   FeedbackBoardItemCategory = "balance"
	FeedbackBoardItemCategoryContent   FeedbackBoardItemCategory = "content"
	FeedbackBoardItemCategoryGameplay  FeedbackBoardItemCategory = "gameplay"
	FeedbackBoardItemCategoryLore      FeedbackBoardItemCategory = "lore"
	FeedbackBoardItemCategoryOther     FeedbackBoardItemCategory = "other"
	FeedbackBoardItemCategoryTechnical FeedbackBoardItemCategory = "technical"
	FeedbackBoardItemCategoryUiUx      FeedbackBoardItemCategory = "ui_ux"
)

// Defines values for FeedbackBoardItemStatus.
const (
	FeedbackBoardItemStatusApproved FeedbackBoardItemStatus = "approved"
	FeedbackBoardItemStatusInReview FeedbackBoardItemStatus = "in_review"
	FeedbackBoardItemStatusPending  FeedbackBoardItemStatus = "pending"
)

// Defines values for FeedbackBoardItemType.
const (
	FeedbackBoardItemTypeBugReport      FeedbackBoardItemType = "bug_report"
	FeedbackBoardItemTypeFeatureRequest FeedbackBoardItemType = "feature_request"
	FeedbackBoardItemTypeFeedback       FeedbackBoardItemType = "feedback"
	FeedbackBoardItemTypeWishlist       FeedbackBoardItemType = "wishlist"
)

// Defines values for SubmitFeedbackRequestCategory.
const (
	SubmitFeedbackRequestCategoryBalance   SubmitFeedbackRequestCategory = "balance"
	SubmitFeedbackRequestCategoryContent   SubmitFeedbackRequestCategory = "content"
	SubmitFeedbackRequestCategoryGameplay  SubmitFeedbackRequestCategory = "gameplay"
	SubmitFeedbackRequestCategoryLore      SubmitFeedbackRequestCategory = "lore"
	SubmitFeedbackRequestCategoryOther     SubmitFeedbackRequestCategory = "other"
	SubmitFeedbackRequestCategoryTechnical SubmitFeedbackRequestCategory = "technical"
	SubmitFeedbackRequestCategoryUiUx      SubmitFeedbackRequestCategory = "ui_ux"
)

// Defines values for SubmitFeedbackRequestPriority.
const (
	SubmitFeedbackRequestPriorityCritical SubmitFeedbackRequestPriority = "critical"
	SubmitFeedbackRequestPriorityHigh     SubmitFeedbackRequestPriority = "high"
	SubmitFeedbackRequestPriorityLow      SubmitFeedbackRequestPriority = "low"
	SubmitFeedbackRequestPriorityMedium   SubmitFeedbackRequestPriority = "medium"
)

// Defines values for SubmitFeedbackRequestType.
const (
	SubmitFeedbackRequestTypeBugReport      SubmitFeedbackRequestType = "bug_report"
	SubmitFeedbackRequestTypeFeatureRequest SubmitFeedbackRequestType = "feature_request"
	SubmitFeedbackRequestTypeFeedback       SubmitFeedbackRequestType = "feedback"
	SubmitFeedbackRequestTypeWishlist       SubmitFeedbackRequestType = "wishlist"
)

// Defines values for SubmitFeedbackResponseStatus.
const (
	SubmitFeedbackResponseStatusApproved SubmitFeedbackResponseStatus = "approved"
	SubmitFeedbackResponseStatusClosed   SubmitFeedbackResponseStatus = "closed"
	SubmitFeedbackResponseStatusInReview SubmitFeedbackResponseStatus = "in_review"
	SubmitFeedbackResponseStatusMerged   SubmitFeedbackResponseStatus = "merged"
	SubmitFeedbackResponseStatusPending  SubmitFeedbackResponseStatus = "pending"
	SubmitFeedbackResponseStatusRejected SubmitFeedbackResponseStatus = "rejected"
)

// Defines values for UpdateStatusRequestStatus.
const (
	UpdateStatusRequestStatusApproved UpdateStatusRequestStatus = "approved"
	UpdateStatusRequestStatusClosed   UpdateStatusRequestStatus = "closed"
	UpdateStatusRequestStatusInReview UpdateStatusRequestStatus = "in_review"
	UpdateStatusRequestStatusMerged   UpdateStatusRequestStatus = "merged"
	UpdateStatusRequestStatusPending  UpdateStatusRequestStatus = "pending"
	UpdateStatusRequestStatusRejected UpdateStatusRequestStatus = "rejected"
)

// Defines values for GetFeedbackBoardParamsCategory.
const (
	GetFeedbackBoardParamsCategoryBalance   GetFeedbackBoardParamsCategory = "balance"
	GetFeedbackBoardParamsCategoryContent   GetFeedbackBoardParamsCategory = "content"
	GetFeedbackBoardParamsCategoryGameplay  GetFeedbackBoardParamsCategory = "gameplay"
	GetFeedbackBoardParamsCategoryLore      GetFeedbackBoardParamsCategory = "lore"
	GetFeedbackBoardParamsCategoryOther     GetFeedbackBoardParamsCategory = "other"
	GetFeedbackBoardParamsCategoryTechnical GetFeedbackBoardParamsCategory = "technical"
	GetFeedbackBoardParamsCategoryUiUx      GetFeedbackBoardParamsCategory = "ui_ux"
)

// Defines values for GetFeedbackBoardParamsStatus.
const (
	GetFeedbackBoardParamsStatusApproved GetFeedbackBoardParamsStatus = "approved"
	GetFeedbackBoardParamsStatusInReview GetFeedbackBoardParamsStatus = "in_review"
	GetFeedbackBoardParamsStatusPending  GetFeedbackBoardParamsStatus = "pending"
)

// Defines values for GetFeedbackBoardParamsSort.
const (
	CreatedAsc  GetFeedbackBoardParamsSort = "created_asc"
	CreatedDesc GetFeedbackBoardParamsSort = "created_desc"
	VotesAsc    GetFeedbackBoardParamsSort = "votes_asc"
	VotesDesc   GetFeedbackBoardParamsSort = "votes_desc"
)

// Defines values for GetPlayerFeedbackParamsStatus.
const (
	Approved GetPlayerFeedbackParamsStatus = "approved"
	Closed   GetPlayerFeedbackParamsStatus = "closed"
	InReview GetPlayerFeedbackParamsStatus = "in_review"
	Merged   GetPlayerFeedbackParamsStatus = "merged"
	Pending  GetPlayerFeedbackParamsStatus = "pending"
	Rejected GetPlayerFeedbackParamsStatus = "rejected"
)

// Defines values for GetPlayerFeedbackParamsType.
const (
	GetPlayerFeedbackParamsTypeBugReport      GetPlayerFeedbackParamsType = "bug_report"
	GetPlayerFeedbackParamsTypeFeatureRequest GetPlayerFeedbackParamsType = "feature_request"
	GetPlayerFeedbackParamsTypeFeedback       GetPlayerFeedbackParamsType = "feedback"
	GetPlayerFeedbackParamsTypeWishlist       GetPlayerFeedbackParamsType = "wishlist"
)

// Error defines model for Error.
type Error struct {
	Code    *string `json:"code,omitempty"`
	Error   *string `json:"error,omitempty"`
	Message *string `json:"message,omitempty"`
}

// Feedback defines model for Feedback.
type Feedback struct {
	Category          *FeedbackCategory         `json:"category,omitempty"`
	CreatedAt         *time.Time                `json:"created_at,omitempty"`
	Description       *string                   `json:"description,omitempty"`
	GameContext       *GameContext              `json:"game_context,omitempty"`
	GithubIssueNumber *int                      `json:"github_issue_number"`
	GithubIssueUrl    *string                   `json:"github_issue_url"`
	Id                *openapi_types.UUID       `json:"id,omitempty"`
	MergedInto        *openapi_types.UUID       `json:"merged_into"`
	ModerationReason  *string                   `json:"moderation_reason"`
	ModerationStatus  *FeedbackModerationStatus `json:"moderation_status"`
	PlayerId          *openapi_types.UUID       `json:"player_id,omitempty"`
	Priority          *FeedbackPriority         `json:"priority"`
	Screenshots       *[]string                 `json:"screenshots,omitempty"`
	Status            *FeedbackStatus           `json:"status,omitempty"`
	Title             *string                   `json:"title,omitempty"`
	Type              *FeedbackType             `json:"type,omitempty"`
	UpdatedAt         *time.Time                `json:"updated_at,omitempty"`
	VotesCount        *int                      `json:"votes_count,omitempty"`
}

// FeedbackCategory defines model for Feedback.Category.
type FeedbackCategory string

// FeedbackModerationStatus defines model for Feedback.ModerationStatus.
type FeedbackModerationStatus string

// FeedbackPriority defines model for Feedback.Priority.
type FeedbackPriority string

// FeedbackStatus defines model for Feedback.Status.
type FeedbackStatus string

// FeedbackType defines model for Feedback.Type.
type FeedbackType string

// FeedbackBoardItem defines model for FeedbackBoardItem.
type FeedbackBoardItem struct {
	Category          *FeedbackBoardItemCategory `json:"category,omitempty"`
	CreatedAt         *time.Time                 `json:"created_at,omitempty"`
	Description       *string                    `json:"description,omitempty"`
	GithubIssueNumber *int                       `json:"github_issue_number"`
	GithubIssueUrl    *string                    `json:"github_issue_url"`
	Id                *openapi_types.UUID        `json:"id,omitempty"`
	Status            *FeedbackBoardItemStatus   `json:"status,omitempty"`
	Title             *string                    `json:"title,omitempty"`
	Type              *FeedbackBoardItemType     `json:"type,omitempty"`
	VotesCount        *int                       `json:"votes_count,omitempty"`
}

// FeedbackBoardItemCategory defines model for FeedbackBoardItem.Category.
type FeedbackBoardItemCategory string

// FeedbackBoardItemStatus defines model for FeedbackBoardItem.Status.
type FeedbackBoardItemStatus string

// FeedbackBoardItemType defines model for FeedbackBoardItem.Type.
type FeedbackBoardItemType string

// FeedbackBoardList defines model for FeedbackBoardList.
type FeedbackBoardList struct {
	Items  *[]FeedbackBoardItem `json:"items,omitempty"`
	Limit  *int                 `json:"limit,omitempty"`
	Offset *int                 `json:"offset,omitempty"`
	Total  *int                 `json:"total,omitempty"`
}

// FeedbackList defines model for FeedbackList.
type FeedbackList struct {
	Items  *[]Feedback `json:"items,omitempty"`
	Limit  *int        `json:"limit,omitempty"`
	Offset *int        `json:"offset,omitempty"`
	Total  *int        `json:"total,omitempty"`
}

// FeedbackStats defines model for FeedbackStats.
type FeedbackStats struct {
	AverageVotesPerFeedback *float32 `json:"average_votes_per_feedback,omitempty"`
	ByCategory              *struct {
		Balance   *int `json:"balance,omitempty"`
		Content   *int `json:"content,omitempty"`
		Gameplay  *int `json:"gameplay,omitempty"`
		Lore      *int `json:"lore,omitempty"`
		Other     *int `json:"other,omitempty"`
		Technical *int `json:"technical,omitempty"`
		UiUx      *int `json:"ui_ux,omitempty"`
	} `json:"by_category,omitempty"`
	ByStatus *struct {
		Approved *int `json:"approved,omitempty"`
		Closed   *int `json:"closed,omitempty"`
		InReview *int `json:"in_review,omitempty"`
		Merged   *int `json:"merged,omitempty"`
		Pending  *int `json:"pending,omitempty"`
		Rejected *int `json:"rejected,omitempty"`
	} `json:"by_status,omitempty"`
	ByType *struct {
		BugReport      *int `json:"bug_report,omitempty"`
		FeatureRequest *int `json:"feature_request,omitempty"`
		Feedback       *int `json:"feedback,omitempty"`
		Wishlist       *int `json:"wishlist,omitempty"`
	} `json:"by_type,omitempty"`
	Total      *int `json:"total,omitempty"`
	TotalVotes *int `json:"total_votes,omitempty"`
}

// GameContext defines model for GameContext.
type GameContext struct {
	ActiveQuests   *[]string `json:"active_quests,omitempty"`
	CharacterLevel *int      `json:"character_level,omitempty"`
	Location       *string   `json:"location,omitempty"`
	PlaytimeHours  *float32  `json:"playtime_hours,omitempty"`
	Version        *string   `json:"version,omitempty"`
}

// SubmitFeedbackRequest defines model for SubmitFeedbackRequest.
type SubmitFeedbackRequest struct {
	Category    SubmitFeedbackRequestCategory  `json:"category"`
	Description string                         `json:"description"`
	GameContext *GameContext                   `json:"game_context,omitempty"`
	Priority    *SubmitFeedbackRequestPriority `json:"priority,omitempty"`
	Screenshots *[]string                      `json:"screenshots,omitempty"`
	Title       string                         `json:"title"`
	Type        SubmitFeedbackRequestType      `json:"type"`
}

// SubmitFeedbackRequestCategory defines model for SubmitFeedbackRequest.Category.
type SubmitFeedbackRequestCategory string

// SubmitFeedbackRequestPriority defines model for SubmitFeedbackRequest.Priority.
type SubmitFeedbackRequestPriority string

// SubmitFeedbackRequestType defines model for SubmitFeedbackRequest.Type.
type SubmitFeedbackRequestType string

// SubmitFeedbackResponse defines model for SubmitFeedbackResponse.
type SubmitFeedbackResponse struct {
	CreatedAt         *time.Time                    `json:"created_at,omitempty"`
	GithubIssueNumber *int                          `json:"github_issue_number"`
	GithubIssueUrl    *string                       `json:"github_issue_url"`
	Id                *openapi_types.UUID           `json:"id,omitempty"`
	Status            *SubmitFeedbackResponseStatus `json:"status,omitempty"`
}

// SubmitFeedbackResponseStatus defines model for SubmitFeedbackResponse.Status.
type SubmitFeedbackResponseStatus string

// UpdateStatusRequest defines model for UpdateStatusRequest.
type UpdateStatusRequest struct {
	GithubIssueNumber *int                      `json:"github_issue_number"`
	GithubIssueUrl    *string                   `json:"github_issue_url"`
	Status            UpdateStatusRequestStatus `json:"status"`
}

// UpdateStatusRequestStatus defines model for UpdateStatusRequest.Status.
type UpdateStatusRequestStatus string

// VoteResponse defines model for VoteResponse.
type VoteResponse struct {
	FeedbackId *openapi_types.UUID `json:"feedback_id,omitempty"`
	HasVoted   *bool               `json:"has_voted,omitempty"`
	VotesCount *int                `json:"votes_count,omitempty"`
}

// BadRequest defines model for BadRequest.
type BadRequest = Error

// Forbidden defines model for Forbidden.
type Forbidden = Error

// NotFound defines model for NotFound.
type NotFound = Error

// TooManyRequests defines model for TooManyRequests.
type TooManyRequests = Error

// Unauthorized defines model for Unauthorized.
type Unauthorized = Error

// GetFeedbackBoardParams defines parameters for GetFeedbackBoard.
type GetFeedbackBoardParams struct {
	// Category Фильтр по категории
	Category *GetFeedbackBoardParamsCategory `form:"category,omitempty" json:"category,omitempty"`

	// Status Фильтр по статусу
	Status *GetFeedbackBoardParamsStatus `form:"status,omitempty" json:"status,omitempty"`

	// Sort Сортировка
	Sort *GetFeedbackBoardParamsSort `form:"sort,omitempty" json:"sort,omitempty"`

	// Limit Количество записей на странице
	Limit *int `form:"limit,omitempty" json:"limit,omitempty"`

	// Offset Смещение для пагинации
	Offset *int `form:"offset,omitempty" json:"offset,omitempty"`

	// Search Поиск по заголовку и описанию
	Search *string `form:"search,omitempty" json:"search,omitempty"`
}

// GetFeedbackBoardParamsCategory defines parameters for GetFeedbackBoard.
type GetFeedbackBoardParamsCategory string

// GetFeedbackBoardParamsStatus defines parameters for GetFeedbackBoard.
type GetFeedbackBoardParamsStatus string

// GetFeedbackBoardParamsSort defines parameters for GetFeedbackBoard.
type GetFeedbackBoardParamsSort string

// GetPlayerFeedbackParams defines parameters for GetPlayerFeedback.
type GetPlayerFeedbackParams struct {
	// Status Фильтр по статусу
	Status *GetPlayerFeedbackParamsStatus `form:"status,omitempty" json:"status,omitempty"`

	// Type Фильтр по типу
	Type *GetPlayerFeedbackParamsType `form:"type,omitempty" json:"type,omitempty"`

	// Limit Количество записей на странице
	Limit *int `form:"limit,omitempty" json:"limit,omitempty"`

	// Offset Смещение для пагинации
	Offset *int `form:"offset,omitempty" json:"offset,omitempty"`
}

// GetPlayerFeedbackParamsStatus defines parameters for GetPlayerFeedback.
type GetPlayerFeedbackParamsStatus string

// GetPlayerFeedbackParamsType defines parameters for GetPlayerFeedback.
type GetPlayerFeedbackParamsType string

// SubmitFeedbackJSONRequestBody defines body for SubmitFeedback for application/json ContentType.
type SubmitFeedbackJSONRequestBody = SubmitFeedbackRequest

// UpdateFeedbackStatusJSONRequestBody defines body for UpdateFeedbackStatus for application/json ContentType.
type UpdateFeedbackStatusJSONRequestBody = UpdateStatusRequest

// ServerInterface represents all server handlers.
type ServerInterface interface {
	// Доска идей (публичные предложения)
	// (GET /board)
	GetFeedbackBoard(w http.ResponseWriter, r *http.Request, params GetFeedbackBoardParams)
	// История обращений игрока
	// (GET /player/{player_id})
	GetPlayerFeedback(w http.ResponseWriter, r *http.Request, playerId openapi_types.UUID, params GetPlayerFeedbackParams)
	// Статистика обращений
	// (GET /stats)
	GetFeedbackStats(w http.ResponseWriter, r *http.Request)
	// Создание нового обращения
	// (POST /submit)
	SubmitFeedback(w http.ResponseWriter, r *http.Request)
	// Получение обращения по ID
	// (GET /{id})
	GetFeedback(w http.ResponseWriter, r *http.Request, id openapi_types.UUID)
	// Обновление статуса обращения
	// (POST /{id}/update-status)
	UpdateFeedbackStatus(w http.ResponseWriter, r *http.Request, id openapi_types.UUID)
	// Отзыв голоса
	// (DELETE /{id}/vote)
	UnvoteFeedback(w http.ResponseWriter, r *http.Request, id openapi_types.UUID)
	// Голосование за предложение
	// (POST /{id}/vote)
	VoteFeedback(w http.ResponseWriter, r *http.Request, id openapi_types.UUID)
}

// ServerInterfaceWrapper converts contexts to parameters.
type ServerInterfaceWrapper struct {
	Handler            ServerInterface
	HandlerMiddlewares []MiddlewareFunc
	ErrorHandlerFunc   func(w http.ResponseWriter, r *http.Request, err error)
}

type MiddlewareFunc func(http.Handler) http.Handler

// GetFeedbackBoard operation middleware
func (siw *ServerInterfaceWrapper) GetFeedbackBoard(w http.ResponseWriter, r *http.Request) {

	var err error

	// Parameter object where we will unmarshal all parameters from the context
	var params GetFeedbackBoardParams

	// ------------- Optional query parameter "category" -------------

	err = runtime.BindQueryParameter("form", true, false, "category", r.URL.Query(), &params.Category)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "category", Err: err})
		return
	}

	// ------------- Optional query parameter "status" -------------

	err = runtime.BindQueryParameter("form", true, false, "status", r.URL.Query(), &params.Status)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "status", Err: err})
		return
	}

	// ------------- Optional query parameter "sort" -------------

	err = runtime.BindQueryParameter("form", true, false, "sort", r.URL.Query(), &params.Sort)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "sort", Err: err})
		return
	}

	// ------------- Optional query parameter "limit" -------------

	err = runtime.BindQueryParameter("form", true, false, "limit", r.URL.Query(), &params.Limit)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "limit", Err: err})
		return
	}

	// ------------- Optional query parameter "offset" -------------

	err = runtime.BindQueryParameter("form", true, false, "offset", r.URL.Query(), &params.Offset)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "offset", Err: err})
		return
	}

	// ------------- Optional query parameter "search" -------------

	err = runtime.BindQueryParameter("form", true, false, "search", r.URL.Query(), &params.Search)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "search", Err: err})
		return
	}

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.GetFeedbackBoard(w, r, params)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// GetPlayerFeedback operation middleware
func (siw *ServerInterfaceWrapper) GetPlayerFeedback(w http.ResponseWriter, r *http.Request) {

	var err error

	// ------------- Path parameter "player_id" -------------
	var playerId openapi_types.UUID

	err = runtime.BindStyledParameterWithOptions("simple", "player_id", mux.Vars(r)["player_id"], &playerId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "player_id", Err: err})
		return
	}

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	// Parameter object where we will unmarshal all parameters from the context
	var params GetPlayerFeedbackParams

	// ------------- Optional query parameter "status" -------------

	err = runtime.BindQueryParameter("form", true, false, "status", r.URL.Query(), &params.Status)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "status", Err: err})
		return
	}

	// ------------- Optional query parameter "type" -------------

	err = runtime.BindQueryParameter("form", true, false, "type", r.URL.Query(), &params.Type)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "type", Err: err})
		return
	}

	// ------------- Optional query parameter "limit" -------------

	err = runtime.BindQueryParameter("form", true, false, "limit", r.URL.Query(), &params.Limit)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "limit", Err: err})
		return
	}

	// ------------- Optional query parameter "offset" -------------

	err = runtime.BindQueryParameter("form", true, false, "offset", r.URL.Query(), &params.Offset)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "offset", Err: err})
		return
	}

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.GetPlayerFeedback(w, r, playerId, params)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// GetFeedbackStats operation middleware
func (siw *ServerInterfaceWrapper) GetFeedbackStats(w http.ResponseWriter, r *http.Request) {

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.GetFeedbackStats(w, r)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// SubmitFeedback operation middleware
func (siw *ServerInterfaceWrapper) SubmitFeedback(w http.ResponseWriter, r *http.Request) {

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.SubmitFeedback(w, r)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// GetFeedback operation middleware
func (siw *ServerInterfaceWrapper) GetFeedback(w http.ResponseWriter, r *http.Request) {

	var err error

	// ------------- Path parameter "id" -------------
	var id openapi_types.UUID

	err = runtime.BindStyledParameterWithOptions("simple", "id", mux.Vars(r)["id"], &id, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "id", Err: err})
		return
	}

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.GetFeedback(w, r, id)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// UpdateFeedbackStatus operation middleware
func (siw *ServerInterfaceWrapper) UpdateFeedbackStatus(w http.ResponseWriter, r *http.Request) {

	var err error

	// ------------- Path parameter "id" -------------
	var id openapi_types.UUID

	err = runtime.BindStyledParameterWithOptions("simple", "id", mux.Vars(r)["id"], &id, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "id", Err: err})
		return
	}

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.UpdateFeedbackStatus(w, r, id)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// UnvoteFeedback operation middleware
func (siw *ServerInterfaceWrapper) UnvoteFeedback(w http.ResponseWriter, r *http.Request) {

	var err error

	// ------------- Path parameter "id" -------------
	var id openapi_types.UUID

	err = runtime.BindStyledParameterWithOptions("simple", "id", mux.Vars(r)["id"], &id, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "id", Err: err})
		return
	}

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.UnvoteFeedback(w, r, id)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// VoteFeedback operation middleware
func (siw *ServerInterfaceWrapper) VoteFeedback(w http.ResponseWriter, r *http.Request) {

	var err error

	// ------------- Path parameter "id" -------------
	var id openapi_types.UUID

	err = runtime.BindStyledParameterWithOptions("simple", "id", mux.Vars(r)["id"], &id, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "id", Err: err})
		return
	}

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.VoteFeedback(w, r, id)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

type UnescapedCookieParamError struct {
	ParamName string
	Err       error
}

func (e *UnescapedCookieParamError) Error() string {
	return fmt.Sprintf("error unescaping cookie parameter '%s'", e.ParamName)
}

func (e *UnescapedCookieParamError) Unwrap() error {
	return e.Err
}

type UnmarshalingParamError struct {
	ParamName string
	Err       error
}

func (e *UnmarshalingParamError) Error() string {
	return fmt.Sprintf("Error unmarshaling parameter %s as JSON: %s", e.ParamName, e.Err.Error())
}

func (e *UnmarshalingParamError) Unwrap() error {
	return e.Err
}

type RequiredParamError struct {
	ParamName string
}

func (e *RequiredParamError) Error() string {
	return fmt.Sprintf("Query argument %s is required, but not found", e.ParamName)
}

type RequiredHeaderError struct {
	ParamName string
	Err       error
}

func (e *RequiredHeaderError) Error() string {
	return fmt.Sprintf("Header parameter %s is required, but not found", e.ParamName)
}

func (e *RequiredHeaderError) Unwrap() error {
	return e.Err
}

type InvalidParamFormatError struct {
	ParamName string
	Err       error
}

func (e *InvalidParamFormatError) Error() string {
	return fmt.Sprintf("Invalid format for parameter %s: %s", e.ParamName, e.Err.Error())
}

func (e *InvalidParamFormatError) Unwrap() error {
	return e.Err
}

type TooManyValuesForParamError struct {
	ParamName string
	Count     int
}

func (e *TooManyValuesForParamError) Error() string {
	return fmt.Sprintf("Expected one value for %s, got %d", e.ParamName, e.Count)
}

// Handler creates http.Handler with routing matching OpenAPI spec.
func Handler(si ServerInterface) http.Handler {
	return HandlerWithOptions(si, GorillaServerOptions{})
}

type GorillaServerOptions struct {
	BaseURL          string
	BaseRouter       *mux.Router
	Middlewares      []MiddlewareFunc
	ErrorHandlerFunc func(w http.ResponseWriter, r *http.Request, err error)
}

// HandlerFromMux creates http.Handler with routing matching OpenAPI spec based on the provided mux.
func HandlerFromMux(si ServerInterface, r *mux.Router) http.Handler {
	return HandlerWithOptions(si, GorillaServerOptions{
		BaseRouter: r,
	})
}

func HandlerFromMuxWithBaseURL(si ServerInterface, r *mux.Router, baseURL string) http.Handler {
	return HandlerWithOptions(si, GorillaServerOptions{
		BaseURL:    baseURL,
		BaseRouter: r,
	})
}

// HandlerWithOptions creates http.Handler with additional options
func HandlerWithOptions(si ServerInterface, options GorillaServerOptions) http.Handler {
	r := options.BaseRouter

	if r == nil {
		r = mux.NewRouter()
	}
	if options.ErrorHandlerFunc == nil {
		options.ErrorHandlerFunc = func(w http.ResponseWriter, r *http.Request, err error) {
			http.Error(w, err.Error(), http.StatusBadRequest)
		}
	}
	wrapper := ServerInterfaceWrapper{
		Handler:            si,
		HandlerMiddlewares: options.Middlewares,
		ErrorHandlerFunc:   options.ErrorHandlerFunc,
	}

	r.HandleFunc(options.BaseURL+"/board", wrapper.GetFeedbackBoard).Methods("GET")

	r.HandleFunc(options.BaseURL+"/player/{player_id}", wrapper.GetPlayerFeedback).Methods("GET")

	r.HandleFunc(options.BaseURL+"/stats", wrapper.GetFeedbackStats).Methods("GET")

	r.HandleFunc(options.BaseURL+"/submit", wrapper.SubmitFeedback).Methods("POST")

	r.HandleFunc(options.BaseURL+"/{id}", wrapper.GetFeedback).Methods("GET")

	r.HandleFunc(options.BaseURL+"/{id}/update-status", wrapper.UpdateFeedbackStatus).Methods("POST")

	r.HandleFunc(options.BaseURL+"/{id}/vote", wrapper.UnvoteFeedback).Methods("DELETE")

	r.HandleFunc(options.BaseURL+"/{id}/vote", wrapper.VoteFeedback).Methods("POST")

	return r
}
