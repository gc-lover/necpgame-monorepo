/**
 * Generated by orval v7.13.2 üç∫
 * Do not edit manually.
 * Auction House Mechanics API
 * –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã economy-service –¥–ª—è –ø—Ä–∏–∫–ª–∞–¥–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∫ –∞—É–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ –¥–æ–º–∞ NECPGAME.
–ü–æ–∫—Ä—ã–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –ª–æ—Ç–æ–≤, —Å—Ç–∞–≤–∫–∏, buyout, –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ, –æ—Ç–º–µ–Ω—É, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ,
–∫–æ–º–∏—Å—Å–∏–æ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ —Ä–∞–∑–ª–∏—á–∏—è —Å Player Market.

 * OpenAPI spec version: 1.0.0
 */
import { faker } from '@faker-js/faker'

import { HttpResponse, delay, http } from 'msw'
import type { RequestHandlerOptions } from 'msw'

import type {
  BidResult,
  BuyoutResult,
  CancelResult,
  ExtendResult,
  ProcessExpiredResult,
} from '.././models'

export const getPlaceAuctionBidResponseMock = (
  overrideResponse: Partial<BidResult> = {}
): BidResult => ({
  auctionId: faker.helpers.arrayElement([faker.string.uuid(), undefined]),
  currentBid: faker.helpers.arrayElement([
    faker.number.int({ min: undefined, max: undefined }),
    undefined,
  ]),
  previousBidRefunded: faker.helpers.arrayElement([faker.datatype.boolean(), undefined]),
  expiresAt: faker.helpers.arrayElement([
    `${faker.date.past().toISOString().split('.')[0]}Z`,
    undefined,
  ]),
  notifications: faker.helpers.arrayElement([
    Array.from({ length: faker.number.int({ min: 1, max: 10 }) }, (_, i) => i + 1).map(() => ({
      event: faker.helpers.arrayElement([
        faker.helpers.arrayElement([
          'auction.house.outbid',
          'auction.house.buyout',
          'auction.house.timer-extended',
          'auction.house.completed',
          'auction.house.expired',
        ] as const),
        undefined,
      ]),
      templateId: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        undefined,
      ]),
      channels: faker.helpers.arrayElement([
        faker.helpers.arrayElements(['push', 'mail', 'in_game', 'websocket'] as const),
        undefined,
      ]),
      data: faker.helpers.arrayElement([{}, undefined]),
    })),
    undefined,
  ]),
  ...overrideResponse,
})

export const getBuyoutAuctionResponseMock = (
  overrideResponse: Partial<BuyoutResult> = {}
): BuyoutResult => ({
  auctionId: faker.helpers.arrayElement([faker.string.uuid(), undefined]),
  price: faker.helpers.arrayElement([
    faker.number.int({ min: undefined, max: undefined }),
    undefined,
  ]),
  method: faker.helpers.arrayElement([faker.helpers.arrayElement(['buyout'] as const), undefined]),
  notifications: faker.helpers.arrayElement([
    Array.from({ length: faker.number.int({ min: 1, max: 10 }) }, (_, i) => i + 1).map(() => ({
      event: faker.helpers.arrayElement([
        faker.helpers.arrayElement([
          'auction.house.outbid',
          'auction.house.buyout',
          'auction.house.timer-extended',
          'auction.house.completed',
          'auction.house.expired',
        ] as const),
        undefined,
      ]),
      templateId: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        undefined,
      ]),
      channels: faker.helpers.arrayElement([
        faker.helpers.arrayElements(['push', 'mail', 'in_game', 'websocket'] as const),
        undefined,
      ]),
      data: faker.helpers.arrayElement([{}, undefined]),
    })),
    undefined,
  ]),
  ...overrideResponse,
})

export const getCancelAuctionResponseMock = (
  overrideResponse: Partial<CancelResult> = {}
): CancelResult => ({
  auctionId: faker.helpers.arrayElement([faker.string.uuid(), undefined]),
  status: faker.helpers.arrayElement([
    faker.helpers.arrayElement(['cancelled'] as const),
    undefined,
  ]),
  refundAmount: faker.helpers.arrayElement([
    faker.number.int({ min: undefined, max: undefined }),
    undefined,
  ]),
  itemUnlocked: faker.helpers.arrayElement([faker.datatype.boolean(), undefined]),
  ...overrideResponse,
})

export const getExtendAuctionResponseMock = (
  overrideResponse: Partial<ExtendResult> = {}
): ExtendResult => ({
  auctionId: faker.helpers.arrayElement([faker.string.uuid(), undefined]),
  previousExpiresAt: faker.helpers.arrayElement([
    `${faker.date.past().toISOString().split('.')[0]}Z`,
    undefined,
  ]),
  newExpiresAt: faker.helpers.arrayElement([
    `${faker.date.past().toISOString().split('.')[0]}Z`,
    undefined,
  ]),
  autoExtended: faker.helpers.arrayElement([faker.datatype.boolean(), undefined]),
  ...overrideResponse,
})

export const getProcessExpiredAuctionsResponseMock = (
  overrideResponse: Partial<ProcessExpiredResult> = {}
): ProcessExpiredResult => ({
  processed: faker.helpers.arrayElement([
    faker.number.int({ min: undefined, max: undefined }),
    undefined,
  ]),
  sold: faker.helpers.arrayElement([
    faker.number.int({ min: undefined, max: undefined }),
    undefined,
  ]),
  expired: faker.helpers.arrayElement([
    faker.number.int({ min: undefined, max: undefined }),
    undefined,
  ]),
  errors: faker.helpers.arrayElement([
    Array.from({ length: faker.number.int({ min: 1, max: 10 }) }, (_, i) => i + 1).map(() => ({
      code: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        undefined,
      ]),
      message: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        undefined,
      ]),
      field: faker.helpers.arrayElement([
        faker.helpers.arrayElement([faker.string.alpha({ length: { min: 10, max: 20 } }), null]),
        undefined,
      ]),
    })),
    undefined,
  ]),
  ...overrideResponse,
})

export const getPlaceAuctionBidMockHandler = (
  overrideResponse?:
    | BidResult
    | ((info: Parameters<Parameters<typeof http.post>[1]>[0]) => Promise<BidResult> | BidResult),
  options?: RequestHandlerOptions
) => {
  return http.post(
    '*/auction-house/auctions/:auctionId/place-bid',
    async info => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getPlaceAuctionBidResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}

export const getBuyoutAuctionMockHandler = (
  overrideResponse?:
    | BuyoutResult
    | ((
        info: Parameters<Parameters<typeof http.post>[1]>[0]
      ) => Promise<BuyoutResult> | BuyoutResult),
  options?: RequestHandlerOptions
) => {
  return http.post(
    '*/auction-house/auctions/:auctionId/buyout',
    async info => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getBuyoutAuctionResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}

export const getCancelAuctionMockHandler = (
  overrideResponse?:
    | CancelResult
    | ((
        info: Parameters<Parameters<typeof http.post>[1]>[0]
      ) => Promise<CancelResult> | CancelResult),
  options?: RequestHandlerOptions
) => {
  return http.post(
    '*/auction-house/auctions/:auctionId/cancel',
    async info => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getCancelAuctionResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}

export const getExtendAuctionMockHandler = (
  overrideResponse?:
    | ExtendResult
    | ((
        info: Parameters<Parameters<typeof http.post>[1]>[0]
      ) => Promise<ExtendResult> | ExtendResult),
  options?: RequestHandlerOptions
) => {
  return http.post(
    '*/auction-house/auctions/:auctionId/extend',
    async info => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getExtendAuctionResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}

export const getProcessExpiredAuctionsMockHandler = (
  overrideResponse?:
    | ProcessExpiredResult
    | ((
        info: Parameters<Parameters<typeof http.post>[1]>[0]
      ) => Promise<ProcessExpiredResult> | ProcessExpiredResult),
  options?: RequestHandlerOptions
) => {
  return http.post(
    '*/auction-house/scheduler/process-expired',
    async info => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getProcessExpiredAuctionsResponseMock()
        ),
        { status: 202, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}
export const getAuctionLifecycleMock = () => [
  getPlaceAuctionBidMockHandler(),
  getBuyoutAuctionMockHandler(),
  getCancelAuctionMockHandler(),
  getExtendAuctionMockHandler(),
  getProcessExpiredAuctionsMockHandler(),
]
