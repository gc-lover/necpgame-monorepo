/**
 * Generated by orval v7.13.2 üç∫
 * Do not edit manually.
 * Auction House Mechanics API
 * –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã economy-service –¥–ª—è –ø—Ä–∏–∫–ª–∞–¥–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∫ –∞—É–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ –¥–æ–º–∞ NECPGAME.
–ü–æ–∫—Ä—ã–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –ª–æ—Ç–æ–≤, —Å—Ç–∞–≤–∫–∏, buyout, –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ, –æ—Ç–º–µ–Ω—É, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ,
–∫–æ–º–∏—Å—Å–∏–æ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ —Ä–∞–∑–ª–∏—á–∏—è —Å Player Market.

 * OpenAPI spec version: 1.0.0
 */
import { faker } from '@faker-js/faker'

import { HttpResponse, delay, http } from 'msw'
import type { RequestHandlerOptions } from 'msw'

import type { AuctionValidationResult } from '.././models'

export const getValidateAuctionCreationResponseMock = (
  overrideResponse: Partial<AuctionValidationResult> = {}
): AuctionValidationResult => ({
  valid: faker.helpers.arrayElement([faker.datatype.boolean(), undefined]),
  rules: faker.helpers.arrayElement([
    {
      minStartingBid: faker.helpers.arrayElement([
        faker.number.int({ min: undefined, max: undefined }),
        undefined,
      ]),
      maxDurationHours: faker.helpers.arrayElement([
        faker.number.int({ min: undefined, max: undefined }),
        undefined,
      ]),
      allowedDurations: faker.helpers.arrayElement([
        Array.from({ length: faker.number.int({ min: 1, max: 10 }) }, (_, i) => i + 1).map(() =>
          faker.number.int({ min: undefined, max: undefined })
        ),
        undefined,
      ]),
      buyoutMinRatio: faker.helpers.arrayElement([
        faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
        undefined,
      ]),
      listingLimit: faker.helpers.arrayElement([
        faker.number.int({ min: undefined, max: undefined }),
        undefined,
      ]),
      autoBidEnabled: faker.helpers.arrayElement([faker.datatype.boolean(), undefined]),
    },
    undefined,
  ]),
  messages: faker.helpers.arrayElement([
    Array.from({ length: faker.number.int({ min: 1, max: 10 }) }, (_, i) => i + 1).map(() => ({
      code: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        undefined,
      ]),
      message: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        undefined,
      ]),
      field: faker.helpers.arrayElement([
        faker.helpers.arrayElement([faker.string.alpha({ length: { min: 10, max: 20 } }), null]),
        undefined,
      ]),
    })),
    undefined,
  ]),
  reserved: faker.helpers.arrayElement([faker.datatype.boolean(), undefined]),
  ...overrideResponse,
})

export const getValidateAuctionCreationMockHandler = (
  overrideResponse?:
    | AuctionValidationResult
    | ((
        info: Parameters<Parameters<typeof http.post>[1]>[0]
      ) => Promise<AuctionValidationResult> | AuctionValidationResult),
  options?: RequestHandlerOptions
) => {
  return http.post(
    '*/auction-house/rules/validate-create',
    async info => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getValidateAuctionCreationResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}
export const getAuctionRulesMock = () => [getValidateAuctionCreationMockHandler()]
