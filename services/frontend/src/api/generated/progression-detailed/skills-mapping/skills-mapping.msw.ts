/**
 * Generated by orval v7.13.2 üç∫
 * Do not edit manually.
 * Progression Detailed API
 * API –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏.

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
- 9 Attributes (STR, DEX, CON, INT, WIS, CHA, TECH, COOL, LUCK)
- Attributes matrix (—Å—Ç–∞—Ä—Ç–æ–≤—ã–µ –±–æ–Ω—É—Å—ã –ø–æ –∫–ª–∞—Å—Å–∞–º)
- Attributes caps & growth
- Skills-to-classes mapping
- Skills-to-items mapping
- Skills-to-implants mapping
- Synergy bonuses

–ò—Å—Ç–æ—á–Ω–∏–∫–∏: .BRAIN/02-gameplay/progression/ (4 documents v1.0.0)

 * OpenAPI spec version: 1.0.0
 */
import { faker } from '@faker-js/faker'

import { HttpResponse, delay, http } from 'msw'
import type { RequestHandlerOptions } from 'msw'

import type { SkillRequirementsCheck, SkillsMapping } from '.././models'

export const getGetSkillsMappingResponseMock = (
  overrideResponse: Partial<SkillsMapping> = {}
): SkillsMapping => ({
  mapping_type: faker.helpers.arrayElement([
    faker.helpers.arrayElement(['TO_ITEMS', 'TO_IMPLANTS', 'TO_CLASSES'] as const),
    undefined,
  ]),
  mappings: faker.helpers.arrayElement([
    Array.from({ length: faker.number.int({ min: 1, max: 10 }) }, (_, i) => i + 1).map(() => ({
      skill_id: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        undefined,
      ]),
      skill_name: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        undefined,
      ]),
      mapped_to: faker.helpers.arrayElement([
        Array.from({ length: faker.number.int({ min: 1, max: 10 }) }, (_, i) => i + 1).map(() => ({
          id: faker.helpers.arrayElement([
            faker.string.alpha({ length: { min: 10, max: 20 } }),
            undefined,
          ]),
          name: faker.helpers.arrayElement([
            faker.string.alpha({ length: { min: 10, max: 20 } }),
            undefined,
          ]),
          required_level: faker.helpers.arrayElement([
            faker.number.int({ min: undefined, max: undefined }),
            undefined,
          ]),
          bonus_per_level: faker.helpers.arrayElement([
            faker.string.alpha({ length: { min: 10, max: 20 } }),
            undefined,
          ]),
        })),
        undefined,
      ]),
    })),
    undefined,
  ]),
  ...overrideResponse,
})

export const getCheckItemSkillRequirementsResponseMock = (
  overrideResponse: Partial<SkillRequirementsCheck> = {}
): SkillRequirementsCheck => ({
  character_id: faker.helpers.arrayElement([faker.string.uuid(), undefined]),
  item_id: faker.helpers.arrayElement([faker.string.uuid(), undefined]),
  can_use: faker.helpers.arrayElement([faker.datatype.boolean(), undefined]),
  requirements: faker.helpers.arrayElement([
    Array.from({ length: faker.number.int({ min: 1, max: 10 }) }, (_, i) => i + 1).map(() => ({
      skill: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        undefined,
      ]),
      required_level: faker.helpers.arrayElement([
        faker.number.int({ min: undefined, max: undefined }),
        undefined,
      ]),
      character_level: faker.helpers.arrayElement([
        faker.number.int({ min: undefined, max: undefined }),
        undefined,
      ]),
      met: faker.helpers.arrayElement([faker.datatype.boolean(), undefined]),
    })),
    undefined,
  ]),
  effectiveness: faker.helpers.arrayElement([
    faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
    undefined,
  ]),
  penalties: faker.helpers.arrayElement([
    Array.from({ length: faker.number.int({ min: 1, max: 10 }) }, (_, i) => i + 1).map(() =>
      faker.string.alpha({ length: { min: 10, max: 20 } })
    ),
    undefined,
  ]),
  ...overrideResponse,
})

export const getGetSkillsMappingMockHandler = (
  overrideResponse?:
    | SkillsMapping
    | ((
        info: Parameters<Parameters<typeof http.get>[1]>[0]
      ) => Promise<SkillsMapping> | SkillsMapping),
  options?: RequestHandlerOptions
) => {
  return http.get(
    '*/gameplay/progression/skills/mapping',
    async info => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getGetSkillsMappingResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}

export const getCheckItemSkillRequirementsMockHandler = (
  overrideResponse?:
    | SkillRequirementsCheck
    | ((
        info: Parameters<Parameters<typeof http.post>[1]>[0]
      ) => Promise<SkillRequirementsCheck> | SkillRequirementsCheck),
  options?: RequestHandlerOptions
) => {
  return http.post(
    '*/gameplay/progression/skills/item-requirements',
    async info => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getCheckItemSkillRequirementsResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}
export const getSkillsMappingMock = () => [
  getGetSkillsMappingMockHandler(),
  getCheckItemSkillRequirementsMockHandler(),
]
