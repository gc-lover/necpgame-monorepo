/**
 * Generated by orval v7.13.2 üç∫
 * Do not edit manually.
 * Combat Shooting API
 * API –¥–ª—è –º–µ—Ö–∞–Ω–∏–∫ —Å—Ç—Ä–µ–ª—å–±—ã –∏ –æ—Å–Ω–æ–≤ –±–æ—è.

–ò—Å—Ç–æ—á–Ω–∏–∫ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏: .BRAIN/02-gameplay/combat/combat-shooting.md v1.1.0

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- MMORPG –∫–∞–∫ –æ—Å–Ω–æ–≤–∞, —à—É—Ç–µ—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç —ç–∫—à–µ–Ω
- –ê—Ä–∫–∞–¥–Ω–∞—è —Å—Ç—Ä–µ–ª—å–±–∞ —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ —Ä–µ–∞–ª–∏–∑–º–∞
- TTK –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∑–æ–Ω—ã/—Ä–µ–∂–∏–º–∞ (–æ—Ç–∫—Ä—ã—Ç—ã–π –º–∏—Ä = –≤—ã—Å–æ–∫–∏–π, PvP = –Ω–∏–∑–∫–∏–π)
- –°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–Ω–∞ —Å —á–∞—Å—Ç—è–º–∏ —Ç–µ–ª–∞ –∏ —Ç–∏–ø–∞–º–∏ —É—Ä–æ–Ω–∞
- –ö–∏–±–µ—Ä-—á–∞—Å—Ç–∏ –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —É—Ä–æ–Ω–∞
- –ü—Ä–æ–Ω–∏–∫–∞—é—â–∏–µ –ø—É–ª–∏ –∏ —Ä–∞–∑—Ä—É—à–∞–µ–º—ã–µ —É–∫—Ä—ã—Ç–∏—è

–ü–†–ò–ú–ï–ß–ê–ù–ò–ï: –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ shooting/shooting-models.yaml
–¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞ 400 —Å—Ç—Ä–æ–∫ –Ω–∞ —Ñ–∞–π–ª.

 * OpenAPI spec version: 1.0.0
 */
import { faker } from '@faker-js/faker'

import { HttpResponse, delay, http } from 'msw'
import type { RequestHandlerOptions } from 'msw'

import type {
  CoverPenetrationResult,
  ShootResult,
  Weapon,
} from '.././models/shooting-shooting-models'
import type { Reload200 } from '.././models'

export const getShootResponseMock = (overrideResponse: Partial<ShootResult> = {}): ShootResult => ({
  hit: faker.datatype.boolean(),
  body_part_hit: faker.helpers.arrayElement([
    faker.helpers.arrayElement([
      'head',
      'torso',
      'arms',
      'legs',
      'cyber_head',
      'cyber_torso',
      'cyber_arms',
      'cyber_legs',
    ] as const),
    undefined,
  ]),
  damage_dealt: faker.number.float({ min: 0, max: undefined, fractionDigits: 2 }),
  damage_type: faker.helpers.arrayElement([
    'physical',
    'energy',
    'chemical',
    'thermal',
    'emp',
    'cyber',
    'poison',
    'electromagnetic',
  ] as const),
  is_critical: faker.datatype.boolean(),
  modifiers_applied: faker.helpers.arrayElement([
    Array.from({ length: faker.number.int({ min: 1, max: 10 }) }, (_, i) => i + 1).map(() => ({
      modifier_type: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        undefined,
      ]),
      modifier_value: faker.helpers.arrayElement([
        faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
        undefined,
      ]),
    })),
    undefined,
  ]),
  target_status: faker.helpers.arrayElement([
    {
      hp_remaining: faker.helpers.arrayElement([
        faker.number.float({ min: 0, max: undefined, fractionDigits: 2 }),
        undefined,
      ]),
      is_dead: faker.helpers.arrayElement([faker.datatype.boolean(), undefined]),
    },
    undefined,
  ]),
  ...overrideResponse,
})

export const getGetWeaponResponseMock = (overrideResponse: Partial<Weapon> = {}): Weapon => ({
  id: faker.string.alpha({ length: { min: 10, max: 20 } }),
  name: faker.string.alpha({ length: { min: 10, max: 20 } }),
  weapon_class: faker.helpers.arrayElement([
    'pistol',
    'revolver',
    'assault_rifle',
    'smg',
    'shotgun',
    'sniper',
    'lmg',
    'melee',
  ] as const),
  damage: faker.number.float({ min: 1, max: undefined, fractionDigits: 2 }),
  fire_rate: faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
  accuracy: faker.number.float({ min: 0, max: 100, fractionDigits: 2 }),
  magazine_size: faker.helpers.arrayElement([
    faker.number.int({ min: undefined, max: undefined }),
    undefined,
  ]),
  reload_time: faker.helpers.arrayElement([
    faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
    undefined,
  ]),
  movement_penalty: faker.helpers.arrayElement([
    faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
    undefined,
  ]),
  damage_type: faker.helpers.arrayElement([
    faker.helpers.arrayElement([
      'physical',
      'energy',
      'chemical',
      'thermal',
      'emp',
      'cyber',
    ] as const),
    undefined,
  ]),
  penetration: faker.helpers.arrayElement([
    faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
    undefined,
  ]),
  ...overrideResponse,
})

export const getReloadResponseMock = (overrideResponse: Partial<Reload200> = {}): Reload200 => ({
  success: faker.helpers.arrayElement([faker.datatype.boolean(), undefined]),
  reload_time: faker.helpers.arrayElement([
    faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
    undefined,
  ]),
  ammo_loaded: faker.helpers.arrayElement([
    faker.number.int({ min: undefined, max: undefined }),
    undefined,
  ]),
  ...overrideResponse,
})

export const getCheckCoverPenetrationResponseMock = (
  overrideResponse: Partial<CoverPenetrationResult> = {}
): CoverPenetrationResult => ({
  penetrates: faker.helpers.arrayElement([faker.datatype.boolean(), undefined]),
  damage_reduction: faker.helpers.arrayElement([
    faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
    undefined,
  ]),
  cover_destroyed: faker.helpers.arrayElement([faker.datatype.boolean(), undefined]),
  cover_health_remaining: faker.helpers.arrayElement([
    faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
    undefined,
  ]),
  ...overrideResponse,
})

export const getShootMockHandler = (
  overrideResponse?:
    | ShootResult
    | ((
        info: Parameters<Parameters<typeof http.post>[1]>[0]
      ) => Promise<ShootResult> | ShootResult),
  options?: RequestHandlerOptions
) => {
  return http.post(
    '*/gameplay/combat/shoot',
    async info => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getShootResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}

export const getGetWeaponMockHandler = (
  overrideResponse?:
    | Weapon
    | ((info: Parameters<Parameters<typeof http.get>[1]>[0]) => Promise<Weapon> | Weapon),
  options?: RequestHandlerOptions
) => {
  return http.get(
    '*/gameplay/combat/weapons/:weaponId',
    async info => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getGetWeaponResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}

export const getReloadMockHandler = (
  overrideResponse?:
    | Reload200
    | ((info: Parameters<Parameters<typeof http.post>[1]>[0]) => Promise<Reload200> | Reload200),
  options?: RequestHandlerOptions
) => {
  return http.post(
    '*/gameplay/combat/reload',
    async info => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getReloadResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}

export const getCheckCoverPenetrationMockHandler = (
  overrideResponse?:
    | CoverPenetrationResult
    | ((
        info: Parameters<Parameters<typeof http.post>[1]>[0]
      ) => Promise<CoverPenetrationResult> | CoverPenetrationResult),
  options?: RequestHandlerOptions
) => {
  return http.post(
    '*/gameplay/combat/cover-penetration',
    async info => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getCheckCoverPenetrationResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}
export const getCombatMock = () => [
  getShootMockHandler(),
  getGetWeaponMockHandler(),
  getReloadMockHandler(),
  getCheckCoverPenetrationMockHandler(),
]
