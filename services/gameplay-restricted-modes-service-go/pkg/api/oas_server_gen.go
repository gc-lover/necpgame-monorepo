// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// CompleteRestrictedModeSession implements completeRestrictedModeSession operation.
	//
	// Завершает активную сессию режима с ограничениями.
	// Вычисляет награды и обновляет достижения.
	//
	// POST /gameplay/restricted-modes/{sessionId}/complete
	CompleteRestrictedModeSession(ctx context.Context, req *CompleteRestrictedModeSessionReq, params CompleteRestrictedModeSessionParams) (CompleteRestrictedModeSessionRes, error)
	// FailRestrictedModeSession implements failRestrictedModeSession operation.
	//
	// Принудительно завершает сессию режима при провале
	// (смерть персонажа в Ironman режиме и т.д.).
	// Применяет штрафы и обновляет статистику.
	//
	// POST /gameplay/restricted-modes/{sessionId}/fail
	FailRestrictedModeSession(ctx context.Context, req *FailRestrictedModeSessionReq, params FailRestrictedModeSessionParams) (FailRestrictedModeSessionRes, error)
	// GetAvailableRestrictedModes implements getAvailableRestrictedModes operation.
	//
	// Возвращает список всех доступных режимов с
	// ограничениями для текущего игрока.
	// Учитывает уровень персонажа, достижения и текущий
	// статус режимов.
	//
	// GET /gameplay/restricted-modes/available
	GetAvailableRestrictedModes(ctx context.Context) (GetAvailableRestrictedModesRes, error)
	// GetPlayerRestrictedModesStatus implements getPlayerRestrictedModesStatus operation.
	//
	// Возвращает информацию о текущих активных режимах с
	// ограничениями для игрока.
	// Включает прогресс, ограничения и статистику.
	//
	// GET /gameplay/restricted-modes/status
	GetPlayerRestrictedModesStatus(ctx context.Context) (GetPlayerRestrictedModesStatusRes, error)
	// GetRestrictedModesLeaderboard implements getRestrictedModesLeaderboard operation.
	//
	// Возвращает таблицу лучших результатов по различным
	// режимам с ограничениями.
	// Поддерживает фильтрацию по типу режима и временному
	// периоду.
	//
	// GET /gameplay/restricted-modes/leaderboard
	GetRestrictedModesLeaderboard(ctx context.Context, params GetRestrictedModesLeaderboardParams) (GetRestrictedModesLeaderboardRes, error)
	// SelectRestrictedMode implements selectRestrictedMode operation.
	//
	// Активирует выбранный режим с ограничениями для
	// игрока.
	// Проверяет элигибельность и создает новую сессию
	// режима.
	//
	// POST /gameplay/restricted-modes/select
	SelectRestrictedMode(ctx context.Context, req *SelectRestrictedModeReq) (SelectRestrictedModeRes, error)
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
