// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// CreateGuild implements createGuild operation.
	//
	// Create a new guild with the authenticated user as leader.
	//
	// POST /guilds
	CreateGuild(ctx context.Context, req *CreateGuildReq) (CreateGuildRes, error)
	// CreateGuildAnnouncement implements createGuildAnnouncement operation.
	//
	// Create new guild announcement (officer+ only).
	//
	// POST /guilds/{guild_id}/announcements
	CreateGuildAnnouncement(ctx context.Context, req *CreateGuildAnnouncementReq, params CreateGuildAnnouncementParams) (CreateGuildAnnouncementRes, error)
	// DisbandGuild implements disbandGuild operation.
	//
	// Disband guild (leader only, requires confirmation).
	//
	// DELETE /guilds/{guild_id}
	DisbandGuild(ctx context.Context, params DisbandGuildParams) (DisbandGuildRes, error)
	// GetGuild implements getGuild operation.
	//
	// Get detailed information about a specific guild.
	//
	// GET /guilds/{guild_id}
	GetGuild(ctx context.Context, params GetGuildParams) (GetGuildRes, error)
	// GetHealth implements getHealth operation.
	//
	// Get service health status.
	//
	// GET /health
	GetHealth(ctx context.Context) (*HealthResponse, error)
	// ListGuildAnnouncements implements listGuildAnnouncements operation.
	//
	// Get paginated list of guild announcements.
	//
	// GET /guilds/{guild_id}/announcements
	ListGuildAnnouncements(ctx context.Context, params ListGuildAnnouncementsParams) (ListGuildAnnouncementsRes, error)
	// ListGuildMembers implements listGuildMembers operation.
	//
	// Get paginated list of guild members.
	//
	// GET /guilds/{guild_id}/members
	ListGuildMembers(ctx context.Context, params ListGuildMembersParams) (ListGuildMembersRes, error)
	// ListGuilds implements listGuilds operation.
	//
	// Get paginated list of guilds with optional filtering by status, level, reputation.
	//
	// GET /guilds
	ListGuilds(ctx context.Context, params ListGuildsParams) (ListGuildsRes, error)
	// RemoveGuildMember implements removeGuildMember operation.
	//
	// Remove member from guild (leader/officer only).
	//
	// DELETE /guilds/{guild_id}/members/{player_id}
	RemoveGuildMember(ctx context.Context, params RemoveGuildMemberParams) (RemoveGuildMemberRes, error)
	// UpdateGuild implements updateGuild operation.
	//
	// Update guild information (leader only).
	//
	// PUT /guilds/{guild_id}
	UpdateGuild(ctx context.Context, req *UpdateGuildReq, params UpdateGuildParams) (UpdateGuildRes, error)
	// UpdateMemberRole implements updateMemberRole operation.
	//
	// Update member role and permissions (leader/officer only).
	//
	// PUT /guilds/{guild_id}/members/{player_id}
	UpdateMemberRole(ctx context.Context, req *UpdateMemberRoleReq, params UpdateMemberRoleParams) (UpdateMemberRoleRes, error)
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
