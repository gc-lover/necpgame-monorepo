// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// AddItem implements AddItem operation.
	//
	// **Add Item to Inventory**
	// Adds a new item to player's inventory with stack count validation.
	// Handles stack merging, capacity checks, and inventory overflow.
	// **BACKEND NOTE:** Use optimistic locking for concurrent inventory operations.
	// **Performance:** P99 <25ms for single item operations
	// **Validation:** Anti-cheat validation for item legitimacy.
	//
	// POST /api/v1/inventory/{playerId}/items
	AddItem(ctx context.Context, req *AddItemRequest, params AddItemParams) (AddItemRes, error)
	// EquipItem implements EquipItem operation.
	//
	// **Equip Item**
	// Equips an item from inventory to specified equipment slot.
	// Handles equipment conflicts and stat calculations.
	// **BACKEND NOTE:** Update equipment hash for cache invalidation.
	// **Performance:** P99 <25ms for equipment swaps
	// **Validation:** Equipment compatibility and level requirements.
	//
	// PUT /api/v1/inventory/{playerId}/equipment/{itemId}
	EquipItem(ctx context.Context, req *EquipItemRequest, params EquipItemParams) (EquipItemRes, error)
	// GetPlayerEquipment implements GetPlayerEquipment operation.
	//
	// **Get Player Equipment**
	// Retrieves player's equipped items and gear configuration.
	// Used for character display and combat calculations.
	// **BACKEND NOTE:** Cache equipment state for combat performance.
	// **Performance:** P99 <15ms for equipment retrieval
	// **Caching:** In-memory cache with equipment hash validation.
	//
	// GET /api/v1/inventory/{playerId}/equipment
	GetPlayerEquipment(ctx context.Context, params GetPlayerEquipmentParams) (GetPlayerEquipmentRes, error)
	// GetPlayerInventory implements GetPlayerInventory operation.
	//
	// **Get Player Inventory**
	// Retrieves complete player inventory with items, equipment, and metadata.
	// Supports filtering and pagination for large inventories.
	// **BACKEND NOTE:** Use memory-pooled response structures for high-throughput operations.
	// **Performance:** P99 <75ms for full inventory retrieval
	// **Caching:** Redis cache with 95%+ hit rate.
	//
	// GET /api/v1/inventory/{playerId}/items
	GetPlayerInventory(ctx context.Context, params GetPlayerInventoryParams) (GetPlayerInventoryRes, error)
	// HealthCheck implements HealthCheck operation.
	//
	// **System Health Check**
	// Returns service health status and basic system information.
	// Used for load balancer health checks and monitoring systems.
	// **Performance:** Sub-millisecond response time
	// **Caching:** No caching required.
	//
	// GET /health
	HealthCheck(ctx context.Context) (HealthCheckRes, error)
	// NewError creates *ErrRespStatusCode from error returned by handler.
	//
	// Used for common default response.
	NewError(ctx context.Context, err error) *ErrRespStatusCode
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
