openapi: 3.0.3
info:
  title: Leaderboard Service API
  description: 'Enterprise-grade Ranking & Statistics System –¥–ª—è NECPGAME –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.


    ## üéØ **Leaderboard Service Overview**


    Leaderboard Service –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –∏ —Ç–∞–±–ª–∏—Ü –ª–∏–¥–µ—Ä–æ–≤
    –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã NECPGAME —Å enterprise-grade –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å—é.


    ### **–ö–ª—é—á–µ–≤—ã–µ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**

    - **Dynamic Rankings**: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∏ –∏–≥—Ä–æ–∫–æ–≤

    - **Multiple Categories**: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤

    - **Time-based Leaderboards**: –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤

    - **Seasonal Events**: –°–µ–∑–æ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –∏ —Ç—É—Ä–Ω–∏—Ä—ã


    ### **–¢–∏–ø—ã –†–µ–π—Ç–∏–Ω–≥–æ–≤**

    - **Combat Ratings**: –ë–æ–µ–≤—ã–µ —Ä–µ–π—Ç–∏–Ω–≥–∏

    - **Achievement Scores**: –†–µ–π—Ç–∏–Ω–≥–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

    - **Economic Rankings**: –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∏

    - **Social Influence**: –°–æ—Ü–∏–∞–ª—å–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ


    ### **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**

    - **Real-time Updates**: –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

    - **Historical Tracking**: –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ–∫–∏–Ω–≥

    - **Reward Distribution**: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥

    - **Anti-cheat Measures**: –ó–∞—â–∏—Ç–∞ –æ—Ç —á–∏—Ç–æ–≤


    ## üìä **Performance Targets**

    - **P99 Latency**: <25ms –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ä–µ–π—Ç–∏–Ω–≥–∞–º–∏

    - **Throughput**: 40,000+ ranking operations/second

    - **Concurrent Players**: 500,000+ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤

    - **Memory per Leaderboard**: <5MB –¥–ª—è —Ç–æ–ø-1000 –∏–≥—Ä–æ–∫–æ–≤


    ## üîê **Security**

    - JWT RS256 –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

    - Rate limiting –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å–ø–∞–º–∞

    - Input validation –∏ sanitization

    - Audit logging –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

    '
  version: 1.0.0
  contact:
    name: NECPGAME Platform Team
    email: platform@necpgame.com
  license:
    name: Proprietary
    url: https://necpgame.com/license
servers:
- url: https://leaderboard.necpgame.com/api/v1
  description: Production Environment
- url: https://leaderboard-staging.necpgame.com/api/v1
  description: Staging Environment
- url: http://localhost:8080/api/v1
  description: Local Development
security:
- BearerAuth: []
tags:
- name: Leaderboard Management
  description: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü–∞–º–∏ –ª–∏–¥–µ—Ä–æ–≤
- name: Ranking Operations
  description: –û–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ä–µ–π—Ç–∏–Ω–≥–∞–º–∏
- name: Seasonal Events
  description: –°–µ–∑–æ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
- name: Statistics
  description: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- name: Rewards
  description: –ù–∞–≥—Ä–∞–¥—ã –∑–∞ —Ä–µ–π—Ç–∏–Ω–≥–∏
- name: Health
  description: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞
paths:
  /health:
    get:
      summary: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞
      operationId: healthCheck
      tags:
      - Health
      responses:
        '200':
          description: –°–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HealthResponse'
        '503':
          description: –°–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /health/batch:
    post:
      summary: –ü–∞–∫–µ—Ç–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
      operationId: healthBatchCheck
      tags:
      - Health
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/HealthBatchRequest'
      responses:
        '200':
          description: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HealthBatchResponse'
        '400':
          description: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /health/ws:
    get:
      summary: WebSocket –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
      operationId: healthWebSocketCheck
      tags:
      - Health
      responses:
        '101':
          description: WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
        '503':
          description: WebSocket –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /leaderboards:
    post:
      summary: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤
      operationId: createLeaderboard
      tags:
      - Leaderboard Management
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateLeaderboardRequest'
      responses:
        '201':
          description: –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤ —Å–æ–∑–¥–∞–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LeaderboardResponse'
        '400':
          description: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '403':
          description: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    get:
      summary: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç–∞–±–ª–∏—Ü –ª–∏–¥–µ—Ä–æ–≤
      operationId: getLeaderboards
      tags:
      - Leaderboard Management
      parameters:
      - name: category
        in: query
        schema:
          type: string
          enum:
          - combat
          - achievement
          - economic
          - social
          - seasonal
      - name: active
        in: query
        schema:
          type: boolean
          default: true
      - name: limit
        in: query
        schema:
          type: integer
          minimum: 1
          maximum: 100
          default: 20
      - name: offset
        in: query
        schema:
          type: integer
          minimum: 0
          default: 0
      responses:
        '200':
          description: –°–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü –ª–∏–¥–µ—Ä–æ–≤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LeaderboardListResponse'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /leaderboards/{leaderboardId}:
    get:
      summary: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤ –ø–æ ID
      operationId: getLeaderboard
      tags:
      - Leaderboard Management
      parameters:
      - name: leaderboardId
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤ –Ω–∞–π–¥–µ–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LeaderboardResponse'
        '404':
          description: –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    put:
      summary: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤
      operationId: updateLeaderboard
      tags:
      - Leaderboard Management
      parameters:
      - name: leaderboardId
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateLeaderboardRequest'
      responses:
        '200':
          description: –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LeaderboardResponse'
        '403':
          description: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /leaderboards/{leaderboardId}/ranking:
    get:
      summary: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤
      operationId: getLeaderboardRanking
      tags:
      - Ranking Operations
      parameters:
      - name: leaderboardId
        in: path
        required: true
        schema:
          type: string
          format: uuid
      - name: aroundPlayer
        in: query
        schema:
          type: string
          format: uuid
          description: –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–π—Ç–∏–Ω–≥ –≤–æ–∫—Ä—É–≥ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞
      - name: limit
        in: query
        schema:
          type: integer
          minimum: 1
          maximum: 100
          default: 50
      - name: offset
        in: query
        schema:
          type: integer
          minimum: 0
          default: 0
      responses:
        '200':
          description: –†–µ–π—Ç–∏–Ω–≥ —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LeaderboardRankingResponse'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /players/{playerId}/rank:
    get:
      summary: –†–∞–Ω–≥ –∏–≥—Ä–æ–∫–∞ –≤–æ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
      operationId: getPlayerRanks
      tags:
      - Ranking Operations
      parameters:
      - name: playerId
        in: path
        required: true
        schema:
          type: string
          format: uuid
      - name: category
        in: query
        schema:
          type: string
          enum:
          - combat
          - achievement
          - economic
          - social
          - all
          default: all
      responses:
        '200':
          description: –†–∞–Ω–≥–∏ –∏–≥—Ä–æ–∫–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlayerRanksResponse'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /leaderboards/{leaderboardId}/rank/{playerId}:
    get:
      summary: –†–∞–Ω–≥ –∏–≥—Ä–æ–∫–∞ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ
      operationId: getPlayerRank
      tags:
      - Ranking Operations
      parameters:
      - name: leaderboardId
        in: path
        required: true
        schema:
          type: string
          format: uuid
      - name: playerId
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: –†–∞–Ω–≥ –∏–≥—Ä–æ–∫–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlayerRankResponse'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /leaderboards/update:
    post:
      summary: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∏–≥—Ä–æ–∫–∞
      operationId: updatePlayerRank
      tags:
      - Ranking Operations
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateRankRequest'
      responses:
        '200':
          description: –†–µ–π—Ç–∏–Ω–≥ –æ–±–Ω–æ–≤–ª–µ–Ω
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateRankResponse'
        '400':
          description: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /leaderboards/batch-update:
    post:
      summary: –ü–∞–∫–µ—Ç–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
      operationId: batchUpdateRanks
      tags:
      - Ranking Operations
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BatchUpdateRanksRequest'
      responses:
        '200':
          description: –†–µ–π—Ç–∏–Ω–≥–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchUpdateRanksResponse'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /leaderboards/seasonal:
    get:
      summary: –°–µ–∑–æ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤
      operationId: getSeasonalLeaderboards
      tags:
      - Seasonal Events
      parameters:
      - name: season
        in: query
        schema:
          type: string
          description: ID —Å–µ–∑–æ–Ω–∞
      - name: active
        in: query
        schema:
          type: boolean
          default: true
      responses:
        '200':
          description: –°–µ–∑–æ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SeasonalLeaderboardsResponse'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    post:
      summary: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ–∑–æ–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤
      operationId: createSeasonalLeaderboard
      tags:
      - Seasonal Events
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSeasonalLeaderboardRequest'
      responses:
        '201':
          description: –°–µ–∑–æ–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LeaderboardResponse'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /leaderboards/{leaderboardId}/rewards:
    get:
      summary: –ù–∞–≥—Ä–∞–¥—ã –∑–∞ –ø–æ–∑–∏—Ü–∏–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ
      operationId: getLeaderboardRewards
      tags:
      - Rewards
      parameters:
      - name: leaderboardId
        in: path
        required: true
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: –ù–∞–≥—Ä–∞–¥—ã –∑–∞ –ø–æ–∑–∏—Ü–∏–∏
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LeaderboardRewardsResponse'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    post:
      summary: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞–≥—Ä–∞–¥ –∑–∞ –ø–æ–∑–∏—Ü–∏–∏
      operationId: setLeaderboardRewards
      tags:
      - Rewards
      parameters:
      - name: leaderboardId
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SetRewardsRequest'
      responses:
        '200':
          description: –ù–∞–≥—Ä–∞–¥—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LeaderboardRewardsResponse'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /leaderboards/{leaderboardId}/rewards/claim:
    post:
      summary: –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥ –∑–∞ –ø–æ–∑–∏—Ü–∏—é
      operationId: claimLeaderboardRewards
      tags:
      - Rewards
      parameters:
      - name: leaderboardId
        in: path
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ClaimRewardsRequest'
      responses:
        '200':
          description: –ù–∞–≥—Ä–∞–¥—ã –ø–æ–ª—É—á–µ–Ω—ã
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClaimRewardsResponse'
        '400':
          description: –ù–∞–≥—Ä–∞–¥—ã —É–∂–µ –ø–æ–ª—É—á–µ–Ω—ã –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /leaderboards/analytics/summary:
    get:
      summary: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ç–∞–±–ª–∏—Ü –ª–∏–¥–µ—Ä–æ–≤
      operationId: getLeaderboardAnalytics
      tags:
      - Statistics
      parameters:
      - name: period
        in: query
        schema:
          type: string
          enum:
          - daily
          - weekly
          - monthly
          - seasonal
          default: weekly
      - name: leaderboardId
        in: query
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LeaderboardAnalyticsResponse'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /leaderboards/{leaderboardId}/statistics:
    get:
      summary: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤
      operationId: getLeaderboardStatistics
      tags:
      - Statistics
      parameters:
      - name: leaderboardId
        in: path
        required: true
        schema:
          type: string
          format: uuid
      - name: period
        in: query
        schema:
          type: string
          enum:
          - daily
          - weekly
          - monthly
          - alltime
          default: alltime
      responses:
        '200':
          description: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LeaderboardStatisticsResponse'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    CharacterEntity:
      allOf:
      - $ref: '#/components/schemas/GameEntity'
      - type: object
        required:
        - level
        - experience
        - stats
        properties:
          level:
            type: integer
            minimum: 1
            maximum: 100
            description: Character level
            example: 25
          experience:
            type: integer
            minimum: 0
            description: Current experience points
            example: 15420
          stats:
            $ref: '#/components/schemas/CharacterStats'
          cyberware_level:
            type: integer
            minimum: 0
            maximum: 20
            description: Cyberware enhancement level
            example: 8
          reputation:
            type: integer
            minimum: -1000
            maximum: 1000
            description: Faction reputation score
            example: 450
    BaseEntity:
      type: object
      required:
      - id
      - created_at
      - updated_at
      properties:
        id:
          type: string
          format: uuid
          description: Unique identifier
          example: f47ac10b-58cc-4372-a567-0e02b2c3d479
        created_at:
          type: string
          format: date-time
          description: Creation timestamp
          example: '2024-01-15T10:30:00Z'
        updated_at:
          type: string
          format: date-time
          description: Last modification timestamp
          example: '2024-01-15T14:20:00Z'
    OptimisticLock:
      type: object
      properties:
        version:
          type: integer
          minimum: 1
          description: Version for optimistic locking
          example: 1
    ErrorResponse:
      type: object
      required:
      - code
      - message
      properties:
        code:
          type: integer
          minimum: 100
          maximum: 599
          example: 400
        message:
          type: string
          example: Bad request
        details:
          type: object
          description: Additional error details
    HealthResponse:
      type: object
      required:
      - status
      - timestamp
      properties:
        status:
          type: string
          enum:
          - ok
          - degraded
          - critical
          example: ok
        message:
          type: string
          example: Service is healthy
        timestamp:
          type: string
          format: date-time
          example: '2024-01-15T10:30:00Z'
        version:
          type: string
          example: 1.0.0
    HealthBatchRequest:
      type: object
      properties:
        services:
          type: array
          items:
            type: string
          description: List of services to check
    HealthBatchResponse:
      type: object
      properties:
        results:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/HealthResponse'
    LeaderboardEntity:
      type: object
      description: –°—É—â–Ω–æ—Å—Ç—å —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤
      allOf:
      - $ref: '#/components/schemas/BaseEntity'
      - type: object
        required:
        - name
        - category
        - scoringType
        - maxEntries
        properties:
          name:
            type: string
            description: –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤
            maxLength: 100
            example: Global Combat Rating
          description:
            type: string
            description: –û–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤
            maxLength: 500
          category:
            type: string
            description: –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞
            enum:
            - combat
            - achievement
            - economic
            - social
            - seasonal
            example: combat
          scoringType:
            type: string
            description: –¢–∏–ø –ø–æ–¥—Å—á–µ—Ç–∞ –æ—á–∫–æ–≤
            enum:
            - points
            - wins
            - ratio
            - time
            - custom
            example: points
          maxEntries:
            type: integer
            description: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
            minimum: 10
            maximum: 10000
            example: 1000
          resetPeriod:
            type: string
            description: –ü–µ—Ä–∏–æ–¥ —Å–±—Ä–æ—Å–∞
            enum:
            - never
            - daily
            - weekly
            - monthly
            - seasonal
            example: weekly
          startDate:
            type: string
            description: –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞
            format: date-time
          endDate:
            type: string
            description: –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è
            format: date-time
          rewards:
            type: array
            description: –ù–∞–≥—Ä–∞–¥—ã –∑–∞ –ø–æ–∑–∏—Ü–∏–∏
            items:
              $ref: '#/components/schemas/LeaderboardRewardEntity'
          rules:
            type: object
            description: –ü—Ä–∞–≤–∏–ª–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞
            properties:
              minGames:
                type: integer
                description: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä
                minimum: 0
                default: 0
              antiCheatEnabled:
                type: boolean
                description: –í–∫–ª—é—á–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç —á–∏—Ç–æ–≤
                default: true
              allowTies:
                type: boolean
                description: –†–∞–∑—Ä–µ—à–µ–Ω—ã –Ω–∏—á—å–∏
                default: false
          isActive:
            type: boolean
            description: –¢–∞–±–ª–∏—Ü–∞ –∞–∫—Ç–∏–≤–Ω–∞
            default: true
          lastReset:
            type: string
            description: –ü–æ—Å–ª–µ–¥–Ω–∏–π —Å–±—Ä–æ—Å
            format: date-time
          $ref: '#/components/schemas/OptimisticLock'
    LeaderboardRewardEntity:
      type: object
      description: –°—É—â–Ω–æ—Å—Ç—å –Ω–∞–≥—Ä–∞–¥—ã –∑–∞ –ø–æ–∑–∏—Ü–∏—é
      required:
      - position
      - rewards
      properties:
        position:
          type: integer
          description: –ü–æ–∑–∏—Ü–∏—è –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ
          minimum: 1
          example: 1
        rewards:
          type: array
          description: –ù–∞–≥—Ä–∞–¥—ã
          items:
            type: object
            properties:
              type:
                type: string
                enum:
                - currency
                - item
                - title
                - cosmetic
                - badge
                example: currency
              amount:
                type: integer
                minimum: 1
                example: 10000
              itemId:
                type: string
                description: ID –ø—Ä–µ–¥–º–µ—Ç–∞
                format: uuid
    PlayerLeaderboardEntryEntity:
      type: object
      description: –ó–∞–ø–∏—Å—å –∏–≥—Ä–æ–∫–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ –ª–∏–¥–µ—Ä–æ–≤
      allOf:
      - $ref: '#/components/schemas/BaseEntity'
      - type: object
        required:
        - playerId
        - leaderboardId
        - score
        - rank
        properties:
          playerId:
            type: string
            description: ID –∏–≥—Ä–æ–∫–∞
            format: uuid
            example: 123e4567-e89b-12d3-a456-426614174000
          leaderboardId:
            type: string
            description: ID —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤
            format: uuid
            example: 456e7890-e89b-12d3-a456-426614174001
          score:
            type: number
            description: –û—á–∫–∏ –∏–≥—Ä–æ–∫–∞
            example: 15420.5
          rank:
            type: integer
            description: –¢–µ–∫—É—â–∏–π —Ä–∞–Ω–≥
            minimum: 1
            example: 15
          previousRank:
            type: integer
            description: –ü—Ä–µ–¥—ã–¥—É—â–∏–π —Ä–∞–Ω–≥
            minimum: 1
          bestRank:
            type: integer
            description: –õ—É—á—à–∏–π —Ä–∞–Ω–≥
            minimum: 1
          gamesPlayed:
            type: integer
            description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä
            minimum: 0
            example: 150
          lastUpdated:
            type: string
            description: –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
            format: date-time
          rewardsClaimed:
            type: array
            description: –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã
            items:
              type: integer
              description: –ü–æ–∑–∏—Ü–∏—è –Ω–∞–≥—Ä–∞–¥—ã
          isDisqualified:
            type: boolean
            description: –î–∏—Å–∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω
            default: false
          disqualificationReason:
            type: string
            description: –ü—Ä–∏—á–∏–Ω–∞ –¥–∏—Å–∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏
            maxLength: 200
          $ref: '#/components/schemas/OptimisticLock'
    CreateLeaderboardRequest:
      type: object
      required:
      - name
      - category
      - scoringType
      - maxEntries
      properties:
        name:
          type: string
          maxLength: 100
        description:
          type: string
          maxLength: 500
        category:
          type: string
          enum:
          - combat
          - achievement
          - economic
          - social
          - seasonal
        scoringType:
          type: string
          enum:
          - points
          - wins
          - ratio
          - time
          - custom
        maxEntries:
          type: integer
          minimum: 10
          maximum: 10000
        resetPeriod:
          type: string
          enum:
          - never
          - daily
          - weekly
          - monthly
          - seasonal
        startDate:
          type: string
          format: date-time
        endDate:
          type: string
          format: date-time
        rewards:
          type: array
          items:
            $ref: '#/components/schemas/LeaderboardRewardEntity'
        rules:
          type: object
          properties:
            minGames:
              type: integer
              minimum: 0
            antiCheatEnabled:
              type: boolean
            allowTies:
              type: boolean
    UpdateLeaderboardRequest:
      type: object
      properties:
        name:
          type: string
          maxLength: 100
        description:
          type: string
          maxLength: 500
        category:
          type: string
          enum:
          - combat
          - achievement
          - economic
          - social
          - seasonal
        scoringType:
          type: string
          enum:
          - points
          - wins
          - ratio
          - time
          - custom
        maxEntries:
          type: integer
          minimum: 10
          maximum: 10000
        resetPeriod:
          type: string
          enum:
          - never
          - daily
          - weekly
          - monthly
          - seasonal
        startDate:
          type: string
          format: date-time
        endDate:
          type: string
          format: date-time
        rewards:
          type: array
          items:
            $ref: '#/components/schemas/LeaderboardRewardEntity'
        rules:
          type: object
          properties:
            minGames:
              type: integer
              minimum: 0
            antiCheatEnabled:
              type: boolean
            allowTies:
              type: boolean
        isActive:
          type: boolean
    LeaderboardResponse:
      type: object
      properties:
        leaderboard:
          $ref: '#/components/schemas/LeaderboardEntity'
        metadata:
          type: object
          properties:
            createdAt:
              type: string
              format: date-time
            updatedAt:
              type: string
              format: date-time
            totalEntries:
              type: integer
              minimum: 0
    LeaderboardListResponse:
      type: object
      properties:
        leaderboards:
          type: array
          items:
            $ref: '#/components/schemas/LeaderboardEntity'
        pagination:
          type: object
          properties:
            total:
              type: integer
              minimum: 0
            limit:
              type: integer
              minimum: 1
              maximum: 100
            offset:
              type: integer
              minimum: 0
            hasNext:
              type: boolean
    LeaderboardRankingResponse:
      type: object
      properties:
        leaderboardId:
          type: string
          format: uuid
        leaderboardName:
          type: string
        category:
          type: string
        scoringType:
          type: string
        totalEntries:
          type: integer
          minimum: 0
        lastUpdated:
          type: string
          format: date-time
        entries:
          type: array
          items:
            type: object
            properties:
              playerId:
                type: string
                format: uuid
              displayName:
                type: string
              score:
                type: number
              rank:
                type: integer
                minimum: 1
              previousRank:
                type: integer
                minimum: 1
              rankChange:
                type: integer
              lastUpdated:
                type: string
                format: date-time
              isCurrentPlayer:
                type: boolean
                default: false
        pagination:
          type: object
          properties:
            total:
              type: integer
              minimum: 0
            limit:
              type: integer
              minimum: 1
              maximum: 100
            offset:
              type: integer
              minimum: 0
            hasNext:
              type: boolean
    PlayerRanksResponse:
      type: object
      properties:
        playerId:
          type: string
          format: uuid
        ranks:
          type: array
          items:
            type: object
            properties:
              leaderboardId:
                type: string
                format: uuid
              leaderboardName:
                type: string
              category:
                type: string
              rank:
                type: integer
                minimum: 1
              score:
                type: number
              totalEntries:
                type: integer
                minimum: 0
              percentile:
                type: number
                minimum: 0
                maximum: 100
              lastUpdated:
                type: string
                format: date-time
    PlayerRankResponse:
      type: object
      properties:
        playerId:
          type: string
          format: uuid
        leaderboardId:
          type: string
          format: uuid
        leaderboardName:
          type: string
        rank:
          type: integer
          minimum: 1
        score:
          type: number
        totalEntries:
          type: integer
          minimum: 0
        percentile:
          type: number
          minimum: 0
          maximum: 100
        rankChange:
          type: integer
        bestRank:
          type: integer
          minimum: 1
        lastUpdated:
          type: string
          format: date-time
        rewardsAvailable:
          type: array
          items:
            $ref: '#/components/schemas/LeaderboardRewardEntity'
    UpdateRankRequest:
      type: object
      required:
      - playerId
      - leaderboardId
      - score
      properties:
        playerId:
          type: string
          format: uuid
        leaderboardId:
          type: string
          format: uuid
        score:
          type: number
        metadata:
          type: object
          description: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞
          additionalProperties: true
    UpdateRankResponse:
      type: object
      properties:
        playerId:
          type: string
          format: uuid
        leaderboardId:
          type: string
          format: uuid
        oldRank:
          type: integer
          minimum: 1
        newRank:
          type: integer
          minimum: 1
        oldScore:
          type: number
        newScore:
          type: number
        rankChange:
          type: integer
        updatedAt:
          type: string
          format: date-time
    BatchUpdateRanksRequest:
      type: object
      required:
      - updates
      properties:
        updates:
          type: array
          description: –ú–∞—Å—Å–∏–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
          items:
            $ref: '#/components/schemas/UpdateRankRequest'
          minItems: 1
          maxItems: 100
    BatchUpdateRanksResponse:
      type: object
      properties:
        results:
          type: array
          items:
            $ref: '#/components/schemas/UpdateRankResponse'
        totalProcessed:
          type: integer
          minimum: 0
        errors:
          type: array
          items:
            type: object
            properties:
              playerId:
                type: string
                format: uuid
              leaderboardId:
                type: string
                format: uuid
              error:
                type: string
    SeasonalLeaderboardsResponse:
      type: object
      properties:
        currentSeason:
          type: object
          properties:
            seasonId:
              type: string
            name:
              type: string
            startDate:
              type: string
              format: date-time
            endDate:
              type: string
              format: date-time
            isActive:
              type: boolean
        leaderboards:
          type: array
          items:
            $ref: '#/components/schemas/LeaderboardEntity'
    CreateSeasonalLeaderboardRequest:
      type: object
      required:
      - seasonId
      - leaderboard
      properties:
        seasonId:
          type: string
          description: ID —Å–µ–∑–æ–Ω–∞
        leaderboard:
          $ref: '#/components/schemas/CreateLeaderboardRequest'
    LeaderboardRewardsResponse:
      type: object
      properties:
        leaderboardId:
          type: string
          format: uuid
        rewards:
          type: array
          items:
            $ref: '#/components/schemas/LeaderboardRewardEntity'
    SetRewardsRequest:
      type: object
      required:
      - rewards
      properties:
        rewards:
          type: array
          items:
            $ref: '#/components/schemas/LeaderboardRewardEntity'
          minItems: 1
          maxItems: 100
    ClaimRewardsRequest:
      type: object
      required:
      - playerId
      properties:
        playerId:
          type: string
          format: uuid
    ClaimRewardsResponse:
      type: object
      properties:
        playerId:
          type: string
          format: uuid
        leaderboardId:
          type: string
          format: uuid
        rank:
          type: integer
          minimum: 1
        rewards:
          type: array
          items:
            $ref: '#/components/schemas/LeaderboardRewardEntity'
        claimedAt:
          type: string
          format: date-time
    LeaderboardAnalyticsResponse:
      type: object
      properties:
        period:
          type: string
          enum:
          - daily
          - weekly
          - monthly
          - seasonal
        totalLeaderboards:
          type: integer
          minimum: 0
        totalEntries:
          type: integer
          minimum: 0
        averageScore:
          type: number
        topCategories:
          type: array
          items:
            type: object
            properties:
              category:
                type: string
              count:
                type: integer
                minimum: 0
              averageScore:
                type: number
        activityTrends:
          type: object
          additionalProperties:
            type: integer
            minimum: 0
    LeaderboardStatisticsResponse:
      type: object
      properties:
        leaderboardId:
          type: string
          format: uuid
        leaderboardName:
          type: string
        period:
          type: string
        totalEntries:
          type: integer
          minimum: 0
        averageScore:
          type: number
        medianScore:
          type: number
        topScore:
          type: number
        scoreDistribution:
          type: object
          properties:
            excellent:
              type: integer
              minimum: 0
              description: –¢–æ–ø 10%
            good:
              type: integer
              minimum: 0
              description: 10-25%
            average:
              type: integer
              minimum: 0
              description: 25-75%
            below_average:
              type: integer
              minimum: 0
              description: –ù–∏–∂–µ —Å—Ä–µ–¥–Ω–µ–≥–æ
        rankStability:
          type: number
          minimum: 0
          maximum: 1
          description: –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞–Ω–≥–æ–≤ (0-1)
        lastUpdated:
          type: string
          format: date-time
    GameEntity:
      type: object
      required:
      - id
      - created_at
      - updated_at
      properties:
        id:
          type: string
          format: uuid
          description: Unique identifier for game entity
          example: f47ac10b-58cc-4372-a567-0e02b2c3d479
        created_at:
          type: string
          format: date-time
          description: Entity creation timestamp
          example: '2024-01-15T10:30:00Z'
        updated_at:
          type: string
          format: date-time
          description: Last modification timestamp
          example: '2024-01-15T14:20:00Z'
        version:
          type: integer
          minimum: 1
          description: Optimistic locking version for concurrent operations
          example: 1
    CharacterStats:
      type: object
      required:
      - health
      - stamina
      - strength
      - agility
      - intelligence
      - charisma
      properties:
        health:
          type: integer
          minimum: 0
          maximum: 1000
          description: Current health points
          example: 850
        max_health:
          type: integer
          minimum: 1
          maximum: 1000
          description: Maximum health points
          example: 900
        stamina:
          type: integer
          minimum: 0
          maximum: 500
          description: Current stamina points
          example: 320
        max_stamina:
          type: integer
          minimum: 1
          maximum: 500
          description: Maximum stamina points
          example: 350
        strength:
          type: integer
          minimum: 1
          maximum: 100
          description: Physical strength attribute
          example: 75
        agility:
          type: integer
          minimum: 1
          maximum: 100
          description: Speed and reflexes attribute
          example: 68
        intelligence:
          type: integer
          minimum: 1
          maximum: 100
          description: Mental acuity attribute
          example: 82
        charisma:
          type: integer
          minimum: 1
          maximum: 100
          description: Social influence attribute
          example: 45
        perception:
          type: integer
          minimum: 1
          maximum: 100
          description: Awareness and detection attribute
          example: 71
        luck:
          type: integer
          minimum: 1
          maximum: 100
          description: Fortune and probability modifier
          example: 33
    CombatActionEntity:
      allOf:
      - $ref: '#/components/schemas/GameEntity'
      - type: object
        required:
        - action_type
        - source_character_id
        - target_character_id
        - damage_dealt
        properties:
          action_type:
            type: string
            enum:
            - attack
            - defend
            - ability
            - item
            - flee
            description: Type of combat action
            example: attack
          source_character_id:
            type: string
            format: uuid
            description: Character performing the action
            example: f47ac10b-58cc-4372-a567-0e02b2c3d479
          target_character_id:
            type: string
            format: uuid
            description: Character receiving the action
            example: a1b2c3d4-e5f6-7890-abcd-ef1234567890
          damage_dealt:
            type: integer
            minimum: 0
            description: Damage points inflicted
            example: 145
          accuracy_roll:
            type: integer
            minimum: 0
            maximum: 100
            description: Accuracy percentage for the action
            example: 87
          critical_hit:
            type: boolean
            description: Whether this was a critical hit
            example: false
          status_effects:
            type: array
            items:
              $ref: '#/components/schemas/StatusEffect'
            description: Status effects applied by this action
    StatusEffect:
      type: object
      required:
      - effect_type
      - duration
      - potency
      properties:
        effect_type:
          type: string
          enum:
          - poison
          - bleed
          - stun
          - buff_strength
          - buff_agility
          - heal_over_time
          - damage_over_time
          description: Type of status effect
          example: buff_strength
        duration:
          type: integer
          minimum: 0
          description: Effect duration in combat rounds
          example: 3
        potency:
          type: integer
          minimum: 1
          maximum: 100
          description: Effect strength percentage
          example: 25
        source:
          type: string
          enum:
          - ability
          - item
          - environment
          - cyberware
          description: Source of the effect
          example: ability
    AbilityEntity:
      allOf:
      - $ref: '#/components/schemas/GameEntity'
      - type: object
        required:
        - name
        - ability_type
        - cooldown
        - mana_cost
        properties:
          name:
            type: string
            minLength: 1
            maxLength: 50
            description: Ability name
            example: Neural Overload
          ability_type:
            type: string
            enum:
            - offensive
            - defensive
            - healing
            - utility
            - passive
            description: Category of ability
            example: offensive
          cooldown:
            type: integer
            minimum: 0
            description: Cooldown in combat rounds
            example: 3
          mana_cost:
            type: integer
            minimum: 0
            description: Mana/stamina cost to use
            example: 45
          damage_type:
            type: string
            enum:
            - physical
            - energy
            - chemical
            - cyber
            - elemental
            description: Type of damage dealt
            example: cyber
          range:
            type: integer
            minimum: 0
            description: Ability range in game units
            example: 25
          area_effect:
            type: boolean
            description: Whether ability affects multiple targets
            example: false
    InventoryItemEntity:
      allOf:
      - $ref: '#/components/schemas/GameEntity'
      - type: object
        required:
        - item_id
        - quantity
        - durability
        properties:
          item_id:
            type: string
            format: uuid
            description: Reference to item definition
            example: b2c3d4e5-f6g7-8901-bcde-f23456789012
          quantity:
            type: integer
            minimum: 1
            description: Number of items in stack
            example: 5
          durability:
            type: integer
            minimum: 0
            maximum: 100
            description: Item condition percentage
            example: 87
          equipped:
            type: boolean
            description: Whether item is currently equipped
            example: true
          enhancement_level:
            type: integer
            minimum: 0
            maximum: 10
            description: Item enhancement/modification level
            example: 2
    QuestEntity:
      allOf:
      - $ref: '#/components/schemas/GameEntity'
      - type: object
      - type: object
        required:
        - title
        - description
        - quest_type
        - status
        - objectives
        properties:
          title:
            type: string
            minLength: 1
            maxLength: 100
            description: Quest title
            example: Corporate Espionage
          description:
            type: string
            minLength: 1
            maxLength: 1000
            description: Detailed quest description
            example: Infiltrate Arasaka corporation headquarters and extract sensitive
              data...
          quest_type:
            type: string
            enum:
            - main_story
            - side_quest
            - daily
            - event
            - faction
            description: Category of quest
            example: faction
          status:
            type: string
            enum:
            - available
            - active
            - completed
            - failed
            - expired
            description: Current quest status
            example: active
          objectives:
            type: array
            items:
              $ref: '#/components/schemas/QuestObjective'
            minItems: 1
            description: Quest completion objectives
          rewards:
            $ref: '#/components/schemas/QuestRewards'
          time_limit:
            type: integer
            minimum: 0
            description: Time limit in hours (0 = no limit)
            example: 168
          faction_id:
            type: string
            format: uuid
            description: Associated faction
            example: c3d4e5f6-g7h8-9012-cdef-345678901234
    QuestObjective:
      type: object
      required:
      - description
      - objective_type
      - current_progress
      - target_progress
      properties:
        description:
          type: string
          minLength: 1
          maxLength: 200
          description: Objective description
          example: Hack 3 corporate terminals
        objective_type:
          type: string
          enum:
          - kill
          - collect
          - deliver
          - explore
          - interact
          - hack
          - craft
          description: Type of objective
          example: hack
        current_progress:
          type: integer
          minimum: 0
          description: Current completion progress
          example: 2
        target_progress:
          type: integer
          minimum: 1
          description: Required completion target
          example: 3
    QuestRewards:
      type: object
      properties:
        experience:
          type: integer
          minimum: 0
          description: Experience points reward
          example: 2500
        currency:
          type: integer
          minimum: 0
          description: Currency reward
          example: 15000
        items:
          type: array
          items:
            $ref: '#/components/schemas/InventoryItemEntity'
          description: Item rewards
        reputation:
          type: integer
          minimum: -1000
          maximum: 1000
          description: Faction reputation change
          example: 150
    InfrastructureEntity:
      type: object
      required:
      - id
      - created_at
      - updated_at
      properties:
        id:
          type: string
          format: uuid
          description: Unique identifier for infrastructure entity
          example: f47ac10b-58cc-4372-a567-0e02b2c3d479
        created_at:
          type: string
          format: date-time
          description: Entity creation timestamp
          example: '2024-01-15T10:30:00Z'
        updated_at:
          type: string
          format: date-time
          description: Last modification timestamp
          example: '2024-01-15T14:20:00Z'
        version:
          type: integer
          minimum: 1
          description: Optimistic locking version for concurrent operations
          example: 1
    ConfigurationEntity:
      allOf:
      - $ref: '#/components/schemas/InfrastructureEntity'
      - type: object
        required:
        - config_key
        - config_value
        - config_type
        - environment
        properties:
          config_key:
            type: string
            minLength: 1
            maxLength: 100
            pattern: ^[a-zA-Z0-9_\-\.]+$
            description: Configuration key
            example: game.max_players_per_server
          config_value:
            type: string
            description: Configuration value (stored as string)
            example: '1000'
          config_type:
            type: string
            enum:
            - string
            - integer
            - float
            - boolean
            - json
            description: Data type of the value
            example: integer
          environment:
            type: string
            enum:
            - development
            - staging
            - production
            - all
            description: Environment this config applies to
            example: production
          description:
            type: string
            maxLength: 500
            description: Description of what this config controls
            example: Maximum number of players allowed per game server
          default_value:
            type: string
            description: Default value if not set
            example: '500'
          validation_rules:
            type: object
            description: Validation rules for the value
            properties:
              min_value:
                type: number
                description: Minimum allowed value
                example: 1
              max_value:
                type: number
                description: Maximum allowed value
                example: 10000
              allowed_values:
                type: array
                items:
                  type: string
                description: List of allowed values
                example:
                - '100'
                - '500'
                - '1000'
                - '2000'
          is_encrypted:
            type: boolean
            description: Whether value is encrypted
            example: false
          last_modified_by:
            type: string
            format: uuid
            description: User who last modified this config
            example: g7h8i9j0-k1l2-3456-0123-456789012345
          requires_restart:
            type: boolean
            description: Whether server restart is required after change
            example: true
    AuditLogEntity:
      allOf:
      - $ref: '#/components/schemas/InfrastructureEntity'
      - type: object
        required:
        - event_type
        - actor_id
        - resource_type
        - action
        - severity
        properties:
          event_type:
            type: string
            enum:
            - user_action
            - system_event
            - security_event
            - admin_action
            - api_call
            description: Category of audit event
            example: user_action
          actor_id:
            type: string
            format: uuid
            description: User/system that performed the action
            example: b2c3d4e5-f6g7-8901-bcde-f23456789012
          actor_type:
            type: string
            enum:
            - user
            - system
            - admin
            - api_client
            description: Type of actor
            example: user
          resource_type:
            type: string
            enum:
            - user
            - session
            - character
            - guild
            - item
            - transaction
            - quest
            - chat
            - file
            description: Type of resource affected
            example: character
          resource_id:
            type: string
            format: uuid
            description: Specific resource that was affected
            example: c3d4e5f6-g7h8-9012-cdef-345678901234
          action:
            type: string
            enum:
            - create
            - read
            - update
            - delete
            - login
            - logout
            - ban
            - unban
            - transfer
            - execute
            description: Action performed
            example: update
          old_values:
            type: object
            description: Previous state of modified fields
            example:
              level: 24
              experience: 12000
          new_values:
            type: object
            description: New state of modified fields
            example:
              level: 25
              experience: 12500
          severity:
            type: string
            enum:
            - low
            - medium
            - high
            - critical
            description: Security/impact severity
            example: low
          ip_address:
            type: string
            description: IP address of the actor
            example: 192.168.1.100
          user_agent:
            type: string
            description: User agent of the actor
            example: NECPGAME Client v1.2.3
          location:
            type: string
            description: Approximate location
            example: Night City, NC
          success:
            type: boolean
            description: Whether the action succeeded
            example: true
          error_message:
            type: string
            description: Error message if action failed
            example: Insufficient permissions
          metadata:
            type: object
            description: Additional audit data
            properties:
              request_id:
                type: string
                description: Unique request identifier
                example: req_abc123def456
              session_id:
                type: string
                format: uuid
                description: Associated session ID
                example: d4e5f6g7-h8i9-0123-def0-456789012345
              api_endpoint:
                type: string
                description: API endpoint called
                example: /api/v1/characters/upgrade
              response_time_ms:
                type: integer
                description: API response time
                example: 45
    UserAccountEntity:
      allOf:
      - $ref: '#/components/schemas/InfrastructureEntity'
      - type: object
        required:
        - username
        - email
        - account_status
        - registration_method
        properties:
          username:
            type: string
            minLength: 3
            maxLength: 30
            pattern: ^[a-zA-Z0-9_-]+$
            description: Unique username for login
            example: nightrunner2077
          email:
            type: string
            format: email
            description: Primary email address
            example: nightrunner@necpgame.com
          email_verified:
            type: boolean
            description: Whether email is verified
            example: true
          email_verification_token:
            type: string
            description: Token for email verification
            example: abc123def456
          password_hash:
            type: string
            description: Bcrypt password hash
            example: $2b$10$...
          account_status:
            type: string
            enum:
            - active
            - suspended
            - banned
            - pending_verification
            - deactivated
            description: Account status
            example: active
          registration_method:
            type: string
            enum:
            - email_password
            - google_oauth
            - discord_oauth
            - steam_oauth
            - guest
            description: How user registered
            example: email_password
          registration_ip:
            type: string
            description: IP address used during registration
            example: 192.168.1.100
          last_login_ip:
            type: string
            description: IP address of last login
            example: 10.0.0.50
          last_login_at:
            type: string
            format: date-time
            description: Timestamp of last successful login
            example: '2024-01-15T14:20:00Z'
          login_count:
            type: integer
            minimum: 0
            description: Total number of logins
            example: 147
          failed_login_attempts:
            type: integer
            minimum: 0
            description: Recent failed login attempts
            example: 0
          account_locked_until:
            type: string
            format: date-time
            description: When account lock expires
            example: '2024-01-15T16:00:00Z'
          two_factor_enabled:
            type: boolean
            description: Whether 2FA is enabled
            example: true
          two_factor_secret:
            type: string
            description: TOTP secret for 2FA
            example: JBSWY3DPEHPK3PXP
          recovery_email:
            type: string
            format: email
            description: Backup email for account recovery
            example: backup@necpgame.com
          preferred_language:
            type: string
            enum:
            - en
            - es
            - zh
            - ja
            - ru
            - de
            - fr
            - pl
            - ko
            - pt
            description: User's preferred language
            example: en
    SessionEntity:
      allOf:
      - $ref: '#/components/schemas/InfrastructureEntity'
      - type: object
        required:
        - user_id
        - session_token
        - ip_address
        - user_agent
        - expires_at
        properties:
          user_id:
            type: string
            format: uuid
            description: User this session belongs to
            example: a1b2c3d4-e5f6-7890-abcd-ef1234567890
          session_token:
            type: string
            minLength: 32
            maxLength: 128
            description: Unique session identifier/token
            example: abc123def456ghi789jkl012mno345pqr678stu901vwx
          refresh_token:
            type: string
            minLength: 32
            maxLength: 128
            description: Token for refreshing session
            example: yz234abc567def890ghi123jkl456mno789pqr012stu
          ip_address:
            type: string
            description: Client IP address
            example: 192.168.1.100
          user_agent:
            type: string
            description: Client user agent string
            example: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36
          device_fingerprint:
            type: string
            description: Unique device identifier
            example: fp_abcdef1234567890
          location:
            type: string
            description: Approximate location based on IP
            example: New York, US
          expires_at:
            type: string
            format: date-time
            description: When session expires
            example: '2024-01-15T16:20:00Z'
          is_active:
            type: boolean
            description: Whether session is currently active
            example: true
          last_activity_at:
            type: string
            format: date-time
            description: Last user activity in this session
            example: '2024-01-15T15:45:00Z'
          security_level:
            type: string
            enum:
            - standard
            - elevated
            - maximum
            description: Security level of session
            example: standard
          session_metadata:
            type: object
            description: Additional session data
            properties:
              game_version:
                type: string
                description: Client game version
                example: 1.2.3
              platform:
                type: string
                enum:
                - windows
                - macos
                - linux
                - ios
                - android
                - web
                description: Client platform
                example: windows
              vpn_detected:
                type: boolean
                description: Whether VPN usage was detected
                example: false
    ApiKeyEntity:
      allOf:
      - $ref: '#/components/schemas/InfrastructureEntity'
      - type: object
        required:
        - owner_id
        - name
        - key_hash
        - permissions
        - status
        properties:
          owner_id:
            type: string
            format: uuid
            description: User or service that owns this API key
            example: e5f6g7h8-i9j0-1234-ef01-567890123456
          name:
            type: string
            minLength: 1
            maxLength: 50
            description: Human-readable name for the key
            example: Mobile App Key
          description:
            type: string
            maxLength: 200
            description: Description of key usage
            example: API key for mobile application authentication
          key_hash:
            type: string
            description: SHA-256 hash of the actual API key
            example: a665a45920422f9d417e4867efdc4fb8a04a1f3fff1fa07e998e86f7f7a27ae3
          key_prefix:
            type: string
            minLength: 8
            maxLength: 8
            description: First 8 characters of API key for identification
            example: ncp_1a2b
          permissions:
            type: array
            items:
              type: string
              enum:
              - read_user
              - write_user
              - read_character
              - write_character
              - read_inventory
              - write_inventory
              - admin
            description: Granted permissions
            example:
            - read_user
            - read_character
            - read_inventory
          status:
            type: string
            enum:
            - active
            - suspended
            - revoked
            - expired
            description: API key status
            example: active
          expires_at:
            type: string
            format: date-time
            description: When key expires (null = never)
            example: '2025-01-15T10:30:00Z'
          last_used_at:
            type: string
            format: date-time
            description: Last time key was used
            example: '2024-01-15T14:20:00Z'
          usage_count:
            type: integer
            minimum: 0
            description: Total API calls made with this key
            example: 15420
          rate_limit:
            type: integer
            minimum: 1
            description: Requests per minute allowed
            example: 60
          allowed_ips:
            type: array
            items:
              type: string
            description: IP addresses allowed to use this key
            example:
            - 192.168.1.0/24
            - 10.0.0.1
          metadata:
            type: object
            description: Additional key metadata
            properties:
              created_by:
                type: string
                format: uuid
                description: User who created this key
                example: f6g7h8i9-j0k1-2345-f012-678901234567
              application:
                type: string
                description: Application using this key
                example: NECPGAME Mobile App
              environment:
                type: string
                enum:
                - development
                - staging
                - production
                description: Environment this key is for
                example: production
    ServiceHealthEntity:
      allOf:
      - $ref: '#/components/schemas/InfrastructureEntity'
      - type: object
        required:
        - service_name
        - status
        - response_time_ms
        - timestamp
        properties:
          service_name:
            type: string
            minLength: 1
            maxLength: 50
            description: Name of the service being monitored
            example: auth-service
          status:
            type: string
            enum:
            - healthy
            - degraded
            - unhealthy
            - down
            - maintenance
            description: Current health status
            example: healthy
          response_time_ms:
            type: integer
            minimum: 0
            description: Response time in milliseconds
            example: 45
          timestamp:
            type: string
            format: date-time
            description: When this health check was performed
            example: '2024-01-15T15:30:00Z'
          uptime_seconds:
            type: integer
            minimum: 0
            description: Service uptime in seconds
            example: 86400
          memory_usage_mb:
            type: integer
            minimum: 0
            description: Current memory usage in MB
            example: 256
          memory_usage_percent:
            type: number
            minimum: 0
            maximum: 100
            description: Memory usage percentage
            example: 23.5
          cpu_usage_percent:
            type: number
            minimum: 0
            maximum: 100
            description: CPU usage percentage
            example: 15.2
          active_connections:
            type: integer
            minimum: 0
            description: Number of active connections
            example: 1250
          queue_depth:
            type: integer
            minimum: 0
            description: Number of queued requests
            example: 5
          error_rate_percent:
            type: number
            minimum: 0
            maximum: 100
            description: Error rate percentage
            example: 0.1
          version:
            type: string
            description: Service version
            example: 1.2.3
          environment:
            type: string
            enum:
            - development
            - staging
            - production
            description: Deployment environment
            example: production
          checks:
            type: array
            items:
              $ref: '#/components/schemas/HealthCheck'
            description: Detailed health checks
    HealthCheck:
      type: object
      required:
      - check_name
      - status
      - response_time_ms
      properties:
        check_name:
          type: string
          minLength: 1
          maxLength: 50
          description: Name of the health check
          example: database_connection
        status:
          type: string
          enum:
          - pass
          - warn
          - fail
          description: Health check result
          example: pass
        response_time_ms:
          type: integer
          minimum: 0
          description: Check response time
          example: 12
        message:
          type: string
          maxLength: 200
          description: Check result message
          example: Database connection successful
        details:
          type: object
          description: Additional check details
          example:
            connection_pool_size: 10
            active_connections: 3
    NotificationQueueEntity:
      allOf:
      - $ref: '#/components/schemas/InfrastructureEntity'
      - type: object
        required:
        - notification_type
        - recipient_id
        - content
        - priority
        - status
        properties:
          notification_type:
            type: string
            enum:
            - email
            - push
            - in_game
            - sms
            - webhook
            description: Type of notification
            example: email
          recipient_id:
            type: string
            format: uuid
            description: User receiving the notification
            example: a1b2c3d4-e5f6-7890-abcd-ef1234567890
          recipient_contact:
            type: string
            description: Contact info (email, phone, etc.)
            example: user@necpgame.com
          content:
            type: object
            description: Notification content
            required:
            - subject
            - body
            properties:
              subject:
                type: string
                minLength: 1
                maxLength: 100
                description: Notification subject/title
                example: Quest Completed!
              body:
                type: string
                minLength: 1
                maxLength: 2000
                description: Notification body/content
                example: Congratulations! You have completed the 'Corporate Espionage'
                  quest.
              template_id:
                type: string
                description: Template used for notification
                example: quest_completion_v2
          priority:
            type: string
            enum:
            - low
            - normal
            - high
            - critical
            description: Notification priority
            example: normal
          status:
            type: string
            enum:
            - queued
            - processing
            - sent
            - delivered
            - failed
            - cancelled
            description: Delivery status
            example: queued
          scheduled_for:
            type: string
            format: date-time
            description: When to send notification (null = immediate)
            example: '2024-01-15T16:00:00Z'
          sent_at:
            type: string
            format: date-time
            description: When notification was sent
            example: '2024-01-15T15:45:00Z'
          delivered_at:
            type: string
            format: date-time
            description: When notification was delivered
            example: '2024-01-15T15:45:02Z'
          retry_count:
            type: integer
            minimum: 0
            description: Number of delivery attempts
            example: 0
          max_retries:
            type: integer
            minimum: 0
            maximum: 5
            description: Maximum retry attempts
            example: 3
          error_message:
            type: string
            description: Delivery error message
            example: SMTP server timeout
          metadata:
            type: object
            description: Additional notification data
            properties:
              campaign_id:
                type: string
                description: Marketing campaign ID
                example: quest_reminder_2024
              source_service:
                type: string
                description: Service that triggered notification
                example: quest-service
              user_preferences:
                type: object
                description: User's notification preferences
                example:
                  email_enabled: true
                  push_enabled: false
