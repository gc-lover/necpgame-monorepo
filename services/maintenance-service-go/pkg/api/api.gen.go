// Package api provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.5.1 DO NOT EDIT.
package api

import (
	"context"
	"fmt"
	"net/http"
	"time"

	"github.com/gorilla/mux"
	"github.com/oapi-codegen/runtime"
	openapi_types "github.com/oapi-codegen/runtime/types"
)

const (
	BearerAuthScopes = "BearerAuth.Scopes"
)

// Defines values for CreateMaintenanceWindowRequestMaintenanceType.
const (
	CreateMaintenanceWindowRequestMaintenanceTypeEMERGENCY CreateMaintenanceWindowRequestMaintenanceType = "EMERGENCY"
	CreateMaintenanceWindowRequestMaintenanceTypeHOTFIX    CreateMaintenanceWindowRequestMaintenanceType = "HOT_FIX"
	CreateMaintenanceWindowRequestMaintenanceTypeROLLBACK  CreateMaintenanceWindowRequestMaintenanceType = "ROLLBACK"
	CreateMaintenanceWindowRequestMaintenanceTypeSCHEDULED CreateMaintenanceWindowRequestMaintenanceType = "SCHEDULED"
	CreateMaintenanceWindowRequestMaintenanceTypeUPGRADE   CreateMaintenanceWindowRequestMaintenanceType = "UPGRADE"
)

// Defines values for MaintenanceEventEventType.
const (
	WindowCancelled  MaintenanceEventEventType = "window-cancelled"
	WindowCompleted  MaintenanceEventEventType = "window-completed"
	WindowCompleting MaintenanceEventEventType = "window-completing"
	WindowCreated    MaintenanceEventEventType = "window-created"
	WindowScheduled  MaintenanceEventEventType = "window-scheduled"
	WindowStarted    MaintenanceEventEventType = "window-started"
	WindowStarting   MaintenanceEventEventType = "window-starting"
)

// Defines values for MaintenanceNotificationNotificationType.
const (
	MaintenanceNotificationNotificationTypeCOMPLETED    MaintenanceNotificationNotificationType = "COMPLETED"
	MaintenanceNotificationNotificationTypeSCHEDULED1H  MaintenanceNotificationNotificationType = "SCHEDULED_1H"
	MaintenanceNotificationNotificationTypeSCHEDULED24H MaintenanceNotificationNotificationType = "SCHEDULED_24H"
	MaintenanceNotificationNotificationTypeSTARTED      MaintenanceNotificationNotificationType = "STARTED"
	MaintenanceNotificationNotificationTypeSTARTING     MaintenanceNotificationNotificationType = "STARTING"
)

// Defines values for MaintenanceWindowMaintenanceType.
const (
	MaintenanceWindowMaintenanceTypeEMERGENCY MaintenanceWindowMaintenanceType = "EMERGENCY"
	MaintenanceWindowMaintenanceTypeHOTFIX    MaintenanceWindowMaintenanceType = "HOT_FIX"
	MaintenanceWindowMaintenanceTypeROLLBACK  MaintenanceWindowMaintenanceType = "ROLLBACK"
	MaintenanceWindowMaintenanceTypeSCHEDULED MaintenanceWindowMaintenanceType = "SCHEDULED"
	MaintenanceWindowMaintenanceTypeUPGRADE   MaintenanceWindowMaintenanceType = "UPGRADE"
)

// Defines values for MaintenanceWindowStatus.
const (
	MaintenanceWindowStatusACTIVE     MaintenanceWindowStatus = "ACTIVE"
	MaintenanceWindowStatusCANCELLED  MaintenanceWindowStatus = "CANCELLED"
	MaintenanceWindowStatusCOMPLETED  MaintenanceWindowStatus = "COMPLETED"
	MaintenanceWindowStatusCOMPLETING MaintenanceWindowStatus = "COMPLETING"
	MaintenanceWindowStatusNOTIFIED   MaintenanceWindowStatus = "NOTIFIED"
	MaintenanceWindowStatusPLANNED    MaintenanceWindowStatus = "PLANNED"
	MaintenanceWindowStatusSTARTING   MaintenanceWindowStatus = "STARTING"
)

// Defines values for SendMaintenanceNotificationRequestNotificationType.
const (
	SendMaintenanceNotificationRequestNotificationTypeCOMPLETED    SendMaintenanceNotificationRequestNotificationType = "COMPLETED"
	SendMaintenanceNotificationRequestNotificationTypeSCHEDULED1H  SendMaintenanceNotificationRequestNotificationType = "SCHEDULED_1H"
	SendMaintenanceNotificationRequestNotificationTypeSCHEDULED24H SendMaintenanceNotificationRequestNotificationType = "SCHEDULED_24H"
	SendMaintenanceNotificationRequestNotificationTypeSTARTED      SendMaintenanceNotificationRequestNotificationType = "STARTED"
	SendMaintenanceNotificationRequestNotificationTypeSTARTING     SendMaintenanceNotificationRequestNotificationType = "STARTING"
)

// Defines values for UpdateMaintenanceWindowRequestStatus.
const (
	UpdateMaintenanceWindowRequestStatusACTIVE     UpdateMaintenanceWindowRequestStatus = "ACTIVE"
	UpdateMaintenanceWindowRequestStatusCANCELLED  UpdateMaintenanceWindowRequestStatus = "CANCELLED"
	UpdateMaintenanceWindowRequestStatusCOMPLETED  UpdateMaintenanceWindowRequestStatus = "COMPLETED"
	UpdateMaintenanceWindowRequestStatusCOMPLETING UpdateMaintenanceWindowRequestStatus = "COMPLETING"
	UpdateMaintenanceWindowRequestStatusNOTIFIED   UpdateMaintenanceWindowRequestStatus = "NOTIFIED"
	UpdateMaintenanceWindowRequestStatusPLANNED    UpdateMaintenanceWindowRequestStatus = "PLANNED"
	UpdateMaintenanceWindowRequestStatusSTARTING   UpdateMaintenanceWindowRequestStatus = "STARTING"
)

// Defines values for ListMaintenanceWindowsParamsMaintenanceType.
const (
	EMERGENCY ListMaintenanceWindowsParamsMaintenanceType = "EMERGENCY"
	HOTFIX    ListMaintenanceWindowsParamsMaintenanceType = "HOT_FIX"
	ROLLBACK  ListMaintenanceWindowsParamsMaintenanceType = "ROLLBACK"
	SCHEDULED ListMaintenanceWindowsParamsMaintenanceType = "SCHEDULED"
	UPGRADE   ListMaintenanceWindowsParamsMaintenanceType = "UPGRADE"
)

// Defines values for ListMaintenanceWindowsParamsStatus.
const (
	ACTIVE     ListMaintenanceWindowsParamsStatus = "ACTIVE"
	CANCELLED  ListMaintenanceWindowsParamsStatus = "CANCELLED"
	COMPLETED  ListMaintenanceWindowsParamsStatus = "COMPLETED"
	COMPLETING ListMaintenanceWindowsParamsStatus = "COMPLETING"
	NOTIFIED   ListMaintenanceWindowsParamsStatus = "NOTIFIED"
	PLANNED    ListMaintenanceWindowsParamsStatus = "PLANNED"
	STARTING   ListMaintenanceWindowsParamsStatus = "STARTING"
)

// AdminStartMaintenanceRequest defines model for AdminStartMaintenanceRequest.
type AdminStartMaintenanceRequest struct {
	// Force Принудительный запуск без graceful shutdown
	Force    *bool              `json:"force,omitempty"`
	WindowId openapi_types.UUID `json:"window_id"`
}

// AdminStopMaintenanceRequest defines model for AdminStopMaintenanceRequest.
type AdminStopMaintenanceRequest struct {
	// Force Принудительная остановка
	Force    *bool              `json:"force,omitempty"`
	WindowId openapi_types.UUID `json:"window_id"`
}

// CreateMaintenanceWindowRequest defines model for CreateMaintenanceWindowRequest.
type CreateMaintenanceWindowRequest struct {
	AffectedServices *[]string                                     `json:"affected_services,omitempty"`
	Description      *string                                       `json:"description,omitempty"`
	Impact           *string                                       `json:"impact,omitempty"`
	MaintenanceType  CreateMaintenanceWindowRequestMaintenanceType `json:"maintenance_type"`
	ScheduledEnd     time.Time                                     `json:"scheduled_end"`
	ScheduledStart   time.Time                                     `json:"scheduled_start"`
	Title            string                                        `json:"title"`
}

// CreateMaintenanceWindowRequestMaintenanceType defines model for CreateMaintenanceWindowRequest.MaintenanceType.
type CreateMaintenanceWindowRequestMaintenanceType string

// Error defines model for Error.
type Error struct {
	Error   *string `json:"error,omitempty"`
	Message *string `json:"message,omitempty"`
}

// GracefulShutdownStatus defines model for GracefulShutdownStatus.
type GracefulShutdownStatus struct {
	EstimatedCompletion *time.Time          `json:"estimated_completion"`
	IsShuttingDown      *bool               `json:"is_shutting_down,omitempty"`
	ServicesNotified    *int                `json:"services_notified,omitempty"`
	ServicesShutdown    *int                `json:"services_shutdown,omitempty"`
	StartedAt           *time.Time          `json:"started_at"`
	TotalServices       *int                `json:"total_services,omitempty"`
	WindowId            *openapi_types.UUID `json:"window_id"`
}

// MaintenanceEvent defines model for MaintenanceEvent.
type MaintenanceEvent struct {
	CreatedAt           *time.Time                 `json:"created_at,omitempty"`
	EventData           *map[string]interface{}    `json:"event_data,omitempty"`
	EventType           *MaintenanceEventEventType `json:"event_type,omitempty"`
	Id                  *openapi_types.UUID        `json:"id,omitempty"`
	MaintenanceWindowId *openapi_types.UUID        `json:"maintenance_window_id,omitempty"`
}

// MaintenanceEventEventType defines model for MaintenanceEvent.EventType.
type MaintenanceEventEventType string

// MaintenanceEventsResponse defines model for MaintenanceEventsResponse.
type MaintenanceEventsResponse struct {
	Events *[]MaintenanceEvent `json:"events,omitempty"`
	Limit  *int                `json:"limit,omitempty"`
	Offset *int                `json:"offset,omitempty"`
	Total  *int                `json:"total,omitempty"`
}

// MaintenanceNotification defines model for MaintenanceNotification.
type MaintenanceNotification struct {
	Id                  *openapi_types.UUID                      `json:"id,omitempty"`
	MaintenanceWindowId *openapi_types.UUID                      `json:"maintenance_window_id,omitempty"`
	NotificationType    *MaintenanceNotificationNotificationType `json:"notification_type,omitempty"`
	RecipientsCount     *int                                     `json:"recipients_count,omitempty"`
	SentAt              *time.Time                               `json:"sent_at,omitempty"`
}

// MaintenanceNotificationNotificationType defines model for MaintenanceNotification.NotificationType.
type MaintenanceNotificationNotificationType string

// MaintenanceNotificationsResponse defines model for MaintenanceNotificationsResponse.
type MaintenanceNotificationsResponse struct {
	Notifications *[]MaintenanceNotification `json:"notifications,omitempty"`
	Total         *int                       `json:"total,omitempty"`
}

// MaintenanceStatus defines model for MaintenanceStatus.
type MaintenanceStatus struct {
	AllowAdminAccess    *bool               `json:"allow_admin_access,omitempty"`
	BlockNewConnections *bool               `json:"block_new_connections,omitempty"`
	CurrentWindowId     *openapi_types.UUID `json:"current_window_id"`
	IsMaintenanceMode   *bool               `json:"is_maintenance_mode,omitempty"`
	MaintenanceMessage  *string             `json:"maintenance_message"`
	UpdatedAt           *time.Time          `json:"updated_at,omitempty"`
}

// MaintenanceWindow defines model for MaintenanceWindow.
type MaintenanceWindow struct {
	ActualEnd        *time.Time                        `json:"actual_end"`
	ActualStart      *time.Time                        `json:"actual_start"`
	AffectedServices *[]string                         `json:"affected_services,omitempty"`
	CreatedAt        *time.Time                        `json:"created_at,omitempty"`
	CreatedBy        *openapi_types.UUID               `json:"created_by,omitempty"`
	Description      *string                           `json:"description,omitempty"`
	Id               *openapi_types.UUID               `json:"id,omitempty"`
	Impact           *string                           `json:"impact,omitempty"`
	MaintenanceType  *MaintenanceWindowMaintenanceType `json:"maintenance_type,omitempty"`
	ScheduledEnd     *time.Time                        `json:"scheduled_end,omitempty"`
	ScheduledStart   *time.Time                        `json:"scheduled_start,omitempty"`
	Status           *MaintenanceWindowStatus          `json:"status,omitempty"`
	Title            *string                           `json:"title,omitempty"`
	UpdatedAt        *time.Time                        `json:"updated_at,omitempty"`
}

// MaintenanceWindowMaintenanceType defines model for MaintenanceWindow.MaintenanceType.
type MaintenanceWindowMaintenanceType string

// MaintenanceWindowStatus defines model for MaintenanceWindow.Status.
type MaintenanceWindowStatus string

// MaintenanceWindowsResponse defines model for MaintenanceWindowsResponse.
type MaintenanceWindowsResponse struct {
	Limit   *int                 `json:"limit,omitempty"`
	Offset  *int                 `json:"offset,omitempty"`
	Total   *int                 `json:"total,omitempty"`
	Windows *[]MaintenanceWindow `json:"windows,omitempty"`
}

// ScheduleMaintenanceRequest defines model for ScheduleMaintenanceRequest.
type ScheduleMaintenanceRequest struct {
	WindowId openapi_types.UUID `json:"window_id"`
}

// SendMaintenanceNotificationRequest defines model for SendMaintenanceNotificationRequest.
type SendMaintenanceNotificationRequest struct {
	NotificationType SendMaintenanceNotificationRequestNotificationType `json:"notification_type"`
	WindowId         openapi_types.UUID                                 `json:"window_id"`
}

// SendMaintenanceNotificationRequestNotificationType defines model for SendMaintenanceNotificationRequest.NotificationType.
type SendMaintenanceNotificationRequestNotificationType string

// StartGracefulShutdownRequest defines model for StartGracefulShutdownRequest.
type StartGracefulShutdownRequest struct {
	// TimeoutSeconds Таймаут для graceful shutdown в секундах
	TimeoutSeconds *int               `json:"timeout_seconds,omitempty"`
	WindowId       openapi_types.UUID `json:"window_id"`
}

// UpdateMaintenanceStatusRequest defines model for UpdateMaintenanceStatusRequest.
type UpdateMaintenanceStatusRequest struct {
	AllowAdminAccess    *bool   `json:"allow_admin_access,omitempty"`
	BlockNewConnections *bool   `json:"block_new_connections,omitempty"`
	IsMaintenanceMode   *bool   `json:"is_maintenance_mode,omitempty"`
	MaintenanceMessage  *string `json:"maintenance_message,omitempty"`
}

// UpdateMaintenanceWindowRequest defines model for UpdateMaintenanceWindowRequest.
type UpdateMaintenanceWindowRequest struct {
	AffectedServices *[]string                             `json:"affected_services,omitempty"`
	Description      *string                               `json:"description,omitempty"`
	Impact           *string                               `json:"impact,omitempty"`
	ScheduledEnd     *time.Time                            `json:"scheduled_end,omitempty"`
	ScheduledStart   *time.Time                            `json:"scheduled_start,omitempty"`
	Status           *UpdateMaintenanceWindowRequestStatus `json:"status,omitempty"`
	Title            *string                               `json:"title,omitempty"`
}

// UpdateMaintenanceWindowRequestStatus defines model for UpdateMaintenanceWindowRequest.Status.
type UpdateMaintenanceWindowRequestStatus string

// BadRequest defines model for BadRequest.
type BadRequest = Error

// InternalServerError defines model for InternalServerError.
type InternalServerError = Error

// NotFound defines model for NotFound.
type NotFound = Error

// Unauthorized defines model for Unauthorized.
type Unauthorized = Error

// GetMaintenanceEventsParams defines parameters for GetMaintenanceEvents.
type GetMaintenanceEventsParams struct {
	Limit  *int `form:"limit,omitempty" json:"limit,omitempty"`
	Offset *int `form:"offset,omitempty" json:"offset,omitempty"`
}

// ListMaintenanceWindowsParams defines parameters for ListMaintenanceWindows.
type ListMaintenanceWindowsParams struct {
	MaintenanceType *ListMaintenanceWindowsParamsMaintenanceType `form:"maintenance_type,omitempty" json:"maintenance_type,omitempty"`
	Status          *ListMaintenanceWindowsParamsStatus          `form:"status,omitempty" json:"status,omitempty"`
	Limit           *int                                         `form:"limit,omitempty" json:"limit,omitempty"`
	Offset          *int                                         `form:"offset,omitempty" json:"offset,omitempty"`
}

// ListMaintenanceWindowsParamsMaintenanceType defines parameters for ListMaintenanceWindows.
type ListMaintenanceWindowsParamsMaintenanceType string

// ListMaintenanceWindowsParamsStatus defines parameters for ListMaintenanceWindows.
type ListMaintenanceWindowsParamsStatus string

// AdminStartMaintenanceJSONRequestBody defines body for AdminStartMaintenance for application/json ContentType.
type AdminStartMaintenanceJSONRequestBody = AdminStartMaintenanceRequest

// AdminStopMaintenanceJSONRequestBody defines body for AdminStopMaintenance for application/json ContentType.
type AdminStopMaintenanceJSONRequestBody = AdminStopMaintenanceRequest

// AdminCreateMaintenanceWindowJSONRequestBody defines body for AdminCreateMaintenanceWindow for application/json ContentType.
type AdminCreateMaintenanceWindowJSONRequestBody = CreateMaintenanceWindowRequest

// SendMaintenanceNotificationJSONRequestBody defines body for SendMaintenanceNotification for application/json ContentType.
type SendMaintenanceNotificationJSONRequestBody = SendMaintenanceNotificationRequest

// ScheduleMaintenanceJSONRequestBody defines body for ScheduleMaintenance for application/json ContentType.
type ScheduleMaintenanceJSONRequestBody = ScheduleMaintenanceRequest

// StartGracefulShutdownJSONRequestBody defines body for StartGracefulShutdown for application/json ContentType.
type StartGracefulShutdownJSONRequestBody = StartGracefulShutdownRequest

// UpdateMaintenanceStatusJSONRequestBody defines body for UpdateMaintenanceStatus for application/json ContentType.
type UpdateMaintenanceStatusJSONRequestBody = UpdateMaintenanceStatusRequest

// CreateMaintenanceWindowJSONRequestBody defines body for CreateMaintenanceWindow for application/json ContentType.
type CreateMaintenanceWindowJSONRequestBody = CreateMaintenanceWindowRequest

// UpdateMaintenanceWindowJSONRequestBody defines body for UpdateMaintenanceWindow for application/json ContentType.
type UpdateMaintenanceWindowJSONRequestBody = UpdateMaintenanceWindowRequest

// ServerInterface represents all server handlers.
type ServerInterface interface {
	// Принудительно запустить обслуживание (admin)
	// (POST /admin/maintenance/start)
	AdminStartMaintenance(w http.ResponseWriter, r *http.Request)
	// Принудительно остановить обслуживание (admin)
	// (POST /admin/maintenance/stop)
	AdminStopMaintenance(w http.ResponseWriter, r *http.Request)
	// Создать окно обслуживания (admin)
	// (POST /admin/maintenance/windows)
	AdminCreateMaintenanceWindow(w http.ResponseWriter, r *http.Request)
	// Получить события для окна обслуживания
	// (GET /infrastructure/maintenance/events/{window_id})
	GetMaintenanceEvents(w http.ResponseWriter, r *http.Request, windowId openapi_types.UUID, params GetMaintenanceEventsParams)
	// Получить уведомления для окна обслуживания
	// (GET /infrastructure/maintenance/notifications/{window_id})
	GetMaintenanceNotifications(w http.ResponseWriter, r *http.Request, windowId openapi_types.UUID)
	// Отправить уведомление об обслуживании
	// (POST /infrastructure/maintenance/notify)
	SendMaintenanceNotification(w http.ResponseWriter, r *http.Request)
	// Запланировать обслуживание
	// (POST /infrastructure/maintenance/schedule)
	ScheduleMaintenance(w http.ResponseWriter, r *http.Request)
	// Получить следующее запланированное обслуживание
	// (GET /infrastructure/maintenance/schedule/next)
	GetNextMaintenance(w http.ResponseWriter, r *http.Request)
	// Начать graceful shutdown
	// (POST /infrastructure/maintenance/shutdown/start)
	StartGracefulShutdown(w http.ResponseWriter, r *http.Request)
	// Получить статус graceful shutdown
	// (GET /infrastructure/maintenance/shutdown/status)
	GetGracefulShutdownStatus(w http.ResponseWriter, r *http.Request)
	// Получить текущий статус обслуживания
	// (GET /infrastructure/maintenance/status)
	GetMaintenanceStatus(w http.ResponseWriter, r *http.Request)
	// Обновить статус обслуживания
	// (POST /infrastructure/maintenance/status)
	UpdateMaintenanceStatus(w http.ResponseWriter, r *http.Request)
	// Получить список окон обслуживания
	// (GET /infrastructure/maintenance/windows)
	ListMaintenanceWindows(w http.ResponseWriter, r *http.Request, params ListMaintenanceWindowsParams)
	// Создать окно обслуживания
	// (POST /infrastructure/maintenance/windows)
	CreateMaintenanceWindow(w http.ResponseWriter, r *http.Request)
	// Отменить окно обслуживания
	// (DELETE /infrastructure/maintenance/windows/{window_id})
	CancelMaintenanceWindow(w http.ResponseWriter, r *http.Request, windowId openapi_types.UUID)
	// Получить информацию об окне обслуживания
	// (GET /infrastructure/maintenance/windows/{window_id})
	GetMaintenanceWindow(w http.ResponseWriter, r *http.Request, windowId openapi_types.UUID)
	// Обновить окно обслуживания
	// (PUT /infrastructure/maintenance/windows/{window_id})
	UpdateMaintenanceWindow(w http.ResponseWriter, r *http.Request, windowId openapi_types.UUID)
}

// ServerInterfaceWrapper converts contexts to parameters.
type ServerInterfaceWrapper struct {
	Handler            ServerInterface
	HandlerMiddlewares []MiddlewareFunc
	ErrorHandlerFunc   func(w http.ResponseWriter, r *http.Request, err error)
}

type MiddlewareFunc func(http.Handler) http.Handler

// AdminStartMaintenance operation middleware
func (siw *ServerInterfaceWrapper) AdminStartMaintenance(w http.ResponseWriter, r *http.Request) {

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.AdminStartMaintenance(w, r)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// AdminStopMaintenance operation middleware
func (siw *ServerInterfaceWrapper) AdminStopMaintenance(w http.ResponseWriter, r *http.Request) {

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.AdminStopMaintenance(w, r)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// AdminCreateMaintenanceWindow operation middleware
func (siw *ServerInterfaceWrapper) AdminCreateMaintenanceWindow(w http.ResponseWriter, r *http.Request) {

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.AdminCreateMaintenanceWindow(w, r)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// GetMaintenanceEvents operation middleware
func (siw *ServerInterfaceWrapper) GetMaintenanceEvents(w http.ResponseWriter, r *http.Request) {

	var err error

	// ------------- Path parameter "window_id" -------------
	var windowId openapi_types.UUID

	err = runtime.BindStyledParameterWithOptions("simple", "window_id", mux.Vars(r)["window_id"], &windowId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "window_id", Err: err})
		return
	}

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	// Parameter object where we will unmarshal all parameters from the context
	var params GetMaintenanceEventsParams

	// ------------- Optional query parameter "limit" -------------

	err = runtime.BindQueryParameter("form", true, false, "limit", r.URL.Query(), &params.Limit)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "limit", Err: err})
		return
	}

	// ------------- Optional query parameter "offset" -------------

	err = runtime.BindQueryParameter("form", true, false, "offset", r.URL.Query(), &params.Offset)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "offset", Err: err})
		return
	}

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.GetMaintenanceEvents(w, r, windowId, params)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// GetMaintenanceNotifications operation middleware
func (siw *ServerInterfaceWrapper) GetMaintenanceNotifications(w http.ResponseWriter, r *http.Request) {

	var err error

	// ------------- Path parameter "window_id" -------------
	var windowId openapi_types.UUID

	err = runtime.BindStyledParameterWithOptions("simple", "window_id", mux.Vars(r)["window_id"], &windowId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "window_id", Err: err})
		return
	}

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.GetMaintenanceNotifications(w, r, windowId)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// SendMaintenanceNotification operation middleware
func (siw *ServerInterfaceWrapper) SendMaintenanceNotification(w http.ResponseWriter, r *http.Request) {

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.SendMaintenanceNotification(w, r)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// ScheduleMaintenance operation middleware
func (siw *ServerInterfaceWrapper) ScheduleMaintenance(w http.ResponseWriter, r *http.Request) {

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.ScheduleMaintenance(w, r)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// GetNextMaintenance operation middleware
func (siw *ServerInterfaceWrapper) GetNextMaintenance(w http.ResponseWriter, r *http.Request) {

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.GetNextMaintenance(w, r)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// StartGracefulShutdown operation middleware
func (siw *ServerInterfaceWrapper) StartGracefulShutdown(w http.ResponseWriter, r *http.Request) {

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.StartGracefulShutdown(w, r)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// GetGracefulShutdownStatus operation middleware
func (siw *ServerInterfaceWrapper) GetGracefulShutdownStatus(w http.ResponseWriter, r *http.Request) {

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.GetGracefulShutdownStatus(w, r)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// GetMaintenanceStatus operation middleware
func (siw *ServerInterfaceWrapper) GetMaintenanceStatus(w http.ResponseWriter, r *http.Request) {

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.GetMaintenanceStatus(w, r)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// UpdateMaintenanceStatus operation middleware
func (siw *ServerInterfaceWrapper) UpdateMaintenanceStatus(w http.ResponseWriter, r *http.Request) {

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.UpdateMaintenanceStatus(w, r)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// ListMaintenanceWindows operation middleware
func (siw *ServerInterfaceWrapper) ListMaintenanceWindows(w http.ResponseWriter, r *http.Request) {

	var err error

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	// Parameter object where we will unmarshal all parameters from the context
	var params ListMaintenanceWindowsParams

	// ------------- Optional query parameter "maintenance_type" -------------

	err = runtime.BindQueryParameter("form", true, false, "maintenance_type", r.URL.Query(), &params.MaintenanceType)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "maintenance_type", Err: err})
		return
	}

	// ------------- Optional query parameter "status" -------------

	err = runtime.BindQueryParameter("form", true, false, "status", r.URL.Query(), &params.Status)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "status", Err: err})
		return
	}

	// ------------- Optional query parameter "limit" -------------

	err = runtime.BindQueryParameter("form", true, false, "limit", r.URL.Query(), &params.Limit)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "limit", Err: err})
		return
	}

	// ------------- Optional query parameter "offset" -------------

	err = runtime.BindQueryParameter("form", true, false, "offset", r.URL.Query(), &params.Offset)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "offset", Err: err})
		return
	}

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.ListMaintenanceWindows(w, r, params)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// CreateMaintenanceWindow operation middleware
func (siw *ServerInterfaceWrapper) CreateMaintenanceWindow(w http.ResponseWriter, r *http.Request) {

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.CreateMaintenanceWindow(w, r)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// CancelMaintenanceWindow operation middleware
func (siw *ServerInterfaceWrapper) CancelMaintenanceWindow(w http.ResponseWriter, r *http.Request) {

	var err error

	// ------------- Path parameter "window_id" -------------
	var windowId openapi_types.UUID

	err = runtime.BindStyledParameterWithOptions("simple", "window_id", mux.Vars(r)["window_id"], &windowId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "window_id", Err: err})
		return
	}

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.CancelMaintenanceWindow(w, r, windowId)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// GetMaintenanceWindow operation middleware
func (siw *ServerInterfaceWrapper) GetMaintenanceWindow(w http.ResponseWriter, r *http.Request) {

	var err error

	// ------------- Path parameter "window_id" -------------
	var windowId openapi_types.UUID

	err = runtime.BindStyledParameterWithOptions("simple", "window_id", mux.Vars(r)["window_id"], &windowId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "window_id", Err: err})
		return
	}

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.GetMaintenanceWindow(w, r, windowId)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// UpdateMaintenanceWindow operation middleware
func (siw *ServerInterfaceWrapper) UpdateMaintenanceWindow(w http.ResponseWriter, r *http.Request) {

	var err error

	// ------------- Path parameter "window_id" -------------
	var windowId openapi_types.UUID

	err = runtime.BindStyledParameterWithOptions("simple", "window_id", mux.Vars(r)["window_id"], &windowId, runtime.BindStyledParameterOptions{Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "window_id", Err: err})
		return
	}

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.UpdateMaintenanceWindow(w, r, windowId)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

type UnescapedCookieParamError struct {
	ParamName string
	Err       error
}

func (e *UnescapedCookieParamError) Error() string {
	return fmt.Sprintf("error unescaping cookie parameter '%s'", e.ParamName)
}

func (e *UnescapedCookieParamError) Unwrap() error {
	return e.Err
}

type UnmarshalingParamError struct {
	ParamName string
	Err       error
}

func (e *UnmarshalingParamError) Error() string {
	return fmt.Sprintf("Error unmarshaling parameter %s as JSON: %s", e.ParamName, e.Err.Error())
}

func (e *UnmarshalingParamError) Unwrap() error {
	return e.Err
}

type RequiredParamError struct {
	ParamName string
}

func (e *RequiredParamError) Error() string {
	return fmt.Sprintf("Query argument %s is required, but not found", e.ParamName)
}

type RequiredHeaderError struct {
	ParamName string
	Err       error
}

func (e *RequiredHeaderError) Error() string {
	return fmt.Sprintf("Header parameter %s is required, but not found", e.ParamName)
}

func (e *RequiredHeaderError) Unwrap() error {
	return e.Err
}

type InvalidParamFormatError struct {
	ParamName string
	Err       error
}

func (e *InvalidParamFormatError) Error() string {
	return fmt.Sprintf("Invalid format for parameter %s: %s", e.ParamName, e.Err.Error())
}

func (e *InvalidParamFormatError) Unwrap() error {
	return e.Err
}

type TooManyValuesForParamError struct {
	ParamName string
	Count     int
}

func (e *TooManyValuesForParamError) Error() string {
	return fmt.Sprintf("Expected one value for %s, got %d", e.ParamName, e.Count)
}

// Handler creates http.Handler with routing matching OpenAPI spec.
func Handler(si ServerInterface) http.Handler {
	return HandlerWithOptions(si, GorillaServerOptions{})
}

type GorillaServerOptions struct {
	BaseURL          string
	BaseRouter       *mux.Router
	Middlewares      []MiddlewareFunc
	ErrorHandlerFunc func(w http.ResponseWriter, r *http.Request, err error)
}

// HandlerFromMux creates http.Handler with routing matching OpenAPI spec based on the provided mux.
func HandlerFromMux(si ServerInterface, r *mux.Router) http.Handler {
	return HandlerWithOptions(si, GorillaServerOptions{
		BaseRouter: r,
	})
}

func HandlerFromMuxWithBaseURL(si ServerInterface, r *mux.Router, baseURL string) http.Handler {
	return HandlerWithOptions(si, GorillaServerOptions{
		BaseURL:    baseURL,
		BaseRouter: r,
	})
}

// HandlerWithOptions creates http.Handler with additional options
func HandlerWithOptions(si ServerInterface, options GorillaServerOptions) http.Handler {
	r := options.BaseRouter

	if r == nil {
		r = mux.NewRouter()
	}
	if options.ErrorHandlerFunc == nil {
		options.ErrorHandlerFunc = func(w http.ResponseWriter, r *http.Request, err error) {
			http.Error(w, err.Error(), http.StatusBadRequest)
		}
	}
	wrapper := ServerInterfaceWrapper{
		Handler:            si,
		HandlerMiddlewares: options.Middlewares,
		ErrorHandlerFunc:   options.ErrorHandlerFunc,
	}

	r.HandleFunc(options.BaseURL+"/admin/maintenance/start", wrapper.AdminStartMaintenance).Methods("POST")

	r.HandleFunc(options.BaseURL+"/admin/maintenance/stop", wrapper.AdminStopMaintenance).Methods("POST")

	r.HandleFunc(options.BaseURL+"/admin/maintenance/windows", wrapper.AdminCreateMaintenanceWindow).Methods("POST")

	r.HandleFunc(options.BaseURL+"/infrastructure/maintenance/events/{window_id}", wrapper.GetMaintenanceEvents).Methods("GET")

	r.HandleFunc(options.BaseURL+"/infrastructure/maintenance/notifications/{window_id}", wrapper.GetMaintenanceNotifications).Methods("GET")

	r.HandleFunc(options.BaseURL+"/infrastructure/maintenance/notify", wrapper.SendMaintenanceNotification).Methods("POST")

	r.HandleFunc(options.BaseURL+"/infrastructure/maintenance/schedule", wrapper.ScheduleMaintenance).Methods("POST")

	r.HandleFunc(options.BaseURL+"/infrastructure/maintenance/schedule/next", wrapper.GetNextMaintenance).Methods("GET")

	r.HandleFunc(options.BaseURL+"/infrastructure/maintenance/shutdown/start", wrapper.StartGracefulShutdown).Methods("POST")

	r.HandleFunc(options.BaseURL+"/infrastructure/maintenance/shutdown/status", wrapper.GetGracefulShutdownStatus).Methods("GET")

	r.HandleFunc(options.BaseURL+"/infrastructure/maintenance/status", wrapper.GetMaintenanceStatus).Methods("GET")

	r.HandleFunc(options.BaseURL+"/infrastructure/maintenance/status", wrapper.UpdateMaintenanceStatus).Methods("POST")

	r.HandleFunc(options.BaseURL+"/infrastructure/maintenance/windows", wrapper.ListMaintenanceWindows).Methods("GET")

	r.HandleFunc(options.BaseURL+"/infrastructure/maintenance/windows", wrapper.CreateMaintenanceWindow).Methods("POST")

	r.HandleFunc(options.BaseURL+"/infrastructure/maintenance/windows/{window_id}", wrapper.CancelMaintenanceWindow).Methods("DELETE")

	r.HandleFunc(options.BaseURL+"/infrastructure/maintenance/windows/{window_id}", wrapper.GetMaintenanceWindow).Methods("GET")

	r.HandleFunc(options.BaseURL+"/infrastructure/maintenance/windows/{window_id}", wrapper.UpdateMaintenanceWindow).Methods("PUT")

	return r
}
