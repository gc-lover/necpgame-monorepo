// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// CreateDifficultyMode implements createDifficultyMode operation.
	//
	// Создает новый режим сложности (только для
	// администраторов).
	//
	// POST /admin/gameplay/difficulty-modes
	CreateDifficultyMode(ctx context.Context, req *CreateDifficultyModeRequest) (CreateDifficultyModeRes, error)
	// GetContentDifficultyModes implements getContentDifficultyModes operation.
	//
	// Возвращает режимы сложности доступные для
	// конкретного контента.
	//
	// GET /gameplay/content/{contentId}/difficulty-modes
	GetContentDifficultyModes(ctx context.Context, params GetContentDifficultyModesParams) (GetContentDifficultyModesRes, error)
	// GetDifficultyMode implements getDifficultyMode operation.
	//
	// Возвращает подробную информацию о конкретном режиме
	// сложности.
	//
	// GET /gameplay/difficulty-modes/{modeId}
	GetDifficultyMode(ctx context.Context, params GetDifficultyModeParams) (GetDifficultyModeRes, error)
	// GetDifficultyModeRequirements implements getDifficultyModeRequirements operation.
	//
	// Возвращает требования для разблокировки режима
	// сложности.
	//
	// GET /gameplay/difficulty-modes/{modeId}/requirements
	GetDifficultyModeRequirements(ctx context.Context, params GetDifficultyModeRequirementsParams) (GetDifficultyModeRequirementsRes, error)
	// GetDifficultyModeStats implements getDifficultyModeStats operation.
	//
	// Возвращает детальную статистику по выбранному
	// режиму сложности.
	//
	// GET /gameplay/difficulty-modes/{modeId}/stats
	GetDifficultyModeStats(ctx context.Context, params GetDifficultyModeStatsParams) (GetDifficultyModeStatsRes, error)
	// GetDifficultyModes implements getDifficultyModes operation.
	//
	// Возвращает все доступные режимы сложности с их
	// параметрами.
	//
	// GET /gameplay/difficulty-modes
	GetDifficultyModes(ctx context.Context) (GetDifficultyModesRes, error)
	// GetDifficultyModesStats implements getDifficultyModesStats operation.
	//
	// Возвращает агрегированную статистику по всем
	// режимам сложности.
	//
	// GET /gameplay/difficulty-modes/stats
	GetDifficultyModesStats(ctx context.Context, params GetDifficultyModesStatsParams) (GetDifficultyModesStatsRes, error)
	// GetInstanceDifficulty implements getInstanceDifficulty operation.
	//
	// Возвращает информацию о режиме сложности активного
	// инстанса.
	//
	// GET /gameplay/instances/{instanceId}/difficulty
	GetInstanceDifficulty(ctx context.Context, params GetInstanceDifficultyParams) (GetInstanceDifficultyRes, error)
	// SelectInstanceDifficulty implements selectInstanceDifficulty operation.
	//
	// Применяет выбранный режим сложности к игровому
	// инстансу.
	//
	// POST /gameplay/instances/{instanceId}/difficulty
	SelectInstanceDifficulty(ctx context.Context, req *SelectInstanceDifficultyReq, params SelectInstanceDifficultyParams) (SelectInstanceDifficultyRes, error)
	// UpdateDifficultyMode implements updateDifficultyMode operation.
	//
	// Обновляет параметры режима сложности (только для
	// администраторов).
	//
	// PUT /admin/gameplay/difficulty-modes
	UpdateDifficultyMode(ctx context.Context, req *UpdateDifficultyModeRequest) (UpdateDifficultyModeRes, error)
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
