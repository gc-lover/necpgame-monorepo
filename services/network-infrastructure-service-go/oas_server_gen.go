// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// AddStreamParticipant implements addStreamParticipant operation.
	//
	// Add a user as a participant in an audio stream.
	//
	// POST /audio/streams/{stream_id}/participants
	AddStreamParticipant(ctx context.Context, req *AddParticipantRequest, params AddStreamParticipantParams) (AddStreamParticipantRes, error)
	// CloseAudioStream implements closeAudioStream operation.
	//
	// Close an active audio streaming session.
	//
	// DELETE /audio/streams/{stream_id}
	CloseAudioStream(ctx context.Context, params CloseAudioStreamParams) (CloseAudioStreamRes, error)
	// CloseConnection implements closeConnection operation.
	//
	// Forcefully close a WebSocket connection.
	//
	// DELETE /ws/connections/{connection_id}
	CloseConnection(ctx context.Context, req OptCloseConnectionReq, params CloseConnectionParams) (CloseConnectionRes, error)
	// CreateAudioStream implements createAudioStream operation.
	//
	// Create a new audio streaming session for voice chat or game audio.
	//
	// POST /audio/streams
	CreateAudioStream(ctx context.Context, req *CreateAudioStreamRequest) (CreateAudioStreamRes, error)
	// EstablishWebSocket implements establishWebSocket operation.
	//
	// **Real-time communication endpoint**
	// Establishes persistent WebSocket connection for real-time messaging, game events, and live updates.
	//  Supports connection clustering and automatic failover.
	// **Features:** - Connection pooling and load balancing - Automatic reconnection with exponential
	// backoff - Message compression and batching - Heartbeat monitoring (30s intervals) - Per-connection
	// rate limiting.
	//
	// GET /ws
	EstablishWebSocket(ctx context.Context, params EstablishWebSocketParams) (EstablishWebSocketRes, error)
	// GetAudioStream implements getAudioStream operation.
	//
	// Retrieve detailed information about an audio stream.
	//
	// GET /audio/streams/{stream_id}
	GetAudioStream(ctx context.Context, params GetAudioStreamParams) (GetAudioStreamRes, error)
	// GetBatchHealth implements getBatchHealth operation.
	//
	// **Performance optimization:** Check multiple network components health in single request
	// Reduces network overhead by ~80% for monitoring dashboards.
	// **Input:** Array of component names **Output:** Health status for each network component.
	//
	// POST /health/batch
	GetBatchHealth(ctx context.Context, req *GetBatchHealthReq) (GetBatchHealthRes, error)
	// GetConnection implements getConnection operation.
	//
	// Retrieve detailed information about a specific WebSocket connection.
	//
	// GET /ws/connections/{connection_id}
	GetConnection(ctx context.Context, params GetConnectionParams) (GetConnectionRes, error)
	// GetConnectionAnalysis implements getConnectionAnalysis operation.
	//
	// Analyze WebSocket connection patterns and performance.
	//
	// GET /network/analysis/connections
	GetConnectionAnalysis(ctx context.Context, params GetConnectionAnalysisParams) (GetConnectionAnalysisRes, error)
	// GetHealth implements getHealth operation.
	//
	// **Enterprise-grade health check endpoint**
	// Provides real-time health status of the network infrastructure service.
	// Critical for service discovery, load balancing, and monitoring.
	//
	// GET /health
	GetHealth(ctx context.Context, params GetHealthParams) (GetHealthRes, error)
	// GetNetworkTraffic implements getNetworkTraffic operation.
	//
	// Retrieve network traffic statistics and analysis.
	//
	// GET /network/analysis/traffic
	GetNetworkTraffic(ctx context.Context, params GetNetworkTrafficParams) (GetNetworkTrafficRes, error)
	// GetRoutingAnalysis implements getRoutingAnalysis operation.
	//
	// Analyze message routing efficiency and performance.
	//
	// GET /network/analysis/routes
	GetRoutingAnalysis(ctx context.Context, params GetRoutingAnalysisParams) (GetRoutingAnalysisRes, error)
	// ListAudioStreams implements listAudioStreams operation.
	//
	// Retrieve list of active audio streams.
	//
	// GET /audio/streams
	ListAudioStreams(ctx context.Context, params ListAudioStreamsParams) (ListAudioStreamsRes, error)
	// ListConnections implements listConnections operation.
	//
	// Retrieve information about active WebSocket connections.
	//
	// GET /ws/connections
	ListConnections(ctx context.Context, params ListConnectionsParams) (ListConnectionsRes, error)
	// ListStreamParticipants implements listStreamParticipants operation.
	//
	// Get list of participants in an audio stream.
	//
	// GET /audio/streams/{stream_id}/participants
	ListStreamParticipants(ctx context.Context, params ListStreamParticipantsParams) (ListStreamParticipantsRes, error)
	// SubscribeConnection implements subscribeConnection operation.
	//
	// Subscribe a WebSocket connection to specific topics for targeted messaging.
	//
	// POST /connections/{connection_id}/subscribe
	SubscribeConnection(ctx context.Context, req *SubscriptionRequest, params SubscribeConnectionParams) (SubscribeConnectionRes, error)
	// UnsubscribeConnection implements unsubscribeConnection operation.
	//
	// Remove topic subscriptions from a WebSocket connection.
	//
	// POST /connections/{connection_id}/unsubscribe
	UnsubscribeConnection(ctx context.Context, req *UnsubscriptionRequest, params UnsubscribeConnectionParams) (UnsubscribeConnectionRes, error)
	// NewError creates *ErrRespStatusCode from error returned by handler.
	//
	// Used for common default response.
	NewError(ctx context.Context, err error) *ErrRespStatusCode
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
