# Task ID: API-TASK-246
**–¢–∏–ø:** API Generation
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –≤—ã—Å–æ–∫–∏–π
**–°—Ç–∞—Ç—É—Å:** queued
**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-07 21:50
**–°–æ–∑–¥–∞—Ç–µ–ª—å:** AI Agent (GPT-5 Codex)
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** API-TASK-205 (announcement-system API), API-TASK-154 (economy-events API), API-TASK-137 (leaderboard-system API), API-TASK-141 (daily-reset API)

---

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é REST API –¥–ª—è —Å–∏—Å—Ç–µ–º—ã live events NECPGAME: –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—É–±–ª–∏–∫–∞—Ü–∏—è, –∞–∫—Ç–∏–≤–Ω—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –∞—Ä—Ö–∏–≤ —Å–æ–±—ã—Ç–∏–π.

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:** –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `live-events.yaml` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö endpoints, –º–æ–¥–µ–ª–µ–π –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è world-service –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–î–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π API, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Ö —Å —Å–∏—Å—Ç–µ–º–æ–π –æ–±—ä—è–≤–ª–µ–Ω–∏–π, —ç–∫–æ–Ω–æ–º–∏–∫–æ–π, –∞—Ä–µ–Ω–∞–º–∏ –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º–∏.

**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ:**
- –£–ø—Ä–∞–≤–ª—è—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—ë–º —Å–æ–±—ã—Ç–∏–π –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ UI –∏ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã
- –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –≤–ª–∏—è–Ω–∏–µ —ç–≤–µ–Ω—Ç–æ–≤ –Ω–∞ —ç–∫–æ–Ω–æ–º–∏–∫—É, –±–æ–µ–≤—ã–µ —Ä–µ–∂–∏–º—ã –∏ –º–∏—Ä
- –°–æ–±–∏—Ä–∞—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É —É—á–∞—Å—Ç–∏—è –¥–ª—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** `.BRAIN`
**–ü—É—Ç—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç—É:** `.BRAIN/02-gameplay/world/events/live-events-system.md`
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** v1.0.0
**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-11-07 20:33
**–°—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞:** approved

**–ß—Ç–æ –≤–∞–∂–Ω–æ –∏–∑ —ç—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞:**
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ–±—ã—Ç–∏–π (City-Wide Crisis, Corporate Ops, Social Festivals, Underground Alerts, Environmental Shifts, Season Specials)
- –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª: planning ‚Üí announcement ‚Üí active phase ‚Üí resolution ‚Üí archive
- –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Å–∏—Å—Ç–µ–º: Arena, Loot Hunt, Dungeons, Economy, Social
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: Announcement System, Support Ticket, Maintenance Mode, Battle Pass, Achievement System
- –ú–µ—Ç—Ä–∏–∫–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏: Participation Rate, Retention Lift, Economy Impact, Voice Lobby Activity

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

- `.BRAIN/03-lore/activities/activities-lore-compendium.md` ‚Äî –ª–æ—Ä, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å —ç–≤–µ–Ω—Ç–∞–º–∏
- `.BRAIN/02-gameplay/combat/arena-system.md` ‚Äî –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –∞—Ä–µ–Ω—ã
- `.BRAIN/02-gameplay/world/dungeons/dungeon-scenarios-catalog.md` ‚Äî –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –ø–æ–¥–∑–µ–º–µ–ª—å—è
- `.BRAIN/05-technical/backend/announcement/announcement-system.md` ‚Äî –∫–∞–Ω–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `.BRAIN/05-technical/backend/maintenance-mode/maintenance-mode.md` ‚Äî —Ä–µ–∂–∏–º –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
- `.BRAIN/05-technical/backend/support-ticket/support-ticket-system.md` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∂–∞–ª–æ–± –∏ –æ–±—Ä–∞—â–µ–Ω–∏–π
- `.BRAIN/02-gameplay/economy/economy-events.md` ‚Äî —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ —ç—Ñ—Ñ–µ–∫—Ç—ã

---

## üìÅ –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API

### –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `API-SWAGGER`

**–¶–µ–ª–µ–≤–æ–π —Ñ–∞–π–ª:** `api/v1/gameplay/world/live-events.yaml`
**API –≤–µ—Ä—Å–∏—è:** v1
**–¢–∏–ø —Ñ–∞–π–ª–∞:** OpenAPI 3.0.3 (YAML)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:**
```
API-SWAGGER/
‚îî‚îÄ‚îÄ api/
    ‚îî‚îÄ‚îÄ v1/
        ‚îî‚îÄ‚îÄ gameplay/
            ‚îî‚îÄ‚îÄ world/
                ‚îî‚îÄ‚îÄ live-events.yaml
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –í info.description –æ–ø–∏—Å–∞—Ç—å —Å–≤—è–∑—å —Å Announcement, Arena, Economic –∏ Social —Å–∏—Å—Ç–µ–º–∞–º–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å shared security (`bearerAuth`) –∏ –æ–±—â–∏–µ –æ—Ç–≤–µ—Ç—ã
- –£—á–µ—Å—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –±—É–¥—É—â–∏—Ö —Å–µ–∑–æ–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π (–≤ —Ç–µ–≥–∞—Ö —É–∫–∞–∑–∞—Ç—å `LiveEvents v1`)

---

## üèóÔ∏è –¶–µ–ª–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Backend
- –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å: world-service
- –ü–æ—Ä—Ç: 8086
- API Base Path: `/api/v1/live-events/*`
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: announcement-service, arena-service, economy-service, social-service, analytics-service, maintenance-service
- –°–æ–±—ã—Ç–∏—è: Kafka —Ç–æ–ø–∏–∫–∏ `live.event.scheduled`, `live.event.activated`, `live.event.resolved`

### Frontend
- –ú–æ–¥—É–ª—å: `modules/world/events`
- State Store: `useWorldStore` (`eventCalendar`, `activeEvents`, `eventAnalytics`)
- UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: `@shared/ui` (LiveEventCard, CalendarTimeline, ImpactBadge, AlertBanner), `@shared/forms` (LiveEventCreationForm, EventModifierForm)
- Layouts: `@shared/layouts/GameLayout`, `@shared/layouts/DashboardLayout`
- –•—É–∫–∏: `@shared/hooks/useCountdown`, `@shared/hooks/useRealtime`, `@shared/hooks/useFilters`

### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- –£–∫–∞–∑–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (topic keys) –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å –≥–æ–ª–æ—Å–æ–≤—ã–º–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏
- –í –æ–ø–∏—Å–∞–Ω–∏—è—Ö –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ SLA (–∞–Ω–æ–Ω—Å ‚â•30 –º–∏–Ω—É—Ç –¥–æ —Å—Ç–∞—Ä—Ç–∞, –µ—Å–ª–∏ –Ω–µ Emergency)

---

## üîß –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. –°–æ–±—Ä–∞—Ç—å –∏–∑ `.BRAIN` –∫–ª—é—á–µ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏: LiveEventDefinition, LiveEventPhase, LiveEventEffect, –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Å–∏—Å—Ç–µ–º.
2. –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å endpoints –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—É–±–ª–∏–∫–∞—Ü–∏–∏, –∞–∫—Ç–∏–≤–∞—Ü–∏–∏, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è live events.
3. –û–ø–∏—Å–∞—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∏ webhook-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `eventImpact`) —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –º–µ—Ç—Ä–∏–∫.
4. –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å Announcement –∏ Maintenance Mode (–∑–∞–≥–æ–ª–æ–≤–∫–∏ –∫–∞–Ω–∞–ª–æ–≤, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏).
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ —á–µ–∫–ª–∏—Å—Ç—É, –æ–±–Ω–æ–≤–∏—Ç—å `brain-mapping.yaml`, –∞ —Ç–∞–∫–∂–µ —Å—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞ `.BRAIN/02-gameplay/world/events/live-events-system.md`.

---

## üåê Endpoints

### 1. POST `/api/v1/live-events`
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ –∏ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: Bearer JWT (scope `live-events.manage`)
- –¢–µ–ª–æ (`LiveEventCreateRequest`): eventCode, title, category, description, startAt, endAt, phases[], impactMatrix, audienceTargets, announcementChannels[], telemetryTargets
- –û—Ç–≤–µ—Ç—ã: 201 Created (`LiveEventSummary`), 409 Conflict (–∫–æ–ª–ª–∏–∑–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è), 422 Unprocessable Entity (–¥–∞—Ç—ã –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è `live.event.scheduled`

### 2. PATCH `/api/v1/live-events/{eventId}`
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –æ–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–±—ã—Ç–∏—è –¥–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
- –¢–µ–ª–æ: –∏–∑–º–µ–Ω—è–µ–º—ã–µ –ø–æ–ª—è (title, description, schedule, modifiers)
- –û—Ç–≤–µ—Ç—ã: 200 OK (–æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ), 409 Conflict (—É–∂–µ –∞–∫—Ç–∏–≤–Ω–æ), 404 Not Found
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å `updatedBy`, `updateReason`

### 3. POST `/api/v1/live-events/{eventId}/activate`
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —Å–æ–±—ã—Ç–∏–µ –≤ –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç—ã
- –¢–µ–ª–æ (`LiveEventActivationRequest`): activationMode (SCHEDULED, EMERGENCY), overrides (arenaRules, economyModifiers, dungeonAffixes)
- –û—Ç–≤–µ—Ç—ã: 200 OK (`LiveEventState`), 412 Precondition Failed (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞), 409 Conflict (—É–∂–µ –∞–∫—Ç–∏–≤–Ω–æ)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: –∑–∞–ø—É—Å–∫–∞–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ announcement-service, –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã (arena, loot, economy)

### 4. POST `/api/v1/live-events/{eventId}/resolve`
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –∑–∞–≤–µ—Ä—à–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ, —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –Ω–∞–≥—Ä–∞–¥—ã –∏ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å
- –¢–µ–ª–æ (`LiveEventResolutionRequest`): resolutionType (SUCCESS, FAILURE, FORCE_CLOSE), rewardsSummary, analyticsSnapshot
- –û—Ç–≤–µ—Ç—ã: 200 OK (`LiveEventArchiveRecord`), 409 Conflict (—Å–æ–±—ã—Ç–∏–µ –Ω–µ –∞–∫—Ç–∏–≤–Ω–æ), 422 Unprocessable Entity (–∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –Ω–µ —Å–æ–±—Ä–∞–Ω–∞)
- –ü—É–±–ª–∏–∫—É–µ—Ç `live.event.resolved`

### 5. GET `/api/v1/live-events/calendar`
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –≤–µ—Ä–Ω—É—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π (–∞–∫—Ç–∏–≤–Ω—ã–µ, –±—É–¥—É—â–∏–µ, –∞—Ä—Ö–∏–≤)
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `rangeStart`, `rangeEnd`, `status` (PLANNED, ACTIVE, RESOLVED), `category`
- –û—Ç–≤–µ—Ç: 200 OK (`LiveEventCalendarResponse`)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ: max-age 120 —Å–µ–∫—É–Ω–¥, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `If-Modified-Since`

### 6. GET `/api/v1/live-events/{eventId}`
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —ç–≤–µ–Ω—Ç–µ
- –û—Ç–≤–µ—Ç: 200 OK (`LiveEventDetail`), 404 Not Found
- –í–∫–ª—é—á–∞–µ—Ç —Ñ–∞–∑—ã, —Ç–µ–∫—É—â–∏–µ —ç—Ñ—Ñ–µ–∫—Ç—ã, –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —ç–≤–µ–Ω—Ç—ã

### 7. GET `/api/v1/live-events/{eventId}/effects`
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã (arena, economy, dungeons, social)
- –û—Ç–≤–µ—Ç: 200 OK (`LiveEventEffectList`)
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `system` (ARENA, ECONOMY, DUNGEON, SOCIAL)

### 8. GET `/api/v1/live-events/{eventId}/analytics`
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –≤–µ—Ä–Ω—É—Ç—å –º–µ—Ç—Ä–∏–∫–∏ —É—á–∞—Å—Ç–∏—è –∏ –≤–ª–∏—è–Ω–∏—è
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `metric` (PARTICIPATION, RETENTION, ECONOMY_IMPACT, VOICE_ACTIVITY)
- –û—Ç–≤–µ—Ç: 200 OK (`LiveEventAnalyticsResponse`)
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —É–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö (ClickHouse, BigQuery)

### 9. POST `/api/v1/live-events/{eventId}/notifications`
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –∫–∞–Ω–∞–ª—ã (push, email, voice)
- –¢–µ–ª–æ (`LiveEventNotificationRequest`): channels[], templateId, variables, targetSegments
- –û—Ç–≤–µ—Ç—ã: 202 Accepted, 404 Not Found (—ç–≤–µ–Ω—Ç), 409 Conflict (–∫–∞–Ω–∞–ª –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)

### 10. GET `/api/v1/live-events/impacts`
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- –û—Ç–≤–µ—Ç: 200 OK (`LiveEventImpactMatrix`)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤

–í—Å–µ endpoints –æ–±—è–∑–∞–Ω—ã —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –æ–±—â—É—é —Å—Ö–µ–º—É –æ—à–∏–±–æ–∫ –∏ –æ–ø–∏—Å—ã–≤–∞—Ç—å –∫–æ–¥—ã `BIZ_EVENT_*`, `VAL_EVENT_*`, `INT_EVENT_*`.

---

## üß± –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### LiveEventCreateRequest
- `eventCode` (string, kebab-case, unique)
- `title` (string, i18n –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —á–µ—Ä–µ–∑ `localizedTitle`)
- `category` (enum: CITY_CRISIS, CORPORATE_OPS, SOCIAL_FESTIVAL, UNDERGROUND_ALERT, ENVIRONMENTAL_SHIFT, SEASON_SPECIAL)
- `description` (string, markdown)
- `startAt` (datetime, UTC)
- `endAt` (datetime, UTC)
- `phases` (array[LiveEventPhaseDefinition])
- `impactMatrix` (LiveEventImpactMatrix)
- `audienceTargets` (array[AudienceTarget])
- `announcementChannels` (array[string], enum: PUSH, EMAIL, VOICE, BILLBOARD)
- `telemetryTargets` (array[string], –Ω–∞–ø—Ä–∏–º–µ—Ä `arena.match.state`)

### LiveEventPhaseDefinition
- `phaseCode` (string)
- `name` (string)
- `startOffsetMinutes` (integer)
- `durationMinutes` (integer)
- `objectives` (array[string])
- `modifiers` (array[LiveEventModifier])

### LiveEventModifier
- `system` (enum: ARENA, LOOT_HUNT, DUNGEON, ECONOMY, SOCIAL)
- `modifierCode` (string)
- `value` (number or object) ‚Äî –æ–ø–∏—Å–∞—Ç—å —Ç–∏–ø union —á–µ—Ä–µ–∑ oneOf
- `durationMinutes` (integer, optional)
- `notes` (string)

### LiveEventSummary
- `eventId` (uuid)
- `eventCode` (string)
- `title` (string)
- `category` (enum)
- `status` (enum: PLANNED, ACTIVE, RESOLVED)
- `startAt` (datetime)
- `endAt` (datetime)
- `createdBy` (uuid)
- `createdAt` (datetime)

### LiveEventState
- `eventId` (uuid)
- `status` (enum)
- `activatedAt` (datetime)
- `activePhases` (array[LiveEventPhaseStatus])
- `activeEffects` (LiveEventEffectList)
- `linkedSystems` (array[string])

### LiveEventEffectList
- `effects` (array[LiveEventEffect])
- `generatedAt` (datetime)

### LiveEventEffect
- `system` (enum)
- `scope` (string, –Ω–∞–ø—Ä–∏–º–µ—Ä `arena.queueType=RANKED`)
- `impactType` (enum: MULTIPLIER, RESTRICTION, BONUS, CONTENT_UNLOCK)
- `value` (number or object)
- `expiresAt` (datetime)

### LiveEventAnalyticsResponse
- `eventId` (uuid)
- `metrics` (array[LiveEventMetric])
- `generatedAt` (datetime)

### LiveEventMetric
- `metricCode` (enum: PARTICIPATION, RETENTION, ECONOMY_IMPACT, VOICE_ACTIVITY, ARENA_QUEUE_TIME)
- `value` (number)
- `delta` (number)
- `sampleSize` (integer)
- `dimensionBreakdown` (array[MetricBreakdown])

### LiveEventImpactMatrix
- `system` (enum)
- `impacts` (array[LiveEventImpact])

### LiveEventImpact
- `target` (string)
- `modifier` (string)
- `value` (number or object)
- `priority` (integer)

### AudienceTarget
- `segment` (enum: GLOBAL, REGION, CLAN, FACTION, ROLE)
- `identifier` (string)
- `deliveryChannels` (array[string])

–í—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å 512 —Å–∏–º–≤–æ–ª–∞–º–∏, –º–∞—Å—Å–∏–≤—ã ‚Äî –º–∞–∫—Å–∏–º—É–º 50 —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `additionalProperties: false`. –î–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ —É–∫–∞–∑–∞—Ç—å `format: double` –∏–ª–∏ `integer`. –î–ª—è union-—Ç–∏–ø–æ–≤ (`value`) –æ–ø–∏—Å–∞—Ç—å `oneOf` —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ (number, object —Å –ø–æ–ª—è–º–∏ `min`, `max`, `multiplier`).

---

## üìê –ü—Ä–∏–Ω—Ü–∏–ø—ã –∏ –ø—Ä–∞–≤–∏–ª–∞

- –ü—Ä–∏–º–µ–Ω—è—Ç—å –æ–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –æ—à–∏–±–æ–∫; –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∫—Ä–æ–º–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- –û—Ç—Ä–∞–∑–∏—Ç—å SLA: Emergency —Å–æ–±—ã—Ç–∏—è –¥–æ–ø—É—Å–∫–∞—é—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏—é <30 –º–∏–Ω—É—Ç, –¥–æ–±–∞–≤–∏—Ç—å –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–æ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏
- –£–∫–∞–∑–∞—Ç—å –ª–∏–º–∏—Ç—ã —á–∞—Å—Ç–æ—Ç—ã ‚Äî –Ω–µ –±–æ–ª–µ–µ 20 –∞–∫—Ç–∏–≤–∞—Ü–∏–π –≤ —Å—É—Ç–∫–∏, 5 —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –º–∏–Ω—É—Ç—É –Ω–∞ –∫–∞–Ω–∞–ª
- –í—Å–µ timestamps –≤ UTC, —Ñ–æ—Ä–º–∞—Ç RFC 3339, —Ö—Ä–∞–Ω–∏—Ç—å timezone offset
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–≥–∏ `LiveEvents` –∏ `LiveEventsAdmin` –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ø—É–±–ª–∏—á–Ω—ã—Ö –∏ –∞–¥–º–∏–Ω—Å–∫–∏—Ö endpoints
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å webhooks –∏–ª–∏ push topics –≤ info.description –∏/–∏–ª–∏ —Ä–∞–∑–¥–µ–ª–µ FAQ
- –°–æ–±–ª—é–¥–∞—Ç—å SOLID/DRY/KISS: –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤—ã–Ω–µ—Å—Ç–∏ –≤ components

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

- –í —Ñ–∞–π–ª–µ –æ–ø–∏—Å–∞–Ω—ã –≤—Å–µ —É–∫–∞–∑–∞–Ω–Ω—ã–µ endpoints —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, —Ç–µ–ª–∞–º–∏, –æ—Ç–≤–µ—Ç–∞–º–∏ –∏ –∫–æ–¥–∞–º–∏ –æ—à–∏–±–æ–∫
- Info-–±–ª–æ–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∏ –∫–ª—é—á–µ–≤—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –°—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–∞—é—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π, —Ñ–∞–∑, —ç—Ñ—Ñ–µ–∫—Ç–æ–≤, –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –∞—É–¥–∏—Ç–æ—Ä–∏–π
- –î–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π create/activate/resolve –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ `createdBy`, `activatedBy`, `resolvedBy`
- –û—à–∏–±–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–µ—Ñ–∏–∫—Å—ã `BIZ_EVENT_*`, `VAL_EVENT_*`, `INT_EVENT_*`
- –ü—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã (example) –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ create, activate, analytics, calendar
- –£–∫–∞–∑–∞–Ω –±–ª–æ–∫ Target Architecture —Å mod—É–ª–µ–º `modules/world/events`
- –í —Ä–∞–∑–¥–µ–ª–µ security –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã scopes `live-events.read`, `live-events.manage`
- API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é –∫–∞–ª–µ–Ω–¥–∞—Ä—è —á–µ—Ä–µ–∑ `limit`, `cursor` –∏ —ç—Ç–æ –æ—Ç—Ä–∞–∂–µ–Ω–æ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏
- –§–∞–π–ª –ø—Ä–æ—Ö–æ–¥–∏—Ç OpenAPI –≤–∞–ª–∏–¥–∞—Ü–∏—é (spectral/openapi-generator)
- –û–±–Ω–æ–≤–ª—ë–Ω `brain-mapping.yaml` –∏ `.BRAIN` –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è

---

## ‚ùì FAQ

**–í–æ–ø—Ä–æ—Å:** –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –¥–≤—É—Ö –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π?  
**–û—Ç–≤–µ—Ç:** –°–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –∞–∫—Ç–∏–≤–∞—Ü–∏—é –¥–≤—É—Ö —Å–æ–±—ã—Ç–∏–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ CITY_CRISIS. Endpoint `/live-events` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 409 —Å –∫–æ–¥–æ–º `BIZ_EVENT_CONFLICT`, –µ—Å–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç—Å—è.

**–í–æ–ø—Ä–æ—Å:** –ú–æ–∂–Ω–æ –ª–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ emergency —Å–æ–±—ã—Ç–∏—è?  
**–û—Ç–≤–µ—Ç:** –î–∞, –ø—Ä–∏ `activationMode = EMERGENCY` —Ç—Ä–µ–±—É—é—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è: `emergencyReason`, `approvalId`. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏—Ö –∫–∞–∫ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –≤ `LiveEventActivationRequest` –ø—Ä–∏ emergency.

**–í–æ–ø—Ä–æ—Å:** –ö–∞–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —É–∑–Ω–∞—ë—Ç –æ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤?  
**–û—Ç–≤–µ—Ç:** –ß–µ—Ä–µ–∑ WebSocket –∫–∞–Ω–∞–ª –∏ polling endpoint `/live-events/impacts`. –í —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ —É–∫–∞–∑–∞—Ç—å –ø–æ–ª–µ `pollingIntervalSeconds` –≤ –æ—Ç–≤–µ—Ç–µ impacts.

**–í–æ–ø—Ä–æ—Å:** –ö–∞–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è?  
**–û—Ç–≤–µ—Ç:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ 5 —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –º–∏–Ω—É—Ç—É –Ω–∞ –∫–∞–Ω–∞–ª, –¥—É–±–ª–∏—Ä—É—é—â–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–≥—Ä–µ–≥–∏—Ä—É—é—Ç—Å—è. –£–∫–∞–∂–∏—Ç–µ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ `/notifications` –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-Idempotency-Key`.

**–í–æ–ø—Ä–æ—Å:** –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∞—Ä—Ö–∏–≤ —Å–æ–±—ã—Ç–∏–π?  
**–û—Ç–≤–µ—Ç:** –ê—Ä—Ö–∏–≤ –≤ Postgres —Ç–∞–±–ª–∏—Ü–µ `live_event_archive`. Endpoint `/live-events/calendar` —Å `status=RESOLVED` –¥–æ–ª–∂–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –∏ —Ñ–∏–ª—å—Ç—Ä `seasonId`.

---

## üì¶ –†–µ–∑—É–ª—å—Ç–∞—Ç

- –§–∞–π–ª `api/v1/gameplay/world/live-events.yaml` —Å –ø–æ–ª–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º live events API
- –ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å –≤ `brain-mapping.yaml` –¥–ª—è `.BRAIN/02-gameplay/world/events/live-events-system.md`
- –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π —Å—Ç–∞—Ç—É—Å `.BRAIN/02-gameplay/world/events/live-events-system.md` —Å –∑–∞–¥–∞—á–µ–π API-TASK-246








### OpenAPI (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

- –ó–∞–ø–æ–ª–Ω–∏ `info.x-microservice` (name, port, domain, base-path, package) –ø–æ –¥–∞–Ω–Ω—ã–º —Ü–µ–ª–µ–≤–æ–≥–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞.
- –í —Å–µ–∫—Ü–∏–∏ `servers` –æ—Å—Ç–∞–≤—å Production gateway `https://api.necp.game/v1` –∏ –ø—Ä–∏–º–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ `http://localhost:8080/api/v1`.
- WebSocket –º–∞—Ä—à—Ä—É—Ç—ã –ø—É–±–ª–∏–∫—É–π —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `wss://api.necp.game/v1/...`.


