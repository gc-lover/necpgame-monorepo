# Task ID: API-TASK-256
**–¢–∏–ø:** API Generation
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –≤—ã—Å–æ–∫–∏–π (Post-MVP)
**–°—Ç–∞—Ç—É—Å:** queued
**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-07 22:55
**–°–æ–∑–¥–∞—Ç–µ–ª—å:** AI Agent (GPT-5 Codex)
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** API-TASK-122 (stock-exchange core API)

---

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–ü–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π REST/WS –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –¥–∏–≤–∏–¥–µ–Ω–¥–Ω–æ–≥–æ —è–¥—Ä–∞ –±–∏—Ä–∂–∏ –∞–∫—Ü–∏–π NECPGAME. –ù—É–∂–Ω–æ –æ–ø–∏—Å–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≤—ã–ø–ª–∞—Ç, –∏—Å—Ç–æ—Ä–∏—é –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π, DRIP-–ª–æ–≥–∏–∫–∞, —É–¥–µ—Ä–∂–∞–Ω–∏–µ –Ω–∞–ª–æ–≥–æ–≤ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:** –°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å OpenAPI —Ñ–∞–π–ª —Å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º —Ä–∞–∑–¥–µ–ª–æ–º `/stocks/dividends/*`, –≤–∫–ª—é—á–∞—è –≥—Ä–∞—Ñ–∏–∫–∏ –≤—ã–ø–ª–∞—Ç, –∏—Å—Ç–æ—Ä–∏—é –∏–≥—Ä–æ–∫–∞, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DRIP, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ CRUD –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –Ω–∞–ª–æ–≥–∞–º–∏/—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏.

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç, –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –¥–∏–≤–∏–¥–µ–Ω–¥–æ–≤: –æ–±—ä—è–≤–ª–µ–Ω–∏–µ, —Å–Ω–∞–ø—à–æ—Ç –∞–∫—Ü–∏–æ–Ω–µ—Ä–æ–≤, —Å–ø–∏—Å–∞–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤, —Ä–µ–∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å. API –¥–æ–ª–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é –≤—ã–ø–ª–∞—Ç, –ø—Ä–æ–∑—Ä–∞—á–Ω—É—é –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è (–∫–æ–º–ø–ª–∞–µ–Ω—Å, –Ω–∞–ª–æ–≥–∏, –æ—Ç–º–µ–Ω–∞ –≤—ã–ø–ª–∞—Ç).

**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ:**
- –î–∞—Ç—å —ç–∫–æ–Ω–æ–º–∏–∫–µ MMORPG –ø–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥ —á–µ—Ä–µ–∑ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –¥–∏–≤–∏–¥–µ–Ω–¥—ã
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è —Å –∫–æ—à–µ–ª—å–∫–∞–º–∏ –∏–≥—Ä–æ–∫–æ–≤ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
- –ü—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π DRIP –∏ —É–¥–µ—Ä–∂–∞–Ω–∏–µ –Ω–∞–ª–æ–≥–æ–≤ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ –∞—É–¥–∏—Ç –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –≤—ã–ø–ª–∞—Ç

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** `.BRAIN`
**–ü—É—Ç—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç—É:** `.BRAIN/02-gameplay/economy/stock-exchange/stock-dividends.md`
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** v1.1.0
**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-11-07
**–°—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞:** approved

**–ß—Ç–æ –≤–∞–∂–Ω–æ –∏–∑ —ç—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞:**
- –ö–≤–∞—Ä—Ç–∞–ª—å–Ω—ã–µ/–≥–æ–¥–æ–≤—ã–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≤—ã–ø–ª–∞—Ç, —Ñ–æ—Ä–º—É–ª—ã —Ä–∞—Å—á—ë—Ç–∞ –∏ –∫–ª—é—á–µ–≤—ã–µ –¥–∞—Ç—ã (declaration, ex-date, record, payment)
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ common vs preferred stock –∏ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—ã –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏
- DRIP —Å—Ü–µ–Ω–∞—Ä–∏–∏, —É—Å–ª–æ–≤–∏—è (price thresholds) –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–∏ –¥–æ–ª–µ–π
- –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö `dividend_schedules`, `dividend_payments`, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–∞–ª–æ–≥–æ–≤–æ–π –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
- Event bus —Å–æ–±—ã—Ç–∏—è `economy.dividends.*` –∏ —Ñ–∞–∑–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–ø–ª–∞—Ç—ã (declared‚Üípaid‚Üíreconciled)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: `MatchingLatency`, `PayoutSuccessRate`, –∞–ª–µ—Ä—Ç—ã –Ω–∞ –∑–∞–¥–µ—Ä–∂–∫–∏ >30 —Å–µ–∫

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- `.BRAIN/02-gameplay/economy/stock-exchange/stock-exchange-overview.md` ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∏—Ä–∂–∏, —Å–µ—Ä–≤–∏—Å—ã `dividend-service`, `compliance-service`
- `.BRAIN/02-gameplay/economy/economy-events.md` ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ –¥–∏–≤–∏–¥–µ–Ω–¥—ã –∏ –Ω–∞–ª–æ–≥–∏
- `.BRAIN/02-gameplay/economy/economy-analytics.md` ‚Äî —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –∏ UI-–¥–∞—à–±–æ—Ä–¥–∞–º
- `API-SWAGGER/api/v1/gameplay/economy/stock-exchange-core.yaml` ‚Äî —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –±–∞–∑–æ–≤—ã–µ endpoints –∏ —Å—Ç–∏–ª–∏—Å—Ç–∏–∫–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è
- `API-SWAGGER/api/v1/gameplay/economy/economy-events.yaml` ‚Äî –ø—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å event-driven –º–µ—Ö–∞–Ω–∏–∑–º–∞–º–∏

### –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- `.BRAIN/05-technical/backend/tax/tax-service.md` ‚Äî —É–¥–µ—Ä–∂–∞–Ω–∏–µ –Ω–∞–ª–æ–≥–æ–≤ –ø—Ä–∏ –≤—ã–ø–ª–∞—Ç–∞—Ö (–µ—Å–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: —Å–≤–µ—Ä–∏—Ç—å—Å—è —Å –Ω–∞–ª–æ–≥–æ–≤—ã–º –º–æ–¥—É–ª–µ–º –≤ economy)
- `.BRAIN/05-technical/backend/notification/notification-system.md` ‚Äî –ø–∞—Ç—Ç–µ—Ä–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (HUD, –ø–æ—á—Ç–∞, push)
- `.BRAIN/05-technical/backend/wallet/wallet-service.md` ‚Äî –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∫–æ—à–µ–ª—å–∫–∞ –¥–ª—è –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–π

---

## üìÅ –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API

### –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `API-SWAGGER`

**–¶–µ–ª–µ–≤–æ–π —Ñ–∞–π–ª:** `api/v1/gameplay/economy/stock-exchange-dividends.yaml`
**API –≤–µ—Ä—Å–∏—è:** v1
**–¢–∏–ø —Ñ–∞–π–ª–∞:** OpenAPI 3.0.3 (YAML)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:**
```
API-SWAGGER/
‚îî‚îÄ‚îÄ api/
    ‚îî‚îÄ‚îÄ v1/
        ‚îî‚îÄ‚îÄ gameplay/
            ‚îî‚îÄ‚îÄ economy/
                ‚îú‚îÄ‚îÄ stock-exchange-core.yaml
                ‚îú‚îÄ‚îÄ stock-exchange-trading.yaml
                ‚îú‚îÄ‚îÄ stock-exchange-indices.yaml
                ‚îî‚îÄ‚îÄ stock-exchange-dividends.yaml  ‚Üê —Å–æ–∑–¥–∞—Ç—å/—Ä–∞—Å—à–∏—Ä–∏—Ç—å
```

**–ï—Å–ª–∏ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:** –æ–±–Ω–æ–≤–∏—Ç—å –¥–æ v1.1.0, —Å–æ—Ö—Ä–∞–Ω–∏–≤ –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å; –∏–Ω–∞—á–µ —Å–æ–∑–¥–∞—Ç—å —Å –Ω—É–ª—è –∏ –ø—Ä–æ—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫.

---

## üèóÔ∏è –¶–µ–ª–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

### Backend (–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å:** economy-service
- **–ü–æ—Ä—Ç:** 8085
- **API base path:** `/api/v1/gameplay/economy/stocks/dividends/*`
- **–î–æ–º–µ–Ω:** dividend schedules, payouts, DRIP, compliance
- **–°–µ—Ä–≤–∏—Å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
  - `wallet-service` ‚Äî –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –∏–≥—Ä–æ–∫–∞–º
  - `tax-service` ‚Äî —É–¥–µ—Ä–∂–∞–Ω–∏–µ –∏ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å –Ω–∞–ª–æ–≥–æ–≤
  - `notification-service` ‚Äî HUD, –ø–æ—á—Ç–∞, push –ø—Ä–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏/–≤—ã–ø–ª–∞—Ç–µ
  - `analytics-service` ‚Äî –ø—É–±–ª–∏–∫–∞—Ü–∏—è yield –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
  - `anti-cheat/compliance-service` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Å–∞–π–¥–æ–≤ –∏ –º—É–ª—å—Ç–∏–∞–∫–∫–∞—É–Ω—Ç–æ–≤

### Frontend (–º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- **–ú–æ–¥—É–ª—å:** `modules/economy/stocks`
- **Feature path:** `modules/economy/stocks/dividends`
- **State Store:** `useEconomyStore` (`dividendSchedules`, `payoutHistory`, `dripSettings`, `taxWithholding`)
- **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (@shared/ui):** `DividendCard`, `ScheduleTimeline`, `AlertBanner`, `DataTable`, `ProgressDonut`
- **–§–æ—Ä–º—ã (@shared/forms):** `DividendEnrollmentForm`, `DripRulesForm`, `TaxPreferenceForm`
- **Layouts:** `@shared/layouts/GameLayout`
- **Hooks:** `@shared/hooks/useRealtime`, `@shared/hooks/usePagination`, `@shared/hooks/useFormStep`

### API Gateway –º–∞—Ä—à—Ä—É—Ç
```yaml
- id: economy-service
  uri: lb://ECONOMY-SERVICE
  predicates:
    - Path=/api/v1/gameplay/economy/stocks/**
```

### Service Communication
- **Feign –∫–ª–∏–µ–Ω—Ç—ã:**
  - `tax-service` ‚Üí `POST /tax/withholding/calc` (—Ä–∞—Å—á—ë—Ç —É–¥–µ—Ä–∂–∞–Ω–∏–π)
  - `notification-service` ‚Üí `POST /notifications/bulk` (—Ä–∞—Å—Å—ã–ª–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π)
  - `wallet-service` ‚Üí `POST /wallet/transactions/dividend` (–∑–∞—á–∏—Å–ª–µ–Ω–∏–µ+DRIP)
  - `analytics-service` ‚Üí `POST /analytics/dividends/yield` (–∞–≥—Ä–µ–≥–∞—Ü–∏—è)
- **Event bus (`economy.dividends.*`):** `declared`, `snapshot_completed`, `payout_started`, `payout_completed`, `drip_executed`, `tax_withheld`, `payout_failed`

---

## üß© –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. **–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `stock-exchange-core.yaml`** ‚Äî –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –∏ –≤—ã–Ω–µ—Å—Ç–∏ –¥–∏–≤–∏–¥–µ–Ω–¥–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª, —É–∫–∞–∑–∞–≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ `Target Architecture` –≤ —à–∞–ø–∫–µ.
2. **–°–∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–¥–µ–ª —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π** ‚Äî REST –¥–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–π, —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–∏–∫–µ—Ä—É, –¥–∏–∞–ø–∞–∑–æ–Ω—É –¥–∞—Ç, —Å—Ç–∞—Ç—É—Å—É (`DECLARED`, `PAID`, `CANCELLED`).
3. **–î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç –≤—ã–ø–ª–∞—Ç –∏–≥—Ä–æ–∫–∞** ‚Äî API –∏—Å—Ç–æ—Ä–∏–∏, –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ—Ç–¥–µ–ª—å–Ω–æ–π –≤—ã–ø–ª–∞—Ç—ã, —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É DRIP/–Ω–∞–ª–æ–≥–∏, –ø–∞–≥–∏–Ω–∞—Ü–∏—è.
4. **–ü—Ä–æ–ø–∏—Å–∞—Ç—å DRIP —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** ‚Äî `POST/DELETE /drip` —Å –≤–∞–ª–∏–¥–∞—Ü–∏—è–º–∏, –ø—Ä–∞–≤–∏–ª–∞ —É—Å–ª–æ–≤–Ω—ã—Ö –ø–æ—Ä–æ–≥–æ–≤, –æ—Ç–≤–µ—Ç —Å –Ω–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ reinvest.
5. **–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∞–¥–º–∏–Ω—Å–∫–∏–π —Å–µ–≥–º–µ–Ω—Ç** ‚Äî endpoints `/admin/dividends` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π, –∏—Ö –æ—Ç–º–µ–Ω—ã, —Ä–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏ payout ratio, –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤—ã–ø–ª–∞—Ç.
6. **–û–ø–∏—Å–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** ‚Äî —Å–µ–∫—Ü–∏—è Service Communication —Å payload –¥–ª—è Kafka, –∫–æ–Ω—Ç—Ä–∞–∫—Ç —Å –Ω–∞–ª–æ–≥–æ–≤—ã–º–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏, —Å—Ö–µ–º—ã –æ—à–∏–±–æ–∫.
7. **–í—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ SLA** ‚Äî –æ–ø–∏—Å–∞—Ç—å —Ç—Ä–µ–±—É–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏, –∞–ª–µ—Ä—Ç—ã, –∞—É–¥–∏—Ç–æ—Ä—Å–∫–∏–µ –ª–æ–≥–∏, –¥–æ–±–∞–≤–∏—Ç—å –∫ Acceptance Criteria –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ observability.
8. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ö–µ–º—É –¥–∞–Ω–Ω—ã—Ö** ‚Äî –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –æ–±—ä–µ–∫—Ç—ã OpenAPI (DividendSchedule, DividendPayment, DripPreference, WithholdingBreakdown) –∏ —Å–≤—è–∑–∞—Ç—å —Å SQL —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏.
9. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å —á–µ–∫–ª–∏—Å—Ç** ‚Äî —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ñ–∞–π–ª ‚â§400 —Å—Ç—Ä–æ–∫, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `shared/common/responses.yaml`, –Ω–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ö–µ–º.

---

## üß™ API Endpoints –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã

–ó–∞–ø–ª–∞–Ω–∏—Ä—É–π —Å–ª–µ–¥—É—é—â–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã (–¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –≤ OpenAPI):

1. **GET `/api/v1/gameplay/economy/stocks/dividends/schedules`**
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `ticker`, `status`, `from`, `to`, `frequency`, `page`, `size`
   - –û—Ç–≤–µ—Ç 200: —Å–ø–∏—Å–æ–∫ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π —Å –∫–ª—é—á–µ–≤—ã–º–∏ –¥–∞—Ç–∞–º–∏, —Ç–∏–ø–æ–º (cash/stock), –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å—é, –æ–±—ä—è–≤–∏–≤—à–∏–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
   - –û—à–∏–±–∫–∏: 400 (–≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç), 404 (—Ç–∏–∫–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω)

2. **POST `/api/v1/gameplay/economy/stocks/dividends/schedules`** (admin)
   - –¢–µ–ª–æ: —Ç–∏–∫–µ—Ä, `frequency`, `dividendPerShare`, –¥–∞—Ç—ã, –ø—Ä–∏–∑–Ω–∞–∫ special
   - –û—Ç–≤–µ—Ç: —Å–æ–∑–¥–∞–Ω–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ + audit id
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π (admin-service), idempotency token

3. **PATCH `/api/v1/gameplay/economy/stocks/dividends/schedules/{scheduleId}`**
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ payout ratio, –ø–µ—Ä–µ–Ω–æ—Å –¥–∞—Ç, –æ—Ç–º–µ–Ω–∞
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç–∞–¥–∏–π (–Ω–µ–ª—å–∑—è –º–µ–Ω—è—Ç—å –ø–æ—Å–ª–µ `PAID`), –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

4. **GET `/api/v1/gameplay/economy/stocks/dividends/history`**
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `characterId`, `ticker`, `from`, `to`, `reinvested`
   - –û—Ç–≤–µ—Ç: –≤—ã–ø–ª–∞—Ç—ã –∏–≥—Ä–æ–∫–∞, —É–¥–µ—Ä–∂–∞–Ω–Ω—ã–µ –Ω–∞–ª–æ–≥–∏, DRIP —Å—Ç–∞—Ç—É—Å
   - –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Å cursor, —Å–≤–µ—Ä–∫–∞ totalAmount vs wallet entries

5. **POST `/api/v1/gameplay/economy/stocks/dividends/{scheduleId}/drip`**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DRIP: —Ä–µ–∂–∏–º (`FULL`, `TICKER_ONLY`, `PRICE_THRESHOLD`), –ª–∏–º–∏—Ç—ã, auto-toggle
   - –û—Ç–≤–µ—Ç: –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞, next evaluation

6. **DELETE `/api/v1/gameplay/economy/stocks/dividends/{scheduleId}/drip`**
   - –û—Ç–º–µ–Ω–∞ DRIP –¥–ª—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∏–ª–∏ –≤—Å–µ–≥–æ —Ç–∏–∫–µ—Ä–∞
   - –û—Ç–≤–µ—Ç: –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ + –¥–∞—Ç–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è

7. **GET `/api/v1/gameplay/economy/stocks/dividends/payouts/{payoutId}`**
   - –î–µ—Ç–∞–ª–∏ –≤—ã–ø–ª–∞—Ç—ã: shares owned, withholding, net amount, —Å–æ–±—ã—Ç–∏—è
   - 404, –µ—Å–ª–∏ –≤—ã–ø–ª–∞—Ç—É —É–¥–∞–ª–∏–ª–∏ (retention policy)

8. **POST `/api/v1/gameplay/economy/stocks/dividends/{scheduleId}/retry`** (admin)
   - –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –ø—Ä–∏ —Å–±–æ–µ, –æ–ø—Ü–∏–∏ —Ä—É—á–Ω–æ–π –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏

9. **GET `/api/v1/gameplay/economy/stocks/dividends/metrics`**
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–≥—Ä–µ–≥–∞—Ç—ã: total paid, yield by sector, drip adoption rate
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è frontend –¥–∞—à–±–æ—Ä–¥–æ–º –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

10. **WebSocket `/ws/economy/stocks/dividends/stream`**
    - –¢–∏–∫–µ—Ä—ã: `dividendDeclared`, `payoutStarted`, `payoutCompleted`, `dripExecuted`
    - –§–æ—Ä–º–∞—Ç payload: ticker, scheduleId, effectiveAt, summary

–í—Å–µ –æ—Ç–≤–µ—Ç—ã –¥–æ–ª–∂–Ω—ã —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ `shared/common/responses.yaml` –¥–ª—è –æ—à–∏–±–æ–∫ (BadRequest, Unauthorized, NotFound, Conflict, InternalError).

---

## üóÑÔ∏è –ú–æ–¥–µ–ª–∏ –∏ —Å—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö

–û–ø–∏—Å–∞—Ç—å –≤ components.schemas (PascalCase):
- **DividendSchedule** ‚Äî id, ticker, frequency, dividendPerShare, declarationDate, exDividendDate, recordDate, paymentDate, dividendType, status, isSpecial, createdAt
- **DividendScheduleList** ‚Äî —Å–ø–∏—Å–æ–∫ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π + –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
- **DividendPayment** ‚Äî id, scheduleId, ticker, playerId, sharesOwned, dividendPerShare, grossAmount, taxWithheld, netAmount, reinvested, sharesPurchased, paidAt
- **DripSettings** ‚Äî scope (ticker/global), mode (`FULL`, `TICKER_ONLY`, `THRESHOLD`), thresholdPrice, enabled, updatedAt
- **WithholdingBreakdown** ‚Äî jurisdiction, rate, amount
- **DividendMetrics** ‚Äî totalPaid, yieldAverage, topPayers, dripParticipation, pendingSchedules

–°–≤—è–∂–∏ —Å—Ö–µ–º—ã —Å SQL —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (indexes –Ω–∞ `payment_date`, `status`, `player_id`).

---

## üîÑ –°–æ–±—ã—Ç–∏—è –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**Kafka topics:**
- `economy.dividends.declared` ‚Äî payload: scheduleId, ticker, frequency, dividendPerShare, paymentDate
- `economy.dividends.snapshot_completed` ‚Äî scheduleId, holdersCount, totalShares
- `economy.dividends.payout_started` ‚Äî scheduleId, batchId, expectedTotal
- `economy.dividends.payout_completed` ‚Äî scheduleId, batchId, totalPaid, failedCount
- `economy.dividends.drip_executed` ‚Äî scheduleId, playerId, sharesPurchased, remainder
- `economy.dividends.tax_withheld` ‚Äî scheduleId, playerId, jurisdiction, amount
- `economy.dividends.payout_failed` ‚Äî scheduleId, playerId, reason (wallet_unavailable, compliance_hold, insufficient_funds)

**–°–µ—Ä–≤–∏—Å–Ω—ã–µ –≤—ã–∑–æ–≤—ã:**
- `POST /tax/withholding/apply` ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ —Å—É–º–º —É–¥–µ—Ä–∂–∞–Ω–∏–π
- `POST /wallet/internal/transfer` ‚Äî –º–∞—Å—Å–æ–≤–æ–µ –∑–∞—á–∏—Å–ª–µ–Ω–∏–µ
- `POST /notifications/templates/dividend` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `POST /analytics/dividends/report` ‚Äî –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ yield/DRIP —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

---

## üóÉÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –º–∏–≥—Ä–∞—Ü–∏–∏

–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å API —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏:
- `dividend_schedules` ‚Äî –∫–∞–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ (frequency, payout ratio, –¥–∞—Ç—ã, —Å—Ç–∞—Ç—É—Å)
- `dividend_payments` ‚Äî —Ö—Ä–∞–Ω–∏—Ç –∏—Å—Ç–æ—Ä–∏—é –≤—ã–ø–ª–∞—Ç, —Å–≤—è–∑—å —Å –∏–≥—Ä–æ–∫–æ–º, DRIP
- `dividend_withholdings` (—Å–æ–∑–¥–∞—Ç—å) ‚Äî —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —É–¥–µ—Ä–∂–∞–Ω–Ω—ã—Ö –Ω–∞–ª–æ–≥–æ–≤ –ø–æ jurisdictions
- `dividend_drip_rules` (JSONB) ‚Äî —É—Å–ª–æ–≤–∏—è reinvest (thresholds, limiter)

–ö–∞–∂–¥–æ–µ –ø–æ–ª–µ –∏–∑ —Å—Ö–µ–º—ã –¥–æ–ª–∂–Ω–æ –∏–º–µ—Ç—å —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç –≤ API-–º–æ–¥–µ–ª–∏ (decimal precision, enums, datetime —Å timezone).

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ Observability

- Prometheus –º–µ—Ç—Ä–∏–∫–∏: `dividend_payout_latency_ms`, `dividend_payout_success_rate`, `dividend_drip_rate`, `dividend_alerts_sent_total`
- –õ–æ–≥–∏ –∞—É–¥–∏—Ç–∞: –∫–∞–∂–¥–∞—è –∞–¥–º–∏–Ω-–æ–ø–µ—Ä–∞—Ü–∏—è (`schedule_create`, `schedule_update`, `schedule_cancel`, `retry`) —Å userId, timestamp, diff
- PagerDuty –ø—Ä–∞–≤–∏–ª–∞: –∑–∞–¥–µ—Ä–∂–∫–∞ payout >300 —Å–µ–∫, –æ—à–∏–±–∫–∞ –Ω–∞–ª–æ–≥–æ–≤–æ–≥–æ —É–¥–µ—Ä–∂–∞–Ω–∏—è, success rate < 99%
- OpenTelemetry —Ç—Ä–µ–π—Å: span `dividend-payout-job` —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ batchId, holdersCount

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

1. OpenAPI —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω/–æ–±–Ω–æ–≤–ª—ë–Ω –∏ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è `spectral` –±–µ–∑ –æ—à–∏–±–æ–∫.
2. –í —à–∞–ø–∫–µ —Ñ–∞–π–ª–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –±–ª–æ–∫ `Target Architecture` —Å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–º, –º–æ–¥—É–ª–µ–º –∏ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.
3. –í—Å–µ REST –º–∞—Ä—à—Ä—É—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π –ø—Ä–µ—Ñ–∏–∫—Å `/api/v1/gameplay/economy/stocks/dividends` –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ HTTP –º–µ—Ç–æ–¥—ã.
4. –ü—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –≤ —Å–ø–∏—Å–∫–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π –∏ –∏—Å—Ç–æ—Ä–∏–∏ –≤—ã–ø–ª–∞—Ç.
5. DRIP endpoints –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç —Ä–µ–∂–∏–º—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫.
6. –ê–¥–º–∏–Ω—Å–∫–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã –∑–∞—â–∏—â–µ–Ω—ã —Ä–æ–ª—å—é (`X-Admin-Role` –∏–ª–∏ –∞–Ω–∞–ª–æ–≥) –∏ –æ–ø–∏—Å–∞–Ω—ã —Å—Ö–µ–º—ã –æ—à–∏–±–æ–∫ 403/409.
7. Event payload –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –∏ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –∏–∑ `.BRAIN` –¥–æ–∫—É–º–µ–Ω—Ç–∞.
8. –°—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–∞—é—Ç –Ω–∞–ª–æ–≥–æ–≤—ã–µ —É–¥–µ—Ä–∂–∞–Ω–∏—è –∏ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é `sharesPurchased`, `remainder`.
9. –ú–µ—Ç—Ä–∏–∫–∏ –∏ audit logging –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –∏ —Å–≤—è–∑–∞–Ω—ã —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏.
10. FAQ —Ä–∞–∑–¥–µ–ª –ø–æ–∫—Ä—ã–≤–∞–µ—Ç DRIP –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –æ—à–∏–±–∫–∏ –≤—ã–ø–ª–∞—Ç –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ñ–∏–Ω–∞–Ω—Å–∞–º.

---

## ‚ùì FAQ

**Q:** –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏—è –æ—Ç–º–µ–Ω—è–µ—Ç –¥–∏–≤–∏–¥–µ–Ω–¥ –ø–æ—Å–ª–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è?

**A:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `PATCH /schedules/{id}` —Å `status=CANCELLED`, –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å `economy.dividends.payout_failed` —Å –ø—Ä–∏—á–∏–Ω–æ–π, —É–≤–µ–¥–æ–º–ª—è—Ç—å –∏–≥—Ä–æ–∫–æ–≤.

**Q:** –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏–≥—Ä–æ–∫–æ–≤ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏ (shared wallet)?

**A:** –ü–ª–∞—Ç–∏—Ç—å –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (playerId) –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å shared wallet —á–µ—Ä–µ–∑ wallet-service; –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π –ø–æ–ª–µ `characterId` –∏ `accountId` –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

**Q:** –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ DRIP –≤–∫–ª—é—á—ë–Ω, –Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ü–µ–ª–æ–π –∞–∫—Ü–∏–∏?

**A:** –ü–æ–∫—É–ø–∞—Ç—å —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –∞–∫—Ü–∏–∏, –æ—Å—Ç–∞—Ç–æ–∫ —Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ `cashRemainder`; –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –≤ –æ—Ç–≤–µ—Ç–µ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ü–∏–∫–ª–∞.

**Q:** –ö–∞–∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –Ω–∞–ª–æ–≥–æ–≤—ã–µ –ª—å–≥–æ—Ç—ã —Ä–∞–∑–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤?

**A:** –ß–µ—Ä–µ–∑ `dividend_withholdings` —Å –ø–æ–ª–µ–º `jurisdiction` –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π `tax-service`; –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å enum/—Å—Ç—Ä–æ–∫–∏ –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–∞–ª–æ–≥–æ–≤—ã–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏.

**Q:** –ö–∞–∫ –∑–∞—â–∏—â–∞–µ–º—Å—è –æ—Ç –∏–Ω—Å–∞–π–¥–µ—Ä—Å–∫–∏—Ö –≤—ã–ø–ª–∞—Ç?

**A:** –í —Ä–∞–∑–¥–µ–ª–µ Service Communication —É–∫–∞–∑–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å compliance-service –∏ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã `ON_HOLD`; –∞–¥–º–∏–Ω—Å–∫–∏–µ –æ—Ç–≤–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø—Ä–∏—á–∏–Ω—É –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.

---


### OpenAPI (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

- –ó–∞–ø–æ–ª–Ω–∏ `info.x-microservice` (name, port, domain, base-path, package) –ø–æ –¥–∞–Ω–Ω—ã–º —Ü–µ–ª–µ–≤–æ–≥–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞.
- –í —Å–µ–∫—Ü–∏–∏ `servers` –æ—Å—Ç–∞–≤—å Production gateway `https://api.necp.game/v1` –∏ –ø—Ä–∏–º–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ `http://localhost:8080/api/v1`.
- WebSocket –º–∞—Ä—à—Ä—É—Ç—ã –ø—É–±–ª–∏–∫—É–π —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `wss://api.necp.game/v1/...`.

