# Task ID: API-TASK-279
**–¢–∏–ø:** API Generation
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –≤—ã—Å–æ–∫–∏–π
**–°—Ç–∞—Ç—É—Å:** queued
**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-08 02:45
**–°–æ–∑–¥–∞—Ç–µ–ª—å:** AI Agent (GPT-5 Codex)
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** API-TASK-278 (factions original catalog API), API-TASK-273 (seasonal events schedule API), API-TASK-275 (global research API)

---

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–°–æ–∑–¥–∞—Ç—å OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é `factions-history-timeline.yaml`, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â—É—é —Ö—Ä–æ–Ω–∏–∫—É –≤–ª–∏—è–Ω–∏—è –∞–≤—Ç–æ—Ä—Å–∫–∏—Ö —Ñ—Ä–∞–∫—Ü–∏–π 2020‚Äì2093, –∏—Ö —Å–æ–±—ã—Ç–∏—è, –º–µ—Ö–∞–Ω–∏–∫–∏ –∏ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–µ—Ç–≤–∏.

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:** –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å REST/WS –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –¥–ª—è world-service –∏ social-service, –ø–æ–∑–≤–æ–ª—è—é—â–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É –∏ –∏–≥—Ä–æ–≤—ã–º —Å–∏—Å—Ç–µ–º–∞–º –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Ñ—Ä–∞–∫—Ü–∏–π, –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–µ–∑–æ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å world flags.

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–û–±–µ—Å–ø–µ—á–∏—Ç—å:
- –î–æ—Å—Ç—É–ø –∫ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –ª–µ–Ω—Ç–µ —Ñ—Ä–∞–∫—Ü–∏–π –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º –∏ —Ä–µ–≥–∏–æ–Ω–∞–º
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏, —Å–µ–∑–æ–Ω–Ω—ã–º–∏ –≤–æ–ª–Ω–∞–º–∏ –∏ world-state –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- –ü—Ä–∏–≤—è–∑–∫—É —Ä–µ–ø—É—Ç–∞—Ü–∏–π, —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –∏ narrative-–∫–≤–µ—Å—Ç–æ–≤ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —ç–ø–æ—Ö–∞–º
- –ü–æ–¥–¥–µ—Ä–∂–∫—É –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ –¥–ª—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Seasonal Events, Global Research –∏ Raid Scenarios

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

- `.BRAIN/03-lore/factions/factions-timeline-2020-2093.md` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—è –∏ API –∫–æ–Ω—Ç—É—Ä—ã
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:
  - `.BRAIN/02-gameplay/world/seasonal-events-2020-2093.md`
  - `.BRAIN/02-gameplay/world/global-research-2020-2093.md`
  - `.BRAIN/02-gameplay/world/raids/faction-raid-scenarios.md`
  - `.BRAIN/03-lore/factions/factions-original-catalog.md`

---

## üìÅ –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API

**–§–∞–π–ª:** `api/v1/world/factions/history-timeline.yaml`  
**–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã:** world-service (–æ—Å–Ω–æ–≤–∞), social-service (—Ä–µ–ø—É—Ç–∞—Ü–∏–∏), economy-service (–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã), analytics-service (—Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è), narrative-service (–∫–≤–µ—Å—Ç–æ–≤—ã–µ –ø—Ä–∏–≤—è–∑–∫–∏)

---

## üß© –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ–∫—Ü–∏–∏

1. `GET /api/v1/world/factions/history` ‚Äî —Å–≤–æ–¥–Ω–∞—è –ª–µ–Ω—Ç–∞ —ç–ø–æ—Ö, —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –ø–µ—Ä–∏–æ–¥—É, —Ç–∏–ø—É —Ñ—Ä–∞–∫—Ü–∏–∏, —Ä–µ–≥–∏–æ–Ω—É.
2. `GET /api/v1/world/factions/history/{eraId}` ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ–± —ç–ø–æ—Ö–µ: —Å–æ–±—ã—Ç–∏—è, –≤–ª–∏—è–Ω–∏—è, –º–µ—Ö–∞–Ω–∏–∫–∏, API hooks.
3. `GET /api/v1/world/factions/history/{eraId}/events` ‚Äî —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π –∏ –∏—Ö —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å (active, scheduled, archived).
4. `POST /api/v1/world/factions/history/{eraId}/activate` ‚Äî –∞–∫—Ç–∏–≤–∞—Ü–∏—è —ç–ø–æ—Ö–∏ –∏–ª–∏ —Å–µ–∑–æ–Ω–Ω–æ–π –≤–æ–ª–Ω—ã, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ world flags –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.
5. `POST /api/v1/world/factions/history/{eraId}/record` ‚Äî —Ñ–∏–∫—Å–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–±—ã—Ç–∏—è (—Ä–µ–ø—É—Ç–∞—Ü–∏–∏, —ç–∫–æ–Ω–æ–º–∏–∫–∞, narrative —Ñ–ª–∞–≥–∏).
6. `GET /api/v1/world/factions/history/{eraId}/branches` ‚Äî —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–µ—Ç–≤–∏ –∏ –∏—Ö —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏.
7. WebSocket `/ws/world/factions/history/{eraId}` ‚Äî —Å–æ–±—ã—Ç–∏—è `EraActivated`, `EventTriggered`, `BranchUnlocked`, `OutcomeRecorded`.
8. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: seasonal-service `POST /api/v1/world/seasons/apply`, analytics-service `POST /api/v1/analytics/history/track`, narrative-service `POST /api/v1/narrative/history/hooks`.
9. –°—Ö–µ–º—ã: `EraSummary`, `EraDetail`, `HistoricalEvent`, `ActivationRequest`, `OutcomePayload`, `RegionalBranch`, `TelemetryRecord`.
10. Observability: KPI `era_engagement_score`, `historical_event_completion`, `branch_participation_rate`, –¥–∞—à–±–æ—Ä–¥—ã `historical-influence`, `era-economy-impact`.

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

1. –í—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–µ—Ñ–∏–∫—Å `/api/v1/world/factions/history`.
2. –≠–ø–æ—Ö–∏ –∏ –ø–æ–¥—Ñ—Ä–∞–∫—Ü–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –¥–æ–∫—É–º–µ–Ω—Ç—É (Urban Scribes‚Ä¶ Echo Dominion –ø–ª—é—Å —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–µ—Ç–≤–∏).
3. –ü–æ–¥–¥–µ—Ä–∂–∞–Ω—ã —Å—Ç–∞—Ç—É—Å—ã —Å–æ–±—ã—Ç–∏–π (planned/active/completed/archived) –∏ –∏—Ö –≤–ª–∏—è–Ω–∏—è –Ω–∞ world-state.
4. –û—à–∏–±–∫–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω—ã —á–µ—Ä–µ–∑ `shared/common/responses.yaml#/components/schemas/Error`.
5. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–ø–æ—Ö–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —Å Seasonal Events –∏ Global Research.
6. WebSocket payload –≤–∫–ª—é—á–∞–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —ç–ø–æ—Ö–∏, —Å–æ–±—ã—Ç–∏—è, —Ä–µ–≥–∏–æ–Ω–∞ –∏ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π.
7. Target Architecture –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ `modules/world/history` –∏ state store `world/history`.
8. –£–∫–∞–∑–∞–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —ç–ø–æ—Ö (cooldown, –º–∞–∫—Å–∏–º—É–º –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ).
9. –¢–µ–ª–µ–º–µ—Ç—Ä–∏—è –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç KPI –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (`bioTideScore`, `war_research_sync`, `Metanet Tribunals`).
10. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã —Å–≤—è–∑–∏ —Å –∫–≤–µ—Å—Ç–∞–º–∏ –∏ —Ä–µ–π–¥–∞–º–∏ (Quest DB, Raid Scenarios, Guild Contract Board).

---


### OpenAPI (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

- –ó–∞–ø–æ–ª–Ω–∏ `info.x-microservice` (name, port, domain, base-path, package) –ø–æ –¥–∞–Ω–Ω—ã–º —Ü–µ–ª–µ–≤–æ–≥–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞.
- –í —Å–µ–∫—Ü–∏–∏ `servers` –æ—Å—Ç–∞–≤—å Production gateway `https://api.necp.game/v1` –∏ –ø—Ä–∏–º–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ `http://localhost:8080/api/v1`.
- WebSocket –º–∞—Ä—à—Ä—É—Ç—ã –ø—É–±–ª–∏–∫—É–π —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `wss://api.necp.game/v1/...`.

