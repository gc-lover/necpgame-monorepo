# Task ID: API-TASK-318
**–¢–∏–ø:** API Generation  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –≤—ã—Å–æ–∫–∏–π  
**–°—Ç–∞—Ç—É—Å:** completed  
**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-08 12:30  
**–°–æ–∑–¥–∞—Ç–µ–ª—å:** GPT-5 Codex  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** [API-TASK-317] ‚Äì –º–∞—Å—Ç–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤; [API-TASK-158] ‚Äì –±–∞–∑–æ–≤—ã–µ social/player-orders –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

---

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é `api/v1/social/player-orders/ratings.yaml`, –ø–æ–∫—Ä—ã–≤–∞—é—â—É—é —Ä–∞—Å—á—ë—Ç —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –∑–∞–∫–∞–∑—á–∏–∫–æ–≤ –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–∞–º–∏, —à—Ç—Ä–∞—Ñ–∞–º–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏.

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:** –ù–∞ –æ—Å–Ω–æ–≤–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ `.BRAIN/02-gameplay/social/player-orders-reputation-–¥–µ—Ç–∞–ª—å–Ω–æ.md` –æ–ø–∏—Å–∞—Ç—å REST API, –º–æ–¥–µ–ª–∏ –∏ Kafka —Å–æ–±—ã—Ç–∏—è –¥–ª—è —Ä–µ–π—Ç–∏–Ω–≥–æ–≤, –æ—Ç–∑—ã–≤–æ–≤ –∏ —Å–∞–Ω–∫—Ü–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ –∑–∞–∫–∞–∑–æ–≤ –∏–≥—Ä–æ–∫–æ–≤.

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç social-service –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞–º–∏ –∑–∞–∫–∞–∑–æ–≤: —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫, –ø–µ—Ä–µ—Å—á—ë—Ç —Å decay, –ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤, –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–∞–Ω–∫—Ü–∏–π –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π –∫–∞—Ç–µ–≥–æ—Ä–∏–π.

**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ:**
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã —Ä–µ–π—Ç–∏–Ω–≥–∞ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞, –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π —Å economy/world —Å–µ—Ä–≤–∏—Å–∞–º–∏.
- –ü–æ–∑–≤–æ–ª–∏—Ç—å UI –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ä–µ–π—Ç–∏–Ω–≥–∏, –≥—Ä–∞—Ñ–∏–∫–∏, –æ—Ç–∑—ã–≤—ã –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –≤ –ø—Ä–æ—Ñ–∏–ª—è—Ö –∏–≥—Ä–æ–∫–æ–≤.
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∞–Ω–∫—Ü–∏–∏ –∏ –±–æ–Ω—É—Å—ã (escrow, –∫–æ–º–∏—Å—Å–∏–∏, –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏) –º–µ–∂–¥—É social/economy/relationships —Å–µ—Ä–≤–∏—Å–∞–º–∏.

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** `.BRAIN`  
**–ü—É—Ç—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç—É:** `.BRAIN/02-gameplay/social/player-orders-reputation-–¥–µ—Ç–∞–ª—å–Ω–æ.md`  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** v1.0.0  
**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-11-08 09:55  
**–°—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞:** approved  

**–ß—Ç–æ –≤–∞–∂–Ω–æ –∏–∑ —ç—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞:**
- –§–æ—Ä–º—É–ª—ã —Ä–∞—Å—á—ë—Ç–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –∏ –∑–∞–∫–∞–∑—á–∏–∫–∞ (`Score_executor`, `Score_client`, decay, role modifiers).
- –ú–µ—Ç—Ä–∏–∫–∏, –≤–µ—Å–∞ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (Bronze/Silver/Gold/Platinum), –ø—Ä–∞–≤–∏–ª–∞ decay/boost, —Å–µ–∑–æ–Ω–Ω—ã–µ —Å–±—Ä–æ—Å—ã.
- CRUD –æ—Ç–∑—ã–≤–æ–≤, —Å–∞–Ω–∫—Ü–∏–π, –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ UX —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—é.
- Kafka —Å–æ–±—ã—Ç–∏—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ä–µ–π—Ç–∏–Ω–≥–∞, —Å–æ–∑–¥–∞–Ω–∏–∏ –æ—Ç–∑—ã–≤–æ–≤ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ —à—Ç—Ä–∞—Ñ–æ–≤.
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å economy-service (Reward Fairness), relationships-service (–¥–æ–≤–µ—Ä–∏–µ) –∏ NPC hiring.

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

- `.BRAIN/02-gameplay/social/player-orders-system-–¥–µ—Ç–∞–ª—å–Ω–æ.md` ‚Äì –æ–±—â–∏–π –∫–æ–Ω—Ç—É—Ä –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π –∑–∞–∫–∞–∑–æ–≤.
- `.BRAIN/02-gameplay/social/player-orders-creation-–¥–µ—Ç–∞–ª—å–Ω–æ.md` ‚Äì –º–∞—Å—Ç–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤ –∏ —Å–≤—è–∑—å —Å —Ä–µ–π—Ç–∏–Ω–≥–∞–º–∏.
- `.BRAIN/02-gameplay/social/relationships-system-–¥–µ—Ç–∞–ª—å–Ω–æ.md` ‚Äì –≤–ª–∏—è–Ω–∏–µ –¥–æ–≤–µ—Ä–∏—è –∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π.
- `.BRAIN/02-gameplay/social/npc-hiring-system-–¥–µ—Ç–∞–ª—å–Ω–æ.md` ‚Äì —Ä–µ–π—Ç–∏–Ω–≥–∏ NPC –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π.
- `.BRAIN/05-technical/content-generation/city-life-population-algorithm.md` ‚Äì –≤–ª–∏—è–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –Ω–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤.
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏: `api/v1/social/player-orders.yaml`, `api/v1/social/player-orders-components.yaml`.

### –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- JSON —Å—Ö–µ–º—ã: `schemas/social/player-order-rating.schema.json`, `schemas/social/player-order-review.schema.json`, `schemas/social/player-order-penalty.schema.json`, `schemas/social/player-order-category.schema.json`.
- Kafka —Å–æ–±—ã—Ç–∏—è: `social.player-orders.rating.updated`, `social.player-orders.review.created`, `social.player-orders.penalty.applied`, `economy.player-orders.reward.adjusted`.

---

## üìÅ –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API

### –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `API-SWAGGER`

**–¶–µ–ª–µ–≤–æ–π —Ñ–∞–π–ª:** `api/v1/social/player-orders/ratings.yaml`  
**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:** `api/v1/social/player-orders-components.yaml`, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–æ–≤—ã–µ –º–æ–¥—É–ª–∏ (`player-orders-ratings-components.yaml`, `player-orders-reviews-components.yaml`).

**API –≤–µ—Ä—Å–∏—è:** v1  
**–¢–∏–ø —Ñ–∞–π–ª–∞:** OpenAPI 3.0.3 (YAML)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:**
```
API-SWAGGER/
‚îî‚îÄ‚îÄ api/
    ‚îî‚îÄ‚îÄ v1/
        ‚îî‚îÄ‚îÄ social/
            ‚îú‚îÄ‚îÄ player-orders/
            ‚îÇ   ‚îú‚îÄ‚îÄ ratings.yaml          ‚Üê —Å–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å
            ‚îÇ   ‚îú‚îÄ‚îÄ reviews.yaml          ‚Üê –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–¥–µ–ª–∏—Ç—å
            ‚îÇ   ‚îî‚îÄ‚îÄ penalties.yaml        ‚Üê –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–¥–µ–ª–∏—Ç—å
            ‚îú‚îÄ‚îÄ player-orders.yaml
            ‚îî‚îÄ‚îÄ player-orders-components.yaml
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –ï—Å–ª–∏ –æ–±—ä—ë–º >400 —Å—Ç—Ä–æ–∫, –≤—ã–Ω–µ—Å—Ç–∏ —Å—Ö–µ–º—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å —á–µ—Ä–µ–∑ `$ref`.
- –£–±–µ–¥–∏—Ç—å—Å—è –≤ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ (`OrderId`, `PlayerRole`, `Pagination`).

---

## üèóÔ∏è –¶–µ–ª–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

### Backend (–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å:** social-service  
- **–ü–æ—Ä—Ç:** 8084  
- **API Base Path:** `/api/v1/social/player-orders/*`  
- **–î–æ–º–µ–Ω:** —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏, —Ä–µ–π—Ç–∏–Ω–≥–∏, –æ—Ç–∑—ã–≤—ã, —Å–∞–Ω–∫—Ü–∏–∏  
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** economy-service (Reward Fairness, reward.adjusted), world-service (—Å–∞–Ω–∫—Ü–∏–∏ —Ñ—Ä–∞–∫—Ü–∏–π), relationships-service (–¥–æ–≤–µ—Ä–∏–µ), notification-service (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è), telemetry-service (–∞—É–¥–∏—Ç), auth-service (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è), analytics-service (leaderboards)

### Frontend (–º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- **–ú–æ–¥—É–ª—å:** `modules/social/player-orders/ratings`  
- **State Store:** `useSocialStore` (`playerOrderRatings`, `reviews`, `penalties`)  
- **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã @shared/ui:** `PlayerOrderRatingCard`, `RatingTrendChart`, `ReviewList`, `PenaltyBanner`, `CategoryBadge`  
- **–§–æ—Ä–º—ã @shared/forms:** `RatingDisputeForm`, `PenaltyAppealForm`, `ReviewSubmissionForm`  
- **Layouts @shared/layouts:** `GameLayout`, `ProfileLayout`  
- **–•—É–∫–∏ @shared/hooks:** `useEconomyRates`, `useRealtime`, `useDebounce`, `usePagination`, `useNotification`

### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–ª—è OpenAPI —Ñ–∞–π–ª–∞
–í –Ω–∞—á–∞–ª–µ `ratings.yaml` –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–µ, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö, –º–æ–¥—É–ª–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞, UI/—Ñ–æ—Ä–º—ã/—Ö—É–∫–∏, Kafka —Å–æ–±—ã—Ç–∏—è—Ö –∏ –±–∞–∑–æ–≤–æ–º –ø—É—Ç–∏ `/api/v1/social/player-orders/*`.

---

## ‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å (–¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω)

### –®–∞–≥ 1: –ê–Ω–∞–ª–∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `player-orders.yaml` –∏ `player-orders-components.yaml` –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç —É–∂–µ –æ–ø–∏—Å–∞–Ω–Ω—ã—Ö —Å—Ö–µ–º.
2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã/—Å—Ö–µ–º—ã –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (OrderId, PlayerProfile, Pagination).
3. –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏–º–µ–Ω –∏–ª–∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Å—Ö–µ–º—ã.
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** —Å–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ –Ω–æ–≤—ã—Ö.

### –®–∞–≥ 2: –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å endpoints
1. –î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (ratings, reviews, penalties, categories, batch jobs).
2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ query/path –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (playerId, role, period, category, orderId, jobId).
3. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç–∞—Ç—É—Å—ã, –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤ –∏ –æ—à–∏–±–∫–∏ (400/401/403/404/409/422).
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ endpoints —Å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

### –®–∞–≥ 3: –û–ø–∏—Å–∞—Ç—å –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
1. –°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—ã `PlayerOrderRating`, `PlayerOrderRatingMetrics`, `PlayerOrderReview`, `PlayerOrderPenalty`, `PlayerOrderCategoryConfig`, `RatingTrend`.
2. –û–ø–∏—Å–∞—Ç—å –≤–µ—Å–∞, decay, thresholds –∏ role modifiers.
3. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã JSON (—É—Å–ø–µ—à–Ω—ã–µ –∏ –æ—à–∏–±–æ—á–Ω—ã–µ –∫–µ–π—Å—ã).
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ø–æ–ª–Ω—ã–π —Ä–∞–∑–¥–µ–ª `components` (schemas, parameters, requestBodies, responses, examples).

### –®–∞–≥ 4: –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –∏ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞
1. –î–æ–±–∞–≤–∏—Ç—å `x-kafka-topics` —Å payload —Å—Ö–µ–º–∞–º–∏ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤.
2. –£–∫–∞–∑–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç economy/world/relationships —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ —Å–∞–Ω–∫—Ü–∏—è—Ö.
3. –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (BearerAuth) –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–±—â–∏–µ `responses.yaml`.
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** —Ä–∞–∑–¥–µ–ª—ã —Å —Å–æ–±—ã—Ç–∏—è–º–∏, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é, –æ—à–∏–±–∫–∞–º–∏, –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞–º–∏.

### –®–∞–≥ 5: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–∞–π–ª <400 —Å—Ç—Ä–æ–∫ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–Ω–µ—Å—Ç–∏ —á–∞—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ YAML).
2. –£–∫–∞–∑–∞—Ç—å `info.version` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `1.0.0` –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞, –∏–ª–∏ `1.1.0` –µ—Å–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ).
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å `npx swagger-cli validate api/v1/social/player-orders/ratings.yaml` –∏ –ø—Ä–∏–ª–æ–∂–∏—Ç—å —à–∞–≥ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏.
4. –ü–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ —á–µ–∫–ª–∏—Å—Ç—É (–∫—Ä–∏—Ç–µ—Ä–∏–∏, –ø—Ä–∏–º–µ—Ä—ã, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞).
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –≤–∞–ª–∏–¥–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è, –≥–æ—Ç–æ–≤–∞—è –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥–æ–π backend/frontend.

---

## üõ£Ô∏è Endpoints (–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)

1. **GET `/social/player-orders/ratings/{playerId}`** ‚Äì –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–π—Ç–∏–Ω–≥ –ø–æ —Ä–æ–ª—è–º (–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å/–∑–∞–∫–∞–∑—á–∏–∫), —Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è, decay, –∫–∞—Ç–µ–≥–æ—Ä–∏—é, —Ç—Ä–µ–Ω–¥—ã.  
2. **GET `/social/player-orders/ratings`** ‚Äì —Å–ø–∏—Å–æ–∫ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ (`role`, `category`, `orderType`, `period`, –ø–∞–≥–∏–Ω–∞—Ü–∏—è).  
3. **POST `/social/player-orders/ratings/recalculate`** ‚Äì –∑–∞–ø—É—Å–∫ –ø–µ—Ä–µ—Å—á—ë—Ç–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ (batch); –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ø–∏—Å–æ–∫ `playerIds`, `role`, `reason`, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `jobId`.  
4. **GET `/social/player-orders/ratings/jobs/{jobId}`** ‚Äì —Å—Ç–∞—Ç—É—Å batch-–ø–µ—Ä–µ—Å—á—ë—Ç–∞.  
5. **POST `/social/player-orders/reviews`** ‚Äì —Å–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ —Å –æ—Ü–µ–Ω–∫–∞–º–∏, —Ç–µ–≥–∞–º–∏, —Ç–µ–∫—Å—Ç–æ–º; –≤–∫–ª—é—á–∞–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç–∏.  
6. **GET `/social/player-orders/reviews/{orderId}`** ‚Äì —Å–ø–∏—Å–æ–∫ –æ—Ç–∑—ã–≤–æ–≤ –ø–æ –∑–∞–∫–∞–∑—É —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –ø–æ —Ä–æ–ª–∏.  
7. **GET `/social/player-orders/reviews`** ‚Äì –æ—Ç–∑—ã–≤—ã —Ü–µ–ª–µ–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞ (`playerId`, `role`, `category`, `period`).  
8. **POST `/social/player-orders/penalties`** ‚Äì –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —à—Ç—Ä–∞—Ñ–∞/—Å–∞–Ω–∫—Ü–∏–∏ (—Ä–æ–ª—å, —Ç–∏–ø, delta, –ø—Ä–∏—á–∏–Ω–∞).  
9. **GET `/social/player-orders/penalties/{playerId}`** ‚Äì –∏—Å—Ç–æ—Ä–∏—è —à—Ç—Ä–∞—Ñ–æ–≤ –∏ —Å–∞–Ω–∫—Ü–∏–π.  
10. **GET `/social/player-orders/categories`** ‚Äì –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ—Ä–æ–≥–æ–≤, –±–æ–Ω—É—Å–æ–≤ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π.  
11. **PATCH `/social/player-orders/categories`** ‚Äì –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ thresholds (–¥–ª—è –∞–¥–º–∏–Ω-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, —Ç—Ä–µ–±—É–µ—Ç `admin` scope).  

–ö–∞–∂–¥—ã–π endpoint –¥–æ–ª–∂–µ–Ω —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –æ–±—â–∏–µ –æ—Ç–≤–µ—Ç—ã (`BadRequest`, `Unauthorized`, `Forbidden`, `NotFound`, `Conflict`, `UnprocessableEntity`, `TooManyRequests`, `InternalError`) —á–µ—Ä–µ–∑ `shared/common/responses.yaml`.

---

## üß± –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

- **PlayerOrderRating** ‚Äì –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–π—Ç–∏–Ω–≥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞ (role, score, category, decayApplied, trend, lastUpdated).  
- **PlayerOrderRatingMetrics** ‚Äì –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (CR, TL, QL, RL, CB, PR, BQ, DR, RF, RB) —Å –≤–µ—Å–∞–º–∏ –∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞–º–∏.  
- **PlayerOrderRatingTrend** ‚Äì –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ (`timestamp`, `score`, `delta`, `category`).  
- **PlayerOrderReview** ‚Äì –æ—Ç–∑—ã–≤ (orderId, reviewerId, targetId, role, ratingQuality, ratingCommunication, text, flags, createdAt, moderationStatus).  
- **PlayerOrderPenalty** ‚Äì —à—Ç—Ä–∞—Ñ (`penaltyId`, `playerId`, `role`, `penaltyType`, `delta`, `reason`, `appliedBy`, `appliedAt`, `expiresAt`).  
- **PlayerOrderCategoryConfig** ‚Äì –ø–æ—Ä–æ–≥–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π, decay settings, –±–æ–Ω—É—Å—ã (commissionDiscount, escrowBonus, inviteQuota).  
- **RatingRecalculateJob** ‚Äì –æ–ø–∏—Å–∞–Ω–∏–µ batch –∑–∞–¥–∞—á (jobId, requestedBy, status, processedCount, failedCount, startedAt, finishedAt, errors[]).

–í—Å–µ –º–æ–¥–µ–ª–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å `required`, `enum`, `minimum/maximum`, `format`, `example`. –ß–∞—Å—Ç—å —Å—Ö–µ–º –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –æ–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

---

## üìè –ü—Ä–∏–Ω—Ü–∏–ø—ã –∏ –ø—Ä–∞–≤–∏–ª–∞

- –°–æ–±–ª—é–¥–∞—Ç—å SOLID, DRY, KISS; –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `$ref` –Ω–∞ `shared/common`.  
- OpenAPI 3.0.3, RESTful naming, —á–µ—Ç–∫–∏–µ operationId (–Ω–∞–ø—Ä–∏–º–µ—Ä, `getPlayerOrderRating`, `listPlayerOrderReviews`).  
- –ë–µ–∑ —Ö–∞—Ä–¥–∫–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö (–ø–æ—Ä–æ–≥–∏, –≤–µ—Å–∞ ‚Äì –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏).  
- –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ ‚â§400 —Å—Ç—Ä–æ–∫; –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–∞–∑–±–∏–≤–∞—Ç—å –ø–æ –∫–∞—Ç–∞–ª–æ–≥–∞–º.  
- –£–∫–∞–∑–∞—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (BearerAuth) –∏ –∞–¥–º–∏–Ω-—Å–∫–æ—É–ø–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª—è—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.  
- –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å business rules: decay, boost, penalty overrides, —Å–µ–∑–æ–Ω–Ω—ã–µ —Å–±—Ä–æ—Å—ã.

---

## üß™ –ü—Ä–∏–º–µ—Ä—ã

- **–†–µ–π—Ç–∏–Ω–≥ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è (Gold, score 78.4)** ‚Äì –≤–∫–ª—é—á–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏, decay, —Ç—Ä–µ–Ω–¥, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è.  
- **Batch –ø–µ—Ä–µ—Å—á—ë—Ç** ‚Äì –∑–∞–ø—Ä–æ—Å —Å 3 –∏–≥—Ä–æ–∫–∞–º–∏ –∏ –æ—Ç–≤–µ—Ç —Å–æ `jobId`, –ø—Ä–∏–º–µ—Ä —Å—Ç–∞—Ç—É—Å–∞ `completed`.  
- **–°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞** ‚Äì –ø—Ä–∏–º–µ—Ä POST —Å —Ç–µ–∫—Å—Ç–æ–º, —Ç–µ–≥–∞–º–∏, –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç–∏.  
- **–°–ø–∏—Å–æ–∫ –æ—Ç–∑—ã–≤–æ–≤** ‚Äì –ø–∞–≥–∏–Ω–∞—Ü–∏—è –∏ —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —Ä–æ–ª–∏, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.  
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —à—Ç—Ä–∞—Ñ–∞** ‚Äì –ø—Ä–∏–º–µ—Ä —à—Ç—Ä–∞—Ñ–∞ `penaltyType=late_payment`, delta `-12`, –æ—Ç–≤–µ—Ç —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `applied`.  
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π** ‚Äì thresholds –∏ –±–æ–Ω—É—Å—ã.  
- **–°–æ–±—ã—Ç–∏–µ Kafka** ‚Äì `social.player-orders.rating.updated` payload.

---

## üîó –°–≤—è–∑–Ω–æ—Å—Ç–∏ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- **economy-service:** –≤–∞–ª–∏–¥–∞—Ü–∏—è `Reward Fairness`, —Å–æ–±—ã—Ç–∏—è `economy.player-orders.reward.adjusted`.  
- **world-service / factions-service:** —Å–∞–Ω–∫—Ü–∏–∏, —Ñ—Ä–∞–∫—Ü–∏–æ–Ω–Ω—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Ä–µ–π—Ç–∏–Ω–≥–∞.  
- **relationships-service:** –¥–æ–≤–µ—Ä–∏–µ, whitelists/blacklists.  
- **npc-service:** —Ä–µ–π—Ç–∏–Ω–≥–∏ NPC –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π.  
- **notification-service:** push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.  
- **analytics-service:** –ª–∏–¥–µ—Ä–±–æ—Ä–¥—ã –∏ –æ—Ç—á—ë—Ç—ã.  
- **telemetry-service:** –∞—É–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –∏ —Å–∞–Ω–∫—Ü–∏–π.

–û—Ç—Ä–∞–∑–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –æ–ø–∏—Å–∞–Ω–∏—è—Ö endpoints –∏ —Å–æ–±—ã—Ç–∏—è—Ö; –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ FAQ.

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏ (–º–∏–Ω–∏–º—É–º 11)

1. –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `api/v1/social/player-orders/ratings.yaml` —Å –≤–µ—Ä—Å–∏–µ–π `1.0.0` –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º.  
2. –í—Å–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ endpoints –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã —Å –º–µ—Ç–æ–¥–∞–º–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, requestBody, responses –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏.  
3. –°—Ö–µ–º—ã —Ä–µ–π—Ç–∏–Ω–≥–∞, –º–µ—Ç—Ä–∏–∫, –æ—Ç–∑—ã–≤–æ–≤, —Å–∞–Ω–∫—Ü–∏–π, –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ batch –∑–∞–¥–∞—á –æ–ø–∏—Å–∞–Ω—ã –∏ —Å–≤—è–∑–∞–Ω—ã —á–µ—Ä–µ–∑ `$ref`.  
4. –ü—Ä–∏–º–µ—Ä—ã JSON –ø–æ–∫—Ä—ã–≤–∞—é—Ç —É—Å–ø–µ—à–Ω—ã–µ –∏ –æ—à–∏–±–æ—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–≤–∫–ª—é—á–∞—è —Å–∞–Ω–∫—Ü–∏–∏ –∏ batch).  
5. Kafka —Å–æ–±—ã—Ç–∏—è –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –≤ `x-kafka-topics` —Å payload —Å—Ö–µ–º–∞–º–∏.  
6. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `responses.yaml`, `pagination.yaml`, `security.yaml` –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–æ–≤.  
7. –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç economy/world/relationships —Å–µ—Ä–≤–∏—Å–æ–≤.  
8. –û–ø–∏—Å–∞–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç–∏ –∏ –∞—Ä–±–∏—Ç—Ä–∞–∂–∞ (422/409 –æ—Ç–≤–µ—Ç—ã).  
9. –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç `npx swagger-cli validate api/v1/social/player-orders/ratings.yaml`.  
10. –†–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ YAML —Ñ–∞–π–ª–∞ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 400 —Å—Ç—Ä–æ–∫ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–∞–∑–±–∏–≤–∫–∏).  
11. Frontend –º–æ–¥—É–ª—å `modules/social/player-orders/ratings` –ø–æ–ª—É—á–∞–µ—Ç –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Ñ–æ—Ä–º—ã.  
12. –ê–¥–º–∏–Ω—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞—â–∏—â–µ–Ω—ã —á–µ—Ä–µ–∑ BearerAuth –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ scopes.

---

## ‚ùì FAQ

**Q:** –ü–æ—á–µ–º—É —Ä–µ–π—Ç–∏–Ω–≥–∏ –∑–∞–∫–∞–∑—á–∏–∫–∞ –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ?  
**A:** –î–æ–∫—É–º–µ–Ω—Ç –∑–∞–¥–∞—ë—Ç –æ–±—â—É—é —Å–∏—Å—Ç–µ–º—É —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ player-orders; –æ–±–æ–∏–º —Ä–æ–ª—è–º –Ω—É–∂–Ω—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏ —Å—Ö–µ–º—ã, –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `role`. –£–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ SDK.

**Q:** –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å –≤–µ—Å–∞ –∏ decay –ø–∞—Ä–∞–º–µ—Ç—Ä—ã?  
**A:** –û–Ω–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É—é—Ç—Å—è –≤ social-service –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `/categories` –≤–º–µ—Å—Ç–µ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã–º–∏ –±–æ–Ω—É—Å–∞–º–∏. –í API –Ω–µ —Ö–∞—Ä–¥–∫–æ–¥–∏–º –∑–Ω–∞—á–µ–Ω–∏—è ‚Äì —Ç–æ–ª—å–∫–æ –æ–ø–∏—Å—ã–≤–∞–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

**Q:** –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –º–∞—Å—Å–æ–≤—ã–π –ø–µ—Ä–µ—Å—á—ë—Ç?  
**A:** –ß–µ—Ä–µ–∑ `POST /ratings/recalculate`, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–∞–≤–∏—Ç job –≤ –æ—á–µ—Ä–µ–¥—å. –°—Ç–∞—Ç—É—Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `/ratings/jobs/{jobId}`; –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ `social.player-orders.rating.updated`.

**Q:** –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ —Ç–æ–∫—Å–∏—á–Ω–æ–º –æ—Ç–∑—ã–≤–µ?  
**A:** Endpoint –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 422 —Å –¥–µ—Ç–∞–ª—è–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ (payload `validationIssues`). –£–∫–∞–∑–∞–Ω–æ –≤ —Å—Ö–µ–º–µ `ReviewSubmissionResponse`.

**Q:** –ö–∞–∫ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —Å–∞–Ω–∫—Ü–∏–∏ –∏ escrow?  
**A:** –ü—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ —à—Ç—Ä–∞—Ñ–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ `economy.player-orders.reward.adjusted`, –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ economy-service –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç escrow/–≤—ã–ø–ª–∞—Ç—ã.

---

## üìå –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- 2025-11-08 ‚Äì —Å–æ–∑–¥–∞–Ω–æ –∑–∞–¥–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ `.BRAIN/02-gameplay/social/player-orders-reputation-–¥–µ—Ç–∞–ª—å–Ω–æ.md`, —Å—Ç–∞—Ç—É—Å `queued`.
- 2025-11-08 ‚Äì –ê–ü–ò–¢–ê–°–ö –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª –∑–∞–¥–∞—á—É, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ (`status: in_progress`).
- 2025-11-08 ‚Äì –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –∏ –ø—Ä–æ–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–∞ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è `api/v1/social/player-orders/ratings.yaml` (OpenAPI 3.0.3), –∑–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (`status: completed`).



### OpenAPI (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

- –ó–∞–ø–æ–ª–Ω–∏ `info.x-microservice` (name, port, domain, base-path, package) –ø–æ –¥–∞–Ω–Ω—ã–º —Ü–µ–ª–µ–≤–æ–≥–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞.
- –í —Å–µ–∫—Ü–∏–∏ `servers` –æ—Å—Ç–∞–≤—å Production gateway `https://api.necp.game/v1` –∏ –ø—Ä–∏–º–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ `http://localhost:8080/api/v1`.
- WebSocket –º–∞—Ä—à—Ä—É—Ç—ã –ø—É–±–ª–∏–∫—É–π —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `wss://api.necp.game/v1/...`.

