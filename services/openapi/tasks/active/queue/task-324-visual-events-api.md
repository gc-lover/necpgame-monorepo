# Task ID: API-TASK-324
**–¢–∏–ø:** API Generation  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –≤—ã—Å–æ–∫–∏–π  
**–°—Ç–∞—Ç—É—Å:** queued  
**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-08 16:24  
**–°–æ–∑–¥–∞—Ç–µ–ª—å:** AI Agent (–î–£–ê–ü–ò–¢–ê–°–ö)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** API-TASK-322 (–ª–æ–∫–∞—Ü–∏–∏), API-TASK-323 (—Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ö–∞–±—ã)

---

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é `api/v1/world/visuals/events.yaml` –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã—Ö –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π, –≤–ª–∏—è—é—â–∏—Ö –Ω–∞ –∑–æ–Ω—ã –∏ —Ö–∞–±—ã.

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:** –û–ø–∏—Å–∞—Ç—å REST endpoints –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–æ–≤ —Å–æ–±—ã—Ç–∏–π, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π, –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏ –∏ —Å–≤—è–∑–∏ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏/–º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–º.

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å world-service API –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π (–ø–æ–≥–æ–¥–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Ä–µ–π–¥–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏, –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ —à–æ—É), —á—Ç–æ–±—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∞—Ç–º–æ—Å—Ñ–µ—Ä—É —Å –ª–æ–∫–∞—Ü–∏—è–º–∏ –∏ —Ö–∞–±–∞–º–∏.

**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ:**
- –°–∏—Å—Ç–µ–º—ã –∂–∏–≤–æ–≥–æ –º–∏—Ä–∞ –∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞ –ø–ª–∞–Ω–∏—Ä—É—é—Ç —Å–æ–±—ã—Ç–∏—è (—à—Ç–æ—Ä–º–∞, –∫–æ–Ω—Ü–µ—Ä—Ç—ã, Blackwall Breach) –∏ –¥–æ–ª–∂–Ω—ã —Ç—Ä–∞–Ω—Å–ª–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.
- Social-service –∏ economy-service –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É—é—Ç NPC —Ç—Ä–∞—Ñ–∏–∫ –∏ –≤–∏—Ç—Ä–∏–Ω—ã, –æ–ø–∏—Ä–∞—è—Å—å –Ω–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π.
- UI/UX –∫–æ–º–∞–Ω–¥–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç—ã –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –∏ –∫–∞—Ä—Ç—ã.

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** `.BRAIN`  
**–ü—É—Ç—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç—É:** `.BRAIN/03-lore/_03-lore/visual-guides/visual-style-locations-–¥–µ—Ç–∞–ª—å–Ω–æ.md`  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0.0  
**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-11-08 11:06  
**–°—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞:** approved

**–ß—Ç–æ –≤–∞–∂–Ω–æ –∏–∑ —ç—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞:**
- –†–∞–∑–¥–µ–ª—ã 1, 4, 5, 6, 7 –æ–ø–∏—Å—ã–≤–∞—é—Ç –ø–æ–≥–æ–¥–Ω—ã–µ —Å—Ü–µ–Ω—ã, —Ä–µ–π–¥–æ–≤—ã–µ –∑–æ–Ω—ã, –ø–æ–¥–∑–µ–º–Ω—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏ –ø—Ä–∏—Ä–æ–¥–Ω—ã–µ –ø–æ–≥—Ä–∞–Ω–∏—á–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏.
- Kafka —Ç–æ–ø–∏–∫ `world.visuals.event.triggered`.
- –ú–µ—Ç—Ä–∏–∫–∏ `EventVisualImpact`.

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

- `.BRAIN/02-gameplay/world/events/live-events-system.md` ‚Äî –ª–æ–≥–∏–∫–∞ –∂–∏–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π.
- `.BRAIN/05-technical/content-generation/city-life-population-algorithm.md` ‚Äî —Ä–µ–∞–∫—Ü–∏—è NPC –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
- `.BRAIN/02-gameplay/social/player-orders-world-impact-–¥–µ—Ç–∞–ª—å–Ω–æ.md` ‚Äî –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å–æ–±—ã—Ç–∏–π —Å —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º–∏ –º–µ—Ö–∞–Ω–∏–∫–∞–º–∏.
- `API-SWAGGER/api/v1/gameplay/actions/actions.yaml` ‚Äî –æ–±—Ä–∞–∑–µ—Ü –æ–ø–∏—Å–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π/–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π.

### –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `API-SWAGGER/tasks/active/queue/task-322-visual-locations-detailed-api.md` ‚Äî –±–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–π.
- `API-SWAGGER/tasks/active/queue/task-323-visual-hubs-detailed-api.md` ‚Äî –∑–∞–≤–∏—Å–∏–º—ã–µ —Ö–∞–±—ã.
- `.BRAIN/05-technical/backend/realtime-server/part1-architecture-zones.md` ‚Äî —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ realtime —Ä–∞—Å—Å—ã–ª–∫–∞–º.

---

## üìÅ –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API

### –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `API-SWAGGER`

**–¶–µ–ª–µ–≤–æ–π —Ñ–∞–π–ª:** `api/v1/world/visuals/events.yaml`  
**API –≤–µ—Ä—Å–∏—è:** v1  
**–¢–∏–ø —Ñ–∞–π–ª–∞:** OpenAPI 3.0.3 (YAML)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:**
```
API-SWAGGER/
‚îî‚îÄ‚îÄ api/
    ‚îî‚îÄ‚îÄ v1/
        ‚îî‚îÄ‚îÄ world/
            ‚îî‚îÄ‚îÄ visuals/
                ‚îú‚îÄ‚îÄ schemas/
                ‚îÇ   ‚îú‚îÄ‚îÄ visual-event-profile.yaml
                ‚îÇ   ‚îî‚îÄ‚îÄ visual-event-schedule.yaml
                ‚îî‚îÄ‚îÄ events.yaml
```

–í README `visuals/` –¥–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª –ø—Ä–æ —Å–æ–±—ã—Ç–∏—è –∏ —Å–≤—è–∑—å —Å –ª–æ–∫–∞—Ü–∏—è–º–∏/—Ö–∞–±–∞–º–∏.

---

## üèóÔ∏è –¶–µ–ª–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

### Backend (–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å)
- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å:** world-service  
- **–ü–æ—Ä—Ç:** 8086  
- **API Base:** `/api/v1/world/visuals/events/*`  
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:** social-service (–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ö–∞–±–æ–≤), economy-service (—Ä—ã–Ω–∫–∏), marketing-service (–∫–∞–º–ø–∞–Ω–∏–∏), telemetry-service (–º–µ—Ç—Ä–∏–∫–∏)

### OpenAPI (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

- –ó–∞–ø–æ–ª–Ω–∏ `info.x-microservice` (name, port, domain, base-path, package) –ø–æ –¥–∞–Ω–Ω—ã–º —Ü–µ–ª–µ–≤–æ–≥–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞.
- –í —Å–µ–∫—Ü–∏–∏ `servers` –æ—Å—Ç–∞–≤—å Production gateway `https://api.necp.game/v1` –∏ –ø—Ä–∏–º–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ `http://localhost:8080/api/v1`.
- WebSocket –º–∞—Ä—à—Ä—É—Ç—ã –ø—É–±–ª–∏–∫—É–π —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `wss://api.necp.game/v1/...`.

### Frontend (–º–æ–¥—É–ª—å)
- **–ú–æ–¥—É–ª—å:** modules/world/events  
- **State Store:** useWorldStore (visualEvents, schedules, eventFilters)  
- **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (@shared/ui):** EventCard, EventTimeline, ImpactBadge, WeatherPreview, RaidStageMap  
- **–§–æ—Ä–º—ã (@shared/forms):** EventFilterForm, EventSubscriptionForm  
- **Layouts:** GameLayout  
- **–•—É–∫–∏:** useRealtime, useWorldStoreFilters, useAnalytics

### Messaging
- Kafka: `world.visuals.event.triggered` (producer world-service, consumers social-service, gameplay-service, telemetry).
- –î–æ–ø. –ø–æ—Ç–æ–∫: `marketing.visuals.package.generated` (–¥–ª—è —Å–æ–±—ã—Ç–∏–π —Å –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–º–∏ –ø–∞–∫–µ—Ç–∞–º–∏).
- –£–∫–∞–∑–∞—Ç—å webhook `/webhooks/world/visuals/events` –¥–ª—è –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤.

---

## üß≠ –ü–æ–¥—Ä–æ–±–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–û–ø–∏—Å–∞—Ç—å –º–æ–¥–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π** ‚Äî –≤—ã–Ω–µ—Å—Ç–∏ `VisualEventProfile`, `VisualEventStage`, `WeatherEffect`, `RaidPhase`, `EventMediaPackage`.
2. **–ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å catalog endpoint** ‚Äî —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–∏–ø—É (weather, raid, social, marketing) –∏ —Ä–µ–≥–∏–æ–Ω–∞–º.
3. **–î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è** ‚Äî endpoint –¥–ª—è –±—É–¥—É—â–∏—Ö –∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏.
4. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å realtime –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ** ‚Äî —É–∫–∞–∑–∞—Ç—å Kafka —Å–æ–±—ã—Ç–∏–µ, subscription webhook –∏ –ø–æ–ª—è `realtimeChannels`.
5. **–°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â—É—é –º–æ–¥–µ–ª—å `Error`.
6. **–í—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —á–µ–∫–ª–∏—Å—Ç–æ–º –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π.**

---

## üîÄ Endpoints

### 1. GET `/api/v1/world/visuals/events`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** —Å–ø–∏—Å–æ–∫ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –ø–æ —Ç–∏–ø—É, —Ä–µ–≥–∏–æ–Ω—É, —Å—Ç–∞—Ç—É—Å—É.
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `eventType` (enum: weather, raid, social, marketing, blackout), `cityId`, `zoneId`, `status` (upcoming, active, completed), `intensity` (1-5), `page`, `size`.
- **–û—Ç–≤–µ—Ç 200:** `VisualEventCollection` (data[], meta).
- **–ü—Ä–∏–º–µ—Ä:** Blackwall Breach Site (—Ç–∏–ø raid, —Å—Ç–∞—Ç—É—Å active, –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å 5).

### 2. GET `/api/v1/world/visuals/events/{eventId}`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ–±—ã—Ç–∏–∏, —Å—Ç–∞–¥–∏—è—Ö, —ç—Ñ—Ñ–µ–∫—Ç–∞—Ö –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ª–æ–∫–∞—Ü–∏—è—Ö/—Ö–∞–±–∞—Ö.
- **–û—Ç–≤–µ—Ç 200:** `VisualEventProfile`.
- **–ü–æ–ª–µ–∑–Ω—ã–µ –ø–æ–ª—è:** `stages[]`, `linkedLocations[]`, `linkedHubs[]`, `mediaPackages[]`, `metrics`.
- **–û—à–∏–±–∫–∏:** 404 (–Ω–µ –Ω–∞–π–¥–µ–Ω), 409 (–∫–æ–Ω—Ñ–ª–∏–∫—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è).

### 3. GET `/api/v1/world/visuals/events/schedule`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é –±—É–¥—É—â–∏—Ö —Å–æ–±—ã—Ç–∏–π.
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `from`, `to` (date-time), `cityId`, `includeArchived` (boolean).
- **–û—Ç–≤–µ—Ç 200:** `VisualEventSchedule` (entries[] —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏).
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫:** `X-Event-Preview-Key` –¥–ª—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö –ø—Ä–µ–≤—å—é.

### 4. POST `/api/v1/world/visuals/events/subscriptions`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö (webhook –∏–ª–∏ Kafka).
- **Body:** `VisualEventSubscriptionRequest` (eventTypes[], cities[], callbackUrl, deliveryMode).
- **–û—Ç–≤–µ—Ç 202:** `VisualEventSubscriptionStatus`.
- **–û—à–∏–±–∫–∏:** 400 (–≤–∞–ª–∏–¥–∞—Ü–∏—è), 409 (–¥—É–±–ª–∏–∫–∞—Ç), 503 (webhook –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω).

---

## üß± –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

- **VisualEventProfile**
  - `eventId` (string, pattern `^[A-Z0-9_-]{6,32}$`).
  - `name` (string).
  - `description` (string, maxLength 2000).
  - `eventType` (enum: weather, raid, social, marketing, blackout, ritual).
  - `status` (enum: draft, scheduled, active, cooldown, archived).
  - `intensity` (integer, 1-5).
  - `cityId`, `zoneId` (string).
  - `linkedLocations` (array[`EventLocationLink`]).
  - `linkedHubs` (array[`EventHubLink`]).
  - `stages` (array[`VisualEventStage`]) ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, Blackwall Breach: –≤—Ö–æ–¥, –±–æ–π —Å AI, —è–¥—Ä–æ.
  - `weatherEffects` (array[`WeatherEffect`]) ‚Äî —Ç—É–º–∞–Ω, –Ω–µ–æ–Ω, —à—Ç–æ—Ä–º—ã.
  - `audioPalette` (array[`AudioLayerReference`]).
  - `visualCues` (array[`VisualCue`]) ‚Äî –≥–ª–∏—á–∏, –ª–∞–∑–µ—Ä—ã, –¥—Ä–æ–Ω—ã.
  - `mediaPackages` (array[`EventMediaPackage`]) ‚Äî —Å—Å—ã–ª–∫–∏ –¥–ª—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞.
  - `metrics` (`VisualEventMetricSnapshot`) ‚Äî EventVisualImpact, MarketingAssetUtilization.
  - `updatedAt` (date-time), `startsAt`, `endsAt`.

- **VisualEventStage**
  - `stageId` (string).
  - `name`, `description`.
  - `durationMinutes` (integer).
  - `visuals` (`VisualCue[]`).
  - `difficulty` (enum: narrative, combat, logistics).

- **VisualEventSchedule**
  - `entries` (array[`VisualEventScheduleEntry`]) ‚Äî `eventId`, `window`, `expectedIntensity`, `isGlobal`, `previewAvailable`.

- **VisualEventSubscriptionRequest**
  - `eventTypes` (array[string], minItems 1, maxItems 5).
  - `cities` (array[string]).
  - `deliveryMode` (enum: webhook, kafka).
  - `callbackUrl` (uri) ‚Äî required if webhook.
  - `maxEventsPerMinute` (integer, default 60).
  - `includeMedia` (boolean).

- **VisualEventSubscriptionStatus**
  - `subscriptionId` (uuid).
  - `status` (enum: queued, active, paused, cancelled).
  - `createdAt`, `updatedAt` (date-time).

- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** (`schemas/visual-event-profile.yaml`, `visual-event-schedule.yaml`):
  - `EventLocationLink`, `EventHubLink`, `WeatherEffect`, `VisualCue`, `VisualEventMetricSnapshot`, `EventMediaPackage`, `SnapshotAssetLink` (reuse), `VisualEventScheduleEntry`, `TimeWindow`.

–£—á–µ—Å—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∏ Kafka payload –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞.

---

## üìè –ü—Ä–∏–Ω—Ü–∏–ø—ã –∏ –ø—Ä–∞–≤–∏–ª–∞

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `shared/common/responses.yaml` –∏ `shared/common/pagination.yaml`.
- –û–ø–∏—Å–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (BearerAuth) –∏ scopes `world.visuals.events.read`, `world.visuals.events.manage`.
- –í –æ—Ç–≤–µ—Ç–∞—Ö –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å `etag` –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (`Etag` header).
- –ö–∞–∂–¥—ã–π —Ñ–∞–π–ª ‚â§ 400 —Å—Ç—Ä–æ–∫, —Å—Ö–µ–º—ã –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ YAML.
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ realtime: –¥–æ–±–∞–≤–∏—Ç—å `x-realtime` —Å –∫–∞–Ω–∞–ª–æ–º `/ws/world/visuals/events`.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–¥–∏–Ω—ã–π `Error` —Å –∫–æ–¥–∞–º–∏ `VAL_EVENT_FILTER_INVALID`, `BIZ_EVENT_CONFLICT`, `INT_EVENT_STREAM_FAILED`.

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —á–µ—Ç—ã—Ä–µ endpoints —Å –ø–æ–ª–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ –∫–æ–¥–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤.
2. –°—Ö–µ–º—ã —Å–æ–±—ã—Ç–∏–π –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ `schemas/visual-event-profile.yaml` –∏ `visual-event-schedule.yaml`.
3. –ü—Ä–∏–º–µ—Ä—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç Blackwall Breach Site, Titan Freight Orbital, Sable Reactor Ruins –∏ Badlands Storm Belt.
4. –ü–∞–≥–∏–Ω–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∏ –æ–ø–∏—Å–∞–Ω–∞.
5. Kafka —Å–æ–±—ã—Ç–∏–µ `world.visuals.event.triggered` –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ —Å payload –∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è–º–∏.
6. –ü–æ–¥–ø–∏—Å–∫–∞ —É—á–∏—Ç—ã–≤–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (max events per minute, delivery mode).
7. README –≤ `visuals/` –æ–±–Ω–æ–≤–ª—ë–Ω —Å —Ä–∞–∑–¥–µ–ª–æ–º Events.
8. –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ –ª–æ–∫–∞—Ü–∏–∏ –∏ —Ö–∞–±—ã (—á–µ—Ä–µ–∑ `linkedLocations`, `linkedHubs`).
9. –ú–µ—Ç—Ä–∏–∫–∏ EventVisualImpact –∏ MarketingAssetUtilization –≤–∫–ª—é—á–µ–Ω—ã –≤ —Å—Ö–µ–º—ã –∏ –æ–ø–∏—Å–∞–Ω—ã.
10. –§–∞–π–ª –ø—Ä–æ—Ö–æ–¥–∏—Ç `validate-swagger.ps1` –±–µ–∑ –æ—à–∏–±–æ–∫.
11. –û–±—Ä–∞–±–æ—Ç–∞–Ω—ã –æ—à–∏–±–∫–∏ 409 (–∫–æ–Ω—Ñ–ª–∏–∫—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è) –∏ 503 (–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ç–æ–∫–æ–≤).
12. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —É–∫–∞–∑—ã–≤–∞–µ—Ç —Ç—Ä–µ–±—É–µ–º—ã–µ scopes –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

---

## ‚ùì FAQ

- **–ß–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è eventType `raid` –∏ `combat`?**  
  –í–∏–∑—É–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è `raid` —Å–≤—è–∑–∞–Ω—ã —Å –∫—Ä—É–ø–Ω—ã–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏ (Blackwall Breach, Titan Freight Orbital). –ë–æ–µ–≤—ã–º —Å–æ–±—ã—Ç–∏—è–º (`combat`) —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–µ API gameplay-service; –≤ —ç—Ç–æ–º API –º—ã –æ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—É—é —á–∞—Å—Ç—å —Ä–µ–π–¥–æ–≤.

- **–ù—É–∂–Ω–æ –ª–∏ –æ–ø–∏—Å—ã–≤–∞—Ç—å —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ —ç—Ñ—Ñ–µ–∫—Ç—ã?**  
  –î–∞, —É–∫–∞–∑–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ economy-service (–Ω–∞–ø—Ä–∏–º–µ—Ä, `economy-impact` –≤–Ω—É—Ç—Ä–∏ `VisualEventProfile`) –∏ –≤—Å—Ç—Ä–æ–∏—Ç—å –≤ –ø—Ä–∏–º–µ—Ä—ã.

- **–ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è?**  
  –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª–µ `scope` (local | regional | global) –∏ —É–∫–∞–∑—ã–≤–∞—Ç—å `isGlobal` –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏.

- **–ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ —Å–æ–±—ã—Ç–∏—è?**  
  –í–æ–∑–≤—Ä–∞—â–∞—Ç—å `status: cancelled` –∏ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å Kafka payload —Å —Ñ–ª–∞–≥–æ–º `cancelled: true`.

- **–ú–æ–∂–Ω–æ –ª–∏ –º–µ–Ω—è—Ç—å –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –≤–æ –≤—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è?**  
  –î–∞, –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å endpoint –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (PATCH) –≤ –±—É–¥—É—â–µ–º; –≤ —Ä–∞–º–∫–∞—Ö —ç—Ç–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–ø–∏—Å–∞—Ç—å –ø–æ–ª–µ `intensityHistory` –≤ `VisualEventProfile`.

---



