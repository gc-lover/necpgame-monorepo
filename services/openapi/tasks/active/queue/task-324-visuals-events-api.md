# Task ID: API-TASK-324
**–¢–∏–ø:** API Generation  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –≤—ã—Å–æ–∫–∏–π  
**–°—Ç–∞—Ç—É—Å:** queued  
**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-08 16:20  
**–°–æ–∑–¥–∞—Ç–µ–ª—å:** AI Task Creator Agent  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** [API-TASK-322]

---

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é `World Visual Events API`, –æ–ø–∏—Å—ã–≤–∞—é—â—É—é –ø–æ–≥–æ–¥–Ω—ã–µ –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è –ª–æ–∫–∞—Ü–∏–π, –∏—Ö –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—é —Å–æ–±—ã—Ç–∏–π.  
**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:** –°–æ–∑–¥–∞—Ç—å OpenAPI-—Ñ–∞–π–ª `api/v1/world/visuals/events.yaml` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.BRAIN/03-lore/_03-lore/visual-guides/visual-style-locations-–¥–µ—Ç–∞–ª—å–Ω–æ.md`.

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç world-service –¥–ª—è:
- –≤—ã–¥–∞—á–∏ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π (–ø–æ–≥–æ–¥–Ω—ã–µ —à—Ç–æ—Ä–º—ã, –≥–ª–∏—á-—Å–∏–Ω–≥—É–ª—è—Ä–Ω–æ—Å—Ç–∏, Blackwall Breach –∏ –¥—Ä.);
- –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π, –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–µ–π –∏ –∑–æ–Ω –¥–µ–π—Å—Ç–≤–∏—è;
- –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ Kafka –¥–ª—è social, gameplay, marketing –∏ telemetry —Å–µ—Ä–≤–∏—Å–æ–≤;
- –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤–ª–∏—è–Ω–∏—è —á–µ—Ä–µ–∑ –º–µ—Ç—Ä–∏–∫–∏ EventVisualImpact –∏ VisualFidelityScore.

**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ:**
- UI –∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ —Å–º–æ–≥—É—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –ø–æ–≥–æ–¥–Ω—ã–µ/–∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏.
- Gameplay-—Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏ —Ä–µ–π–¥—ã –ø–æ–ª—É—á–∞—é—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ —Å—Ç–∞–¥–∏–∏ —Å–æ–±—ã—Ç–∏—è.
- Telemetry —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –≤–ª–∏—è–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π –Ω–∞ –∏–≥—Ä–æ–∫–æ–≤ –∏ NPC.

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** `.BRAIN`  
**–ü—É—Ç—å:** `.BRAIN/03-lore/_03-lore/visual-guides/visual-style-locations-–¥–µ—Ç–∞–ª—å–Ω–æ.md`  
**–í–µ—Ä—Å–∏—è:** v1.0.0  
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-11-08 11:06  
**–°—Ç–∞—Ç—É—Å:** approved

**–í–∞–∂–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã:**
- ¬´–†–µ–π–¥–æ–≤—ã–µ –∑–æ–Ω—ã –∏ –±–æ–µ–≤—ã–µ –∞—Ä–µ–Ω—ã¬ª, ¬´–ü–æ–¥–∑–µ–º–Ω—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞¬ª, ¬´–ü—Ä–∏—Ä–æ–¥–Ω—ã–µ –∏ –ø–æ–≥—Ä–∞–Ω–∏—á–Ω—ã–µ –∑–æ–Ω—ã¬ª.
- –û–ø–∏—Å–∞–Ω–∏—è Blackwall Breach Site, Titan Freight Orbital, Sable Reactor Ruins, Badlands Storm Belt.
- Kafka —Ç–æ–ø–∏–∫ `world.visuals.event.triggered`, –º–µ—Ç—Ä–∏–∫–∏ EventVisualImpact.
- UX/QA –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ JSON —Å—Ö–µ–º –∏ payload–æ–≤.

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

- `.BRAIN/03-lore/visual-guides/visual-style-locations.md` ‚Äî –±–∞–∑–æ–≤—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏.
- `.BRAIN/03-lore/visual-guides/visual-style-assets-–¥–µ—Ç–∞–ª—å–Ω–æ.md` ‚Äî –∞—Å—Å–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ —Å–æ–±—ã—Ç–∏—è—Ö.
- `.BRAIN/05-technical/content-generation/city-life-population-algorithm.md` ‚Äî –≤–ª–∏—è–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –Ω–∞ –Ω–∞—Å–µ–ª–µ–Ω–∏–µ.
- `API-SWAGGER/api/v1/world/events/world-events.yaml` (–µ—Å–ª–∏ –µ—Å—Ç—å) ‚Äî —Å–≤–µ—Ä–∏—Ç—å—Å—è —Å —Ñ–æ—Ä–º–∞—Ç–æ–º.

### –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `.BRAIN/04-narrative/quests/raid/quantum-reef-siege.md` ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π –≤ —Ä–µ–π–¥–∞—Ö.
- `.BRAIN/02-gameplay/combat/raids/raid-archetypes.md` ‚Äî —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –±–æ–µ–≤—ã—Ö –∞—Ä–µ–Ω.

---

## üìÅ –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API

### –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `API-SWAGGER`

**–¶–µ–ª–µ–≤–æ–π —Ñ–∞–π–ª:** `api/v1/world/visuals/events.yaml`  
**API –≤–µ—Ä—Å–∏—è:** v1  
**–¢–∏–ø —Ñ–∞–π–ª–∞:** OpenAPI 3.0.3 Specification (YAML)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
API-SWAGGER/
‚îî‚îÄ‚îÄ api/
    ‚îî‚îÄ‚îÄ v1/
        ‚îî‚îÄ‚îÄ world/
            ‚îî‚îÄ‚îÄ visuals/
                ‚îú‚îÄ‚îÄ README.md
                ‚îî‚îÄ‚îÄ events.yaml  ‚Üê —Å–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å
```

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–µ–ª–∏—Ç—å –Ω–∞ `api/v1/world/visuals/components/`.

---

## üèóÔ∏è –¶–µ–ª–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

### Backend (–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å):
- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å:** world-service
- **–ü–æ—Ä—Ç:** 8086
- **API –ø—É—Ç–∏:** `/api/v1/world/visuals/*`
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:** gameplay-service (—Ä–µ–π–¥—ã/–±–æ–µ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è), social-service (—Ö–∞–±—ã), economy-service (—Ä—ã–Ω–∫–∏), marketing-service (–∫–∞–º–ø–∞–Ω–∏–∏), telemetry-service (–º–µ—Ç—Ä–∏–∫–∏)
- **Kafka:** `world.visuals.event.triggered`

### OpenAPI (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

- –ó–∞–ø–æ–ª–Ω–∏ `info.x-microservice` (name, port, domain, base-path, package) –ø–æ –¥–∞–Ω–Ω—ã–º —Ü–µ–ª–µ–≤–æ–≥–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞.
- –í —Å–µ–∫—Ü–∏–∏ `servers` –æ—Å—Ç–∞–≤—å Production gateway `https://api.necp.game/v1` –∏ –ø—Ä–∏–º–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ `http://localhost:8080/api/v1`.
- WebSocket –º–∞—Ä—à—Ä—É—Ç—ã –ø—É–±–ª–∏–∫—É–π —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `wss://api.necp.game/v1/...`.

### Frontend (–º–æ–¥—É–ª—å):
- **–ú–æ–¥—É–ª—å:** modules/world/events
- **–ü—É—Ç—å:** modules/world/events/visuals
- **State Store:** `useWorldStore(events)`
- **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** `VisualEventTimeline`, `EventIntensityGauge`, `EventZoneMap`, `EventAlertBanner`
- **–§–æ—Ä–º—ã:** `EventSubscriptionForm`, `EventFilterForm`
- **Layouts:** `EventCommandLayout`, `GameLayout`
- **–•—É–∫–∏:** `useEventFeed`, `useRealtime`, `useEventFilters`

### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:
```
# Target Architecture:
# - Microservice: world-service (port 8086)
# - Frontend Module: modules/world/events/visuals
# - State Store: useWorldStore(events)
# - UI: VisualEventTimeline, EventIntensityGauge, EventZoneMap, EventAlertBanner
# - Forms: EventSubscriptionForm, EventFilterForm
# - Layouts: EventCommandLayout, GameLayout
# - Hooks: useEventFeed, useRealtime, useEventFilters
# - Events: world.visuals.event.triggered
# - API Base: /api/v1/world/visuals/*
```

---

## ‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å (–¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω)

1. **–ö–∞—Ç–∞–ª–æ–≥–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è:** –°–æ—Å—Ç–∞–≤–∏—Ç—å –ø–µ—Ä–µ—á–µ–Ω—å —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π (weather, raid, glitch, ritual) –∏ –∏—Ö –∞—Ç—Ä–∏–±—É—Ç—ã (–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –ø–æ—Ä–∞–∂—ë–Ω–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏).  
   _–†–µ–∑—É–ª—å—Ç–∞—Ç:_ –º–∞—Ç—Ä–∏—Ü–∞ –ø–æ–ª–µ–π –¥–ª—è `VisualEventProfile`.
2. **–°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ö–µ–º—ã:** –°–æ–∑–¥–∞—Ç—å `VisualEventProfile`, `VisualEventStage`, `VisualEventIntensity`, `VisualEventSchedule`, `VisualEventImpact`, `VisualEventSubscription`, `VisualEventMetric`.  
   _–†–µ–∑—É–ª—å—Ç–∞—Ç:_ –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏.
3. **–û–ø–∏—Å–∞—Ç—å endpoints:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π, –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è, –∞ —Ç–∞–∫–∂–µ endpoint –¥–ª—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π/–ø–æ–¥–ø–∏—Å–æ–∫.  
   _–†–µ–∑—É–ª—å—Ç–∞—Ç:_ –º–∏–Ω–∏–º—É–º —Ç—Ä–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.
4. **Kafka –∏ analytics:** –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫–∏–µ –ø–æ–ª—è –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ `world.visuals.event.triggered`, –∏ –∫–∞–∫ –º–µ—Ç—Ä–∏–∫–∏ EventVisualImpact/VisualFidelityScore —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è.  
   _–†–µ–∑—É–ª—å—Ç–∞—Ç:_ —Ä–∞–∑–¥–µ–ª `x-events`/`x-metrics`.
5. **–û—à–∏–±–∫–∏/–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ü–æ–¥–∫–ª—é—á–∏—Ç—å shared security/responses, –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å `VAL_INVALID_EVENT_FILTER`, `BIZ_EVENT_NOT_FOUND`, `INT_EVENT_PIPELINE_FAILURE`.  
   _–†–µ–∑—É–ª—å—Ç–∞—Ç:_ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–¥—ã –æ—à–∏–±–æ–∫.
6. **–ü—Ä–∏–º–µ—Ä—ã –∏ —Ç–µ—Å—Ç—ã:** –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è Blackwall Breach Site (3 —Å—Ç–∞–¥–∏–∏), Badlands Storm Belt (weather), Titan Freight Orbital (low gravity), Netherline Tunnels (underground).  
   _–†–µ–∑—É–ª—å—Ç–∞—Ç:_ components/examples, –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –ª–∏–Ω—Ç–µ—Ä–æ–º.

---

## üîå –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

1. **GET `/world/visuals/events`**  
   - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.  
   - **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `eventType` (enum: weather, raid, glitch, ritual, festival), `region`, `locationId`, `intensityMin`, `status` (planned, active, coolingDown), `page`, `pageSize`.  
   - **–û—Ç–≤–µ—Ç—ã:**  
     - `200 OK` ‚Äî `PaginatedVisualEventProfile`.  
     - `400 Bad Request` ‚Äî `VAL_INVALID_EVENT_FILTER`.  
     - `401/403` ‚Äî shared security.  
     - `500` ‚Äî `INT_EVENT_PIPELINE_FAILURE`.

2. **GET `/world/visuals/events/{eventId}`**  
   - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è, —Ñ–∞–∑, –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏, –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω–Ω—ã—Ö —Ö–∞–±–æ–≤.  
   - **–û—Ç–≤–µ—Ç—ã:**  
     - `200 OK` ‚Äî `VisualEventProfile`.  
     - `404 Not Found` ‚Äî `BIZ_EVENT_NOT_FOUND`.  
     - `409 Conflict` ‚Äî `BIZ_EVENT_LOCKED` (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è).  
     - `500` ‚Äî `INT_EVENT_PIPELINE_FAILURE`.

3. **GET `/world/visuals/events/{eventId}/schedule`**  
   - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞/–æ–∫–æ–Ω—á–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏—è –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏.  
   - **–û—Ç–≤–µ—Ç—ã:**  
     - `200 OK` ‚Äî `VisualEventSchedule`.  
     - `404 Not Found` ‚Äî `BIZ_EVENT_NOT_FOUND`.  
     - `500` ‚Äî `INT_EVENT_PIPELINE_FAILURE`.

4. **POST `/world/visuals/events/subscriptions`**  
   - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É —Å–µ—Ä–≤–∏—Å–æ–≤ –∏–ª–∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π.  
   - **–¢–µ–ª–æ:** `VisualEventSubscriptionRequest` (serviceId, eventTypes[], severityThreshold, deliveryChannels[]).  
   - **–û—Ç–≤–µ—Ç—ã:**  
     - `202 Accepted` ‚Äî `VisualEventSubscriptionResponse` (subscriptionId, status).  
     - `400 Bad Request` ‚Äî `VAL_INVALID_SUBSCRIPTION`.  
     - `409 Conflict` ‚Äî `BIZ_SUBSCRIPTION_EXISTS`.  
     - `503 Service Unavailable` ‚Äî `INT_EVENT_PIPELINE_FAILURE`.

---

## üß± –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

- **VisualEventProfile**  
  - `eventId`, `name`, `eventType`, `locationIds[]`, `region`, `stages[]` (ref), `intensity` (ref), `duration`, `effects[]`, `linkedHubs[]`, `kafkaTopic`, `metrics` (ref), `assetsRef`, `lastUpdated`.
- **VisualEventStage**  
  - `stageId`, `name`, `sequence`, `description`, `visualEffects[]`, `gameplayModifiers`, `audioLayers[]`.
- **VisualEventIntensity**  
  - `level` (enum: low, medium, high, extreme), `visualDelta`, `npcImpact`, `playerVisibility`, `weatherSeverity`.
- **VisualEventSchedule**  
  - `eventId`, `plannedStart`, `plannedEnd`, `actualStart`, `actualEnd`, `recurrence` (cron expression/enum), `cooldownMinutes`, `notifications[]`.
- **VisualEventImpact**  
  - `visualFidelityScore`, `eventVisualImpact`, `playerEngagement`, `npcDisplacement`, `economyImpact`.
- **VisualEventSubscriptionRequest**  
  - `serviceId`, `eventTypes[]`, `severityThreshold`, `deliveryChannels[]` (enum: kafka, webhook, email, internalBus), `callbackUrl`, `metadata`.
- **VisualEventSubscriptionResponse**  
  - `subscriptionId`, `status`, `createdAt`, `nextDelivery`, `channels[]`.
- **VisualEventSubscription** (storage object)  
  - `subscriptionId`, `serviceId`, `filters`, `channels`, `lastDeliveredAt`.
- **VisualEventTriggerEvent** (Kafka payload)  
  - `eventId`, `locationId`, `stage`, `intensityLevel`, `duration`, `effects[]`, `timestamp`.
- **PaginatedVisualEventProfile**  
  - `items[]`, `page`, `pageSize`, `totalItems`, `totalPages`.

–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è Blackwall Breach Site (3 —Å—Ç–∞–¥–∏–∏), Titan Freight Orbital (low gravity), Badlands Storm Belt (weather), Sable Reactor Ruins (hazard).

---

## üìè –ü—Ä–∏–Ω—Ü–∏–ø—ã –∏ –ø—Ä–∞–≤–∏–ª–∞

- OpenAPI 3.0.3, ‚â§400 —Å—Ç—Ä–æ–∫, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤—ã–Ω–æ—Å–∏—Ç—å.  
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ `security`, `responses`, `pagination`.  
- –ò–Ω—Ñ–æ-–±–ª–æ–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ `.BRAIN` –¥–æ–∫—É–º–µ–Ω—Ç –∏ –¥–∞—Ç—É.  
- –ú–µ—Ç—Ä–∏–∫–∏ –∏ Kafka —Å–æ–±—ã—Ç–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É—é—Ç—Å—è –≤ `x-metrics`/`x-events`.  
- –ù–µ –æ–ø–∏—Å—ã–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤; —Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –∫–æ–¥—ã.  
- –í—Å–µ enum –∑–Ω–∞—á–µ–Ω–∏—è —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ —Å–æ–≥–ª–∞—Å—É—é—Ç—Å—è —Å `.BRAIN`.

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

1. `api/v1/world/visuals/events.yaml` —Å–æ–∑–¥–∞–Ω/–æ–±–Ω–æ–≤–ª—ë–Ω, –ø—Ä–æ—Ö–æ–¥–∏—Ç `scripts/validate-swagger.ps1`.  
2. –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π `Target Architecture`.  
3. `GET /world/visuals/events` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä—ã, –ø–∞–≥–∏–Ω–∞—Ü–∏—é –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `PaginatedVisualEventProfile`.  
4. `VisualEventProfile` –æ–ø–∏—Å—ã–≤–∞–µ—Ç –º–∏–Ω–∏–º—É–º 3 —Å—Ç–∞–¥–∏–∏ –∏ —Å—Å—ã–ª–∫—É –Ω–∞ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ö–∞–±—ã.  
5. Kafka —Å–æ–±—ã—Ç–∏–µ `world.visuals.event.triggered` –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ —Å payload `VisualEventTriggerEvent`.  
6. –ú–µ—Ç—Ä–∏–∫–∏ `EventVisualImpact`, `VisualFidelityScore` –æ–ø–∏—Å–∞–Ω—ã –∏ —Å–≤—è–∑–∞–Ω—ã —Å analytics.  
7. POST `/world/visuals/events/subscriptions` –æ–ø–∏—Å—ã–≤–∞–µ—Ç asynch flow –∏ –∫–æ–¥—ã –æ—à–∏–±–æ–∫ (`202`, `409`, `503`).  
8. –í—Å–µ –æ—à–∏–±–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `$ref` –∏–∑ `shared/common/responses.yaml` —Å `x-error-code`.  
9. –ü—Ä–∏–º–µ—Ä—ã –≤–∫–ª—é—á–∞—é—Ç Blackwall Breach, Badlands Storm Belt, Titan Freight Orbital, Netherline Tunnels.  
10. README `world/visuals` –¥–æ–ø–æ–ª–Ω–µ–Ω —Å—Å—ã–ª–∫–æ–π –Ω–∞ —Ñ–∞–π–ª (—á–∞—Å—Ç—å –∑–∞–¥–∞–Ω–∏—è).  
11. –§–∞–π–ª ‚â§400 —Å—Ç—Ä–æ–∫ —Å –≤—ã–Ω–µ—Å–µ–Ω–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.

---

## ‚ùì FAQ

**Q:** –ö–∞–∫ —É—á–∏—Ç—ã–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è, –æ—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–æ–∫–∞—Ü–∏–π –∏ —Ö–∞–±–æ–≤?  
**A:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞—Å—Å–∏–≤ `locationIds` –∏ `linkedHubs`; –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö –ø–æ–∫–∞–∑–∞—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –º–∞–∫—Ä–æ- –∏ –º–∏–∫—Ä–æ-–∑–æ–Ω–∞–º.

**Q:** –ù—É–∂–Ω–æ –ª–∏ –≤–∫–ª—é—á–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞?  
**A:** –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω–∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ; –∏–Ω–∞—á–µ —Å—Å—ã–ª–∫–∞ –Ω–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–π API. –£–∫–∞–∑–∞—Ç—å —ç—Ç–æ –≤ `eventType` –∏ `deliveryChannels`.

**Q:** –ö–∞–∫ –æ–ø–∏—Å—ã–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Å–æ–±—ã—Ç–∏—è?  
**A:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª–µ `recurrence` –≤ `VisualEventSchedule` –∏ —É—Ç–æ—á–Ω—è—Ç—å cron/enum –∑–Ω–∞—á–µ–Ω–∏—è –≤ –æ–ø–∏—Å–∞–Ω–∏–∏.

**Q:** –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å —É—Å—Ç–∞—Ä–µ–≤—à–∏–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏?  
**A:** –í–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å—Ç–∞—Ç—É—Å `coolingDown` –∏ `actualEnd`; –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–Ω–µ —Ä–∞–º–æ–∫ —Ç–µ–∫—É—â–µ–≥–æ API.

---

**–°–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è:** –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥ —Å–æ–±—ã—Ç–∏–π, –æ–ø–∏—Å–∞—Ç—å —Å—Ö–µ–º—ã –∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã, –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å Kafka, –æ–±–Ω–æ–≤–∏—Ç—å README, –ø—Ä–æ–≥–Ω–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é.


