# Task ID: API-TASK-324
**–¢–∏–ø:** API Generation  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –≤—ã—Å–æ–∫–∏–π  
**–°—Ç–∞—Ç—É—Å:** queued  
**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-08 16:34  
**–°–æ–∑–¥–∞—Ç–µ–ª—å:** AI Agent (GPT-5 Codex)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** [API-TASK-241], [API-TASK-300], [API-TASK-322], [API-TASK-323]

---

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–°–æ–∑–¥–∞—Ç—å OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é `api/v1/world/visuals/events.yaml`, –æ–ø–∏—Å—ã–≤–∞—é—â—É—é –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –ø–æ–≥–æ–¥–Ω—ã–µ –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –º–∏—Ä–∞, –∏—Ö —Å—Ç–∞–¥–∏–∏, –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º–∏/–≥–µ–π–º–ø–ª–µ–π–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏.

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:** –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—ã–¥–∞—á—É –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ `VisualEventProfile`, –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏ –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –≥–∏–¥–∞.

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–û–±–µ—Å–ø–µ—á–∏—Ç—å world-service –µ–¥–∏–Ω—ã–º API –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π (–ø–æ–≥–æ–¥–Ω—ã—Ö —à—Ç–æ—Ä–º–æ–≤, Blackwall Breach, Titan Freight Orbital, Sable Reactor Ruins –∏ —Ç.–¥.), —á—Ç–æ–±—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –≤ PvE/PvP –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è—Ö.

**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ:**
- –£–ø—Ä–∞–≤–ª—è—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ —Å —Ä–µ–π–¥–∞–º–∏, –ø–æ–≥–æ–¥–æ–π –∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏.  
- –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ realtime UI (world atlas, raid planner, marketing) –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Å–≤–µ—â–µ–Ω–∏—è/—ç—Ñ—Ñ–µ–∫—Ç–æ–≤.  
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –≤–æ–≤–ª–µ—á–µ–Ω–∏—è –∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏.

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** `.BRAIN`  
**–ü—É—Ç—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç—É:** `.BRAIN/03-lore/_03-lore/visual-guides/visual-style-locations-–¥–µ—Ç–∞–ª—å–Ω–æ.md`  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0.0  
**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-11-08 11:06  
**–°—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞:** approved (api-readiness: ready)

**–ß—Ç–æ –≤–∞–∂–Ω–æ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞:**
- –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–µ–π–¥–æ–≤—ã—Ö –∑–æ–Ω (Blackwall Breach Site, Titan Freight Orbital, Sable Reactor Ruins).  
- –ü—Ä–∏—Ä–æ–¥–Ω—ã–µ –∑–æ–Ω—ã (Badlands Storm Belt, Floating Mangrove Farms, Red Wastes Crevasse).  
- –û–ø–∏—Å–∞–Ω–∏–µ `world.visuals.event.triggered` –∏ –º–µ—Ç—Ä–∏–∫ `EventVisualImpact`.

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

- `.BRAIN/05-technical/content-generation/city-life-population-algorithm.md` ‚Äî –≤–ª–∏—è–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –Ω–∞ –ø–ª–æ—Ç–Ω–æ—Å—Ç—å NPC.  
- `.BRAIN/02-gameplay/social/player-orders-world-impact-–¥–µ—Ç–∞–ª—å–Ω–æ.md` ‚Äî –º–∏—Ä–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã, —Ç—Ä–µ–±—É—é—â–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.  
- `.BRAIN/03-lore/visual-guides/visual-style-assets-–¥–µ—Ç–∞–ª—å–Ω–æ.md` ‚Äî –∞—Å—Å–µ—Ç—ã –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã (–≥–ª–∏—á–∏, –æ—Å–≤–µ—â–µ–Ω–∏–µ) –¥–ª—è —Ä–µ–π–¥–æ–≤.

### –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `API-SWAGGER/api/v1/world/visuals/locations-detailed.yaml` (API-TASK-322) ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫–∏ locationId/assetId.  
- `API-SWAGGER/api/v1/gameplay/raids/scenarios.yaml` (–µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî —Å–æ—Å–ª–∞—Ç—å—Å—è –Ω–∞ API-TASK-244/245/247).  
- `.BRAIN/04-narrative/quests/quest-main-001-first-steps.md` ‚Äî –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π –≤ –∫–≤–µ—Å—Ç–∞—Ö.

---

## üìÅ –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API

### –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `API-SWAGGER`

**–¶–µ–ª–µ–≤–æ–π —Ñ–∞–π–ª:** `api/v1/world/visuals/events.yaml`  
**API –≤–µ—Ä—Å–∏—è:** v1  
**–¢–∏–ø —Ñ–∞–π–ª–∞:** OpenAPI 3.0.3 (YAML)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:**
```
API-SWAGGER/
‚îî‚îÄ‚îÄ api/
    ‚îî‚îÄ‚îÄ v1/
        ‚îî‚îÄ‚îÄ world/
            ‚îî‚îÄ‚îÄ visuals/
                ‚îî‚îÄ‚îÄ events.yaml
```

---

## üèóÔ∏è –¶–µ–ª–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

### Backend (–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å)
- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å:** world-service  
- **–ü–æ—Ä—Ç:** 8092  
- **API Base:** `/api/v1/world/visuals/events/*`  
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** gameplay-service (raid triggers), social-service (hub ambience), economy-service (—Ä—ã–Ω–∫–∏), marketing-service (–∫–∞–º–ø–∞–Ω–∏–∏), auth-service

### OpenAPI (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

- –ó–∞–ø–æ–ª–Ω–∏ `info.x-microservice` (name, port, domain, base-path, package) –ø–æ –¥–∞–Ω–Ω—ã–º —Ü–µ–ª–µ–≤–æ–≥–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞.
- –í —Å–µ–∫—Ü–∏–∏ `servers` –æ—Å—Ç–∞–≤—å Production gateway `https://api.necp.game/v1` –∏ –ø—Ä–∏–º–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ `http://localhost:8080/api/v1`.
- WebSocket –º–∞—Ä—à—Ä—É—Ç—ã –ø—É–±–ª–∏–∫—É–π —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `wss://api.necp.game/v1/...`.

### Frontend (–º–æ–¥—É–ª—å)
- **–ú–æ–¥—É–ª—å:** `modules/world/events`  
- **State Store:** `useWorldStore` (visualEvents, activeEvent, previewTicket)  
- **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (@shared/ui):** EventTimeline, HazardBadge, WeatherBadge, RaidStageCard, MetricChip  
- **–§–æ—Ä–º—ã (@shared/forms):** EventVisualPlannerForm, EventBroadcastForm  
- **Layouts:** WorldEventsLayout (`@shared/layouts`)  
- **Hooks:** useEventStream, useEventPreview

### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
–î–æ–±–∞–≤–∏—Ç—å –≤ YAML –±–ª–æ–∫:
```yaml
# Target Architecture:
# - Microservice: world-service (port 8092)
# - Frontend Module: modules/world/events
# - UI Components: @shared/ui (EventTimeline, HazardBadge, WeatherBadge, RaidStageCard, MetricChip)
# - Forms: @shared/forms (EventVisualPlannerForm, EventBroadcastForm)
# - State: useWorldStore (visualEvents, activeEvent, previewTicket)
# - API Base: /api/v1/world/visuals/events/*
```

---

## ‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å (–¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω)

1. **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π** ‚Äî —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –ø–æ–≥–æ–¥–Ω—ã–µ, —Ä–µ–π–¥–æ–≤—ã–µ, —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ, –ø—Ä–∏—Ä–æ–¥–Ω—ã–µ; –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (intensity, stages, hazards).  
2. **–°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã** ‚Äî —Å–ø–∏—Å–æ–∫, –∫–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–±—ã—Ç–∏—è, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä, –æ—Ç–º–µ–Ω–∞/–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫.  
3. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–æ–¥–µ–ª–∏** ‚Äî `VisualEventProfile`, `EventStage`, `EventTrigger`, `EventHazard`, `EventPreviewRequest`, `EventScheduleRequest`, `EventPreviewTicket`.  
4. **–ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤—è–∑–∏** ‚Äî Rx —Å social-service (ambience), gameplay-service (raid state), marketing-service (–∫–∞–º–ø–∞–Ω–∏–∏).  
5. **Kafka** ‚Äî –æ–ø–∏—Å–∞—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é `world.visuals.event.triggered`, –ø–æ–¥–ø–∏—Å–∫—É —Å–æ—Ü/–≥–µ–π–º–ø–ª–µ–π.  
6. **–ú–µ—Ç—Ä–∏–∫–∏** ‚Äî `EventVisualImpact`, `VisualFidelityScore`, telemetry pipeline.  
7. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –æ—à–∏–±–∫–∏** ‚Äî BearerAuth, –æ–±—â–∏–µ –æ—Ç–≤–µ—Ç—ã, –∫–æ–¥—ã 409 (–∫–æ–Ω—Ñ–ª–∏–∫—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è), 423 (—Å–æ–±—ã—Ç–∏–µ –≤ lockdown), 503.  
8. **–í–∞–ª–∏–¥–∞—Ü–∏—è** ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–Ω—Ç–µ—Ä–æ–º, —É–ª–æ–∂–∏—Ç—å—Å—è –≤ 400 —Å—Ç—Ä–æ–∫, –≤—ã–Ω–µ—Å—Ç–∏ components –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

---

## üîÄ Endpoints

1. **GET `/api/v1/world/visuals/events`**  
   - –§–∏–ª—å—Ç—Ä—ã: `type` (weather, raid, social, natural), `intensity`, `macroZone`, `active` (bool), `from`, `to`, `limit`, `offset`.  
   - –û—Ç–≤–µ—Ç 200: —Å–ø–∏—Å–æ–∫ `VisualEventProfile` (—Å–æ–∫—Ä–∞—â—ë–Ω–Ω—ã–π –≤–∏–¥).  
   - –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –ø–æ `startTime`, `intensity`.

2. **GET `/api/v1/world/visuals/events/{eventId}`**  
   - Path: `eventId` (`EVT-[A-Z0-9-]+`).  
   - –û—Ç–≤–µ—Ç 200: –ø–æ–ª–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å (—Å—Ç–∞–¥–∏–∏, —Ç—Ä–∏–≥–≥–µ—Ä—ã, –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏, recommendedUI).  
   - –û—à–∏–±–∫–∏: 404, 423 (–Ω–µ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—É–±–ª–∏—á–Ω–æ).

3. **POST `/api/v1/world/visuals/events/preview`**  
   - –¢–µ–ª–æ: `EventPreviewRequest` (eventType, locationId, stageOverrides, lightingTest, channels).  
   - –û—Ç–≤–µ—Ç 202: `EventPreviewTicket` (id, status, estimatedReadyAt).  
   - –û—à–∏–±–∫–∏: 400, 409 (—É–∂–µ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π preview), 503.

4. **GET `/api/v1/world/visuals/events/preview/{ticketId}`**  
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `EventPreviewResult` (links, palette, shaderParams, audioMix).  
   - –û—à–∏–±–∫–∏: 404, 410, 423.

5. **POST `/api/v1/world/visuals/events/schedule`**  
   - –¢–µ–ª–æ: `EventScheduleRequest` (eventId –∏–ª–∏ template, startTime, duration, intensity, linkedHubs[], broadcastChannels[]).  
   - –û—Ç–≤–µ—Ç 201: `VisualEventSchedule` (id, scheduleState).  
   - –û—à–∏–±–∫–∏: 409 (–∫–æ–Ω—Ñ–ª–∏–∫—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —Å–æ–±—ã—Ç–∏–µ–º), 412 (–Ω–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è QA), 503.

6. **DELETE `/api/v1/world/visuals/events/{eventId}/schedule`**  
   - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –æ—Ç–º–µ–Ω–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è.  
   - –û—Ç–≤–µ—Ç 204. –û—à–∏–±–∫–∏: 404, 423 (—É–∂–µ –∞–∫—Ç–∏–≤–µ–Ω).

–í—Å–µ –æ—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–∞—Ç—å —á–µ—Ä–µ–∑ `shared/common/responses.yaml`. Security ‚Äî BearerAuth.

---

## üß± –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

- **VisualEventProfile**  
  –ü–æ–ª—è: `eventId`, `name`, `type`, `macroZone`, `locationId`, `intensity`, `durationMinutes`, `stages[]`, `hazards[]`, `lighting`, `weather`, `audio`, `dynamicEffects`, `linkedHubs[]`, `marketingTags[]`, `metrics`, `kafkaTopics`, `lastUpdated`.

- **EventStage** (`stageId`, `name`, `sequence`, `visualCue`, `hazardLevel`, `npcBehavior`, `recommendedUI`).  
- **EventHazard** (`hazardId`, `description`, `impact`, `safetyGuideline`, `visuals`).  
- **EventTrigger** (`triggerType`, `source`, `conditions`, `cooldown`).  
- **EventPreviewRequest** (`eventType`, `locationId`, `intensity`, `stageOverrides[]`, `includeAudio`, `channels`).  
- **EventPreviewTicket** (`ticketId`, `status`, `expiresAt`, `estimatedReadyAt`).  
- **EventPreviewResult** (`ticketId`, `status`, `cdnLinks[]`, `palette`, `shaderParams`, `audioMix`, `generatedAt`).  
- **EventScheduleRequest** (`eventId` or `templateId`, `startTime`, `durationMinutes`, `intensity`, `linkedHubs[]`, `broadcastChannels[]`, `requestedBy`).  
- **VisualEventSchedule** (`scheduleId`, `eventId`, `state`, `startTime`, `endTime`, `createdBy`).  
- –ú–µ—Ç—Ä–∏–∫–∏: `EventVisualImpact`, `PlayerEngagementDelta`, `IncidentCount`.  
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `DateTime` —Ñ–æ—Ä–º–∞—Ç ISO 8601, enums –¥–ª—è `type`, `intensity`.

–ü—Ä–∏–º–µ—Ä—ã: Blackwall Breach (—Ç—Ä—ë—Ö—Å—Ç–∞–¥–∏–π–Ω—ã–π, hazard fractal walls), Titan Freight Orbital (–Ω–∏–∑–∫–∞—è –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—è), Badlands Storm Belt (weather extreme).

---

## üì° Kafka –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- **Producer:** world-service ‚Üí `world.visuals.event.triggered` `{ eventId, locationId, stage, intensity, duration, triggeredAt }`.  
- **Consumers:** social-service (ambience), gameplay-service (raid modifiers), telemetry, marketing-service.  
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –æ–ø–∏—Å–∞—Ç—å `marketing.visuals.package.generated` –∫–∞–∫ downstream —Å–æ–±—ã—Ç–∏–µ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ (—Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å API-TASK-323).  
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ `social.visuals.hub.activity` (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø–æ ambiance) ‚Äî –æ–ø–∏—Å–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å.

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

- `EventVisualImpact` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç–∏, –≤–∫–ª—é—á–∏—Ç—å –≤ `metrics` –±–ª–æ–∫–∞.  
- `VisualFidelityScore` ‚Äî —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —É—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–º –ø—Ä–æ—Ñ–∏–ª—è–º.  
- `SafetyIncidentRate` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ –ø—Ä–∏ —Å–æ–±—ã—Ç–∏–∏ (–¥–ª—è QA).  
- –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ telemetry; —É–∫–∞–∑–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ dashboards world/art/social.

---

## ‚öôÔ∏è –ü—Ä–∞–≤–∏–ª–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- SOLID/DRY/KISS, –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å —Å—Ö–µ–º—ã, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `$ref`.  
- –ù–µ —Ö–∞—Ä–¥–∫–æ–¥–∏—Ç—å —Å–æ–±—ã—Ç–∏—è ‚Äî API –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ë–î.  
- –í description —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ `.BRAIN` –¥–æ–∫—É–º–µ–Ω—Ç –∏ workshop 2025-11-08.  
- –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ 400 —Å—Ç—Ä–æ–∫ ‚Äî –≤—ã–Ω–µ—Å—Ç–∏ `components` –≤ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `api/v1/world/visuals/components/events`.  
- –£—á–µ—Å—Ç—å UX/QA —á–µ–∫–ª–∏—Å—Ç –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (schema-test, payload review).

---

## ‚úîÔ∏è –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

1. –§–∞–π–ª `api/v1/world/visuals/events.yaml` —Å–æ–∑–¥–∞–Ω/–æ–±–Ω–æ–≤–ª—ë–Ω –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç Target Architecture.  
2. –û–ø–∏—Å–∞–Ω—ã –≤—Å–µ 6 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ –æ—à–∏–±–∫–∞–º–∏.  
3. –ú–æ–¥–µ–ª–∏ `VisualEventProfile`, `EventStage`, `EventHazard`, `EventPreviewRequest`, `EventScheduleRequest` –≤–∫–ª—é—á–µ–Ω—ã —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏.  
4. Kafka —Å–æ–±—ã—Ç–∏–µ `world.visuals.event.triggered` –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ.  
5. –£–∫–∞–∑–∞–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞ social-service, gameplay-service, marketing-service.  
6. –ú–µ—Ç—Ä–∏–∫–∏ `EventVisualImpact` –∏ `SafetyIncidentRate` –æ–ø–∏—Å–∞–Ω—ã.  
7. –ü–æ–¥–∫–ª—é—á–µ–Ω—ã —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.  
8. –§–∞–π–ª –ø—Ä–æ—Ö–æ–¥–∏—Ç `scripts/validate-swagger.ps1`.  
9. –†–∞–∑–º–µ—Ä ‚â§400 —Å—Ç—Ä–æ–∫ –∏–ª–∏ –µ—Å—Ç—å –≤—ã–Ω–µ—Å–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ + README.  
10. –í –æ–ø–∏—Å–∞–Ω–∏–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ `.BRAIN` –¥–æ–∫—É–º–µ–Ω—Ç –∏ workshop 2025-11-08.  
11. Endpoint schedule –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é QA.  
12. Preview flow –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç ticket lifecycle (202 ‚Üí GET ‚Üí 200/410).

---

## ‚ùì FAQ

- **–í–æ–ø—Ä–æ—Å:** –ü–æ—á–µ–º—É —Å–æ–±—ã—Ç–∏—è –æ—Ñ–æ—Ä–º–ª—è—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º —Ñ–∞–π–ª–æ–º –æ—Ç –ª–æ–∫–∞—Ü–∏–π?  
  **–û—Ç–≤–µ—Ç:** –°–æ–±—ã—Ç–∏—è –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç –¥–∏–Ω–∞–º–∏–∫—É –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (world, social, gameplay), —Ç—Ä–µ–±—É—é—Ç —Å–≤–æ–∏—Ö –º–æ–¥–µ–ª–µ–π –∏ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞, –ø–æ—ç—Ç–æ–º—É –æ—Ç–¥–µ–ª–µ–Ω—ã –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –≤–µ—Ä—Å–∏—è—Ü–∏–∏.

- **–í–æ–ø—Ä–æ—Å:** –ù—É–∂–Ω–æ –ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å PUT/DELETE –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–µ–π?  
  **–û—Ç–≤–µ—Ç:** –ù–µ—Ç, –ø—Ä–æ—Ñ–∏–ª–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–∞–π–ø–ª–∞–π–Ω. API –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —á—Ç–µ–Ω–∏–µ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π.

- **–í–æ–ø—Ä–æ—Å:** –ö–∞–∫ —É—á–∏—Ç—ã–≤–∞—Ç—å Blackwall Breach?  
  **–û—Ç–≤–µ—Ç:** –û–ø–∏—Å–∞—Ç—å —Ç—Ä—ë—Ö—Å—Ç–∞–¥–∏–π–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ —Å –≥–ª–∏—á-—ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏, –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Å–∫–∞—á–∫–∞–º–∏ –∏ hazard —É—Ä–æ–≤–Ω—è–º–∏ (—Å–º. –¥–æ–∫—É–º–µ–Ω—Ç). –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `type: raid`.

- **–í–æ–ø—Ä–æ—Å:** –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å preview –±–µ–∑ schedule?  
  **–û—Ç–≤–µ—Ç:** –î–∞, preview –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∞—Ä—Ç-—Ä–µ–≤—å—é; —É–∫–∞–∂–∏—Ç–µ, —á—Ç–æ ticket –º–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å –±–µ–∑ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.

- **–í–æ–ø—Ä–æ—Å:** –ö–∞–∫ —Å–≤—è–∑–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ —Å —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Ö–∞–±–∞–º–∏?  
  **–û—Ç–≤–µ—Ç:** –ß–µ—Ä–µ–∑ `linkedHubs[]` –≤ `EventScheduleRequest` –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –Ω–∞ API-TASK-323 (`HubAmbienceUpdate`).

---

## üìå –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- 2025-11-08 ‚Äî –ó–∞–¥–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ AI –∞–≥–µ–Ω—Ç–æ–º GPT-5 Codex –Ω–∞ –æ—Å–Ω–æ–≤–µ `.BRAIN/03-lore/_03-lore/visual-guides/visual-style-locations-–¥–µ—Ç–∞–ª—å–Ω–æ.md`.


