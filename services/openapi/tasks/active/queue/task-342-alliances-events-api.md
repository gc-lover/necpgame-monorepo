# Task ID: API-TASK-342
**–¢–∏–ø:** API Generation  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –≤—ã—Å–æ–∫–∏–π  
**–°—Ç–∞—Ç—É—Å:** queued  
**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-08 18:55  
**–°–æ–∑–¥–∞—Ç–µ–ª—å:** AI Task Creator Agent  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** API-TASK-340 (relationship context), API-TASK-341 (trust contracts)

---

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é `Alliance Events API`, –æ–ø–∏—Å—ã–≤–∞—é—â—É—é –ø—É–±–ª–∏–∫–∞—Ü–∏—é –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è–º–∏ —Å–æ—é–∑–æ–≤ –∏ –¥–∏–ø–ª–æ–º–∞—Ç–∏–∏ (world-service ‚Üî social-service).  
**–¶–µ–ª–µ–≤–æ–π —Ñ–∞–π–ª:** `api/v1/world/alliances/events.yaml`

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–û–±–µ—Å–ø–µ—á–∏—Ç—å world-service –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π:
- —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏—è —Å–æ—é–∑–æ–≤ (–∑–∞–∫–ª—é—á–µ–Ω–∏–µ, –ø—Ä–æ–¥–ª–µ–Ω–∏–µ, –Ω–∞—Ä—É—à–µ–Ω–∏–µ, –∫–ª—è—Ç–≤–∞, –≤–æ–π–Ω–∞, –ø–µ—Ä–µ–º–∏—Ä–∏–µ);
- —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å social-service –∏ economy-service –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –Ω–∞ —Ä–µ–ø—É—Ç–∞—Ü–∏—é, –Ω–∞–ª–æ–≥–∏, –¥–æ—Å—Ç—É–ø—ã;
- –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É –∏ —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º, —Ñ—Ä–∞–∫—Ü–∏—è–º, severity, —Ç–∏–ø–∞–º —Å–æ–±—ã—Ç–∏–π;
- –ª–æ–≥–∏—Ä—É–µ—Ç –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –¥–ª—è –≥–æ—Ä–æ–¥–æ–≤, –∫–≤–µ—Å—Ç–æ–≤, PvP-–∑–æ–Ω, —Ç–æ—Ä–≥–æ–≤—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤;
- –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç analytics-service (AllianceSuccessRate) –∏ notification-service.

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** `.BRAIN`  
**–ü—É—Ç—å:** `.BRAIN/02-gameplay/social/relationships-system-–¥–µ—Ç–∞–ª—å–Ω–æ.md`  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-11-08 10:40  
**–°—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞:** approved (api-readiness: ready)

**–ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–¥–µ–ª—ã:**  
- 5.1‚Äì5.2 ‚Äî —Ç–∏–ø—ã —Å–æ—é–∑–æ–≤ –∏ –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è/–Ω–∞—Ä—É—à–µ–Ω–∏—è.  
- 8 ‚Äî –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Ñ—Ä–∞–∫—Ü–∏—è–º–∏ –∏ –≥–æ—Ä–æ–¥–∞–º–∏, –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.  
- 10 ‚Äî REST –º–∞–∫–µ—Ç `POST /world/alliances/events`.  
- 11 ‚Äî Kafka `world.alliance.event`.  
- 12 ‚Äî –º–µ—Ç—Ä–∏–∫–∏ `AllianceSuccessRate`.

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `.BRAIN/03-lore/_03-lore/factions/factions-overview-–¥–µ—Ç–∞–ª—å–Ω–æ.md` ‚Äî –∏–µ—Ä–∞—Ä—Ö–∏—è —Ñ—Ä–∞–∫—Ü–∏–π, –¥–∏–ø–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç–∞—Ç—É—Å—ã.  
- `.BRAIN/03-lore/_03-lore/visual-guides/visual-style-locations-–¥–µ—Ç–∞–ª—å–Ω–æ.md` ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π –≤ –≥–æ—Ä–æ–¥–∞—Ö.  
- `.BRAIN/02-gameplay/world/world-events-system-–¥–µ—Ç–∞–ª—å–Ω–æ.md` ‚Äî –æ–±—â–∏–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –º–∏—Ä–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π.  
- `.BRAIN/02-gameplay/economy/economic-influence-system.md` ‚Äî –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –Ω–∞–ª–æ–≥–∏/—Ä—ã–Ω–∫–∏.  
- `.BRAIN/05-technical/telemetry/alliance-analytics-pipeline.md` ‚Äî –º–µ—Ç—Ä–∏–∫–∏ –∏ –∞–ª–µ—Ä—Ç—ã.

---

## üìÅ –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** `API-SWAGGER`  
**–§–∞–π–ª:** `api/v1/world/alliances/events.yaml`  
**–¢–∏–ø:** OpenAPI 3.0.3 (YAML)

**–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:**
```
API-SWAGGER/
‚îî‚îÄ‚îÄ api/
    ‚îî‚îÄ‚îÄ v1/
        ‚îî‚îÄ‚îÄ world/
            ‚îî‚îÄ‚îÄ alliances/
                ‚îú‚îÄ‚îÄ components/
                ‚îÇ   ‚îú‚îÄ‚îÄ schemas/
                ‚îÇ   ‚îú‚îÄ‚îÄ responses/
                ‚îÇ   ‚îî‚îÄ‚îÄ examples/
                ‚îî‚îÄ‚îÄ events.yaml
```

---

## üèóÔ∏è –¶–µ–ª–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

### Backend:
- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å:** world-service (port 8092)  
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:** social-service (relationships, trust), economy-service (–Ω–∞–ª–æ–≥–∏), analytics-service (AllianceSuccessRate), notification-service, telemetry-service.  
- **Kafka:** `world.alliance.event`, `world.alliance.alert`, `world.alliance.metrics`.

### OpenAPI (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

- –ó–∞–ø–æ–ª–Ω–∏ `info.x-microservice` (name, port, domain, base-path, package) –ø–æ –¥–∞–Ω–Ω—ã–º —Ü–µ–ª–µ–≤–æ–≥–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞.
- –í —Å–µ–∫—Ü–∏–∏ `servers` –æ—Å—Ç–∞–≤—å Production gateway `https://api.necp.game/v1` –∏ –ø—Ä–∏–º–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ `http://localhost:8080/api/v1`.
- WebSocket –º–∞—Ä—à—Ä—É—Ç—ã –ø—É–±–ª–∏–∫—É–π —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `wss://api.necp.game/v1/...`.

### Frontend:
- **–ú–æ–¥—É–ª—å:** modules/world/diplomacy  
- **State Store:** `useWorldStore(allianceEvents)`  
- **UI:** `AllianceTimeline`, `AllianceEventFeed`, `AllianceImpactPanel`, `AllianceMetricsWidget`, `DiplomacyHeatmap`  
- **–§–æ—Ä–º—ã:** `AllianceEventFilterForm`, `AllianceEventRegistrationForm`  
- **Layouts:** `WorldDiplomacyLayout`, `AllianceDashboardLayout`  
- **Hooks:** `useAllianceEvents`, `useAllianceEvent`, `useAllianceMetrics`, `useAllianceAlerts`

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ YAML:**
```
# Target Architecture:
# - Microservice: world-service (port 8092)
# - Frontend Module: modules/world/diplomacy
# - State Store: useWorldStore(allianceEvents)
# - UI: AllianceTimeline, AllianceEventFeed, AllianceImpactPanel, AllianceMetricsWidget, DiplomacyHeatmap
# - Forms: AllianceEventFilterForm, AllianceEventRegistrationForm
# - Layouts: WorldDiplomacyLayout, AllianceDashboardLayout
# - Hooks: useAllianceEvents, useAllianceEvent, useAllianceMetrics, useAllianceAlerts
# - Events: world.alliance.event, world.alliance.alert, world.alliance.metrics
# - API Base: /api/v1/world/alliances/*
```

---

## ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω

1. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏–π:** formation, renewal, upgrade, breach, termination, war, truce, pact, trade-route-opened, city-revolt, emergency-aid.  
2. **–ü—Ä–æ–¥—É–º–∞—Ç—å payload:** —Å—É—â–Ω–æ—Å—Ç–∏ (allianceId, factions[], regions[], severity, impacts[], trustDelta, reputationDelta, economyModifiers).  
3. **–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:** –ø—É–±–ª–∏–∫–∞—Ü–∏—è, —á—Ç–µ–Ω–∏–µ, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, acknowledgement, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, —ç–∫—Å–ø–æ—Ä—Ç.  
4. **–°–≤—è–∑—å —Å trust/relationships:** —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –¥–æ–≥–æ–≤–æ—Ä—ã (contractId), —É—Ä–æ–≤–Ω–∏ –¥–æ–≤–µ—Ä–∏—è, –ø—Ä–∏—á–∏–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è.  
5. **–°—Ö–µ–º—ã:** `AllianceEvent`, `AllianceImpact`, `AllianceEventCreateRequest`, `AllianceEventFilter`, `AllianceEventAcknowledgeRequest`, `AllianceAlert`, `AllianceMetrics`, `AllianceEventExportRequest`.  
6. **–£–∫–∞–∑–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Kafka –∏ telemetry.**  
7. **–î–æ–±–∞–≤–∏—Ç—å shared security/responses/pagination.**  
8. **–ü—Ä–∏–º–µ—Ä—ã:** —Å–æ–∑–¥–∞–Ω–∏–µ –±–æ–µ–≤–æ–≥–æ —Å–æ—é–∑–∞, –Ω–∞—Ä—É—à–µ–Ω–∏–µ —Å —Å–∞–Ω–∫—Ü–∏—è–º–∏, –º–∏—Ä–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ (–≤–æ–π–Ω–∞), —Ç—Ä—ç–¥-–∞–ª—å—è–Ω—Å, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –≤–æ—Å—Å—Ç–∞–Ω–∏–∏ –≥–æ—Ä–æ–¥–∞.  
9. **–£—á–µ—Å—Ç—å –ª–∏–º–∏—Ç 400 —Å—Ç—Ä–æ–∫ ‚Äî –≤—ã–Ω–µ—Å—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.**  
10. **–í–∞–ª–∏–¥–∞—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–æ–º –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ README.**

---

## üîå –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

1. **POST `/world/alliances/events`** ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏—è (producer world-service).  
2. **GET `/world/alliances/events/{eventId}`** ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞.  
3. **GET `/world/alliances/events`** ‚Äî —Å–ø–∏—Å–æ–∫ (—Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–∏–ø—É, —Ñ—Ä–∞–∫—Ü–∏–∏, —Ä–µ–≥–∏–æ–Ω—É, –ø–µ—Ä–∏–æ–¥—É, severity).  
4. **POST `/world/alliances/events/{eventId}/ack`** ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏.  
5. **GET `/world/alliances/events/metrics`** ‚Äî –º–µ—Ç—Ä–∏–∫–∏ –∏ –∞–≥—Ä–µ–≥–∞—Ç—ã (—É—Å–ø–µ—à–Ω–æ—Å—Ç—å —Å–æ—é–∑–æ–≤, breach rate).  
6. **GET `/world/alliances/events/export`** ‚Äî —ç–∫—Å–ø–æ—Ä—Ç (CSV/JSON) –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.  
7. **GET `/world/alliances/events/alerts`** ‚Äî –∞–∫—Ç–∏–≤–Ω—ã–µ –∞–ª–µ—Ä—Ç—ã –≤—ã—Å–æ–∫–æ–≥–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞.  
8. **DELETE `/world/alliances/events/{eventId}`** ‚Äî –æ—Ç–∑—ã–≤ —Å–æ–±—ã—Ç–∏—è (edge-case, audit log).

---

## üß± –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

- **AllianceEvent** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –∑–∞–ø–∏—Å—å (`eventId`, `allianceId`, `type`, `status`, `severity`, `timestamp`, `initiator`, `participants[]`, `regions[]`, `factions[]`, `impacts[]`, `trustDelta`, `reputationDelta`, `economyModifiers`, `relatedContracts[]`, `metadata`).  
- **AllianceImpact** ‚Äî –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è (world, economy, social, gameplay).  
- **AllianceEventCreateRequest** ‚Äî payload –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (–≤–∫–ª—é—á–∞—è references –Ω–∞ trust contracts).  
- **AllianceEventFilter** ‚Äî —Ñ–∏–ª—å—Ç—Ä—ã (—Ç–∏–ø, —Å—Ç–∞—Ç—É—Å, —Ä–µ–≥–∏–æ–Ω, –ø–µ—Ä–∏–æ–¥, severity, factionId).  
- **AllianceEventAcknowledgeRequest** ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (consumerId, status, notes).  
- **AllianceAlert** ‚Äî —Å–∏–≥–Ω–∞–ª —Ç—Ä–µ–≤–æ–≥–∏ (alertId, eventId, severity, message, actionRequired).  
- **AllianceMetrics** ‚Äî –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (AllianceSuccessRate, BreachRate, ActiveAlliances, PendingTreaties).  
- **AllianceEventExport** ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —ç–∫—Å–ø–æ—Ä—Ç–∞.  
- **PaginatedAllianceEvents** ‚Äî –ø–∞–≥–∏–Ω–∞—Ü–∏—è —Å —Å—Å—ã–ª–∫–∞–º–∏.  
- **AllianceEventDeletionRequest** ‚Äî –ø—Ä–∏—á–∏–Ω–∞ –æ—Ç–∑—ã–≤–∞.

---

## üìè –ü—Ä–∏–Ω—Ü–∏–ø—ã –∏ –ø—Ä–∞–≤–∏–ª–∞

- OpenAPI 3.0.3; —Ñ–∞–π–ª ‚â§400 —Å—Ç—Ä–æ–∫ (—Å—Ö–µ–º—ã/–ø—Ä–∏–º–µ—Ä—ã –≤—ã–Ω–µ—Å—Ç–∏).  
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `shared/common/security.yaml`, `shared/common/responses.yaml`, `shared/common/pagination.yaml`.  
- –û—à–∏–±–∫–∏ —Å `x-error-code`: `VAL_ALLIANCE_EVENT_INVALID`, `BIZ_ALLIANCE_EVENT_CONFLICT`, `BIZ_ALLIANCE_EVENT_LOCKED`, `BIZ_ALLIANCE_EVENT_NOT_FOUND`, `INT_ALLIANCE_EVENT_STREAM_FAILURE`.  
- –í `info.description` —É–∫–∞–∑–∞—Ç—å `.BRAIN` –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å social/economy.  
- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ–≥–∏: `Alliances`, `Diplomacy`, `World Events`, `Analytics`.  
- –ü–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—Å–∞—Ç—å Kafka —Å–æ–±—ã—Ç–∏—è (`world.alliance.event`, `world.alliance.alert`, `world.alliance.metrics`) –∏ payload.

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

1. –°–æ–∑–¥–∞–Ω/–æ–±–Ω–æ–≤–ª—ë–Ω —Ñ–∞–π–ª `api/v1/world/alliances/events.yaml`, –ø—Ä–æ—Ö–æ–¥–∏—Ç `scripts/validate-swagger.ps1`.  
2. –ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç `Target Architecture` –±–ª–æ–∫.  
3. –û–ø–∏—Å–∞–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏ —Å—Ö–µ–º—ã.  
4. –ü–æ–¥–∫–ª—é—á–µ–Ω—ã –æ–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏/–æ—Ç–≤–µ—Ç–æ–≤/–ø–∞–≥–∏–Ω–∞—Ü–∏–∏.  
5. –í–∫–ª—é—á–µ–Ω—ã –æ–ø–∏—Å–∞–Ω–∏—è Kafka —Å–æ–±—ã—Ç–∏–π –∏ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ economy/social.  
6. –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã (formation, breach, war, alert, export).  
7. README –≤ `world/alliances` –¥–æ–ø–æ–ª–Ω–µ–Ω (–≤ —Ä–∞–º–∫–∞—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏).  
8. Task –ø—Ä–∏–≤—è–∑–∞–Ω –≤ `brain-mapping.yaml`.  
9. –£–∫–∞–∑–∞–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞ trust contracts –∏ relationships.  
10. –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è analytics-service.

---

## ‚ùì FAQ

**Q:** –ö—Ç–æ –º–æ–∂–µ—Ç –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è?  
A: world-service (–∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫). API –¥–æ–ª–∂–Ω–æ —Ç—Ä–µ–±–æ–≤–∞—Ç—å `scope:world.events.write`.  

**Q:** –ö–∞–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å social-service?  
A: –í–æ–∑–≤—Ä–∞—â–∞—Ç—å `relatedContracts[]` –∏ `relationshipsEffects[]` ‚Äî social-service –ø–æ ID –æ–±–Ω–æ–≤–ª—è–µ—Ç trust/rep.  

**Q:** –ù—É–∂–Ω–∞ –ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏?  
A: Kafka –ø–æ—Ç–æ–∫ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç realtime; REST ‚Äî –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.  

**Q:** –ö–∞–∫–æ–π retention –∏—Å—Ç–æ—Ä–∏–∏?  
A: –ú–∏–Ω–∏–º—É–º —Å–µ–∑–æ–Ω (90 –¥–Ω–µ–π) –≤ primary storage, –∞—Ä—Ö–∏–≤ –≤ cold storage (–≤–Ω–µ scope).  

---

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è:** —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å OpenAPI-—Ñ–∞–π–ª, –æ–ø–∏—Å–∞—Ç—å —Å—Ö–µ–º—ã, –≤—ã–Ω–µ—Å—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –ø—Ä–æ–≥–Ω–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å MR.

