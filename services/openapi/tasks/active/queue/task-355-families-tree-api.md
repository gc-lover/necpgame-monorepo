# Task ID: API-TASK-355
**–¢–∏–ø:** API Generation  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –≤—ã—Å–æ–∫–∏–π  
**–°—Ç–∞—Ç—É—Å:** queued  
**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-08 20:10  
**–°–æ–∑–¥–∞—Ç–µ–ª—å:** AI Task Creator Agent  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** none

---

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é `Families Tree API`, —Ñ–∏–∫—Å–∏—Ä—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–µ–º–µ–π NPC/–∏–≥—Ä–æ–∫–æ–≤, –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∏, —Å—Ç–∞—Ç—É—Å—ã –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º.  
**–¶–µ–ª–µ–≤–æ–π —Ñ–∞–π–ª:** `api/v1/social/families/tree.yaml`

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–î–∞—Ç—å social-service REST –∫–æ–Ω—Ç—Ä–∞–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π:
- —Å—Ç—Ä–æ–∏—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–µ–º–µ–π (—Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏ –±—Ä–∞—á–Ω—ã–µ —Å–≤—è–∑–∏, —Å–æ—Å—Ç–æ—è–Ω–∏—è, —ç–º–æ—Ü–∏–∏);  
- –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (—Å–æ–∑–¥–∞–Ω–∏–µ —Å–≤—è–∑–µ–π, —Ä–∞–∑—Ä—ã–≤, —É—Å—ã–Ω–æ–≤–ª–µ–Ω–∏–µ, –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ –≤ —Å–µ–º—å—é);  
- —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (—Å–µ–∫—Ä–µ—Ç—ã, —Ä–æ–ª–∏, —Ñ—Ä–∞–∫—Ü–∏–∏, —Å—Ç–∞—Ç—É—Å—ã, –∫–ª–∞–Ω—ã) –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥—Ä—É–≥–∏–µ —Å–∏—Å—Ç–µ–º—ã;  
- –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å world-service (—Å–æ–±—ã—Ç–∏—è), economy-service (–Ω–∞—Å–ª–µ–¥—Å—Ç–≤–æ), npc-relationships, mentorship –∏ player orders.

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** `.BRAIN`  
**–ü—É—Ç—å:** `.BRAIN/02-gameplay/social/family-relationships-system-–¥–µ—Ç–∞–ª—å–Ω–æ.md`  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-11-08 10:53  
**–°—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞:** approved (api-readiness: ready)

**–ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–¥–µ–ª—ã:**  
- ¬ß2‚Äì6: —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–µ–º–µ–π, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É—Ä–æ–≤–Ω–∏, —Å–æ–±—ã—Ç–∏—è, —É—Å—ã–Ω–æ–≤–ª–µ–Ω–∏–µ.  
- ¬ß9‚Äì10: UX –¥–µ—Ä–µ–≤–∞, —Å–≤—è–∑–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏.  
- ¬ß12: REST –º–∞–∫–µ—Ç—ã (`GET /social/families/{familyId}/tree`, `POST /social/families/tree/update`).  
- ¬ß13: Kafka —Å–æ–±—ã—Ç–∏—è `social.family.status.changed`.

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

- `.BRAIN/02-gameplay/social/npc-relationships-system-–¥–µ—Ç–∞–ª—å–Ω–æ.md` ‚Äî —ç–º–æ—Ü–∏–∏ –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è NPC.  
- `.BRAIN/02-gameplay/social/mentorship-system-–¥–µ—Ç–∞–ª—å–Ω–æ.md` ‚Äî –Ω–∞—Å—Ç–∞–≤–Ω–∏—á–µ—Å—Ç–≤–æ –≤–Ω—É—Ç—Ä–∏ —Å–µ–º–µ–π.  
- `.BRAIN/02-gameplay/social/player-orders-system-–¥–µ—Ç–∞–ª—å–Ω–æ.md` ‚Äî —Å–µ–º–µ–π–Ω—ã–µ –ø–æ—Ä—É—á–µ–Ω–∏—è.  
- `.BRAIN/03-lore/_03-lore/visual-guides/visual-style-assets-–¥–µ—Ç–∞–ª—å–Ω–æ.md` ‚Äî –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–µ—Ä–µ–≤–∞.  
- `.BRAIN/05-technical/content-generation/family-history-archive.md` ‚Äî –∞—Ä—Ö–∏–≤—ã –±–∏–æ–≥—Ä–∞—Ñ–∏–π.

---

## üìÅ –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** `API-SWAGGER`  
**–§–∞–π–ª:** `api/v1/social/families/tree.yaml`  
**–¢–∏–ø:** OpenAPI 3.0.3 (YAML)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:**
```
API-SWAGGER/
‚îî‚îÄ‚îÄ api/
    ‚îî‚îÄ‚îÄ v1/
        ‚îî‚îÄ‚îÄ social/
            ‚îî‚îÄ‚îÄ families/
                ‚îú‚îÄ‚îÄ components/
                ‚îÇ   ‚îú‚îÄ‚îÄ schemas/
                ‚îÇ   ‚îú‚îÄ‚îÄ responses/
                ‚îÇ   ‚îî‚îÄ‚îÄ examples/
                ‚îî‚îÄ‚îÄ tree.yaml
```

---

## üèóÔ∏è –¶–µ–ª–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

### Backend:
- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å:** social-service (port 8084)  
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:** world-service (—Å–æ–±—ã—Ç–∏—è, –∫—Ä–∏–∑–∏—Å—ã), economy-service (–Ω–∞—Å–ª–µ–¥—Å—Ç–≤–æ), character-service (–±–∏–æ–≥—Ä–∞—Ñ–∏–∏), notification-service (alerts), analytics-service (FamilyStabilityIndex), content-service (VR-–∞—Ä—Ö–∏–≤—ã).  
- **Kafka:** `social.family.status.changed`, `social.family.event`, `world.family.crisis`, `economy.family.heritage`.

### OpenAPI (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

- –ó–∞–ø–æ–ª–Ω–∏ `info.x-microservice` (name, port, domain, base-path, package) –ø–æ –¥–∞–Ω–Ω—ã–º —Ü–µ–ª–µ–≤–æ–≥–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞.
- –í —Å–µ–∫—Ü–∏–∏ `servers` –æ—Å—Ç–∞–≤—å Production gateway `https://api.necp.game/v1` –∏ –ø—Ä–∏–º–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ `http://localhost:8080/api/v1`.
- WebSocket –º–∞—Ä—à—Ä—É—Ç—ã –ø—É–±–ª–∏–∫—É–π —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `wss://api.necp.game/v1/...`.

### Frontend:
- **–ú–æ–¥—É–ª—å:** modules/social/families  
- **State Store:** `useSocialStore(families)`  
- **UI:** `FamilyTreeView`, `FamilyMemberCard`, `FamilyTimeline`, `FamilyAlertsPanel`, `FamilySecretsDrawer`  
- **–§–æ—Ä–º—ã:** `FamilyLinkEditorForm`, `FamilyAdoptionForm`, `FamilyClanJoinForm`  
- **Layouts:** `FamilyTreeLayout`, `FamilyDashboardLayout`  
- **Hooks:** `useFamilyTree`, `useFamilyMember`, `useFamilyAlerts`, `useFamilyTimeline`

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ YAML:**
```
# Target Architecture:
# - Microservice: social-service (port 8084)
# - Frontend Module: modules/social/families
# - State Store: useSocialStore(families)
# - UI: FamilyTreeView, FamilyMemberCard, FamilyTimeline, FamilyAlertsPanel, FamilySecretsDrawer
# - Forms: FamilyLinkEditorForm, FamilyAdoptionForm, FamilyClanJoinForm
# - Layouts: FamilyTreeLayout, FamilyDashboardLayout
# - Hooks: useFamilyTree, useFamilyMember, useFamilyAlerts, useFamilyTimeline
# - Events: social.family.status.changed, social.family.event, world.family.crisis, economy.family.heritage
# - API Base: /api/v1/social/families/*
```

---

## ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω

1. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–µ—Ä–µ–≤–∞:** —á–ª–µ–Ω—ã —Å–µ–º—å–∏, —Ç–∏–ø—ã —Å–≤—è–∑–µ–π (–±–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ, –±—Ä–∞—á–Ω—ã–µ, –æ–ø–µ–∫–∞), —Å—Ç–∞—Ç—É—Å—ã, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ.  
2. **–°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ö–µ–º—ã:** `FamilyTree`, `FamilyMember`, `FamilyRelationship`, `FamilyClan`, `FamilySecret`, `FamilyLinkUpdateRequest`, `FamilyAdoptionRequest`, `FamilyFavorite`.  
3. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:** –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞, —Ñ–∏–ª—å—Ç—Ä—ã, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–µ–π, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—ã–Ω–æ–≤–ª–µ–Ω–∏–µ–º/–≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ–º, —Ç–∞–π–º–ª–∞–π–Ω, –∏–∑–±—Ä–∞–Ω–Ω—ã–µ —Å–µ–º—å–∏.  
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:** —Å—Å—ã–ª–∫–∏ –Ω–∞ npc-relationships, mentorship, player orders, economy heritage.  
5. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã:** —Ä–æ–¥–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ, —É—Å—ã–Ω–æ–≤–ª–µ–Ω–∏–µ, –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞, –∫–ª–∞–Ω–æ–≤—ã–π —Å–æ—é–∑, —Å–∫—Ä—ã—Ç—ã–π —á–ª–µ–Ω —Å–µ–º—å–∏.  
6. **Shared –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** security/responses/pagination (–¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏), –≤—ã–Ω–µ—Å—Ç–∏ —Å—Ö–µ–º—ã/–ø—Ä–∏–º–µ—Ä—ã –≤ components, —Å–æ–±–ª—é–¥–∞—Ç—å –ª–∏–º–∏—Ç 400 —Å—Ç—Ä–æ–∫.  
7. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å Kafka —Å–æ–±—ã—Ç–∏—è –∏ –æ—á–µ—Ä–µ–¥–∏ (`family-event-review`, `family-heritage-validation`).**  
8. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–¥—ã –æ—à–∏–±–æ–∫ –∏ –ø—Ä–∞–≤–∏–ª–∞ (–∫–æ–Ω—Ñ–ª–∏–∫—Ç —Å–≤—è–∑–µ–π, —Ü–∏–∫–ª—ã, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è).**  
9. **–ü—Ä–æ–ø–∏—Å–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ (`FamilyStabilityIndex`, `ClanAllianceStrength`).**  
10. **–ü—Ä–æ–≥–Ω–∞—Ç—å `scripts/validate-swagger.ps1`, –æ–±–Ω–æ–≤–∏—Ç—å README.**

---

## üîå –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

1. **GET `/social/families/{familyId}/tree`** ‚Äî –ø–æ–ª–Ω–æ–µ –¥–µ—Ä–µ–≤–æ —Å–µ–º—å–∏.  
2. **GET `/social/families`** ‚Äî —Å–ø–∏—Å–æ–∫ —Å–µ–º–µ–π (—Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É, —Ñ—Ä–∞–∫—Ü–∏–∏, —Ä–µ–≥–∏–æ–Ω—É, —É—Ä–æ–≤–Ω—é –≤–ª–∏—è–Ω–∏—è).  
3. **POST `/social/families/tree/update`** ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ/—Å–æ–∑–¥–∞–Ω–∏–µ —Å–≤—è–∑–µ–π (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —Ä–∞–∑—Ä—ã–≤, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞).  
4. **POST `/social/families/adoption`** ‚Äî –ø—Ä–æ—Ü–µ—Å—Å—ã —É—Å—ã–Ω–æ–≤–ª–µ–Ω–∏—è/–æ–ø–µ–∫–∏ (–ø—Ä–æ–≤–µ—Ä–∫–∏, —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è).  
5. **POST `/social/families/{familyId}/join`** ‚Äî –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ –∏–ª–∏ NPC –≤ —Å–µ–º—å—é.  
6. **GET `/social/families/{familyId}/timeline`** ‚Äî –∏—Å—Ç–æ—Ä–∏—è —Å–æ–±—ã—Ç–∏–π (—Ä–æ–∂–¥–µ–Ω–∏—è, —Å–≤–∞–¥—å–±—ã, –∫—Ä–∏–∑–∏—Å—ã).  
7. **GET `/social/families/{familyId}/alerts`** ‚Äî –∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–∫—Ä–∏–∑–∏—Å—ã, –∑–∞–ø—Ä–æ—Å—ã –æ –ø–æ–º–æ—â–∏).  
8. **POST `/social/families/{familyId}/alerts/ack`** ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ alert.  
9. **GET `/social/families/{familyId}/secrets`** ‚Äî –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã (—Å —É—á—ë—Ç–æ–º –ø—Ä–∞–≤).  
10. **POST `/social/families/{familyId}/favorite`** ‚Äî –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ —Å–µ–º—å–∏/–≤–µ—Ç–≤–∏ –∫–∞–∫ –∏–∑–±—Ä–∞–Ω–Ω–æ–π (UI).  
11. **GET `/social/families/search`** ‚Äî –ø–æ–∏—Å–∫ –ø–æ —á–ª–µ–Ω–∞–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏—è–º, –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º.  
12. **GET `/social/families/{familyId}/links`** ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ (–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã, –Ω–∞—Å–ª–µ–¥—Å—Ç–≤–æ, –∫–ª–∞–Ω—ã).

---

## üß± –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

- **FamilyTree** ‚Äî `familyId`, `name`, `clanId`, `origin`, `members[]`, `relationships[]`, `alliances[]`, `secrets[]`, `metadata`.  
- **FamilyMember** ‚Äî `memberId`, `npcId/playerId`, `role`, `status`, `location`, `faction`, `relationshipScores`, `trust`, `loyalty`, `tags`, `notes`.  
- **FamilyRelationship** ‚Äî `from`, `to`, `type`, `state`, `startAt`, `endAt`, `confidence`, `legalStatus`.  
- **FamilyLinkUpdateRequest** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è (create/update/delete), –ø—Ä–∏—á–∏–Ω—ã, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.  
- **FamilyAdoptionRequest** ‚Äî `guardianId`, `wardId`, —É—Å–ª–æ–≤–∏—è, approvals, ceremonyDate.  
- **FamilyTimelineEvent** ‚Äî `eventId`, `eventType`, `timestamp`, `participants[]`, `impact`.  
- **FamilyAlert** ‚Äî `alertId`, `severity`, `message`, `actionRequired`, `deadline`.  
- **FamilySecret** ‚Äî `secretId`, `visibility`, `description`, `unlockConditions`.  
- **FamilyFavorite** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –º–µ—Ç–∫–∏.  
- **PaginatedFamilyTimeline** ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è.

---

## üìè –ü—Ä–∏–Ω—Ü–∏–ø—ã –∏ –ø—Ä–∞–≤–∏–ª–∞

- OpenAPI 3.0.3; ‚â§400 —Å—Ç—Ä–æ–∫, –≤—ã–Ω–µ—Å—Ç–∏ —Å—Ö–µ–º—ã/–ø—Ä–∏–º–µ—Ä—ã.  
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `shared/common/security.yaml`, `shared/common/responses.yaml`, `shared/common/pagination.yaml`.  
- –û—à–∏–±–∫–∏ (`x-error-code`): `VAL_FAMILY_TREE_INVALID`, `BIZ_FAMILY_LINK_CONFLICT`, `BIZ_FAMILY_ADOPTION_DENIED`, `BIZ_FAMILY_JOIN_RESTRICTED`, `INT_FAMILY_TREE_PIPELINE_FAILURE`.  
- `info.description` ‚Äî –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å `.BRAIN` –∏—Å—Ç–æ—á–Ω–∏–∫–∏, UX –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã.  
- –¢–µ–≥–∏: `Families`, `Relationships`, `Tree`, `Adoption`, `Alliances`.  
- –£–∫–∞–∑–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞ `npc-relationships/status.yaml`, `families/events.yaml`, `economy/families/heritage.yaml`.

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

1. –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `api/v1/social/families/tree.yaml`, –ø—Ä–æ—Ö–æ–¥–∏—Ç `scripts/validate-swagger.ps1`.  
2. –í –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω `Target Architecture` –±–ª–æ–∫.  
3. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏ –º–æ–¥–µ–ª–∏ –∏–∑ –∑–∞–¥–∞–Ω–∏—è.  
4. –ü–æ–¥–∫–ª—é—á–µ–Ω—ã shared security/responses/pagination.  
5. –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã (—Ä–æ–¥–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ, —É—Å—ã–Ω–æ–≤–ª–µ–Ω–∏–µ, –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞, alert).  
6. Kafka —Å–æ–±—ã—Ç–∏—è –∏ –æ—á–µ—Ä–µ–¥–∏ –æ–ø–∏—Å–∞–Ω—ã.  
7. README –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –æ–±–Ω–æ–≤–ª—ë–Ω (–≤ —Ä–∞–º–∫–∞—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏).  
8. Task –æ—Ç—Ä–∞–∂—ë–Ω –≤ `brain-mapping.yaml`.  
9. `.BRAIN` –¥–æ–∫—É–º–µ–Ω—Ç –æ–±–Ω–æ–≤–ª—ë–Ω (API Tasks Status).  
10. –£–∫–∞–∑–∞–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞ –¥—Ä—É–≥–∏–µ API (events, heritage, relationships).  
11. –û–±–æ–∑–Ω–∞—á–µ–Ω—ã –º–µ—Ç—Ä–∏–∫–∏ `FamilyStabilityIndex`, `ClanAllianceStrength`, `AdoptionSuccessRate`.

---

## ‚ùì FAQ

**Q:** –ö–∞–∫ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —Ü–∏–∫–ª—ã –≤ –¥–µ—Ä–µ–≤–µ?  
A: API –¥–æ–ª–∂–Ω–æ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Å–≤—è–∑–∏ (—Ä–æ–¥–∏—Ç–µ–ª—å ‚â† –ø–æ—Ç–æ–º–æ–∫ –∏ —Ç.–¥.), –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `BIZ_FAMILY_LINK_CONFLICT`.  

**Q:** –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –ª–∏ —Å–∫—Ä—ã—Ç—ã–µ –≤–µ—Ç–≤–∏?  
A: –î–∞, —á–µ—Ä–µ–∑ `visibility` –∏ `unlockConditions`; –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —É—Å–ª–æ–≤–∏–π.  

**Q:** –ú–æ–∂–Ω–æ –ª–∏ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å —Å–µ–º—å–∏/–∫–ª–∞–Ω—ã?  
A: –î–∞, —á–µ—Ä–µ–∑ `alliances[]`; –ø–æ—Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø. —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤, –æ–ø–∏—Å–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ —Å–≤—è–∑–∏.  

**Q:** –ö–∞–∫ —Ö—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π?  
A: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `timeline` + `history` —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã; –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è —Å audit –¥–∞–Ω–Ω—ã–º–∏.  

---

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è:** —Å–æ–∑–¥–∞—Ç—å OpenAPI-—Ñ–∞–π–ª, –≤—ã–Ω–µ—Å—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –æ–ø–∏—Å–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏, –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏ –ø—Ä–æ–≥–Ω–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏.

