# Task ID: API-TASK-376
**–¢–∏–ø:** API Generation
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π
**–°—Ç–∞—Ç—É—Å:** queued
**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-08 20:55
**–°–æ–∑–¥–∞—Ç–µ–ª—å:** GPT-5 Codex (API Task Creator)
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** API-TASK-374, API-TASK-375, API-TASK-373

---

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–ù—É–∂–Ω–æ –æ–ø–∏—Å–∞—Ç—å —Ü–µ–ø–æ—á–∫—É ¬´Helios Countermesh Conspiracy¬ª –≤ –≤–∏–¥–µ OpenAPI –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –¥–ª—è narrative-service, –≤–∫–ª—é—á–∞—è –≤—Å–µ —Ñ–∞–∑—ã, –≤–µ—Ç–∫–∏, –ø—Ä–æ–≤–µ—Ä–∫–∏, –Ω–∞–≥—Ä–∞–¥—ã –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å world/social/economy —Å–µ—Ä–≤–∏—Å–∞–º–∏.

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:** –°–æ–∑–¥–∞—Ç—å `api/v1/narrative/quests/helios-countermesh-conspiracy.yaml` (–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–Ω–µ—Å—Ç–∏ –º–æ–¥–µ–ª–∏ –≤ `api/v1/narrative/components/helios-countermesh-schemas.yaml`), —á—Ç–æ–±—ã –æ—Ä–∫–µ—Å—Ç—Ä–æ–≤–∞—Ç—å –∫–≤–µ—Å—Ç –ø–æ—Å–ª–µ —Ä–µ–π–¥–∞ Specter Surge.

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–û–±–µ—Å–ø–µ—á–∏—Ç—å narrative-service API, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª–∏—Ç —Å–µ—Ä–≤–µ—Ä—É –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–ª–æ–∂–Ω–æ–π –≤–µ—Ç–≤—è—â–µ–π—Å—è —Ü–µ–ø–æ—á–∫–æ–π –≤—ã–±–æ—Ä–∞ –º–µ–∂–¥—É Helios –∏ Specter, —Å–æ—Ö—Ä–∞–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Å –º–∏—Ä–æ–≤—ã–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏ –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º–∏ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º–∏.

**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ:**
- –í–µ—Å—Ç–∏ —Å—é–∂–µ—Ç–Ω—É—é –ª–∏–Ω–∏—é –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ä–µ–π–¥–∞ (`Specter Surge`) —Å –≤—ã–±–æ—Ä–æ–º —Ñ—Ä–∞–∫—Ü–∏–π –∏ –¥–≤–æ–π–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤.
- –ö–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞—Ç—å world-state (City Unrest), —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏ –∏ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –Ω–∞–≥—Ä–∞–¥—ã.
- –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å telemetry –∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ KPI –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–ª–∞–Ω—Å–∞ —Ü–µ–ø–æ—á–∫–∏.
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å UI –∫–≤–µ—Å—Ç–æ–≤, world overlays –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º –∫–∞–Ω–∞–ª–∞–º –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö.

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç

- **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** `.BRAIN`
- **–ü—É—Ç—å:** `.BRAIN/04-narrative/quests/raid/2025-11-07-quest-helios-countermesh-conspiracy.md`
- **–í–µ—Ä—Å–∏—è:** 1.3.0
- **–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-11-07 22:00
- **–°—Ç–∞—Ç—É—Å:** approved, `api-readiness: ready`

**–ß—Ç–æ –≤–∞–∂–Ω–æ:**
- –§–∞–∑—ã (Signal Echo ‚Üí Conspiracy Finale) —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏, —É—Å–ª–æ–≤–∏—è–º–∏, –≤–µ—Ç–∫–∞–º–∏.
- –ü—Å–µ–≤–¥–æ-YAML —É–∑–ª–æ–≤ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ skill checks, —Ñ–ª–∞–≥–∞–º–∏, —Ä–µ–ø—É—Ç–∞—Ü–∏–µ–π.
- D&D —Ç–∞–±–ª–∏—Ü—ã, –Ω–∞–≥—Ä–∞–¥—ã, world/social/economy –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è.
- API –∫–∞—Ä—Ç–∞ (narrative, world, economy, social) –∏ telemetry.

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

- `.BRAIN/04-narrative/quests/raid/2025-11-07-raid-specter-surge.md` ‚Äî prerequisite —Ä–µ–π–¥.
- `.BRAIN/02-gameplay/world/helios-countermesh-ops.md` ‚Äî –±–æ–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ Helios.
- `.BRAIN/02-gameplay/world/specter-hq.md` ‚Äî –±–∞–∑–∞ Specter.
- `.BRAIN/02-gameplay/world/city-unrest-escalations.md` ‚Äî –º–∏—Ä–æ–≤—ã–µ —ç—Å–∫–∞–ª–∞—Ü–∏–∏.
- `.BRAIN/04-narrative/npc-lore/important/npc-kaede-ishikawa.md` ‚Äî NPC –¥–≤–æ–π–Ω–æ–π –∞–≥–µ–Ω—Ç.
- `API-SWAGGER/api/v1/narrative/raids/specter-surge.yaml` (–±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∑–∞–¥–∞—á–µ–π API-TASK-375).
- `API-SWAGGER/api/v1/social/romance/events.yaml` (API-TASK-373) ‚Äî —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã Kaori.

### –°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è

- `task-374-neon-ghosts-quest-api.md`
- `task-375-specter-surge-raid-api.md`
- `task-243-social-resonance-api.md`
- `task-241-world-interaction-suite-api.md`
- `task-373-romance-events-api.md`

---

## üìÅ –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API

### –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `API-SWAGGER`

- **–¶–µ–ª–µ–≤–æ–π —Ñ–∞–π–ª:** `api/v1/narrative/quests/helios-countermesh-conspiracy.yaml`
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):** `api/v1/narrative/components/helios-countermesh-schemas.yaml`
- **API –≤–µ—Ä—Å–∏—è:** v1 (semantic 1.1.0 ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ –ø–æ—Å–ª–µ —Ä–µ–π–¥–∞)
- **–¢–∏–ø:** OpenAPI 3.0.3

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:**
```
API-SWAGGER/
‚îî‚îÄ‚îÄ api/
    ‚îî‚îÄ‚îÄ v1/
        ‚îî‚îÄ‚îÄ narrative/
            ‚îú‚îÄ‚îÄ quests/
            ‚îÇ   ‚îî‚îÄ‚îÄ helios-countermesh-conspiracy.yaml
            ‚îî‚îÄ‚îÄ components/
                ‚îî‚îÄ‚îÄ helios-countermesh-schemas.yaml   # –≤—ã–Ω–µ—Å—Ç–∏ –∫—Ä—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ (nodes, branches, rewards, telemetry)
```
> –î–ª–∏–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ ‚â§380 —Å—Ç—Ä–æ–∫. –í—ã–Ω–µ—Å—Ç–∏ –∫—Ä—É–ø–Ω—ã–µ —Å—Ö–µ–º—ã (`QuestNode`, `BranchOption`, `WorldEffect`, `TelemetryEntry`) –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–π —Ñ–∞–π–ª.

---

## üèóÔ∏è –¶–µ–ª–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

### Backend (–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å)

- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å:** narrative-service
- **–ü–æ—Ä—Ç:** 8087
- **API Base Path:** `/api/v1/narrative/quests/*`
- **–î–æ–º–µ–Ω:** –ù–∞—Ä—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã –∏ —Å—é–∂–µ—Ç–Ω—ã–µ –≤–µ—Ç–∫–∏
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
  - world-service (City Unrest, world events)
  - combat-service (PvE/PvPvE encounters)
  - economy-service (–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã, –Ω–∞–≥—Ä–∞–¥—ã)
  - social-service (—Ä–µ–ø—É—Ç–∞—Ü–∏—è, feeds, resonance)
  - analytics-service (telemetry, dashboards)

### Frontend (–º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

- **–ú–æ–¥—É–ª–∏:** `modules/narrative/raids/helios-countermesh`, `modules/world/state`, `modules/social/feeds`
- **State Store:** `useNarrativeStore (heliosConspiracyState)` + `useWorldStore (cityUnrest)` + `useSocialStore (factionReputation)`
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** questNodes, branches, flags, cityUnrest, reputation, rewards, telemetry
- **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (@shared/ui):** ConspiracyTimeline, BranchDecisionMatrix, ReputationImpactPanel, UnrestMeter, RewardPreviewCard
- **–§–æ—Ä–º—ã (@shared/forms):** QuestDecisionForm, WorldModifierApplyForm, RewardClaimForm
- **Layouts (@shared/layouts):** NarrativeQuestLayout
- **Hooks (@shared/hooks):** useRealtime, useQuestState, useWorldUnrest, useBranchPlanner

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:** –í –Ω–∞—á–∞–ª–µ OpenAPI —Ñ–∞–π–ª–∞ —É–∫–∞–∑–∞—Ç—å –±–ª–æ–∫ —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π (–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å, —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –º–æ–¥—É–ª—å, UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, state stores).

### OpenAPI —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- –ó–∞–ø–æ–ª–Ω–∏—Ç—å `info.x-microservice` (`name: narrative-service`, `port: 8087`, `domain: narrative`, `base-path: /api/v1/narrative/quests`, `package: com.necpgame.narrativeservice`).
- `servers`: —Ç–æ–ª—å–∫–æ `https://api.necp.game/v1` –∏ `http://localhost:8080/api/v1`.
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å `shared/common/security.yaml`, `shared/common/responses.yaml`, `shared/common/pagination.yaml`, `shared/common/sorting.yaml`.
- `security`: `BearerAuth` —Å —Ä–æ–ª—è–º–∏ `quest-view`, `quest-manage`, `quest-analytics`.
- `x-events`: `narrative.helios.conspiracy.progress`, `narrative.helios.conspiracy.outcome`, `world.city.unrest.update`.

---

## üì° Endpoints

- **GET `/narrative/quests/helios-countermesh-conspiracy`** ‚Äî –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, prerequisite flags, —Ñ–∞–∑—ã, –≤–µ—Ç–∫–∏, –Ω–∞–≥—Ä–∞–¥—ã (`QuestOverview`).
- **GET `/narrative/quests/helios-countermesh-conspiracy/nodes`** ‚Äî —Å–ø–∏—Å–æ–∫ —É–∑–ª–æ–≤ —Å —É—Å–ª–æ–≤–∏—è–º–∏, –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏, –¥–µ–π—Å—Ç–≤–∏—è–º–∏ (`QuestNodeList`).
- **GET `/narrative/quests/helios-countermesh-conspiracy/nodes/{nodeId}`** ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —É–∑–ª–∞, –≤–µ—Ç–≤–ª–µ–Ω–∏–µ, —Å—Ü–µ–Ω–∞—Ä–∏–∏ (`QuestNodeDetail`).
- **POST `/narrative/quests/helios-countermesh-conspiracy/progress`** ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —É–∑–ª–∞, —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä–æ–∫, —Ñ–ª–∞–≥–æ–≤ (`QuestProgressRequest` ‚Üí `QuestProgressResult`).
- **POST `/narrative/quests/helios-countermesh-conspiracy/branch`** ‚Äî —Ñ–∏–∫—Å–∞—Ü–∏—è –≤–µ—Ç–∫–∏ (support Helios / expose / double agent) —Å –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º–∏ (`BranchDecisionRequest` ‚Üí `BranchDecisionResult`).
- **POST `/narrative/quests/helios-countermesh-conspiracy/world-effects`** ‚Äî –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ world-state –∏–∑–º–µ–Ω–µ–Ω–∏–π (City Unrest, events) (`WorldEffectRequest/Result`).
- **POST `/narrative/quests/helios-countermesh-conspiracy/reputation`** ‚Äî batch-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–ø—É—Ç–∞—Ü–∏–π —Ñ—Ä–∞–∫—Ü–∏–π (`ReputationBatchRequest/Result`).
- **POST `/narrative/quests/helios-countermesh-conspiracy/rewards`** ‚Äî –≤—ã–¥–∞—á–∞ –Ω–∞–≥—Ä–∞–¥, –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤, unlock-–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π (`RewardDistributionRequest/Result`).
- **POST `/narrative/quests/helios-countermesh-conspiracy/feeds`** ‚Äî –ø—É–±–ª–∏–∫–∞—Ü–∏—è social feed —Å–æ–±—ã—Ç–∏–π (`FeedBroadcastRequest/Result`).
- **GET `/narrative/quests/helios-countermesh-conspiracy/history`** ‚Äî –∏—Å—Ç–æ—Ä–∏—è —Ä–µ—à–µ–Ω–∏–π –∏–≥—Ä–æ–∫–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è analytics (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π).
- **GET `/narrative/quests/helios-countermesh-conspiracy/telemetry`** ‚Äî –º–µ—Ç—Ä–∏–∫–∏ KPI (phase completion rate, unrest delta, engagement).
- **POST `/narrative/quests/helios-countermesh-conspiracy/reset`** ‚Äî –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–±—Ä–æ—Å –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ (—Ä–æ–ª—å `quest-manage`).

–ö–∞–∂–¥—ã–π endpoint –¥–æ–ª–∂–µ–Ω:
- –û–ø–∏—Å—ã–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (`partyId`, `playerId`, `attempt`, `flag`, `cityUnrest`, `reputation`).
- –í–æ–∑–≤—Ä–∞—â–∞—Ç—å `2xx` + —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ `400/401/403/404/409/422/500`.
- –í–∫–ª—é—á–∞—Ç—å `x-integrations` (–∫—É–¥–∞ –∏ –∫–∞–∫–æ–π –∑–∞–ø—Ä–æ—Å —É—Ö–æ–¥–∏—Ç –≤ world/social/economy).
- –ü—Ä–∏–≤–æ–¥–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã payload‚Äô–æ–≤ (—É—Å–ø–µ—Ö –∏ –æ—à–∏–±–∫–∞).

---

## üß© –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

- **QuestOverview** ‚Äî –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (questId, version, prerequisites, phases, branches, rewards, telemetryTargets).
- **QuestPhase** ‚Äî phaseId, –æ–ø–∏—Å–∞–Ω–∏–µ, —É—Å–ª–æ–≤–∏—è, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —É–∑–ª—ã, –ø—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–µ –Ω–∞–≤—ã–∫–∏.
- **QuestNode** ‚Äî nodeId, type, location, npc, dialogues, checks, success/failure effects, triggers.
- **CheckDefinition** ‚Äî skill, dc, modifiers, success, failure, criticalSuccess, criticalFailure.
- **BranchOption** ‚Äî optionId, requirements, effects (flags, cityUnrest, reputation, events, unlock activities).
- **QuestProgressRequest** ‚Äî questId, nodeId, optionId, checkResults[], partyId, timestamp, attempt.
- **QuestProgressResult** ‚Äî updatedFlags, nextNodes, cityUnrestDelta, reputationDelta, events, rewards.
- **BranchDecisionRequest/Result** ‚Äî –≤—ã–±—Ä–∞–Ω–Ω–∞—è –≤–µ—Ç–∫–∞, justification, resulting world/social/economy impacts.
- **WorldEffectRequest/Result** ‚Äî –º–∞—Å—Å–∏–≤ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ (`city.unrest`, `underlink.stability`, events).
- **ReputationBatchRequest/Result** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–ø—É—Ç–∞—Ü–∏–∏ (`rep.corp.helios`, `rep.specter`, `rep.city.gov`).
- **RewardDistribution** ‚Äî –∫—Ä–µ–¥–∏—Ç—ã, –ø—Ä–µ–¥–º–µ—Ç—ã, –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã, unlock –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, telemetryId.
- **FeedBroadcastRequest/Result** ‚Äî social —Å–æ–±—ã—Ç–∏—è, –º–µ–º—ã, broadcast targets.
- **TelemetryMetrics** ‚Äî `phaseCompletion`, `branchDistribution`, `unrestDelta`, `engagementTime`, `doubleAgentRate`.
- **QuestHistoryEntry** ‚Äî –ø–æ–ø—ã—Ç–∫–∞, –≤–µ—Ç–∫–∞, —Ä–µ—à–µ–Ω–∏—è, –∏—Å–ø—ã—Ç–∞–Ω–∏—è, –Ω–∞–≥—Ä–∞–¥—ã, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.
- **AuditEntry / Governance** ‚Äî –∫—Ç–æ –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–≤—å—é.

–î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:
- `x-frontend` (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI/–º–æ–¥—É–ª–∏)
- `x-storage` (PostgreSQL schema, Kafka topic)
- `x-monitoring` (Grafana –ø–∞–Ω–µ–ª–∏, PagerDuty –∞–ª–µ—Ä—Ç—ã)
- `x-privacy` (–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, retention)
- `x-governance` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–≤—å—é, compliance)

---

## ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω

### –®–∞–≥ 1: –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –£—Ç–æ—á–Ω–∏—Ç—å —Ñ–∞–∑—ã, —É—Å–ª–æ–≤–∏—è, —Ñ–ª–∞–≥–∏ –∏–∑ `.BRAIN`.
- –°–æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å —Ä–µ–π–¥–æ–º Specter Surge –∏ world documents.
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–ª—è orchestrator (flags, cityUnrest, reputation).

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –º–∞—Ç—Ä–∏—Ü–∞ —Ñ–∞–∑/—É–∑–ª–æ–≤/–≤–µ—Ç–æ–∫/—ç—Ñ—Ñ–µ–∫—Ç–æ–≤.

### –®–∞–≥ 2: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ OpenAPI
- –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä–∫–∞—Å —Ñ–∞–π–ª–∞ —Å `info`, `servers`, `security`, `tags`.
- –î–æ–±–∞–≤–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å, –º–æ–¥—É–ª—å, UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã).
- –†–µ—à–∏—Ç—å, –∫–∞–∫–∏–µ —Å—Ö–µ–º—ã –≤—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** —à–∞–±–ª–æ–Ω —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ `shared` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.

### –®–∞–≥ 3: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è endpoints
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ endpoint –æ–ø–∏—Å–∞—Ç—å: –º–µ—Ç–æ–¥, –ø—É—Ç—å, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, requestBody, responses, –ø—Ä–∏–º–µ—Ä—ã.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `$ref` –Ω–∞ —Å—Ö–µ–º—ã.
- –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å `x-integrations` –¥–ª—è world/social/economy –∏ events.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** —Ä–∞–∑–¥–µ–ª `paths` –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤–µ—Å—å —Å—Ü–µ–Ω–∞—Ä–∏–π –∫–≤–µ—Å—Ç–∞.

### –®–∞–≥ 4: –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ö–µ–º—ã –¥–ª—è —É–∑–ª–æ–≤, –ø—Ä–æ–≤–µ—Ä–æ–∫, –≤–µ—Ç–æ–∫, —ç—Ñ—Ñ–µ–∫—Ç–æ–≤, telemetry, history.
- –î–æ–±–∞–≤–∏—Ç—å `x-frontend`, `x-storage`, `x-monitoring`, `x-governance`.
- –û–±–µ—Å–ø–µ—á–∏—Ç—å `enum`, `required`, `description`, `example`.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `components/schemas` –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ –æ–ø–∏—Å–∞–Ω –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω.

### –®–∞–≥ 5: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ governance
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `security` (BearerAuth, roles/scopes).
- –î–æ–±–∞–≤–∏—Ç—å FAQ –ø–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã–º –ø–æ–ø—ã—Ç–∫–∞–º, double-agent –≤–µ—Ç–∫–µ, –ø–∞—Å—Ö–∞–ª–∫–∞–º.
- –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å SLA, telemetry –∏ compliance.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —É—á–∏—Ç—ã–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ.

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
- –ü—Ä–æ–≥–Ω–∞—Ç—å `scripts/validate-swagger.ps1 api/v1/narrative/quests/helios-countermesh-conspiracy.yaml`.
- –ü—Ä–æ–π—Ç–∏ —á–µ–∫–ª–∏—Å—Ç `tasks/config/checklist.md`.
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ñ–∞–π–ª ‚â§380 —Å—Ç—Ä–æ–∫ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–Ω–µ—Å—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã).
- –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã success/error payload‚Äô–æ–≤.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –≤–∞–ª–∏–¥–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç, –≥–æ—Ç–æ–≤—ã–π –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

---

## üìè –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ (12)

1. –°–æ–∑–¥–∞–Ω `api/v1/narrative/quests/helios-countermesh-conspiracy.yaml`, –ø—Ä–æ—Ö–æ–¥–∏—Ç `scripts/validate-swagger.ps1`.
2. –ó–∞–ø–æ–ª–Ω–µ–Ω `info.x-microservice` –¥–ª—è `narrative-service` (–ø–æ—Ä—Ç 8087, base-path `/api/v1/narrative/quests`).
3. `GET /narrative/quests/helios-countermesh-conspiracy` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `QuestOverview` —Å —Ñ–∞–∑–∞–º–∏, –≤–µ—Ç–∫–∞–º–∏, –Ω–∞–≥—Ä–∞–¥–∞–º–∏ –∏ prerequisite —Ñ–ª–∞–≥–∞–º–∏.
4. `POST /narrative/quests/helios-countermesh-conspiracy/progress` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `QuestProgressRequest` –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —É—Å–ø–µ—Ö/–ø—Ä–æ–≤–∞–ª/critical —Å—Ü–µ–Ω–∞—Ä–∏–∏.
5. `POST /narrative/quests/helios-countermesh-conspiracy/branch` –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ—Ç —Ç—Ä–∏ –≤–µ—Ç–∫–∏ (Helios, Specter, Double Agent) –∏ –∏—Ö –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è.
6. `POST /narrative/quests/helios-countermesh-conspiracy/world-effects` –æ–ø–∏—Å—ã–≤–∞–µ—Ç City Unrest, events, integrates —Å world-service.
7. `POST /narrative/quests/helios-countermesh-conspiracy/reputation` –∏ `/rewards` –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –∏ –æ–ø–∏—Å—ã–≤–∞—é—Ç economy/social —ç—Ñ—Ñ–µ–∫—Ç—ã.
8. –í—Å–µ endpoints –≤–∫–ª—é—á–∞—é—Ç –æ—à–∏–±–∫–∏ 400/401/403/404/409/422/500 –∏ –ø—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤.
9. –°—Ö–µ–º—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª ‚â§380 —Å—Ç—Ä–æ–∫; –≤—Å–µ –º–æ–¥–µ–ª–∏ –∏–º–µ—é—Ç `required`, `description`, `example`.
10. –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è `x-frontend`, `x-storage`, `x-monitoring`, `x-governance`, `x-privacy`.
11. –í–∫–ª—é—á–µ–Ω—ã Kafka —Å–æ–±—ã—Ç–∏—è (`narrative.helios.conspiracy.*`) –∏ telemetry –º–µ—Ç—Ä–∏–∫–∏ (`helios_conspiracy_choice`, `city_unrest_delta`).
12. FAQ –∏ –ø—Ä–∏–º–µ—Ä—ã –æ–ø–∏—Å—ã–≤–∞—é—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏, double-agent —Å—Ü–µ–Ω–∞—Ä–∏–∏, –ø–∞—Å—Ö–∞–ª–∫–∏ –∏ broadcast –≤ social feeds.

---

## ‚ùì FAQ

**–í: –ö–∞–∫ –∫–≤–µ—Å—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–π–¥–∞ Specter Surge?**  
–û: –ß–µ—Ä–µ–∑ prerequisite —Ñ–ª–∞–≥–∏ (`flag.specter.raid_cleared`) –∏ world state (`underlink.stability`, `city.unrest`). –£–∫–∞–∂–∏ —ç—Ç–æ –≤ `QuestOverview.prerequisites`.

**–í: –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–≤–æ–π–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤?**  
–û: `BranchDecisionRequest` –¥–æ–ª–∂–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤–µ—Ç–∫—É `double-agent`, –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ –æ–±–µ —Ñ—Ä–∞–∫—Ü–∏–∏ –∏ –ø–æ–≤—ã—à–∞—Ç—å City Unrest. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π –ø–æ–ª—è `doubleAgentRisk`, `proxyWarTriggered`.

**–í: –ù—É–∂–Ω–æ –ª–∏ –æ–ø–∏—Å—ã–≤–∞—Ç—å –∫–∞—Ç-—Å—Ü–µ–Ω—ã?**  
–û: –î–∞, —á–µ—Ä–µ–∑ `x-integrations.narrative` –¥–æ–±–∞–≤—å —Å—Å—ã–ª–∫—É –Ω–∞ cutscene trigger (`trigger_cutscene`) –∏ AsyncAPI backlog –¥–ª—è —Å—Ü–µ–Ω.

**–í: –ö–∞–∫ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è social feeds?**  
–û: Endpoint `/feeds` –ø—É–±–ª–∏–∫—É–µ—Ç –º–µ–º—ã –∏ –Ω–æ–≤–æ—Å—Ç–∏; –ø–æ–¥–∫–ª—é—á–∏ `API-SWAGGER/shared/common/social-feed.yaml` (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç) –∏ –æ–ø–∏—à–∏ payload `FeedBroadcast`.

**–í: –ö–∞–∫–∞—è —Ä–µ—Ç–µ–Ω—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö?**  
–û: –î–æ–±–∞–≤—å `x-privacy.retention` (–Ω–∞–ø—Ä–∏–º–µ—Ä, 30 –¥–Ω–µ–π –¥–ª—è telemetry, 90 –¥–ª—è history) –∏ `x-audit` –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞.

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–∏ `brain-mapping.yaml` –∏ `current-status.md`, –æ—Ç—Ä–∞–∑–∏–≤ –ø—Ä–æ–≥—Ä–µ—Å—Å —Ü–µ–ø–æ—á–∫–∏ Countermesh.

