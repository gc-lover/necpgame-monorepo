# Task ID: API-TASK-380
**–¢–∏–ø:** API Generation
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π
**–°—Ç–∞—Ç—É—Å:** queued
**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-08 22:05
**–°–æ–∑–¥–∞—Ç–µ–ª—å:** GPT-5 Codex (API Task Creator)
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** API-TASK-379, API-TASK-243, API-TASK-241

---

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤–æ–π —Ü–µ–ø–æ—á–∫–∏ –ø–æ–±–æ—á–Ω—ã—Ö –∫–≤–µ—Å—Ç–æ–≤ ¬´Heywood Valentinos¬ª, –≤–∫–ª—é—á–∞—é—â–µ–π –º–Ω–æ–≥–æ—Å—Ü–µ–Ω–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Ä–µ–ø—É—Ç–∞—Ü–∏–µ–π –∏ world events –Ω–∞ –æ—Å–Ω–æ–≤–µ `.BRAIN/04-narrative/quests/side/heywood-valentinos-chain.md`.

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:** –°–æ–∑–¥–∞—Ç—å `api/v1/narrative/dialogues/quests/heywood-valentinos-chain.yaml` (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–Ω–µ—Å—Ç–∏ —Å—Ö–µ–º—ã –≤ `api/v1/narrative/components/dialogue-quests-schemas.yaml`) –¥–ª—è narrative-service, –æ–ø–∏—Å–∞–≤ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∏–∞–ª–æ–≥–∞, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏.

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–û–±–µ—Å–ø–µ—á–∏—Ç—å narrative-service –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª–∏—Ç –∏–≥—Ä–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–∞–º —É–ø—Ä–∞–≤–ª—è—Ç—å —Ü–µ–ø–æ—á–∫–æ–π Valentinos –ø—Ä–æ—Ç–∏–≤ Maelstrom/Militech, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø—É—Ç–∞—Ü–∏—é, –≤—ã–¥–∞—á—É –Ω–∞–≥—Ä–∞–¥, world events –∏ –º–µ–¥–∏–∞—Å–æ–±—ã—Ç–∏—è (—Å—Ç—Ä–∏–º—ã, –º–µ–º–æ—Ä–∏–∞–ª—ã).

**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ:**
- –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é –∞—Ä–∫—É Valentinos —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –≤–µ—Ç–≤–ª–µ–Ω–∏–π –∏ –∏—Å—Ö–æ–¥–æ–≤.
- –ö–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø—É—Ç–∞—Ü–∏–∏ (Valentinos, Maelstrom, NCPD, social media) –∏ world events (`heywood_turf_war`, `metro_shutdown`, `blackwall_breach`).
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å API –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è D&D –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏ –≤—ã–¥–∞—á–∏ –Ω–∞–≥—Ä–∞–¥/–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤.
- –°–æ–±–∏—Ä–∞—Ç—å —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—é –≤—ã–±–æ—Ä–∞ –ø—É—Ç–µ–π (loyalty, double-cross, memorial participation) –¥–ª—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏.

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç

- **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** `.BRAIN`
- **–ü—É—Ç—å:** `.BRAIN/04-narrative/quests/side/heywood-valentinos-chain.md`
- **–í–µ—Ä—Å–∏—è:** 1.0.0
- **–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-11-07 21:21
- **–°—Ç–∞—Ç—É—Å:** approved, `api-readiness: ready`

**–ß—Ç–æ –≤–∞–∂–Ω–æ:**
- –°–æ—Å—Ç–æ—è–Ω–∏—è —Ü–µ–ø–æ—á–∫–∏ (`setup`, `infiltration`, `street-race`, `turf-war`, `double-cross`, `memorial`).
- –£–∑–ª—ã, –æ–ø—Ü–∏–∏, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è, –∏—Å—Ö–æ–¥—ã, –Ω–∞–≥—Ä–∞–¥—ã, —Ñ–ª–∞–≥–∏.
- –¢–∞–±–ª–∏—Ü–∞ D&D –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å events/—Ä–µ–ø—É—Ç–∞—Ü–∏—è–º–∏.
- REST/GraphQL –∫–æ–Ω—Ç—É—Ä—ã: state, run-check, media, telemetry.

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

- `.BRAIN/04-narrative/dialogues/npc-jose-tiger-ramirez.md`
- `.BRAIN/04-narrative/dialogues/npc-rita-moreno.md`
- `.BRAIN/04-narrative/dialogues/npc-royce.md`
- `.BRAIN/04-narrative/quests/side/quest-side-maelstrom-double-cross.md` (–µ—Å–ª–∏ –µ—Å—Ç—å)
- `.BRAIN/02-gameplay/social/reputation-formulas.md`
- `.BRAIN/02-gameplay/world/events/world-events-framework.md`
- `.BRAIN/04-narrative/dialogues/DIALOGUE-TEMPLATE.md` (—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞)

### –°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è

- API-TASK-379 (Dialogue Templates API)
- API-TASK-243 (Social Resonance API)
- API-TASK-241 (World Interaction Suite API)
- API-TASK-378 (Kaede Ishikawa NPC API) ‚Äî –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –ø–æ double-cross –ª–æ–≥–∏–∫–µ

---

## üìÅ –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API

### –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `API-SWAGGER`

- **–¶–µ–ª–µ–≤–æ–π —Ñ–∞–π–ª:** `api/v1/narrative/dialogues/quests/heywood-valentinos-chain.yaml`
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):** `api/v1/narrative/components/dialogue-quests-schemas.yaml`
- **API –≤–µ—Ä—Å–∏—è:** v1 (semantic 1.0.0)
- **–¢–∏–ø:** OpenAPI 3.0.3

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:**
```
API-SWAGGER/
‚îî‚îÄ‚îÄ api/
    ‚îî‚îÄ‚îÄ v1/
        ‚îî‚îÄ‚îÄ narrative/
            ‚îú‚îÄ‚îÄ dialogues/
            ‚îÇ   ‚îú‚îÄ‚îÄ templates.yaml
            ‚îÇ   ‚îî‚îÄ‚îÄ quests/
            ‚îÇ       ‚îî‚îÄ‚îÄ heywood-valentinos-chain.yaml
            ‚îî‚îÄ‚îÄ components/
                ‚îî‚îÄ‚îÄ dialogue-quests-schemas.yaml   # –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–Ω–µ—Å—Ç–∏ –æ–±—â–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏
```
> –î–µ—Ä–∂–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª ‚â§380 —Å—Ç—Ä–æ–∫; –∫—Ä—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ (DialogueQuest, DialogueState, DialogueNode, CheckOutcome) –≤—ã–Ω–µ—Å—Ç–∏ –≤ components.

---

## üèóÔ∏è –¶–µ–ª–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

### Backend (–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å:** narrative-service
- **–ü–æ—Ä—Ç:** 8087
- **API Base Path:** `/api/v1/narrative/dialogues/quests/*`
- **–î–æ–º–µ–Ω:** –ù–∞—Ä—Ä–∞—Ç–∏–≤–Ω—ã–µ –¥–∏–∞–ª–æ–≥–æ–≤—ã–µ –∫–≤–µ—Å—Ç—ã
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
  - social-service (—Ä–µ–ø—É—Ç–∞—Ü–∏–∏ —Ñ—Ä–∞–∫—Ü–∏–π/—Å–æ—Ü—Å–µ—Ç–µ–π)
  - world-service (events, world modifiers, flags)
  - economy-service (–Ω–∞–≥—Ä–∞–¥—ã, –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã)
  - gameplay-service (–ø—Ä–æ–≤–µ—Ä–∫–∏ D&D)
  - analytics-service (—Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è)

### Frontend (–º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

- **–ú–æ–¥—É–ª–∏:** `modules/narrative/quests/heywood-valentinos`, `modules/social/gangs`, `modules/world/events`
- **State Store:** `useNarrativeStore (questDialogueState)` + `useSocialStore (reputationState)` + `useWorldStore (eventState)`
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** currentState, flags, activeNodes, pendingChecks, rewards, telemetry
- **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (@shared/ui):** QuestDialogueTree, ReputationGauge, EventImpactBanner, MissionOutcomePanel
- **–§–æ—Ä–º—ã (@shared/forms):** DialogueDecisionForm, CheckExecutionForm, MemorialEntryForm
- **Layouts (@shared/layouts):** QuestDialogueLayout
- **Hooks (@shared/hooks):** useRealtime, useQuestState, useTelemetry, useAutosave

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:** –î–æ–±–∞–≤–∏—Ç—å –≤ –Ω–∞—á–∞–ª–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –±–ª–æ–∫ (–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å, –º–æ–¥—É–ª—å, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, state store, base path).

### OpenAPI / Security

- `info.x-microservice`: `name: narrative-service`, `port: 8087`, `domain: narrative`, `base-path: /api/v1/narrative/dialogues/quests`, `package: com.necpgame.narrativeservice`.
- `servers`: `https://api.necp.game/v1`, `http://localhost:8080/api/v1`.
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å `shared/common/security.yaml`, `shared/common/responses.yaml`, `shared/common/pagination.yaml`.
- `security`: `BearerAuth` (roles: `quest-dialogue-view`, `quest-dialogue-manage`, `quest-dialogue-analytics`).
- `x-events`: `narrative.dialogue.valentinos.stateChanged`, `narrative.dialogue.valentinos.checkExecuted`, `narrative.dialogue.valentinos.memorialLogged`.

---

## üì° Endpoints

- **GET `/narrative/dialogues/quests/heywood-valentinos-chain`** ‚Äî –±–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ü–µ–ø–æ—á–∫–µ (—Å–æ—Å—Ç–æ—è–Ω–∏—è, entry nodes, —Å–≤—è–∑–∞–Ω–Ω—ã–µ NPC).
- **GET `/narrative/dialogues/quests/heywood-valentinos-chain/state`** ‚Äî —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–∫–∞/–ø–∞—Ä—Ç–∏–∏ (—Ñ–ª–∞–≥–∏, —Ä–µ–ø—É—Ç–∞—Ü–∏—è, –∞–∫—Ç–∏–≤–Ω—ã–µ —É–∑–ª—ã).
- **POST `/narrative/dialogues/quests/heywood-valentinos-chain/state`** ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–ª–∞–≥–∏, –Ω–∞–≥—Ä–∞–¥—ã, world events).
- **POST `/narrative/dialogues/quests/heywood-valentinos-chain/checks`** ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫ (Intimidation, Streetwise, Hacking, Technical, Performance, Strategy, Empathy, Insight, Willpower).
- **POST `/narrative/dialogues/quests/heywood-valentinos-chain/actions/media`** ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∏–º–æ–≤/–º–µ–º–æ—Ä–∏–∞–ª–æ–≤, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ social media —Ä–µ–ø—É—Ç–∞—Ü–∏–∏.
- **POST `/narrative/dialogues/quests/heywood-valentinos-chain/actions/reputation`** ‚Äî –ø–∞–∫–µ—Ç–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–ø—É—Ç–∞—Ü–∏–π (Valentinos, Maelstrom, NCPD, Social).
- **POST `/narrative/dialogues/quests/heywood-valentinos-chain/events`** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ world events –≤–ª–∏—è—é—â–∏—Ö –Ω–∞ —Å—Ü–µ–Ω—É (`heywood_turf_war`, `metro_shutdown`, `blackwall_breach`).
- **GET `/narrative/dialogues/quests/heywood-valentinos-chain/history`** ‚Äî –∏—Å—Ç–æ—Ä–∏—è —Ä–µ—à–µ–Ω–∏–π (–ø–∞–≥–∏–Ω–∞—Ü–∏—è, —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –∏—Å—Ö–æ–¥–∞–º).
- **GET `/narrative/dialogues/quests/heywood-valentinos-chain/telemetry`** ‚Äî –æ—Ç—á—ë—Ç—ã: `valentinos-loyalty-rate`, `ncpd-ceasefire-rate`, `maelstrom-betrayal-rate`, `memorial-participation`.
- **POST `/narrative/dialogues/quests/heywood-valentinos-chain/simulate`** ‚Äî (–∞–¥–º–∏–Ω) –ø—Ä–æ–≥–æ–Ω —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –¥–ª—è QA (loyal, ncpd, maelstrom –ø—É—Ç–∏).
- **POST `/narrative/dialogues/quests/heywood-valentinos-chain/reset`** ‚Äî —Å–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è (–∞–¥–º–∏–Ω) –¥–ª—è –Ω–æ–≤–æ–π –ø–æ–ø—ã—Ç–∫–∏.

–ö–∞–∂–¥—ã–π endpoint –æ–ø–∏—Å–∞—Ç—å —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (`playerId`, `partyId`, `questRunId`, `stateId`, `checkId`, `repChanges`, `eventId`), —Ç–µ–ª–∞–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏, –≤–∫–ª—é—á–∞—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏.

---

## üß© –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

- **DialogueQuestOverview** ‚Äî –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, —Å–æ—Å—Ç–æ—è–Ω–∏—è, entry nodes, —Å–≤—è–∑–∞–Ω–Ω—ã–µ NPC/quests, –Ω–∞–≥—Ä–∞–¥—ã.
- **DialogueQuestState** ‚Äî —Ç–µ–∫—É—â–∏–µ —Ñ–ª–∞–≥–∏ (`flag.valchain.*`), –∞–∫—Ç–∏–≤–Ω—ã–µ —É–∑–ª—ã, —Ä–µ–ø—É—Ç–∞—Ü–∏—è, world events.
- **DialogueNodeDetail** ‚Äî –æ–ø—Ü–∏–∏, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è, –∏—Å—Ö–æ–¥—ã (success/failure/critical).
- **CheckExecutionRequest/Result** ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã, –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è.
- **MediaActionRequest/Result** ‚Äî —Å—Ç—Ä–∏–º—ã, –º–µ–º–æ—Ä–∏–∞–ª—ã, social media —ç—Ñ—Ñ–µ–∫—Ç—ã.
- **ReputationBatchRequest/Result** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–ø—É—Ç–∞—Ü–∏–∏ –ø–æ —Ñ—Ä–∞–∫—Ü–∏—è–º.
- **EventImpactRequest/Result** ‚Äî –≤–ª–∏—è–Ω–∏–µ world events (DC –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã, –Ω–æ–≤—ã–µ –≤–µ—Ç–∫–∏).
- **RewardPackage** ‚Äî –ø—Ä–µ–¥–º–µ—Ç—ã, –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, buffs/debuffs.
- **HistoryEntry** ‚Äî timestamp, –∏–≥—Ä–æ–∫, –¥–µ–π—Å—Ç–≤–∏–µ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Ä–µ–ø—É—Ç–∞—Ü–∏—è, –Ω–∞–≥—Ä–∞–¥—ã.
- **TelemetryReport** ‚Äî –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –≤—ã–±–æ—Ä–∞ (loyalty, ncpd, maelstrom, exile, memorial).
- **SimulationRequest/Result** ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã QA –ø—Ä–æ–≥–æ–Ω–∞, outcomes.
- **AuditEntry** ‚Äî –∫—Ç–æ –∏ –∫–æ–≥–¥–∞ –≤–Ω–æ—Å–∏–ª –∏–∑–º–µ–Ω–µ–Ω–∏—è.

–î–æ–±–∞–≤–∏—Ç—å `required`, `description`, `example`, `enum`, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è `x-frontend`, `x-storage`, `x-monitoring`, `x-privacy`, `x-governance`.

---

## ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω

### –®–∞–≥ 1: –ê–Ω–∞–ª–∏–∑ —É–∑–ª–æ–≤ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π
- –í—ã–ø–∏—Å–∞—Ç—å –≤—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è, —É–∑–ª—ã, –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –Ω–∞–≥—Ä–∞–¥—ã.
- –°–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å world events –∏ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ.
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å —à–∞–±–ª–æ–Ω–æ–º –¥–∏–∞–ª–æ–≥–æ–≤ (API-TASK-379).

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –º–∞—Ç—Ä–∏—Ü–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π ‚Üí —É–∑–ª—ã ‚Üí –æ–ø—Ü–∏–∏ ‚Üí –∏—Å—Ö–æ–¥—ã.

### –®–∞–≥ 2: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∫–∞—Ä–∫–∞—Å
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ñ–∞–π–ª–∞, `info.x-microservice`, `servers`, `tags`.
- –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ–± –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏ front-end –º–æ–¥—É–ª—è—Ö.
- –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –≤—ã–Ω–µ—Å–µ–Ω–∏–µ –æ–±—â–∏—Ö —Å—Ö–µ–º –≤ components.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ OpenAPI —Ñ–∞–π–ª–∞.

### –®–∞–≥ 3: –ü—Ä–æ—Ä–∞–±–æ—Ç–∫–∞ `paths`
- –û–ø–∏—Å–∞—Ç—å endpoints –¥–ª—è state, checks, actions, events, telemetry, history.
- –î–æ–±–∞–≤–∏—Ç—å `operationId`, `tags`, –ø—Ä–∏–º–µ—Ä—ã, `x-integrations` (social/world/economy).
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –∏–∑ `shared/common/responses.yaml`.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** —Ä–∞–∑–¥–µ–ª `paths` –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏.

### –®–∞–≥ 4: –°—Ö–µ–º—ã –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
- –°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—ã `DialogueQuestOverview`, `DialogueQuestState`, `DialogueNodeDetail`, `CheckExecutionResult`, `TelemetryReport`.
- –î–æ–±–∞–≤–∏—Ç—å `x-frontend`, `x-storage`, `x-monitoring`, `x-privacy` –∫ –∫–ª—é—á–µ–≤—ã–º –º–æ–¥–µ–ª—è–º.
- –í–∫–ª—é—á–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã JSON (–ª–∏–Ω–∏–∏ loyal, ncpd, maelstrom).

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `components/schemas` –≥–æ—Ç–æ–≤ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º.

### –®–∞–≥ 5: –¢–µ–ª–µ–º–µ—Ç—Ä–∏—è –∏ –±–∞–ª–∞–Ω—Å—ã
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ (`valentinos-loyalty-rate`, `ncpd-ceasefire-rate`, `maelstrom-betrayal-rate`, `memorial-participation`).
- –ó–∞–¥–∞—Ç—å SLA (run-check ‚â§ 150 –º—Å, state update ‚â§ 200 –º—Å).
- –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å FAQ (double-cross, exile, memorial).

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —É—á–∏—Ç—ã–≤–∞–µ—Ç —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—é –∏ –±–∞–ª–∞–Ω—Å.

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
- –ü—Ä–æ–≥–Ω–∞—Ç—å `scripts/validate-swagger.ps1 api/v1/narrative/dialogues/quests/heywood-valentinos-chain.yaml`.
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ–∫–ª–∏—Å—Ç `tasks/config/checklist.md`.
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª ‚â§380 —Å—Ç—Ä–æ–∫ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–Ω–µ—Å—Ç–∏ –º–æ–¥–µ–ª–∏).

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –≤–∞–ª–∏–¥–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—é.

---

## üìè –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ (12)

1. `api/v1/narrative/dialogues/quests/heywood-valentinos-chain.yaml` —Å–æ–∑–¥–∞–Ω –∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç `scripts/validate-swagger.ps1`.
2. `info.x-microservice` –∑–∞–ø–æ–ª–Ω–µ–Ω (`narrative-service`, –ø–æ—Ä—Ç 8087, base-path `/api/v1/narrative/dialogues/quests`).
3. `GET /narrative/dialogues/quests/heywood-valentinos-chain` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `DialogueQuestOverview` —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏, entry nodes, —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ NPC –∏ –Ω–∞–≥—Ä–∞–¥–∞–º–∏.
4. `GET /.../state` –∏ `POST /.../state` —Ä–∞–±–æ—Ç–∞—é—Ç —Å `DialogueQuestState`, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É —Ñ–ª–∞–≥–æ–≤ –∏ –Ω–∞–≥—Ä–∞–¥.
5. `POST /.../checks` –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –≤—Å–µ—Ö —Å—Ç–∞—Ç–æ–≤, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `CheckExecutionResult` —Å outcome –∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏.
6. `POST /.../actions/media` –∏ `/actions/reputation` –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É—é—Ç –≤–ª–∏—è–Ω–∏–µ –Ω–∞ social media –∏ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏.
7. `POST /.../events` –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å `heywood_turf_war`, `metro_shutdown`, `blackwall_breach` –∏ –∏—Ö —ç—Ñ—Ñ–µ–∫—Ç—ã.
8. `GET /.../history` –∏ `/telemetry` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏ (loyalty, ncpd, maelstrom, memorial).
9. –°—Ö–µ–º—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ components –∏–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª ‚â§380 —Å—Ç—Ä–æ–∫; –≤—Å–µ –ø–æ–ª—è –∏–º–µ—é—Ç `required`, `description`, `example`.
10. –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è `x-frontend`, `x-storage`, `x-monitoring`, `x-privacy`, `x-governance`.
11. –£–∫–∞–∑–∞–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å API-TASK-379 (—à–∞–±–ª–æ–Ω—ã), API-TASK-243 (—Ä–µ–∑–æ–Ω–∞–Ω—Å), API-TASK-241 (world) –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ `.BRAIN`.
12. FAQ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—É—Ç–∏ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏, —Ä–∞–±–æ—Ç—É —Å –∏–∑–≥–Ω–∞–Ω–∏–µ–º, –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –∏ –ø–æ–ª–∏—Ç–∏–∫—É —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

---

## ‚ùì FAQ

**–í: –ú–æ–∂–Ω–æ –ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è?**  
–û: –ù–µ—Ç. `DialogueQuestState` —Å–æ–¥–µ—Ä–∂–∏—Ç `stateProgression`; –ø–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–π—Ç–∏ –∫ `turf-war` –±–µ–∑ `street-race` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `409 Conflict`.

**–í: –ö–∞–∫ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –º–∞—Å—Å–æ–≤—ã–µ –ø—Ä–æ–≤–∞–ª—ã (–∏–∑–≥–Ω–∞–Ω–∏–µ)?**  
–û: –í `CheckExecutionResult` –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `exileTriggered`; –ø—Ä–∏ –º–∞—Å—Å–æ–≤—ã—Ö –ø—Ä–æ–≤–∞–ª–∞—Ö –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `warning` –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å `TelemetryReport`.

**–í: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ª–∏ –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤?**  
–û: –î–∞, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `partyId` –∏ `questRunId`. Endpoint `/simulate` –¥–æ–ª–∂–µ–Ω —É—á–∏—Ç—ã–≤–∞—Ç—å party context. FAQ —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ –∏—Ç–æ–≥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ double-cross —Ç—Ä–µ–±—É–µ—Ç —Å–æ–≥–ª–∞—Å–∏—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ `votes`).

**–í: –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è social media –º–µ–º–æ—Ä–∏–∞–ª?**  
–û: Endpoint `/actions/media` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `memorialEntry`, –æ–±–Ω–æ–≤–ª—è–µ—Ç `rep.social.media` –∏ –ª–æ–≥–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏—è –≤ social-service. –í FAQ —É–∫–∞–∑–∞—Ç—å –ª–∏–º–∏—Ç—ã (–æ–¥–Ω–∞ –∑–∞–ø–∏—Å—å –≤ 12 —á–∞—Å–æ–≤).

**–í: –ö–∞–∫ –∑–∞—â–∏—â–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–æ–≤?**  
–û: `x-privacy` ‚Üí retention 60 –¥–Ω–µ–π –¥–ª—è history/telemetry, –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–µ–ø–µ—Ä—Å–æ–Ω–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç—Å—è –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è –æ–±–Ω–æ–≤–∏—Ç—å `brain-mapping.yaml`, –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é —Å—Ç–∞—Ç—É—Å–∞ –≤ `.BRAIN/04-narrative/quests/side/heywood-valentinos-chain.md` –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å `scripts/autocommit.ps1`.

