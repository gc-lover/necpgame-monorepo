# Task ID: API-TASK-072
**–¢–∏–ø:** API Generation
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –≤—ã—Å–æ–∫–∏–π
**–°—Ç–∞—Ç—É—Å:** queued
**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-07 01:55
**–°–æ–∑–¥–∞—Ç–µ–ª—å:** AI Agent (API Task Creator)
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** API-TASK-070 (world-state.yaml)

---

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–°–æ–∑–¥–∞—Ç—å API –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –∫–≤–µ—Å—Ç–æ–≤.

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:** –°–æ–∑–¥–∞—Ç—å API –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –∫–≤–µ—Å—Ç–æ–≤ (10 —Ç–∏–ø–æ–≤, –≤–µ—Ç–≤–ª–µ–Ω–∏–µ, –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≥–ª–∞–≤–Ω—ã–º —Å—é–∂–µ—Ç–æ–º 2090-2093).

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–°–æ–∑–¥–∞—Ç—å API –¥–ª—è Quest System:
- 10 —Ç–∏–ø–æ–≤: Main, Side, Daily, Weekly, Faction, Guild, Dynamic, Event, Social, Player-created
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞: –≥–∏–±—Ä–∏–¥–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å —à–∏—Ä–æ–∫–∏–º–∏ –ª–∏–Ω–∏—è–º–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤/—Ñ—Ä–∞–∫—Ü–∏–π
- –í–µ—Ç–≤–ª–µ–Ω–∏–µ: –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—É—Ç–∏ –∏ –∫–æ–Ω—Ü–æ–≤–∫–∏
- –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è: –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –º–∏—Ä, —Ñ—Ä–∞–∫—Ü–∏–∏, —Ä–µ–ø—É—Ç–∞—Ü–∏—é
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: —Å–≤—è–∑—å —Å —Å—é–∂–µ—Ç–æ–º 2090-2093, —Å–∏—Å—Ç–µ–º–æ–π –ª–∏–≥
- –°–∏—Å—Ç–µ–º–∞ –≤—ã–±–æ—Ä–∞: –º–æ—Ä–∞–ª—å–Ω—ã–µ –¥–∏–ª–µ–º–º—ã, –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è
- Player-created: –∏–≥—Ä–æ–∫–∏ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–≤–µ—Å—Ç—ã –Ω–∞ –¥–æ—Å–∫–∞—Ö

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

**–ü—É—Ç—å:** `.BRAIN/04-narrative/quest-system.md`
**–í–µ—Ä—Å–∏—è:** v1.0.0
**–°—Ç–∞—Ç—É—Å:** approved

---

## üìÅ –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API

**–¶–µ–ª–µ–≤–æ–π —Ñ–∞–π–ª:** `api/v1/narrative/quest-system.yaml`

---

## ‚úÖ Endpoints

1. **GET `/api/v1/narrative/quests`** - –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–≤–µ—Å—Ç—ã
2. **POST `/api/v1/narrative/quests/{quest_id}/accept`** - –ü—Ä–∏–Ω—è—Ç—å –∫–≤–µ—Å—Ç
3. **POST `/api/v1/narrative/quests/{quest_id}/complete`** - –ó–∞–≤–µ—Ä—à–∏—Ç—å
4. **POST `/api/v1/narrative/quests/{quest_id}/choice`** - –°–¥–µ–ª–∞—Ç—å –≤—ã–±–æ—Ä
5. **GET `/api/v1/narrative/quests/progress/{character_id}`** - –ü—Ä–æ–≥—Ä–µ—Å—Å –∫–≤–µ—Å—Ç–æ–≤

---

**–ò—Å—Ç–æ—Ä–∏—è:** 2025-11-07 01:55 - –°–æ–∑–¥–∞–Ω–æ


### OpenAPI (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

- –ó–∞–ø–æ–ª–Ω–∏ `info.x-microservice` —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
  - name: narrative-service
  - port: 8087
  - domain: narrative
  - base-path: /api/v1/narrative
  - package: com.necpgame.narrativeservice
- –í —Å–µ–∫—Ü–∏–∏ `servers` –∏—Å–ø–æ–ª—å–∑—É–π gateway:
  - https://api.necp.game/v1/narrative
  - http://localhost:8080/api/v1/narrative
- WebSocket –º–∞—Ä—à—Ä—É—Ç—ã –ø—É–±–ª–∏–∫—É–π —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ wss://api.necp.game/v1/narrative/...

