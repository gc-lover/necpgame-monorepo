# Task ID: API-TASK-075
**–¢–∏–ø:** API Generation
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π
**–°—Ç–∞—Ç—É—Å:** queued
**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-07 02:10
**–°–æ–∑–¥–∞—Ç–µ–ª—å:** AI Agent (API Task Creator)
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** API-TASK-053 (skills.yaml)

---

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–°–æ–∑–¥–∞—Ç—å API –¥–ª—è D&D —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–≤–µ—Ä–æ–∫ (–∫—É–±–∏–∫–∏ –∏ DC).

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:** –°–æ–∑–¥–∞—Ç—å API –¥–ª—è D&D —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–≤–µ—Ä–æ–∫ —Å d20/d100, DC, –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ —É—Å–ø–µ—Ö–∞–º–∏/–ø—Ä–æ–≤–∞–ª–∞–º–∏, –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞–º–∏/–ø–æ–º–µ—Ö–∞–º–∏, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ –∏ –Ω–∞–≤—ã–∫–∞–º–∏.

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–°–æ–∑–¥–∞—Ç—å API –¥–ª—è D&D checks:
- –¢–∏–ø—ã –∫—É–±–∏–∫–æ–≤: d20 (–æ—Å–Ω–æ–≤–Ω–æ–π), d100 (—Ä–µ–¥–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã –∏—Å—Ö–æ–¥–æ–≤, –ª—É—Ç)
- –ë–∞–∑–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞: `d20 + –ê—Ç—Ä–∏–±—É—Ç–Ω—ã–π–ú–æ–¥ + –ù–∞–≤—ã–∫–æ–≤—ã–π–ë–æ–Ω—É—Å + –°–∏—Ç—É–∞—Ü–∏–æ–Ω–Ω—ã–µ >= DC`
- –ê—Ç—Ä–∏–±—É—Ç–Ω—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã: `floor((ATTR - 10) / 2)`
- –ù–∞–≤—ã–∫–æ–≤—ã–µ –±–æ–Ω—É—Å—ã: Novice (+1) ‚Üí Legendary (+5)
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞/–ø–æ–º–µ—Ö–∏: –±—Ä–æ—Å–æ–∫ 2d20, –±–µ—Ä–µ–º –ª—É—á—à–∏–π/—Ö—É–¥—à–∏–π
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ: 1 (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≤–∞–ª), 20 (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É—Å–ø–µ—Ö)
- DC —à–∫–∞–ª–∞: –õ–µ–≥–∫–∞—è (10), –°—Ä–µ–¥–Ω—è—è (15), –°–ª–æ–∂–Ω–∞—è (20), –û—á–µ–Ω—å —Å–ª–æ–∂–Ω–∞—è (25), –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∞—è (30+)
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –∫–≤–µ—Å—Ç—ã, –¥–∏–∞–ª–æ–≥–∏, —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è, –±–æ–µ–≤—ã–µ –º–∏–∫—Ä–æ-–ø—Ä–æ–≤–µ—Ä–∫–∏, —ç–∫–æ–Ω–æ–º–∏–∫–∞, —Ö–∞–∫–µ—Ä—Å—Ç–≤–æ, –∫—Ä–∞—Ñ—Ç

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ:** –û—Å–Ω–æ–≤–∞ –¥–ª—è –º–Ω–æ–≥–∏—Ö –∏–≥—Ä–æ–≤—ã—Ö –º–µ—Ö–∞–Ω–∏–∫!

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

**–ü—É—Ç—å:** `.BRAIN/02-gameplay/combat/combat-dnd-core.md`
**–°—Ç–∞—Ç—É—Å:** approved
**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-11-06 18:25

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:**
- combat-dnd-integration-shooter.md - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —à—É—Ç–µ—Ä–æ–º
- combat-dnd-mechanics-integration.md - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –º–µ—Ö–∞–Ω–∏–∫–∞—Ö

---

## üìÅ –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API

**–¶–µ–ª–µ–≤–æ–π —Ñ–∞–π–ª:** `api/v1/gameplay/mechanics/dnd-checks.yaml`

---

## ‚úÖ Endpoints

1. **POST `/api/v1/gameplay/mechanics/dnd-checks/roll`** - –ë—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: dice_type (d20/d100), attribute, skill, dc, modifiers
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: result, success, critical, total

2. **POST `/api/v1/gameplay/mechanics/dnd-checks/calculate-modifier`** - –†–∞—Å—á–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: attribute_value, skill_rank
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: attribute_modifier, skill_bonus, total_modifier

3. **GET `/api/v1/gameplay/mechanics/dnd-checks/dc-scale`** - –®–∫–∞–ª–∞ DC
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: difficulty_levels (Easy, Medium, Hard, Very Hard, Extreme)

4. **POST `/api/v1/gameplay/mechanics/dnd-checks/advantage-roll`** - –ë—Ä–æ—Å–æ–∫ —Å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ–º/–ø–æ–º–µ—Ö–æ–π
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: advantage_type (advantage/disadvantage), parameters
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: rolls (2d20), selected, result

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

1. ‚úÖ D&D —Ñ–æ—Ä–º—É–ª—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
2. ‚úÖ d20 –∏ d100 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è
3. ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—Å–ø–µ—Ö–∏/–ø—Ä–æ–≤–∞–ª—ã —Ä–∞–±–æ—Ç–∞—é—Ç
4. ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞/–ø–æ–º–µ—Ö–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
5. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏
6. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–∞–≤—ã–∫–∞–º–∏
7. ‚úÖ DC —à–∫–∞–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞
8. ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –≤–∫–ª—é—á–µ–Ω—ã

---

**–ò—Å—Ç–æ—Ä–∏—è:** 2025-11-07 02:10 - –°–æ–∑–¥–∞–Ω–æ

> ‚ö†Ô∏è 2025-11-09 ‚Äî **–û—Ç–º–µ–Ω–µ–Ω–æ.** DnD –º–µ—Ö–∞–Ω–∏–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∞ –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞, —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —É–¥–∞–ª–µ–Ω–∞; —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –∞—Ä—Ö–∏–≤–Ω—ã—Ö —Ü–µ–ª—è—Ö.


### OpenAPI (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

- –ó–∞–ø–æ–ª–Ω–∏ `info.x-microservice` —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
  - name: gameplay-service
  - port: 8083
  - domain: gameplay
  - base-path: /api/v1/gameplay/mechanics
  - package: com.necpgame.gameplayservice
- –í —Å–µ–∫—Ü–∏–∏ `servers` –∏—Å–ø–æ–ª—å–∑—É–π gateway:
  - https://api.necp.game/v1/gameplay/mechanics
  - http://localhost:8080/api/v1/gameplay/mechanics
- WebSocket –º–∞—Ä—à—Ä—É—Ç—ã –ø—É–±–ª–∏–∫—É–π —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ wss://api.necp.game/v1/gameplay/mechanics/...

