# Чеклист создания задания

Используй этот чеклист перед созданием задания для проверки полноты и качества.

---

## Блок 1: Метаданные

- [ ] Уникальный Task ID (формат: `API-TASK-XXX`)
- [ ] Правильный тип задания (API Generation | API Update | API Validation)
- [ ] Приоритет установлен (низкий | средний | высокий | критический)
- [ ] Статус: `queued`
- [ ] Дата и время создания указаны
- [ ] Список зависимостей заполнен (если есть зависимости)

---

## Блок 2: Описание

- [ ] Краткое описание (1-2 строки) заполнено
- [ ] Детальная цель с контекстом описана
- [ ] Обоснование необходимости задачи указано
- [ ] Связь с общими целями проекта понятна

---

## Блок 3: Источники информации

- [ ] Основной источник из `.BRAIN` указан (путь, версия, статус)
- [ ] Ключевые концепции из документа выделены
- [ ] Бизнес-правила из документа выделены
- [ ] Дополнительные источники указаны (если нужны)
- [ ] Связанные документы перечислены

---

## Блок 4: Целевая структура

- [ ] Четко указан целевой файл (полный путь)
- [ ] Указан путь в репозитории `API-SWAGGER`
- [ ] Указана версия API (v1, v2 и т.д.)
- [ ] Описана структура директории
- [ ] Указано, нужно ли создавать или обновлять файл

---

## Блок 4.1: Целевая архитектура (⚠️ ОБЯЗАТЕЛЬНО)

### Для бекенда (микросервисная архитектура):
- [ ] Указан целевой микросервис (auth-service, character-service, gameplay-service, social-service, economy-service, world-service, narrative-service, admin-service)
- [ ] Указан порт микросервиса (8081-8090)
- [ ] Указан API Base Path (/api/v1/[domain]/*)
- [ ] Указан домен (аутентификация, персонажи, боевая система, социальные механики, экономика, мир, нарратив)
- [ ] Указаны зависимости между микросервисами (если есть)

### Для фронтенда (модульная архитектура):
- [ ] Указан целевой фронтенд-модуль (modules/social, modules/economy, modules/combat, modules/world, modules/progression, modules/narrative)
- [ ] Указан State Store (useSocialStore, useEconomyStore, useCombatStore, useWorldStore, useProgressionStore, useNarrativeStore)
- [ ] Указаны UI компоненты из @shared/ui (какие компоненты нужны)
- [ ] Указаны формы из @shared/forms (какие формы нужны)
- [ ] Указано какое состояние хранится в store

### Комментарий для API спецификации:
- [ ] Подготовлен комментарий об архитектуре для добавления в API файл
- [ ] Комментарий содержит информацию о микросервисе, модуле, компонентах, state

---

## Блок 5: Детальный план

- [ ] План разбит на шаги (минимум 5 шагов)
- [ ] Каждый шаг имеет описание действий
- [ ] Указан ожидаемый результат для каждого шага
- [ ] План можно выполнить пошагово без дополнительных вопросов
- [ ] План включает валидацию и проверку

---

## Блок 6: Endpoints и модели

- [ ] Все необходимые endpoints перечислены
- [ ] Для каждого endpoint указаны:
  - [ ] HTTP метод
  - [ ] Путь
  - [ ] Назначение
  - [ ] Параметры запроса/ответа
  - [ ] Коды ответов (200, 400, 404 и т.д.)
- [ ] Все модели данных перечислены
- [ ] Для каждой модели указаны:
  - [ ] Все поля
  - [ ] Типы полей
  - [ ] Обязательные поля (required)
  - [ ] Валидация (min, max, enum и т.д.)
  - [ ] Примеры

---

## Блок 7: Принципы и правила

- [ ] Указаны принципы проекта (SOLID, DRY, KISS)
- [ ] Указаны правила стиля кодирования
- [ ] Указаны правила из workspace rules
- [ ] Указаны стандарты (OpenAPI 3.0.3, REST)

---

## Блок 8: Примеры

- [ ] Примеры структуры endpoint включены
- [ ] Примеры моделей данных включены
- [ ] Примеры запросов/ответов включены
- [ ] Примеры валидны и соответствуют структуре

---

## Блок 9: Связности

- [ ] Указаны зависимости от других API (если есть)
- [ ] Указаны связанные API (если есть)
- [ ] Указаны зависимости от других заданий (если есть)
- [ ] Все связи понятны и обоснованы

---

## Блок 10: Критерии приемки

- [ ] Чеклист из 10+ пунктов создан
- [ ] Каждый пункт проверяемый и измеримый
- [ ] Покрывает все аспекты выполнения:
  - [ ] Создание файла
  - [ ] Валидность OpenAPI
  - [ ] Полнота endpoints
  - [ ] Полнота моделей
  - [ ] Документация
  - [ ] Примеры
  - [ ] Соответствие документации
  - [ ] Валидация
  - [ ] Обработка ошибок
  - [ ] Связность с другими API

---

## Блок 11: FAQ

- [ ] Ответы на типичные вопросы включены
- [ ] Разрешение возможных проблем описано
- [ ] FAQ помогает агенту-исполнителю понять задачу

---

## Блок 12: Самодостаточность

- [ ] Задание содержит всю информацию для выполнения
- [ ] Агент-исполнитель может работать только по заданию
- [ ] Не требуется дополнительных обращений к .BRAIN документам
- [ ] Все ссылки на документы корректны

---

## Блок 13: Качество описания

- [ ] Все секции заполнены
- [ ] Нет пустых блоков
- [ ] Описания понятны и детальны
- [ ] Нет двусмысленностей
- [ ] Примеры соответствуют описаниям

---

## Блок 14: Соответствие шаблону

- [ ] Задание соответствует структуре шаблона
- [ ] Все обязательные секции присутствуют
- [ ] Формат соответствует шаблону

---

## Блок 15: Обновление маппинга

- [ ] Запланировано обновление `brain-mapping.yaml`
- [ ] Запланировано обновление документа `.BRAIN`
- [ ] Понятно, как отметить задание в маппинге
- [ ] Понятно, как отметить задание в документе `.BRAIN`

---

## Блок 16: Целевая архитектура

**Backend (микросервис):**
- [ ] Определен целевой микросервис для backend
- [ ] Указан порт микросервиса (8081-8090)
- [ ] Указаны API пути для микросервиса (паттерн /api/v1/...)
- [ ] В секции `servers` указан только Production URL `https://api.necp.game/v1`

**Frontend (модуль):**
- [ ] Определен целевой фронтенд-модуль (social/economy/combat/world/progression/narrative)
- [ ] Указан путь к модулю (modules/...)
- [ ] Указано имя state store (use[Module]Store)

**Frontend (библиотеки компонентов):**
- [ ] Перечислены требуемые UI компоненты из @shared/ui
- [ ] Перечислены требуемые формы из @shared/forms
- [ ] Перечислены требуемые layouts из @shared/layouts
- [ ] Перечислены требуемые хуки из @shared/hooks (если нужны)

**Для АПИТАСК:**
- [ ] Архитектурная информация указана для добавления в комментарии API файлов
- [ ] Микросервис, модуль и библиотеки определены корректно по таблицам маппинга

---

## Итоговая проверка

После заполнения всех чеклистов:

- [ ] Все обязательные блоки проверены
- [ ] Все пункты выполнены
- [ ] **⚠️ Целевая архитектура полностью определена** (микросервис, модуль, компоненты)
- [ ] Задание самодостаточно (можно выполнить без обращения к `.BRAIN`)
- [ ] Задание готово к сохранению
- [ ] Готово к передаче агенту-исполнителю

---

## Полезные ссылки

- [Шаблон задания](../templates/api-generation-task-template.md)
- [Инструкция создания](./task-creation-guide.md)
- [Правила работы](../../.cursor/rules/api-task-creator-rules.mdc)
