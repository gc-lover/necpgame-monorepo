# API Generation Task ‚Äì Details

**–ò—Å–ø–æ–ª—å–∑—É–π –≤–º–µ—Å—Ç–µ —Å –æ—Å–Ω–æ–≤–Ω—ã–º —à–∞–±–ª–æ–Ω–æ–º:** [api-generation-task-template.md](./api-generation-task-template.md)  
**–û—Å–Ω–æ–≤–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –ø—Ä–∞–≤–∏–ª:** `../../GLOBAL-RULES.md`, `../CORE.md`, `../config/task-creation-guide.md`, `../config/checklist.md`

---

## üé® –ü—Ä–∏–Ω—Ü–∏–ø—ã
- **API First:** —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–æ–∑–¥–∞—ë—Ç—Å—è –¥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
- **RESTful:** –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ HTTP –º–µ—Ç–æ–¥—ã, –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤, idempotency.
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –∫–∞–∂–¥—ã–π endpoint, –ø–∞—Ä–∞–º–µ—Ç—Ä –∏ –º–æ–¥–µ–ª—å –∏–º–µ—é—Ç `description` –∏ –ø—Ä–∏–º–µ—Ä—ã.
- **–†–∞–∑–º–µ—Ä:** —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è ‚â§ 500 —Å—Ç—Ä–æ–∫; –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ ‚Äî –¥–µ–ª–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞—Ç–∞–ª–æ–≥–∞.
- **–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –æ–±—â–∏–µ –æ—Ç–≤–µ—Ç—ã/–ø–∞–≥–∏–Ω–∞—Ü–∏—é/–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–∞–π –∏–∑ `api/v1/shared/common/`.

---

## üß≠ –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –º–µ—Ç–∞–¥–∞—Ç–∞
- `info.x-microservice` (name, port, domain, base-path, directory, package) –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω. –ò—Å–ø–æ–ª—å–∑—É–π —Ç–∞–±–ª–∏—Ü—É –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –∏–∑ `GLOBAL-RULES.md`.
- `servers`:
  ```yaml
  servers:
    - url: https://api.necp.game/v1
      description: Production API Gateway
    - url: http://localhost:8080/api/v1
      description: Development API Gateway
  ```
- –ù–æ–≤—ã–µ –¥–æ–º–µ–Ω—ã —Å–æ–≥–ª–∞—Å–æ–≤—ã–≤–∞–π —Å `.BRAIN/05-technical/microservices-overview.md`.

---

## üß± –°—Ç–∏–ª—å OpenAPI
- Endpoints ‚Äî kebab-case (`/api/v1/social/guilds/{guild_id}`).
- –ú–æ–¥–µ–ª–∏ ‚Äî PascalCase (`GuildProfile`), —Å–≤–æ–π—Å—Ç–≤–∞ ‚Äî snake_case (`guild_id`).
- YAML, 2 –ø—Ä–æ–±–µ–ª–∞, —Å—Ç—Ä–æ–∫–∏ ‚â§ 100 —Å–∏–º–≤–æ–ª–æ–≤.
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –ø–µ—Ä–µ—á–∏—Å–ª—è–π –≤ `required`, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ–º `nullable` –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏.
- –î–ª—è enum –∑–Ω–∞—á–µ–Ω–∏–π –¥–∞–≤–∞–π –ø–æ—è—Å–Ω–µ–Ω–∏—è.

---

## ‚úçÔ∏è –ü—Ä–∏–º–µ—Ä—ã
### Endpoint
```yaml
paths:
  /gameplay/combat/shoot:
    post:
      summary: –í—ã–ø–æ–ª–Ω–∏—Ç—å –≤—ã—Å—Ç—Ä–µ–ª
      tags:
        - Combat
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ShootRequest'
      responses:
        '200':
          description: –£—Å–ø–µ—à–Ω—ã–π –≤—ã—Å—Ç—Ä–µ–ª
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Shot'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/WeaponNotFound'
```

### Schema
```yaml
components:
  schemas:
    Weapon:
      type: object
      required: [id, name, type, damage]
      properties:
        id:
          type: string
          description: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Ä—É–∂–∏—è
          example: weapon_001
        type:
          type: string
          enum: [pistol, rifle, sniper, shotgun, smg]
          description: –ö–ª–∞—Å—Å –æ—Ä—É–∂–∏—è
```

---

## üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –£–∫–∞–∂–∏ API/–∑–∞–¥–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —Ä–∞–Ω—å—à–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∞–∑–æ–≤—ã–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è).
- –ü–µ—Ä–µ—á–∏—Å–ª–∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ —Ç–µ–∫—É—â—É—é, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å.
- –î–ª—è –Ω–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π –æ–ø—Ä–µ–¥–µ–ª–∏ publish/subscribe –∏ –∫–∞–Ω–∞–ª—ã (REST, Kafka, WebSocket).

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏
1. –§–∞–π–ª —Å–æ–∑–¥–∞–Ω/–æ–±–Ω–æ–≤–ª—ë–Ω –≤ –≤–µ—Ä–Ω–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ –∏ ‚â§ 500 —Å—Ç—Ä–æ–∫.
2. `info.x-microservice` –∏ `servers` –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ø–æ —Ç–∞–±–ª–∏—Ü–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤.
3. –í—Å–µ endpoints, –º–æ–¥–µ–ª–∏, –æ—à–∏–±–∫–∏ –∏ –ø—Ä–∏–º–µ—Ä—ã –æ–ø–∏—Å–∞–Ω—ã.
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –æ–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (`api/v1/shared/common/*`) –∏ –µ–¥–∏–Ω–∞—è –º–æ–¥–µ–ª—å Error.
5. `pwsh -NoProfile -File ..\scripts\validate-swagger.ps1 -ApiSpec ...` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫.
6. –ó–∞–¥–∞–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ: `brain-mapping.yaml`, `.BRAIN` –¥–æ–∫—É–º–µ–Ω—Ç, `implementation-tracker.yaml`.
7. –ü—Ä–æ–π–¥–µ–Ω –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω —á–µ–∫–ª–∏—Å—Ç –∏–∑ `tasks/config/checklist.md`.

---

## ‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- **–ù–µ—Ç –≤—Å–µ—Ö –¥–µ—Ç–∞–ª–µ–π –≤ .BRAIN?** –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π –≤–æ–ø—Ä–æ—Å—ã –≤ –∑–∞–¥–∞–Ω–∏–∏, –ø—Ä–µ–¥–ª–æ–∂–∏ –≥–∏–ø–æ—Ç–µ–∑—ã, —Å–æ–≥–ª–∞—Å—É–π —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º.
- **–ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å?** –ü–æ –ø—É—Ç–∏ (`/api/v1/<domain>/...`). –¢–∞–±–ª–∏—Ü–∞ ‚Äî –≤ `GLOBAL-RULES.md`.
- **–ù—É–∂–Ω—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã?** –û–ø—Ä–µ–¥–µ–ª–∏ –º–æ–¥—É–ª–∏/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ `FRONT-WEB` (—Å–º. `FRONT-WEB/CORE.md`, `–§–†–û–ù–¢–¢–ê–°–ö-REQUIREMENTS.md`).
- **–ö–∞–∫ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å?** –ù–∞—á–∏–Ω–∞–π —Å `version: 1.0.0`; –¥–∞–ª—å–Ω–µ–π—à–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–º—É –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é.

---

## üìû –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Å—Ö–æ–¥–∏—Ç—Å—è
- –ü–µ—Ä–µ—á–∏—Ç–∞–π –¥–æ–∫—É–º–µ–Ω—Ç `.BRAIN`, `GLOBAL-RULES.md`, —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ `api/v1/`.
- –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –≤ –∑–∞–¥–∞–Ω–∏–∏ –∏–ª–∏ —Å–æ–æ–±—â–∏ –º–µ–Ω–µ–¥–∂–µ—Ä—É, –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–π –Ω–µ–ø—Ä–æ–≤–µ—Ä—ë–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–π.

---

## üìä –ò—Å—Ç–æ—Ä–∏—è
- YYYY-MM-DD HH:MM ‚Äî –®–∞–±–ª–æ–Ω –æ–±–Ω–æ–≤–ª—ë–Ω –ø–æ–¥ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞.

