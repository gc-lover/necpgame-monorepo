// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// GetResetHistory implements getResetHistory operation.
	//
	// **Reset service history endpoint**
	// Retrieves paginated history of reset operations.
	// Supports filtering by type, status, and time range.
	// **Performance:** <50ms P95, with database indexing.
	//
	// GET /history
	GetResetHistory(ctx context.Context, params GetResetHistoryParams) (GetResetHistoryRes, error)
	// GetResetStats implements getResetStats operation.
	//
	// **Reset service statistics endpoint**
	// Provides aggregated statistics about reset operations performed.
	// Includes counts, success rates, and performance metrics.
	// **Performance:** <25ms P95, aggregated data.
	//
	// GET /stats
	GetResetStats(ctx context.Context) (GetResetStatsRes, error)
	// ResetServiceHealthCheck implements resetServiceHealthCheck operation.
	//
	// **Enterprise-grade health check endpoint**
	// Provides real-time health status of the reset service microservice.
	// Critical for service discovery, load balancing, and monitoring.
	// Includes reset operation status and rollback capabilities.
	// **Performance:** <1ms response time, cached for 30 seconds.
	//
	// GET /health
	ResetServiceHealthCheck(ctx context.Context, params ResetServiceHealthCheckParams) (ResetServiceHealthCheckRes, error)
	// TriggerReset implements triggerReset operation.
	//
	// **Reset service trigger endpoint**
	// Initiates a reset operation with specified parameters.
	// Supports different reset types and scopes.
	// **Performance:** <100ms P95, includes validation and queuing
	// **Security:** Requires confirmation token for destructive operations.
	//
	// POST /trigger
	TriggerReset(ctx context.Context, req *TriggerResetReq) (TriggerResetRes, error)
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
