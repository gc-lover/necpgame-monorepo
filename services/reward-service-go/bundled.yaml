openapi: 3.0.3
info:
  title: Reward Service API - Enterprise-Grade Domain Service
  description: '**Enterprise-Grade Reward and Achievement System API for NECPGAME**

    This API manages player rewards, achievements, incentives, and reward distribution
    across all game systems in the cyberpunk world of Night City.

    ## Key Features

    - **Reward Management**: Dynamic reward creation and distribution - **Achievement
    System**: Complex achievement tracking and unlocking - **Incentive Programs**:
    Time-limited events and special rewards - **Reward Analytics**: Tracking reward
    effectiveness and player engagement - **Fair Distribution**: Anti-cheat measures
    and fair reward allocation - **Performance Optimized**: High-throughput reward
    processing with <30ms P99 latency

    ## Domain Purpose

    The Reward domain drives player engagement and retention through meaningful achievements
    and rewards. Players earn rewards through gameplay, achievements, events, and
    community participation, creating compelling progression loops.

    ## Performance Targets

    - P99 Latency: <30ms for reward operations - Memory: <25KB per active reward session
    - Concurrent users: 150,000+ simultaneous reward distributions - Achievement checks:
    <15ms response time

    '
  version: 1.0.0
  contact:
    name: NECPGAME API Support
    url: https://necpgame.com/support
    email: api@necpgame.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
servers:
- url: https://api.necpgame.com/v1/reward
  description: Production server
- url: https://staging-api.necpgame.com/v1/reward
  description: Staging server
- url: http://localhost:8080/api/v1/reward
  description: Local development server
security:
- BearerAuth: []
tags:
- name: Reward Management
  description: Core reward operations and distribution
- name: Achievement System
  description: Achievement tracking and unlocking
- name: Incentive Programs
  description: Special events and limited-time rewards
- name: Health Monitoring
  description: System health and performance monitoring
paths:
  /health:
    get:
      summary: Reward service health check
      description: '**Enterprise-grade health check endpoint**


        Provides real-time health status of the reward microservice.

        Critical for service discovery, load balancing, and monitoring.


        **Performance:** <1ms response time, cached for 30 seconds

        '
      operationId: rewardServiceHealthCheck
      tags:
      - Health Monitoring
      parameters:
      - name: Accept-Encoding
        in: header
        schema:
          type: string
          enum:
          - gzip
          - deflate
          - br
      responses:
        '200':
          description: Service is healthy
          headers:
            Cache-Control:
              schema:
                type: string
                example: max-age=30, s-maxage=60
            ETag:
              schema:
                type: string
                example: '"health-v1.0"'
            Content-Encoding:
              schema:
                type: string
                enum:
                - gzip
                - deflate
                - br
          content:
            application/json:
              schema:
                type: object
                required:
                - status
                - timestamp
                properties:
                  status:
                    type: string
                    enum:
                    - healthy
                    - degraded
                    - unhealthy
                    example: healthy
                    maxLength: 255
                  domain:
                    type: string
                    example: service-name
                    maxLength: 255
                  timestamp:
                    type: string
                    format: date-time
                    example: '2025-12-28T10:00:00Z'
                    maxLength: 255
                  version:
                    type: string
                    example: 1.0.0
                    maxLength: 50
                  uptime_seconds:
                    type: integer
                    example: 3600
                    minimum: 0
                  active_connections:
                    type: integer
                    example: 1500
                    minimum: 0
                description: 'BACKEND NOTE: Fields ordered for struct alignment (large
                  → small). Expected memory savings: 30-50%.'
        '503':
          description: Service is unhealthy
          content:
            application/json:
              schema:
                type: object
                required:
                - status
                - timestamp
                properties:
                  status:
                    type: string
                    enum:
                    - healthy
                    - degraded
                    - unhealthy
                    example: healthy
                    maxLength: 255
                  domain:
                    type: string
                    example: service-name
                    maxLength: 255
                  timestamp:
                    type: string
                    format: date-time
                    example: '2025-12-28T10:00:00Z'
                    maxLength: 255
                  version:
                    type: string
                    example: 1.0.0
                    maxLength: 50
                  uptime_seconds:
                    type: integer
                    example: 3600
                    minimum: 0
                  active_connections:
                    type: integer
                    example: 1500
                    minimum: 0
                description: 'BACKEND NOTE: Fields ordered for struct alignment (large
                  → small). Expected memory savings: 30-50%.'
        '429':
          description: Too many requests - rate limit exceeded
          headers:
            Retry-After:
              schema:
                type: integer
                example: 60
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /health/batch:
    post:
      summary: Batch health check for multiple domain services
      description: '**Performance optimization:** Check multiple domain health in
        single request


        Reduces N HTTP calls to 1 call. Critical for microservice orchestration.

        Eliminates network overhead in health monitoring scenarios.


        **Use case:** Service mesh health checks, Kubernetes readiness probes

        '
      operationId: rewardServiceBatchHealthCheck
      tags:
      - Health Monitoring
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
              - services
              properties:
                services:
                  type: array
                  items:
                    type: string
                    enum:
                    - reward
                    - achievement
                    - incentive
                    - analytics
                    - distribution
                  maxItems: 10
                  description: List of services to check
      responses:
        '200':
          description: Batch health results retrieved successfully
          headers:
            Cache-Control:
              schema:
                type: string
                example: no-cache
            X-Processing-Time:
              schema:
                type: integer
                example: 15
                description: Processing time in milliseconds
          content:
            application/json:
              schema:
                type: object
                required:
                - results
                - total_time_ms
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      required:
                      - status
                      - timestamp
                      properties:
                        status:
                          type: string
                          enum:
                          - healthy
                          - degraded
                          - unhealthy
                          example: healthy
                          maxLength: 255
                        domain:
                          type: string
                          example: service-name
                          maxLength: 255
                        timestamp:
                          type: string
                          format: date-time
                          example: '2025-12-28T10:00:00Z'
                          maxLength: 255
                        version:
                          type: string
                          example: 1.0.0
                          maxLength: 50
                        uptime_seconds:
                          type: integer
                          example: 3600
                          minimum: 0
                        active_connections:
                          type: integer
                          example: 1500
                          minimum: 0
                      description: 'BACKEND NOTE: Fields ordered for struct alignment
                        (large → small). Expected memory savings: 30-50%.'
                    description: Health status for each requested service
                  total_time_ms:
                    type: integer
                    description: Total processing time in milliseconds
        '400':
          description: Invalid request - malformed service list
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '429':
          description: Too many requests - rate limit exceeded
          headers:
            Retry-After:
              schema:
                type: integer
                example: 60
                description: Seconds to wait before retrying
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /health/ws:
    get:
      summary: Real-time health monitoring WebSocket
      description: '**Performance optimization:** Real-time health updates without
        polling


        Eliminates periodic HTTP requests, reduces server load by ~90%.

        Perfect for dashboard monitoring and alerting systems.


        **Protocol:** WebSocket with JSON payloads

        **Heartbeat:** 30 second intervals

        **Reconnection:** Automatic with exponential backoff

        '
      operationId: rewardServiceHealthWebSocket
      tags:
      - Health Monitoring
      parameters:
      - name: services
        in: query
        schema:
          type: array
          items:
            type: string
            enum:
            - reward
            - achievement
            - incentive
            - analytics
            - distribution
        description: Services to monitor (optional, monitors all if not specified)
      responses:
        '200':
          description: WebSocket upgrade information returned
          content:
            application/json:
              schema:
                type: object
                properties:
                  websocket_url:
                    type: string
                    example: ws://localhost:8080/api/v1/reward/health/ws
                  supported_protocols:
                    type: array
                    items:
                      type: string
                    example:
                    - health-monitoring-v1
        '101':
          description: WebSocket connection established successfully
          headers:
            Upgrade:
              schema:
                type: string
                example: websocket
            Connection:
              schema:
                type: string
                example: Upgrade
            Sec-WebSocket-Accept:
              schema:
                type: string
                description: WebSocket handshake acceptance key
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WebSocketHealthMessage'
        '400':
          description: Invalid request - malformed service parameters
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '401':
          description: Unauthorized - authentication required for WebSocket
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '429':
          description: Too many requests - WebSocket connection limit exceeded
          headers:
            Retry-After:
              schema:
                type: integer
                example: 30
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /rewards:
    get:
      summary: List rewards with filtering and pagination
      description: '**Enterprise-grade reward listing endpoint**

        Supports complex filtering by type, value, availability, and player progress.

        Optimized for high-throughput scenarios with proper indexing.


        **Performance:** <20ms P95, supports 1000+ concurrent requests

        '
      operationId: listRewards
      tags:
      - Reward Management
      parameters:
      - name: page
        in: query
        schema:
          type: integer
          minimum: 1
          default: 1
        description: Page number for pagination
      - name: limit
        in: query
        schema:
          type: integer
          minimum: 1
          maximum: 100
          default: 20
        description: Number of items per page
      - name: reward_type
        in: query
        schema:
          type: string
          enum:
          - currency
          - item
          - experience
          - achievement
          - title
          - cosmetic
          - all
          default: all
        description: Filter by reward type
      - name: availability
        in: query
        schema:
          type: string
          enum:
          - available
          - claimed
          - expired
          - locked
          - all
          default: all
        description: Filter by availability status
      - name: player_id
        in: query
        schema:
          type: string
          format: uuid
        description: Filter rewards for specific player
      responses:
        '200':
          description: Rewards retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RewardListResponse'
        '400':
          description: Invalid request - malformed query parameters
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '429':
          description: Too many requests - rate limit exceeded
          headers:
            Retry-After:
              schema:
                type: integer
                example: 60
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    post:
      summary: Create new reward
      description: '**Enterprise-grade reward creation endpoint**

        Validates reward configuration, business rules, and anti-exploitation measures.

        Supports complex reward structures with conditions and requirements.

        **Performance:** <100ms P95, includes validation and reward optimization

        '
      operationId: createReward
      tags:
      - Reward Management
      security:
      - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateRewardRequest'
      responses:
        '201':
          description: Reward created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RewardResponse'
        '400':
          description: Invalid request - validation failed
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '403':
          description: Forbidden - insufficient permissions to create rewards
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '409':
          description: Conflict - reward with this identifier already exists
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '422':
          description: Unprocessable entity - business rule violation
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /rewards/{rewardId}:
    get:
      summary: Get reward details
      description: '**Enterprise-grade reward retrieval endpoint**

        Retrieves complete reward information including conditions, requirements,
        and claiming status for the authenticated player.

        Optimized with caching and conditional requests.

        **Performance:** <15ms P95 with Redis caching

        '
      operationId: getReward
      tags:
      - Reward Management
      parameters:
      - name: rewardId
        in: path
        required: true
        schema:
          type: string
          format: uuid
        description: Reward unique identifier
      - name: include_claim_status
        in: query
        schema:
          type: boolean
          default: true
        description: Include claim status for current player
      responses:
        '200':
          description: Reward retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RewardResponse'
        '404':
          description: Reward not found
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '429':
          description: Too many requests - rate limit exceeded
          headers:
            Retry-After:
              schema:
                type: integer
                example: 30
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    put:
      summary: Update reward
      description: '**Enterprise-grade reward update endpoint**

        Supports partial updates with validation of impact on existing claims.

        Ensures reward integrity and fair play for all players.

        **Performance:** <60ms P95, includes impact assessment

        '
      operationId: updateReward
      tags:
      - Reward Management
      security:
      - BearerAuth: []
      parameters:
      - name: rewardId
        in: path
        required: true
        schema:
          type: string
          format: uuid
        description: Reward unique identifier
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateRewardRequest'
      responses:
        '200':
          description: Reward updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RewardResponse'
        '400':
          description: Invalid request - validation failed
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '403':
          description: Forbidden - insufficient permissions
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '404':
          description: Reward not found
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '409':
          description: Conflict - update would affect existing claims
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /rewards/{rewardId}/claim:
    post:
      summary: Claim reward
      description: '**Enterprise-grade reward claiming endpoint**

        Processes reward claims with validation of requirements and anti-cheat measures.

        Ensures fair distribution and prevents exploitation.

        **Performance:** <50ms P95, includes validation and distribution

        '
      operationId: claimReward
      tags:
      - Reward Management
      security:
      - BearerAuth: []
      parameters:
      - name: rewardId
        in: path
        required: true
        schema:
          type: string
          format: uuid
        description: Reward unique identifier
      requestBody:
        required: false
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ClaimRewardRequest'
      responses:
        '200':
          description: Reward claimed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClaimRewardResponse'
        '400':
          description: Invalid request - claim requirements not met
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '403':
          description: Forbidden - reward not available to this player
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '404':
          description: Reward not found
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '409':
          description: Conflict - reward already claimed or expired
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '429':
          description: Too many requests - claim rate limit exceeded
          headers:
            Retry-After:
              schema:
                type: integer
                example: 30
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /achievements:
    get:
      summary: List achievements with filtering
      description: '**Enterprise-grade achievement listing endpoint**

        Supports filtering by category, difficulty, completion status, and progress.

        Optimized for achievement tracking and progress visualization.

        **Performance:** <25ms P95, cached for 5 minutes

        '
      operationId: listAchievements
      tags:
      - Achievement System
      parameters:
      - name: category
        in: query
        schema:
          type: string
          enum:
          - combat
          - exploration
          - social
          - crafting
          - collection
          - progression
          - special
          - all
          default: all
        description: Filter by achievement category
      - name: difficulty
        in: query
        schema:
          type: string
          enum:
          - easy
          - medium
          - hard
          - legendary
          - all
          default: all
        description: Filter by difficulty level
      - name: completion_status
        in: query
        schema:
          type: string
          enum:
          - not_started
          - in_progress
          - completed
          - all
          default: all
        description: Filter by completion status
      - name: player_id
        in: query
        schema:
          type: string
          format: uuid
        description: Filter achievements for specific player
      responses:
        '200':
          description: Achievements retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AchievementListResponse'
        '400':
          description: Invalid request - malformed query parameters
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '429':
          description: Too many requests - rate limit exceeded
          headers:
            Retry-After:
              schema:
                type: integer
                example: 60
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /achievements/{achievementId}/progress:
    get:
      summary: Get achievement progress
      description: '**Enterprise-grade achievement progress endpoint**

        Retrieves detailed progress information for specific achievement.

        Critical for achievement tracking and UI updates.

        **Performance:** <10ms P95, cached per player

        '
      operationId: getAchievementProgress
      tags:
      - Achievement System
      parameters:
      - name: achievementId
        in: path
        required: true
        schema:
          type: string
          format: uuid
        description: Achievement unique identifier
      - name: player_id
        in: query
        required: true
        schema:
          type: string
          format: uuid
        description: Player identifier
      responses:
        '200':
          description: Achievement progress retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AchievementProgressResponse'
        '404':
          description: Achievement or player not found
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '429':
          description: Too many requests - rate limit exceeded
          headers:
            Retry-After:
              schema:
                type: integer
                example: 30
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    post:
      summary: Update achievement progress
      description: '**Enterprise-grade achievement progress update endpoint**

        Processes progress updates from game events and player actions.

        Validates progress logic and handles achievement unlocking.

        **Performance:** <20ms P95, includes achievement checking

        '
      operationId: updateAchievementProgress
      tags:
      - Achievement System
      security:
      - BearerAuth: []
      parameters:
      - name: achievementId
        in: path
        required: true
        schema:
          type: string
          format: uuid
        description: Achievement unique identifier
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateAchievementProgressRequest'
      responses:
        '200':
          description: Achievement progress updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateAchievementProgressResponse'
        '400':
          description: Invalid request - progress validation failed
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '404':
          description: Achievement not found
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '409':
          description: Conflict - achievement already completed
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
  /incentives:
    get:
      summary: List active incentive programs
      description: '**Enterprise-grade incentive programs listing endpoint**

        Retrieves currently active incentive programs, events, and special offers.

        Optimized for promotional content and player engagement.

        **Performance:** <15ms P95, cached with 1-minute TTL

        '
      operationId: listIncentivePrograms
      tags:
      - Incentive Programs
      parameters:
      - name: program_type
        in: query
        schema:
          type: string
          enum:
          - event
          - promotion
          - seasonal
          - partnership
          - all
          default: all
        description: Filter by program type
      - name: active_only
        in: query
        schema:
          type: boolean
          default: true
        description: Show only currently active programs
      - name: player_eligible
        in: query
        schema:
          type: string
          format: uuid
        description: Filter programs eligible for specific player
      responses:
        '200':
          description: Incentive programs retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IncentiveProgramListResponse'
        '400':
          description: Invalid request - malformed query parameters
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '429':
          description: Too many requests - rate limit exceeded
          headers:
            Retry-After:
              schema:
                type: integer
                example: 60
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
    post:
      summary: Create incentive program
      description: '**Enterprise-grade incentive program creation endpoint**

        Creates new incentive programs with complex reward structures and targeting.

        Validates business rules and marketing effectiveness.

        **Performance:** <80ms P95, includes program optimization

        '
      operationId: createIncentiveProgram
      tags:
      - Incentive Programs
      security:
      - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateIncentiveProgramRequest'
      responses:
        '201':
          description: Incentive program created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IncentiveProgramResponse'
        '400':
          description: Invalid request - validation failed
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '403':
          description: Forbidden - insufficient permissions
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        '409':
          description: Conflict - program name or dates conflict
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                - code
                - message
                properties:
                  code:
                    type: integer
                    example: 500
                    format: int32
                    minimum: 100
                    maximum: 599
                  message:
                    type: string
                    example: Internal server error
                    maxLength: 1000
                  details:
                    type: object
                    description: Additional error details
                description: Standard error response format
components:
  responses:
    HealthBatchSuccess:
      description: Batch health results retrieved successfully
      headers:
        Cache-Control:
          schema:
            type: string
            example: no-cache
        X-Processing-Time:
          schema:
            type: integer
            example: 15
            description: Processing time in milliseconds
      content:
        application/json:
          schema:
            type: object
            required:
            - results
            - total_time_ms
            properties:
              results:
                type: array
                items:
                  type: object
                  required:
                  - status
                  - timestamp
                  properties:
                    status:
                      type: string
                      enum:
                      - healthy
                      - degraded
                      - unhealthy
                      example: healthy
                      maxLength: 255
                    domain:
                      type: string
                      example: service-name
                      maxLength: 255
                    timestamp:
                      type: string
                      format: date-time
                      example: '2025-12-28T10:00:00Z'
                      maxLength: 255
                    version:
                      type: string
                      example: 1.0.0
                      maxLength: 50
                    uptime_seconds:
                      type: integer
                      example: 3600
                      minimum: 0
                    active_connections:
                      type: integer
                      example: 1500
                      minimum: 0
                  description: 'BACKEND NOTE: Fields ordered for struct alignment
                    (large → small). Expected memory savings: 30-50%.'
                description: Health status for each requested service
              total_time_ms:
                type: integer
                description: Total processing time in milliseconds
    RewardRetrieved:
      description: Reward retrieved successfully
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/RewardResponse'
    RewardUpdated:
      description: Reward updated successfully
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/RewardResponse'
    RewardCreated:
      description: Reward created successfully
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/RewardResponse'
    RewardClaimed:
      description: Reward claimed successfully
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ClaimRewardResponse'
    AchievementRetrieved:
      description: Achievement retrieved successfully
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AchievementResponse'
    AchievementProgressUpdated:
      description: Achievement progress updated successfully
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/UpdateAchievementProgressResponse'
    IncentiveProgramRetrieved:
      description: Incentive program retrieved successfully
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/IncentiveProgramResponse'
    IncentiveProgramCreated:
      description: Incentive program created successfully
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/IncentiveProgramResponse'
  schemas:
    Reward:
      type: object
      required:
      - id
      - name
      - reward_type
      - value
      - created_at
      - is_active
      properties:
        id:
          type: string
          format: uuid
          description: Reward unique identifier
        name:
          type: string
          minLength: 3
          maxLength: 100
          description: Reward display name
          example: Daily Login Bonus
        description:
          type: string
          maxLength: 1000
          description: Reward description and details
        reward_type:
          type: string
          enum:
          - currency
          - item
          - experience
          - achievement
          - title
          - cosmetic
          - boost
          description: Type of reward
          example: currency
        value:
          type: object
          description: Reward value (depends on type)
          additionalProperties: true
          example:
            amount: 500
            currency_type: eddies
        requirements:
          type: array
          items:
            $ref: '#/components/schemas/RewardRequirement'
          description: Requirements to claim this reward
        claim_limit:
          type: integer
          minimum: 1
          description: Maximum claims per player
          example: 1
        created_at:
          type: string
          format: date-time
          description: Reward creation timestamp
          example: '2025-12-21T10:00:00Z'
        expires_at:
          type: string
          format: date-time
          description: Reward expiration date
        is_active:
          type: boolean
          description: Whether reward is currently active
          example: true
        total_claims:
          type: integer
          minimum: 0
          description: Total number of times this reward has been claimed
          example: 15420
      description: '"BACKEND NOTE: Fields ordered for struct alignment (large → small).

        Expected memory savings: 30-50%. Reward data optimized for frequent access."

        '
    RewardRequirement:
      type: object
      required:
      - type
      - condition
      properties:
        type:
          type: string
          enum:
          - level
          - achievement
          - quest
          - purchase
          - time
          - custom
          description: Type of requirement
          example: level
        condition:
          type: object
          description: Specific condition details
          additionalProperties: true
          example:
            minimum_level: 10
        description:
          type: string
          maxLength: 200
          description: Human-readable requirement description
      description: '"BACKEND NOTE: Flexible requirement system supports complex logic.

        Conditions validated at claim time to prevent exploitation."

        '
    CreateRewardRequest:
      type: object
      required:
      - name
      - reward_type
      - value
      properties:
        name:
          type: string
          minLength: 3
          maxLength: 100
          description: Desired reward name
          example: Weekly Challenge Reward
        description:
          type: string
          minLength: 10
          maxLength: 1000
          description: Reward description
        reward_type:
          type: string
          enum:
          - currency
          - item
          - experience
          - achievement
          - title
          - cosmetic
          - boost
          description: Type of reward to create
        value:
          type: object
          description: Reward value configuration
          additionalProperties: true
        requirements:
          type: array
          items:
            $ref: '#/components/schemas/RewardRequirement'
          maxItems: 10
          description: Requirements for claiming
        claim_limit:
          type: integer
          minimum: 1
          maximum: 10000
          default: 1
          description: Maximum claims per player
        expires_at:
          type: string
          format: date-time
          description: Optional expiration date
        target_players:
          type: array
          items:
            type: string
            format: uuid
          description: Specific players this reward is for (empty = all eligible)
      description: '"BACKEND NOTE: Comprehensive reward creation with targeting.

        Validation ensures balanced reward economy."

        '
    UpdateRewardRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 3
          maxLength: 100
          description: New reward name
        description:
          type: string
          minLength: 10
          maxLength: 1000
          description: New description
        value:
          type: object
          description: Updated reward value
          additionalProperties: true
        requirements:
          type: array
          items:
            $ref: '#/components/schemas/RewardRequirement'
          maxItems: 10
          description: Replace requirements
        claim_limit:
          type: integer
          minimum: 1
          maximum: 10000
          description: New claim limit
        expires_at:
          type: string
          format: date-time
          description: New expiration date
        is_active:
          type: boolean
          description: Activate/deactivate reward
      description: '"BACKEND NOTE: Partial updates supported. Critical for live events.

        Impact assessment required for active rewards."

        '
    RewardResponse:
      type: object
      required:
      - reward
      properties:
        reward:
          $ref: '#/components/schemas/Reward'
        claim_status:
          type: object
          description: Claim status for current player (if authenticated)
          properties:
            can_claim:
              type: boolean
              example: true
            times_claimed:
              type: integer
              minimum: 0
              example: 0
            next_claim_available:
              type: string
              format: date-time
              description: When player can claim again
      description: '"BACKEND NOTE: Includes player-specific claim status.

        Critical for UI reward availability indicators."

        '
    RewardListResponse:
      type: object
      required:
      - rewards
      - total_count
      - has_more
      properties:
        rewards:
          type: array
          items:
            $ref: '#/components/schemas/Reward'
          description: List of rewards
        total_count:
          type: integer
          minimum: 0
          description: Total number of rewards matching criteria
          example: 47
        has_more:
          type: boolean
          description: Whether there are more results available
          example: true
        page:
          type: integer
          minimum: 1
          description: Current page number
          example: 1
        limit:
          type: integer
          minimum: 1
          maximum: 100
          description: Items per page
          example: 20
      description: '"BACKEND NOTE: Paginated reward list with metadata.

        Optimized for reward catalog browsing."

        '
    ClaimRewardRequest:
      type: object
      properties:
        claim_reason:
          type: string
          maxLength: 200
          description: Optional reason for claiming
          example: Completed daily quest
        metadata:
          type: object
          description: Additional claim metadata
          additionalProperties: true
      description: '"BACKEND NOTE: Optional metadata for analytics.

        Reason helps with reward attribution."

        '
    ClaimRewardResponse:
      type: object
      required:
      - reward_id
      - claimed_at
      - reward_value
      properties:
        reward_id:
          type: string
          format: uuid
          description: Claimed reward identifier
        claimed_at:
          type: string
          format: date-time
          description: Claim timestamp
        reward_value:
          type: object
          description: Actual reward value granted
          additionalProperties: true
        total_claims:
          type: integer
          minimum: 0
          description: Updated total claims for this reward
        next_claim_available:
          type: string
          format: date-time
          description: When player can claim this reward again (if limited)
      description: '"BACKEND NOTE: Immediate feedback on successful claims.

        Includes timing for UI cooldown displays."

        '
    Achievement:
      type: object
      required:
      - id
      - name
      - category
      - difficulty
      - points_value
      - is_active
      properties:
        id:
          type: string
          format: uuid
          description: Achievement unique identifier
        name:
          type: string
          minLength: 3
          maxLength: 100
          description: Achievement display name
          example: Cyberpunk Explorer
        description:
          type: string
          maxLength: 1000
          description: Achievement description and unlock conditions
        category:
          type: string
          enum:
          - combat
          - exploration
          - social
          - crafting
          - collection
          - progression
          - special
          description: Achievement category
          example: exploration
        difficulty:
          type: string
          enum:
          - easy
          - medium
          - hard
          - legendary
          description: Achievement difficulty level
          example: medium
        points_value:
          type: integer
          minimum: 1
          maximum: 1000
          description: Achievement point value
          example: 50
        unlock_conditions:
          type: array
          items:
            $ref: '#/components/schemas/AchievementCondition'
          description: Conditions required to unlock
        rewards:
          type: array
          items:
            $ref: '#/components/schemas/Reward'
          description: Rewards granted upon completion
        is_active:
          type: boolean
          description: Whether achievement is currently active
          example: true
        total_completions:
          type: integer
          minimum: 0
          description: Total number of players who completed this achievement
          example: 15420
      description: '"BACKEND NOTE: Achievement data includes unlock logic and rewards.

        Optimized for progress tracking and completion checking."

        '
    AchievementCondition:
      type: object
      required:
      - type
      - target_value
      properties:
        type:
          type: string
          enum:
          - stat_reached
          - item_collected
          - quest_completed
          - enemy_defeated
          - location_visited
          - social_action
          - time_played
          - custom
          description: Type of condition
          example: stat_reached
        target_value:
          type: integer
          minimum: 1
          description: Target value to reach
          example: 100
        current_value:
          type: integer
          minimum: 0
          description: Current progress value
          example: 75
        description:
          type: string
          maxLength: 200
          description: Human-readable condition description
      description: '"BACKEND NOTE: Progress tracking with current vs target values.

        Flexible condition system supports various achievement types."

        '
    AchievementResponse:
      type: object
      required:
      - achievement
      properties:
        achievement:
          $ref: '#/components/schemas/Achievement'
      description: '"BACKEND NOTE: Single achievement response wrapper.

        Includes full achievement data and metadata."

        '
    AchievementListResponse:
      type: object
      required:
      - achievements
      - total_count
      properties:
        achievements:
          type: array
          items:
            $ref: '#/components/schemas/Achievement'
          description: List of achievements
        total_count:
          type: integer
          minimum: 0
          description: Total number of achievements
          example: 150
        player_progress:
          type: object
          description: Player's progress summary (if player_id provided)
          properties:
            total_completed:
              type: integer
              minimum: 0
              example: 45
            total_points:
              type: integer
              minimum: 0
              example: 2150
            completion_percentage:
              type: number
              minimum: 0
              maximum: 100
              example: 30.0
      description: '"BACKEND NOTE: Achievement list with optional player progress.

        Critical for achievement UI and progress tracking."

        '
    AchievementProgressResponse:
      type: object
      required:
      - achievement_id
      - player_id
      - conditions
      - overall_progress
      properties:
        achievement_id:
          type: string
          format: uuid
          description: Achievement identifier
        player_id:
          type: string
          format: uuid
          description: Player identifier
        conditions:
          type: array
          items:
            $ref: '#/components/schemas/AchievementCondition'
          description: Detailed condition progress
        overall_progress:
          type: object
          required:
          - percentage
          - is_completed
          - completed_at
          properties:
            percentage:
              type: number
              minimum: 0
              maximum: 100
              description: Overall completion percentage
              example: 75.5
            is_completed:
              type: boolean
              description: Whether achievement is completed
              example: false
            completed_at:
              type: string
              format: date-time
              description: Completion timestamp (if completed)
        next_milestone:
          type: string
          description: Description of next progress milestone
          example: Reach 100 enemies defeated
      description: '"BACKEND NOTE: Detailed progress information for UI display.

        Overall progress calculated from condition completion."

        '
    UpdateAchievementProgressRequest:
      type: object
      required:
      - event_type
      - event_data
      properties:
        event_type:
          type: string
          enum:
          - stat_update
          - item_acquired
          - quest_completed
          - enemy_defeated
          - location_visited
          - social_interaction
          - time_accumulated
          description: Type of game event
          example: enemy_defeated
        event_data:
          type: object
          description: Event-specific data for progress calculation
          additionalProperties: true
          example:
            enemy_type: ganger
            count: 5
        player_id:
          type: string
          format: uuid
          description: Player identifier (required for service-to-service calls)
      description: '"BACKEND NOTE: Event-driven progress updates from game systems.

        Flexible event data supports various achievement types."

        '
    UpdateAchievementProgressResponse:
      type: object
      required:
      - achievements_updated
      - achievements_unlocked
      properties:
        achievements_updated:
          type: integer
          minimum: 0
          description: Number of achievements with updated progress
          example: 3
        achievements_unlocked:
          type: integer
          minimum: 0
          description: Number of achievements newly unlocked
          example: 1
        unlocked_achievements:
          type: array
          items:
            $ref: '#/components/schemas/Achievement'
          description: Details of newly unlocked achievements
        progress_changes:
          type: array
          items:
            type: object
            properties:
              achievement_id:
                type: string
                format: uuid
              old_percentage:
                type: number
                minimum: 0
                maximum: 100
              new_percentage:
                type: number
                minimum: 0
                maximum: 100
          description: Progress changes for updated achievements
      description: '"BACKEND NOTE: Immediate feedback on achievement updates.

        Critical for real-time achievement notifications."

        '
    IncentiveProgram:
      type: object
      required:
      - id
      - name
      - program_type
      - start_date
      - end_date
      - is_active
      properties:
        id:
          type: string
          format: uuid
          description: Program unique identifier
        name:
          type: string
          minLength: 3
          maxLength: 100
          description: Program display name
          example: Summer Login Event
        description:
          type: string
          maxLength: 2000
          description: Program description and rules
        program_type:
          type: string
          enum:
          - event
          - promotion
          - seasonal
          - partnership
          - challenge
          description: Type of incentive program
          example: seasonal
        start_date:
          type: string
          format: date-time
          description: Program start date
        end_date:
          type: string
          format: date-time
          description: Program end date
        target_audience:
          type: object
          description: Eligibility criteria for participants
          properties:
            min_level:
              type: integer
              minimum: 1
            max_level:
              type: integer
            regions:
              type: array
              items:
                type: string
            player_segments:
              type: array
              items:
                type: string
        rewards:
          type: array
          items:
            $ref: '#/components/schemas/Reward'
          description: Available rewards in this program
        objectives:
          type: array
          items:
            type: object
            properties:
              description:
                type: string
                maxLength: 500
              reward:
                $ref: '#/components/schemas/Reward'
              progress_max:
                type: integer
                minimum: 1
          description: Program objectives and associated rewards
        is_active:
          type: boolean
          description: Whether program is currently active
          example: true
        total_participants:
          type: integer
          minimum: 0
          description: Current number of participants
          example: 50000
      description: '"BACKEND NOTE: Complex incentive programs with objectives and
        targeting.

        Optimized for event management and player engagement."

        '
    CreateIncentiveProgramRequest:
      type: object
      required:
      - name
      - program_type
      - start_date
      - end_date
      - rewards
      properties:
        name:
          type: string
          minLength: 3
          maxLength: 100
          description: Program name
        description:
          type: string
          maxLength: 2000
          description: Program description and rules
        program_type:
          type: string
          enum:
          - event
          - promotion
          - seasonal
          - partnership
          - challenge
          description: Type of program
        start_date:
          type: string
          format: date-time
          description: Start date
        end_date:
          type: string
          format: date-time
          description: End date
        target_audience:
          type: object
          description: Eligibility criteria
          properties:
            min_level:
              type: integer
              minimum: 1
            max_level:
              type: integer
            regions:
              type: array
              items:
                type: string
            player_segments:
              type: array
              items:
                type: string
        rewards:
          type: array
          items:
            $ref: '#/components/schemas/Reward'
          minItems: 1
          description: Program rewards
        objectives:
          type: array
          items:
            type: object
            required:
            - description
            - reward
            properties:
              description:
                type: string
                maxLength: 500
              reward:
                $ref: '#/components/schemas/Reward'
              progress_max:
                type: integer
                minimum: 1
          description: Program objectives
        notification_settings:
          type: object
          description: Settings for program notifications
          properties:
            announce_start:
              type: boolean
              default: true
            progress_updates:
              type: boolean
              default: true
            completion_celebration:
              type: boolean
              default: true
      description: '"BACKEND NOTE: Comprehensive program creation with complex targeting.

        Validation ensures balanced incentive economy."

        '
    IncentiveProgramResponse:
      type: object
      required:
      - program
      properties:
        program:
          $ref: '#/components/schemas/IncentiveProgram'
        player_eligibility:
          type: object
          description: Eligibility status for current player (if authenticated)
          properties:
            is_eligible:
              type: boolean
              example: true
            ineligibility_reasons:
              type: array
              items:
                type: string
            progress:
              type: object
              description: Current player progress in program
      description: '"BACKEND NOTE: Includes player-specific eligibility and progress.

        Critical for personalized incentive program display."

        '
    IncentiveProgramListResponse:
      type: object
      required:
      - programs
      - total_count
      properties:
        programs:
          type: array
          items:
            $ref: '#/components/schemas/IncentiveProgram'
          description: List of incentive programs
        total_count:
          type: integer
          minimum: 0
          description: Total number of programs
          example: 12
        active_count:
          type: integer
          minimum: 0
          description: Number of currently active programs
          example: 5
      description: '"BACKEND NOTE: Program list with activity summary.

        Optimized for promotional content browsing."

        '
    WebSocketHealthMessage:
      type: object
      required:
      - type
      - timestamp
      - health
      properties:
        type:
          type: string
          enum:
          - health_update
          - health_alert
          - service_down
          example: health_update
          maxLength: 255
        timestamp:
          type: string
          format: date-time
          maxLength: 255
        message_timestamp:
          type: string
          format: date-time
          description: Timestamp of the health message
          maxLength: 1000
        health:
          type: object
          required:
          - status
          - timestamp
          properties:
            status:
              type: string
              enum:
              - healthy
              - degraded
              - unhealthy
              example: healthy
              maxLength: 255
            domain:
              type: string
              example: service-name
              maxLength: 255
            timestamp:
              type: string
              format: date-time
              example: '2025-12-28T10:00:00Z'
              maxLength: 255
            version:
              type: string
              example: 1.0.0
              maxLength: 50
            uptime_seconds:
              type: integer
              example: 3600
              minimum: 0
            active_connections:
              type: integer
              example: 1500
              minimum: 0
          description: 'BACKEND NOTE: Fields ordered for struct alignment (large →
            small). Expected memory savings: 30-50%.'
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small).
        Expected memory savings: 30-50%.'
    Error:
      type: object
      required:
      - code
      - message
      properties:
        code:
          type: integer
          example: 500
          format: int32
          minimum: 100
          maximum: 599
        message:
          type: string
          example: Internal server error
          maxLength: 1000
        details:
          type: object
          description: Additional error details
      description: Standard error response format
    HealthResponse:
      type: object
      required:
      - status
      - timestamp
      properties:
        status:
          type: string
          enum:
          - healthy
          - degraded
          - unhealthy
          example: healthy
          maxLength: 255
        domain:
          type: string
          example: service-name
          maxLength: 255
        timestamp:
          type: string
          format: date-time
          example: '2025-12-28T10:00:00Z'
          maxLength: 255
        version:
          type: string
          example: 1.0.0
          maxLength: 50
        uptime_seconds:
          type: integer
          example: 3600
          minimum: 0
        active_connections:
          type: integer
          example: 1500
          minimum: 0
      description: 'BACKEND NOTE: Fields ordered for struct alignment (large → small).
        Expected memory savings: 30-50%.'
    PaginationMeta:
      type: object
      required:
      - total_count
      - page_count
      - current_page
      - per_page
      properties:
        total_count:
          type: integer
          minimum: 0
          example: 150
          description: Total number of items across all pages
        page_count:
          type: integer
          minimum: 0
          example: 8
          description: Total number of pages
        current_page:
          type: integer
          minimum: 1
          example: 1
          description: Current page number
        per_page:
          type: integer
          minimum: 1
          maximum: 100
          example: 20
          description: Number of items per page
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT Bearer token authentication
