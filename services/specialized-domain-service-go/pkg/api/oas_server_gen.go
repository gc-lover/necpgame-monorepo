// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// AcceptQuest implements acceptQuest operation.
	//
	// Accept a quest.
	//
	// POST /api/v1/quests/{quest_id}/accept
	AcceptQuest(ctx context.Context, params AcceptQuestParams) (AcceptQuestRes, error)
	// CompleteQuest implements completeQuest operation.
	//
	// Complete a quest.
	//
	// POST /api/v1/quests/{quest_id}/complete
	CompleteQuest(ctx context.Context, params CompleteQuestParams) (CompleteQuestRes, error)
	// GetQuest implements getQuest operation.
	//
	// Get quest details.
	//
	// GET /api/v1/quests/{quest_id}
	GetQuest(ctx context.Context, params GetQuestParams) (GetQuestRes, error)
	// GetQuestProgress implements getQuestProgress operation.
	//
	// Get quest progress.
	//
	// GET /api/v1/quests/{quest_id}/progress
	GetQuestProgress(ctx context.Context, params GetQuestProgressParams) (GetQuestProgressRes, error)
	// GetQuests implements getQuests operation.
	//
	// Get available quests.
	//
	// GET /api/v1/quests
	GetQuests(ctx context.Context, params GetQuestsParams) (GetQuestsRes, error)
	// GetSeattleHistory implements getSeattleHistory operation.
	//
	// Получить исторический контекст Сиэтла за год.
	//
	// GET /api/v1/seattle/quests/history/{year}
	GetSeattleHistory(ctx context.Context, params GetSeattleHistoryParams) (GetSeattleHistoryRes, error)
	// GetSeattleLandmarks implements getSeattleLandmarks operation.
	//
	// Получить достопримечательности Сиэтла.
	//
	// GET /api/v1/seattle/quests/landmarks
	GetSeattleLandmarks(ctx context.Context, params GetSeattleLandmarksParams) (GetSeattleLandmarksRes, error)
	// GetSeattleQuest implements getSeattleQuest operation.
	//
	// Получить детали квеста Сиэтла.
	//
	// GET /api/v1/seattle/quests/{quest_id}
	GetSeattleQuest(ctx context.Context, params GetSeattleQuestParams) (GetSeattleQuestRes, error)
	// GetSeattleQuestProgress implements getSeattleQuestProgress operation.
	//
	// Получить прогресс игрока по квесту.
	//
	// GET /api/v1/seattle/quests/{quest_id}/progress
	GetSeattleQuestProgress(ctx context.Context, params GetSeattleQuestProgressParams) (GetSeattleQuestProgressRes, error)
	// GetSeattleQuests implements getSeattleQuests operation.
	//
	// Получить все квесты Сиэтла 2020-2029.
	//
	// GET /api/v1/seattle/quests
	GetSeattleQuests(ctx context.Context, params GetSeattleQuestsParams) (GetSeattleQuestsRes, error)
	// GetSeattleRoutes implements getSeattleRoutes operation.
	//
	// Получить туристические маршруты по Сиэтлу.
	//
	// GET /api/v1/seattle/quests/routes
	GetSeattleRoutes(ctx context.Context, params GetSeattleRoutesParams) (GetSeattleRoutesRes, error)
	// QuestHealthCheck implements questHealthCheck operation.
	//
	// Quest service health check.
	//
	// GET /api/v1/quests/health
	QuestHealthCheck(ctx context.Context) (*HealthResponse, error)
	// ReloadQuestContent implements reloadQuestContent operation.
	//
	// Импортировать контентный квест из YAML в БД.
	//
	// POST /api/v1/quests/content/reload
	ReloadQuestContent(ctx context.Context, req *ReloadQuestContentRequest) (ReloadQuestContentRes, error)
	// UpdateQuestProgress implements updateQuestProgress operation.
	//
	// Update quest progress.
	//
	// POST /api/v1/quests/{quest_id}/progress
	UpdateQuestProgress(ctx context.Context, req *UpdateProgressRequest, params UpdateQuestProgressParams) (UpdateQuestProgressRes, error)
	// UpdateSeattleQuestProgress implements updateSeattleQuestProgress operation.
	//
	// Обновить прогресс по квесту.
	//
	// POST /api/v1/seattle/quests/{quest_id}/progress
	UpdateSeattleQuestProgress(ctx context.Context, req *UpdateQuestProgressRequest, params UpdateSeattleQuestProgressParams) (UpdateSeattleQuestProgressRes, error)
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
