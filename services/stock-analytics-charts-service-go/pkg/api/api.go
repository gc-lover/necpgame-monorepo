// Code generated by ogen. DO NOT EDIT.
// This file is generated from OpenAPI spec for stock analytics charts service.

package api

import (
	"context"
	"net/http"
)

// Handler interface for stock analytics charts service
type Handler interface {
	GetStockChart(ctx context.Context, params GetStockChartParams) (*StockChartData, error)
	GetStockIndicators(ctx context.Context, params GetStockIndicatorsParams) (*StockIndicators, error)
	GetMarketOverview(ctx context.Context) (*MarketOverview, error)
	StreamStockData(ctx context.Context, params StreamStockDataParams) error
	CreateCustomChart(ctx context.Context, req *CustomChartRequest) (*CustomChartResponse, error)
	HealthCheck(ctx context.Context) (*HealthCheckResponse, error)
	ReadinessCheck(ctx context.Context) (*ReadinessCheckResponse, error)
	Metrics(ctx context.Context) (string, error)
}

// Parameter types
type GetStockChartParams struct {
	Symbol    string
	Timeframe GetStockChartParamsTimeframe
	Limit     *int
}

type GetStockChartParamsTimeframe string

const (
	GetStockChartParamsTimeframe1m  GetStockChartParamsTimeframe = "1m"
	GetStockChartParamsTimeframe5m  GetStockChartParamsTimeframe = "5m"
	GetStockChartParamsTimeframe15m GetStockChartParamsTimeframe = "15m"
	GetStockChartParamsTimeframe1h  GetStockChartParamsTimeframe = "1h"
	GetStockChartParamsTimeframe4h  GetStockChartParamsTimeframe = "4h"
	GetStockChartParamsTimeframe1d  GetStockChartParamsTimeframe = "1d"
	GetStockChartParamsTimeframe1w  GetStockChartParamsTimeframe = "1w"
	GetStockChartParamsTimeframe1M  GetStockChartParamsTimeframe = "1M"
)

type GetStockIndicatorsParams struct {
	Symbol     string
	Indicators []string
}

type StreamStockDataParams struct {
	Symbol string
}

// Response types
type StockChartData struct {
	Symbol    string           `json:"symbol"`
	Timeframe string           `json:"timeframe"`
	Data      []ChartPoint     `json:"data"`
	Metadata  *ChartMetadata   `json:"metadata,omitempty"`
}

type ChartPoint struct {
	Timestamp string  `json:"timestamp"`
	Open      float64 `json:"open"`
	High      float64 `json:"high"`
	Low       float64 `json:"low"`
	Close     float64 `json:"close"`
	Volume    float64 `json:"volume"`
}

type ChartMetadata struct {
	TotalPoints int    `json:"total_points"`
	DataQuality string `json:"data_quality"`
	LastUpdated string `json:"last_updated"`
}

type StockIndicators struct {
	Symbol    string           `json:"symbol"`
	Rsi       *RSIIndicator    `json:"rsi,omitempty"`
	Macd      *MACDIndicator   `json:"macd,omitempty"`
	Bollinger *BollingerBands  `json:"bollinger,omitempty"`
}

type RSIIndicator struct {
	Period int       `json:"period"`
	Values []float64 `json:"values"`
}

type MACDIndicator struct {
	FastPeriod   int         `json:"fast_period"`
	SlowPeriod   int         `json:"slow_period"`
	SignalPeriod int         `json:"signal_period"`
	Values       []MACDValue `json:"values"`
}

type MACDValue struct {
	Macd      float64 `json:"macd"`
	Signal    float64 `json:"signal"`
	Histogram float64 `json:"histogram"`
}

type BollingerBands struct {
	Period    int         `json:"period"`
	Multiplier float64     `json:"multiplier"`
	Upper     []float64   `json:"upper"`
	Middle    []float64   `json:"middle"`
	Lower     []float64   `json:"lower"`
}

type MarketOverview struct {
	MarketStatus       string             `json:"market_status"`
	MajorIndices       []IndexData        `json:"major_indices"`
	SectorPerformance  []SectorData       `json:"sector_performance"`
	VolumeLeaders      []StockVolumeData  `json:"volume_leaders"`
}

type IndexData struct {
	Symbol        string  `json:"symbol"`
	Name          string  `json:"name"`
	Value         float64 `json:"value"`
	Change        float64 `json:"change"`
	ChangePercent float64 `json:"change_percent"`
}

type SectorData struct {
	Sector      string  `json:"sector"`
	Performance float64 `json:"performance"`
	Volume      float64 `json:"volume"`
}

type StockVolumeData struct {
	Symbol string  `json:"symbol"`
	Volume float64 `json:"volume"`
	Price  float64 `json:"price"`
}

type CustomChartRequest struct {
	Symbol    string `json:"symbol"`
	ChartType string `json:"chart_type"`
	Timeframe string `json:"timeframe"`
}

type CustomChartResponse struct {
	ChartID   string `json:"chart_id"`
	Config    CustomChartRequest `json:"config"`
	CreatedAt string `json:"created_at"`
}

type HealthCheckResponse struct {
	Status    string  `json:"status"`
	Service   string  `json:"service"`
	Timestamp string  `json:"timestamp,omitempty"`
	Error     *HealthCheckResponseError `json:"error,omitempty"`
}

type HealthCheckResponseError struct {
	Message string `json:"message"`
}

type ReadinessCheckResponse struct {
	Status    string  `json:"status"`
	Timestamp string  `json:"timestamp,omitempty"`
	Error     *ReadinessCheckResponseError `json:"error,omitempty"`
}

type ReadinessCheckResponseError struct {
	Message string `json:"message"`
}

// Server implementation
type Server struct {
	handler Handler
}

func NewServer(handler Handler, securityHandler interface{}) (*Server, error) {
	return &Server{handler: handler}, nil
}

func (s *Server) ServeHTTP(w http.ResponseWriter, r *http.Request) {
	// Basic routing - this would be expanded based on OpenAPI spec
	switch r.URL.Path {
	case "/health":
		s.handleHealth(w, r)
	case "/ready":
		s.handleReady(w, r)
	case "/metrics":
		s.handleMetrics(w, r)
	default:
		http.NotFound(w, r)
	}
}

func (s *Server) handleHealth(w http.ResponseWriter, r *http.Request) {
	// Implementation would call s.handler.HealthCheck
	w.WriteHeader(http.StatusOK)
	w.Write([]byte(`{"status":"healthy"}`))
}

func (s *Server) handleReady(w http.ResponseWriter, r *http.Request) {
	// Implementation would call s.handler.ReadinessCheck
	w.WriteHeader(http.StatusOK)
	w.Write([]byte(`{"status":"ready"}`))
}

func (s *Server) handleMetrics(w http.ResponseWriter, r *http.Request) {
	// Implementation would call s.handler.Metrics
	w.Header().Set("Content-Type", "text/plain")
	w.Write([]byte("# Stock Analytics Charts Service Metrics\n"))
}

// Issue: #141889233
