// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// CreateAlert implements createAlert operation.
	//
	// Создаёт алерт по пользовательским условиям.
	// **Типы условий:**
	// - price_above - цена выше порога
	// - price_below - цена ниже порога
	// - rsi_above - RSI выше порога (>70 перекупленность)
	// - rsi_below - RSI ниже порога (<30 перепроданность)
	// - volume_spike - всплеск объёма торгов
	// **Каналы уведомлений:**
	// - in_game - внутриигровое уведомление
	// - email - email уведомление
	// - push - push уведомление.
	//
	// POST /api/v1/analytics/alerts
	CreateAlert(ctx context.Context, req *CreateAlertRequest) (CreateAlertRes, error)
	// DeleteAlert implements deleteAlert operation.
	//
	// Удаляет алерт из системы.
	//
	// DELETE /api/v1/analytics/alerts/{alert_id}
	DeleteAlert(ctx context.Context, params DeleteAlertParams) (DeleteAlertRes, error)
	// GetHeatmap implements getHeatmap operation.
	//
	// Возвращает тепловую карту для визуализации
	// производительности секторов.
	// **Данные:**
	// - Изменение цены по секторам (%)
	// - Объём торгов
	// - Количество тикеров в секторе
	// **Использование:**
	// - Быстрая оценка рынка
	// - Выявление трендов по секторам
	// - Корреляционный анализ.
	//
	// GET /api/v1/analytics/heatmap
	GetHeatmap(ctx context.Context, params GetHeatmapParams) (GetHeatmapRes, error)
	// GetMarketDashboard implements getMarketDashboard operation.
	//
	// Возвращает обзор рынка.
	// **Данные:**
	// - Лидеры роста (top gainers)
	// - Лидеры падения (top losers)
	// - События рынка (market events)
	// - Объём торгов (total volume)
	// **Использование:**
	// - Быстрый обзор рынка
	// - Выявление трендов
	// - Мониторинг событий.
	//
	// GET /api/v1/analytics/dashboards/market
	GetMarketDashboard(ctx context.Context) (GetMarketDashboardRes, error)
	// GetOrderBook implements getOrderBook operation.
	//
	// Возвращает данные стакана заявок (order book).
	// **Данные:**
	// - Лучшие bid/ask заявки
	// - Глубина стакана
	// - Spread (разница между bid и ask)
	// **Использование:**
	// - Анализ ликвидности
	// - Определение уровней поддержки/сопротивления
	// - Оценка spread для торговли.
	//
	// GET /api/v1/analytics/orderbook/{ticker}
	GetOrderBook(ctx context.Context, params GetOrderBookParams) (GetOrderBookRes, error)
	// GetPortfolioDashboard implements getPortfolioDashboard operation.
	//
	// Возвращает дашборд портфеля игрока.
	// **Данные:**
	// - P&L (Profit & Loss) - прибыль/убыток
	// - Распределение активов по секторам
	// - Риски портфеля
	// - Топ позиций (лучшие/худшие)
	// **Использование:**
	// - Мониторинг портфеля
	// - Диверсификация
	// - Risk management.
	//
	// GET /api/v1/analytics/dashboards/portfolio
	GetPortfolioDashboard(ctx context.Context) (GetPortfolioDashboardRes, error)
	// ListAlerts implements listAlerts operation.
	//
	// Возвращает алерты игрока с фильтрацией по активности.
	//
	// GET /api/v1/analytics/alerts
	ListAlerts(ctx context.Context, params ListAlertsParams) (ListAlertsRes, error)
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
