// Package api provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.5.1 DO NOT EDIT.
package api

import (
	"context"
	"encoding/json"
	"fmt"
	"net/http"
	"time"

	"github.com/go-chi/chi/v5"
	"github.com/oapi-codegen/runtime"
	openapi_types "github.com/oapi-codegen/runtime/types"
)

const (
	BearerAuthScopes = "BearerAuth.Scopes"
)

// Defines values for DecayCurve.
const (
	Exponential DecayCurve = "exponential"
	Linear      DecayCurve = "linear"
	None        DecayCurve = "none"
)

// Defines values for DurationType.
const (
	Instant   DurationType = "instant"
	LongTerm  DurationType = "long_term"
	Permanent DurationType = "permanent"
	ShortTerm DurationType = "short_term"
)

// Defines values for EventImpactStatus.
const (
	EventImpactStatusActive   EventImpactStatus = "active"
	EventImpactStatusExpired  EventImpactStatus = "expired"
	EventImpactStatusReversed EventImpactStatus = "reversed"
)

// Defines values for EventModifierType.
const (
	CompanySize         EventModifierType = "company_size"
	MarketVolatility    EventModifierType = "market_volatility"
	MediaCoverage       EventModifierType = "media_coverage"
	PlayerParticipation EventModifierType = "player_participation"
	SectorSynergy       EventModifierType = "sector_synergy"
)

// Defines values for EventType.
const (
	EventTypeCorporateScandal EventType = "corporate_scandal"
	EventTypeEconomicEvent    EventType = "economic_event"
	EventTypeFactionWar       EventType = "faction_war"
	EventTypeQuestCompleted   EventType = "quest_completed"
	EventTypeTechBreakthrough EventType = "tech_breakthrough"
	EventTypeTerritoryControl EventType = "territory_control"
)

// Defines values for StockEventHistoryEntryStatus.
const (
	StockEventHistoryEntryStatusActive   StockEventHistoryEntryStatus = "active"
	StockEventHistoryEntryStatusExpired  StockEventHistoryEntryStatus = "expired"
	StockEventHistoryEntryStatusReversed StockEventHistoryEntryStatus = "reversed"
)

// Defines values for GetAllActiveImpactsParamsEventType.
const (
	GetAllActiveImpactsParamsEventTypeCorporateScandal GetAllActiveImpactsParamsEventType = "corporate_scandal"
	GetAllActiveImpactsParamsEventTypeEconomicEvent    GetAllActiveImpactsParamsEventType = "economic_event"
	GetAllActiveImpactsParamsEventTypeFactionWar       GetAllActiveImpactsParamsEventType = "faction_war"
	GetAllActiveImpactsParamsEventTypeQuestCompleted   GetAllActiveImpactsParamsEventType = "quest_completed"
	GetAllActiveImpactsParamsEventTypeTechBreakthrough GetAllActiveImpactsParamsEventType = "tech_breakthrough"
	GetAllActiveImpactsParamsEventTypeTerritoryControl GetAllActiveImpactsParamsEventType = "territory_control"
)

// Defines values for GetStockEventHistoryParamsEventType.
const (
	CorporateScandal GetStockEventHistoryParamsEventType = "corporate_scandal"
	EconomicEvent    GetStockEventHistoryParamsEventType = "economic_event"
	FactionWar       GetStockEventHistoryParamsEventType = "faction_war"
	QuestCompleted   GetStockEventHistoryParamsEventType = "quest_completed"
	TechBreakthrough GetStockEventHistoryParamsEventType = "tech_breakthrough"
	TerritoryControl GetStockEventHistoryParamsEventType = "territory_control"
)

// Defines values for GetStockEventImpactsParamsStatus.
const (
	Active   GetStockEventImpactsParamsStatus = "active"
	Expired  GetStockEventImpactsParamsStatus = "expired"
	Reversed GetStockEventImpactsParamsStatus = "reversed"
)

// DecayCurve Кривая затухания эффекта:
// - none: Без затухания (permanent)
// - linear: Линейное затухание
// - exponential: Экспоненциальное затухание
type DecayCurve string

// DurationType Длительность воздействия:
// - instant: Мгновенное (с частичным откатом)
// - short_term: Краткосрочное (~1 неделя)
// - long_term: Долгосрочное (несколько недель)
// - permanent: Перманентное (банкротство, делистинг)
type DurationType string

// Error defines model for Error.
type Error struct {
	// Code Код ошибки
	Code *string `json:"code"`

	// Details Дополнительные детали ошибки
	Details *map[string]interface{} `json:"details"`

	// Error Тип ошибки
	Error string `json:"error"`

	// Message Сообщение об ошибке
	Message string `json:"message"`
}

// EventApplicationRequest Запрос применения события
type EventApplicationRequest struct {
	BaseImpactPercent float64 `json:"base_impact_percent"`

	// DecayCurve Кривая затухания эффекта:
	// - none: Без затухания (permanent)
	// - linear: Линейное затухание
	// - exponential: Экспоненциальное затухание
	DecayCurve DecayCurve `json:"decay_curve"`

	// DurationType Длительность воздействия:
	// - instant: Мгновенное (с частичным откатом)
	// - short_term: Краткосрочное (~1 неделя)
	// - long_term: Долгосрочное (несколько недель)
	// - permanent: Перманентное (банкротство, делистинг)
	DurationType DurationType `json:"duration_type"`

	// EventId ID источника события
	EventId string `json:"event_id"`

	// EventName Название события
	EventName string `json:"event_name"`

	// EventType Типы событий:
	// - quest_completed: Завершение квеста
	// - faction_war: Фракционная война
	// - territory_control: Смена контроля территории
	// - corporate_scandal: Корпоративный скандал
	// - tech_breakthrough: Технологический прорыв
	// - economic_event: Экономическое событие (кризис, подъем)
	EventType EventType `json:"event_type"`
	Modifiers *[]struct {
		Type  string                                  `json:"type"`
		Value EventApplicationRequest_Modifiers_Value `json:"value"`
	} `json:"modifiers,omitempty"`

	// Reason Причина ручного применения
	Reason  *string            `json:"reason,omitempty"`
	StockId openapi_types.UUID `json:"stock_id"`
}

// EventApplicationRequestModifiersValue0 defines model for .
type EventApplicationRequestModifiersValue0 = string

// EventApplicationRequestModifiersValue1 defines model for .
type EventApplicationRequestModifiersValue1 = float32

// EventApplicationRequest_Modifiers_Value defines model for EventApplicationRequest.Modifiers.Value.
type EventApplicationRequest_Modifiers_Value struct {
	union json.RawMessage
}

// EventImpact Воздействие события на акцию
type EventImpact struct {
	// AppliedAt Время применения
	AppliedAt time.Time `json:"applied_at"`

	// BaseImpactPercent Базовое влияние на цену (%)
	BaseImpactPercent float64    `json:"base_impact_percent"`
	CreatedAt         *time.Time `json:"created_at,omitempty"`

	// CurrentEffectPercent Текущий эффект с учетом decay
	CurrentEffectPercent *float64 `json:"current_effect_percent,omitempty"`

	// DecayCurve Кривая затухания эффекта:
	// - none: Без затухания (permanent)
	// - linear: Линейное затухание
	// - exponential: Экспоненциальное затухание
	DecayCurve DecayCurve `json:"decay_curve"`

	// DurationHours Длительность в часах
	DurationHours int `json:"duration_hours"`

	// DurationType Длительность воздействия:
	// - instant: Мгновенное (с частичным откатом)
	// - short_term: Краткосрочное (~1 неделя)
	// - long_term: Долгосрочное (несколько недель)
	// - permanent: Перманентное (банкротство, делистинг)
	DurationType DurationType `json:"duration_type"`

	// EventId ID источника события (quest_id, war_id, etc.)
	EventId string `json:"event_id"`

	// EventName Название события
	EventName string `json:"event_name"`

	// EventType Типы событий:
	// - quest_completed: Завершение квеста
	// - faction_war: Фракционная война
	// - territory_control: Смена контроля территории
	// - corporate_scandal: Корпоративный скандал
	// - tech_breakthrough: Технологический прорыв
	// - economic_event: Экономическое событие (кризис, подъем)
	EventType EventType `json:"event_type"`

	// ExpiresAt Время истечения
	ExpiresAt *time.Time `json:"expires_at"`

	// Id ID воздействия
	Id openapi_types.UUID `json:"id"`

	// Modifiers Модификаторы воздействия
	Modifiers *[]EventModifier `json:"modifiers,omitempty"`

	// Status Статус воздействия
	Status EventImpactStatus `json:"status"`

	// StockId ID акции
	StockId openapi_types.UUID `json:"stock_id"`

	// StockSymbol Тикер акции
	StockSymbol string `json:"stock_symbol"`

	// TotalImpactPercent Итоговое влияние с модификаторами (%)
	TotalImpactPercent float64    `json:"total_impact_percent"`
	UpdatedAt          *time.Time `json:"updated_at,omitempty"`
}

// EventImpactStatus Статус воздействия
type EventImpactStatus string

// EventModifier Модификатор воздействия события
type EventModifier struct {
	// EffectPercent Эффект модификатора (%)
	EffectPercent float64 `json:"effect_percent"`

	// Type Тип модификатора:
	// - player_participation: Количество участников
	// - sector_synergy: Синергия с сектором
	// - company_size: Размер компании
	// - media_coverage: Медиа освещенность
	// - market_volatility: Волатильность рынка
	Type EventModifierType `json:"type"`

	// Value Значение модификатора (число или enum)
	Value EventModifier_Value `json:"value"`
}

// EventModifierType Тип модификатора:
// - player_participation: Количество участников
// - sector_synergy: Синергия с сектором
// - company_size: Размер компании
// - media_coverage: Медиа освещенность
// - market_volatility: Волатильность рынка
type EventModifierType string

// EventModifierValue0 defines model for .
type EventModifierValue0 = string

// EventModifierValue1 defines model for .
type EventModifierValue1 = float32

// EventModifier_Value Значение модификатора (число или enum)
type EventModifier_Value struct {
	union json.RawMessage
}

// EventSimulationRequest Запрос симуляции события
type EventSimulationRequest struct {
	BaseImpactPercent float64 `json:"base_impact_percent"`

	// DurationType Длительность воздействия:
	// - instant: Мгновенное (с частичным откатом)
	// - short_term: Краткосрочное (~1 неделя)
	// - long_term: Долгосрочное (несколько недель)
	// - permanent: Перманентное (банкротство, делистинг)
	DurationType DurationType `json:"duration_type"`

	// EventType Типы событий:
	// - quest_completed: Завершение квеста
	// - faction_war: Фракционная война
	// - territory_control: Смена контроля территории
	// - corporate_scandal: Корпоративный скандал
	// - tech_breakthrough: Технологический прорыв
	// - economic_event: Экономическое событие (кризис, подъем)
	EventType EventType `json:"event_type"`
	Modifiers *[]struct {
		Type  string                                 `json:"type"`
		Value EventSimulationRequest_Modifiers_Value `json:"value"`
	} `json:"modifiers,omitempty"`
	StockId openapi_types.UUID `json:"stock_id"`
}

// EventSimulationRequestModifiersValue0 defines model for .
type EventSimulationRequestModifiersValue0 = string

// EventSimulationRequestModifiersValue1 defines model for .
type EventSimulationRequestModifiersValue1 = float32

// EventSimulationRequest_Modifiers_Value defines model for EventSimulationRequest.Modifiers.Value.
type EventSimulationRequest_Modifiers_Value struct {
	union json.RawMessage
}

// EventSimulationResult Результат симуляции события
type EventSimulationResult struct {
	BaseImpactPercent   *float64         `json:"base_impact_percent,omitempty"`
	CalculatedModifiers *[]EventModifier `json:"calculated_modifiers,omitempty"`
	CurrentPrice        *float64         `json:"current_price,omitempty"`

	// DecayCurve Кривая затухания эффекта:
	// - none: Без затухания (permanent)
	// - linear: Линейное затухание
	// - exponential: Экспоненциальное затухание
	DecayCurve         *DecayCurve         `json:"decay_curve,omitempty"`
	DurationHours      *int                `json:"duration_hours,omitempty"`
	PriceChange        *float64            `json:"price_change,omitempty"`
	ProjectedPrice     *float64            `json:"projected_price,omitempty"`
	StockId            *openapi_types.UUID `json:"stock_id,omitempty"`
	StockSymbol        *string             `json:"stock_symbol,omitempty"`
	TotalImpactPercent *float64            `json:"total_impact_percent,omitempty"`
}

// EventType Типы событий:
// - quest_completed: Завершение квеста
// - faction_war: Фракционная война
// - territory_control: Смена контроля территории
// - corporate_scandal: Корпоративный скандал
// - tech_breakthrough: Технологический прорыв
// - economic_event: Экономическое событие (кризис, подъем)
type EventType string

// ImpactSummary Сводка по воздействиям на акцию
type ImpactSummary struct {
	// CombinedEffectPercent Суммарный эффект всех воздействий
	CombinedEffectPercent *float64 `json:"combined_effect_percent,omitempty"`

	// StrongestNegative Самое сильное отрицательное воздействие
	StrongestNegative *float64 `json:"strongest_negative,omitempty"`

	// StrongestPositive Самое сильное положительное воздействие
	StrongestPositive *float64 `json:"strongest_positive,omitempty"`

	// TotalActiveImpacts Количество активных воздействий
	TotalActiveImpacts *int `json:"total_active_impacts,omitempty"`
}

// PaginationResponse defines model for PaginationResponse.
type PaginationResponse struct {
	// HasMore Есть ли еще элементы
	HasMore *bool `json:"has_more,omitempty"`

	// Items Список элементов
	Items []interface{} `json:"items"`

	// Limit Количество элементов на странице
	Limit *int `json:"limit,omitempty"`

	// Offset Смещение для пагинации
	Offset *int `json:"offset,omitempty"`

	// Total Общее количество элементов
	Total int `json:"total"`
}

// StockEventHistoryEntry Запись в истории событий акции
type StockEventHistoryEntry struct {
	AppliedAt time.Time `json:"applied_at"`
	EventId   string    `json:"event_id"`
	EventName string    `json:"event_name"`

	// EventType Типы событий:
	// - quest_completed: Завершение квеста
	// - faction_war: Фракционная война
	// - territory_control: Смена контроля территории
	// - corporate_scandal: Корпоративный скандал
	// - tech_breakthrough: Технологический прорыв
	// - economic_event: Экономическое событие (кризис, подъем)
	EventType EventType          `json:"event_type"`
	ExpiredAt *time.Time         `json:"expired_at"`
	Id        openapi_types.UUID `json:"id"`

	// PriceAfter Цена после события
	PriceAfter float64 `json:"price_after"`

	// PriceBefore Цена до события
	PriceBefore float64 `json:"price_before"`

	// PriceChangePercent Фактическое изменение цены (%)
	PriceChangePercent float64                      `json:"price_change_percent"`
	Status             StockEventHistoryEntryStatus `json:"status"`
	StockId            openapi_types.UUID           `json:"stock_id"`
	StockSymbol        string                       `json:"stock_symbol"`
	TotalImpactPercent float64                      `json:"total_impact_percent"`
}

// StockEventHistoryEntryStatus defines model for StockEventHistoryEntry.Status.
type StockEventHistoryEntryStatus string

// Limit defines model for Limit.
type Limit = int

// Offset defines model for Offset.
type Offset = int

// BadRequest defines model for BadRequest.
type BadRequest = Error

// Forbidden defines model for Forbidden.
type Forbidden = Error

// InternalServerError defines model for InternalServerError.
type InternalServerError = Error

// NotFound defines model for NotFound.
type NotFound = Error

// Unauthorized defines model for Unauthorized.
type Unauthorized = Error

// ReverseEventImpactJSONBody defines parameters for ReverseEventImpact.
type ReverseEventImpactJSONBody struct {
	// Reason Причина отката
	Reason string `json:"reason"`
}

// GetAllActiveImpactsParams defines parameters for GetAllActiveImpacts.
type GetAllActiveImpactsParams struct {
	// EventType Фильтр по типу события
	EventType *GetAllActiveImpactsParamsEventType `form:"event_type,omitempty" json:"event_type,omitempty"`

	// MinImpact Минимальное влияние (%) для фильтра
	MinImpact *float64 `form:"min_impact,omitempty" json:"min_impact,omitempty"`

	// Limit Количество элементов на странице
	Limit *Limit `form:"limit,omitempty" json:"limit,omitempty"`

	// Offset Смещение для пагинации
	Offset *Offset `form:"offset,omitempty" json:"offset,omitempty"`
}

// GetAllActiveImpactsParamsEventType defines parameters for GetAllActiveImpacts.
type GetAllActiveImpactsParamsEventType string

// GetStockEventHistoryParams defines parameters for GetStockEventHistory.
type GetStockEventHistoryParams struct {
	// EventType Фильтр по типу события
	EventType *GetStockEventHistoryParamsEventType `form:"event_type,omitempty" json:"event_type,omitempty"`

	// FromDate Начало периода (ISO 8601)
	FromDate *time.Time `form:"from_date,omitempty" json:"from_date,omitempty"`

	// ToDate Конец периода (ISO 8601)
	ToDate *time.Time `form:"to_date,omitempty" json:"to_date,omitempty"`

	// Limit Количество элементов на странице
	Limit *Limit `form:"limit,omitempty" json:"limit,omitempty"`

	// Offset Смещение для пагинации
	Offset *Offset `form:"offset,omitempty" json:"offset,omitempty"`
}

// GetStockEventHistoryParamsEventType defines parameters for GetStockEventHistory.
type GetStockEventHistoryParamsEventType string

// GetStockEventImpactsParams defines parameters for GetStockEventImpacts.
type GetStockEventImpactsParams struct {
	// Status Фильтр по статусу
	Status *GetStockEventImpactsParamsStatus `form:"status,omitempty" json:"status,omitempty"`

	// Limit Количество элементов на странице
	Limit *Limit `form:"limit,omitempty" json:"limit,omitempty"`

	// Offset Смещение для пагинации
	Offset *Offset `form:"offset,omitempty" json:"offset,omitempty"`
}

// GetStockEventImpactsParamsStatus defines parameters for GetStockEventImpacts.
type GetStockEventImpactsParamsStatus string

// ApplyEventImpactJSONRequestBody defines body for ApplyEventImpact for application/json ContentType.
type ApplyEventImpactJSONRequestBody = EventApplicationRequest

// SimulateEventImpactJSONRequestBody defines body for SimulateEventImpact for application/json ContentType.
type SimulateEventImpactJSONRequestBody = EventSimulationRequest

// ReverseEventImpactJSONRequestBody defines body for ReverseEventImpact for application/json ContentType.
type ReverseEventImpactJSONRequestBody ReverseEventImpactJSONBody

// AsEventApplicationRequestModifiersValue0 returns the union data inside the EventApplicationRequest_Modifiers_Value as a EventApplicationRequestModifiersValue0
func (t EventApplicationRequest_Modifiers_Value) AsEventApplicationRequestModifiersValue0() (EventApplicationRequestModifiersValue0, error) {
	var body EventApplicationRequestModifiersValue0
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromEventApplicationRequestModifiersValue0 overwrites any union data inside the EventApplicationRequest_Modifiers_Value as the provided EventApplicationRequestModifiersValue0
func (t *EventApplicationRequest_Modifiers_Value) FromEventApplicationRequestModifiersValue0(v EventApplicationRequestModifiersValue0) error {
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeEventApplicationRequestModifiersValue0 performs a merge with any union data inside the EventApplicationRequest_Modifiers_Value, using the provided EventApplicationRequestModifiersValue0
func (t *EventApplicationRequest_Modifiers_Value) MergeEventApplicationRequestModifiersValue0(v EventApplicationRequestModifiersValue0) error {
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

// AsEventApplicationRequestModifiersValue1 returns the union data inside the EventApplicationRequest_Modifiers_Value as a EventApplicationRequestModifiersValue1
func (t EventApplicationRequest_Modifiers_Value) AsEventApplicationRequestModifiersValue1() (EventApplicationRequestModifiersValue1, error) {
	var body EventApplicationRequestModifiersValue1
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromEventApplicationRequestModifiersValue1 overwrites any union data inside the EventApplicationRequest_Modifiers_Value as the provided EventApplicationRequestModifiersValue1
func (t *EventApplicationRequest_Modifiers_Value) FromEventApplicationRequestModifiersValue1(v EventApplicationRequestModifiersValue1) error {
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeEventApplicationRequestModifiersValue1 performs a merge with any union data inside the EventApplicationRequest_Modifiers_Value, using the provided EventApplicationRequestModifiersValue1
func (t *EventApplicationRequest_Modifiers_Value) MergeEventApplicationRequestModifiersValue1(v EventApplicationRequestModifiersValue1) error {
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

func (t EventApplicationRequest_Modifiers_Value) MarshalJSON() ([]byte, error) {
	b, err := t.union.MarshalJSON()
	return b, err
}

func (t *EventApplicationRequest_Modifiers_Value) UnmarshalJSON(b []byte) error {
	err := t.union.UnmarshalJSON(b)
	return err
}

// AsEventModifierValue0 returns the union data inside the EventModifier_Value as a EventModifierValue0
func (t EventModifier_Value) AsEventModifierValue0() (EventModifierValue0, error) {
	var body EventModifierValue0
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromEventModifierValue0 overwrites any union data inside the EventModifier_Value as the provided EventModifierValue0
func (t *EventModifier_Value) FromEventModifierValue0(v EventModifierValue0) error {
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeEventModifierValue0 performs a merge with any union data inside the EventModifier_Value, using the provided EventModifierValue0
func (t *EventModifier_Value) MergeEventModifierValue0(v EventModifierValue0) error {
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

// AsEventModifierValue1 returns the union data inside the EventModifier_Value as a EventModifierValue1
func (t EventModifier_Value) AsEventModifierValue1() (EventModifierValue1, error) {
	var body EventModifierValue1
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromEventModifierValue1 overwrites any union data inside the EventModifier_Value as the provided EventModifierValue1
func (t *EventModifier_Value) FromEventModifierValue1(v EventModifierValue1) error {
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeEventModifierValue1 performs a merge with any union data inside the EventModifier_Value, using the provided EventModifierValue1
func (t *EventModifier_Value) MergeEventModifierValue1(v EventModifierValue1) error {
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

func (t EventModifier_Value) MarshalJSON() ([]byte, error) {
	b, err := t.union.MarshalJSON()
	return b, err
}

func (t *EventModifier_Value) UnmarshalJSON(b []byte) error {
	err := t.union.UnmarshalJSON(b)
	return err
}

// AsEventSimulationRequestModifiersValue0 returns the union data inside the EventSimulationRequest_Modifiers_Value as a EventSimulationRequestModifiersValue0
func (t EventSimulationRequest_Modifiers_Value) AsEventSimulationRequestModifiersValue0() (EventSimulationRequestModifiersValue0, error) {
	var body EventSimulationRequestModifiersValue0
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromEventSimulationRequestModifiersValue0 overwrites any union data inside the EventSimulationRequest_Modifiers_Value as the provided EventSimulationRequestModifiersValue0
func (t *EventSimulationRequest_Modifiers_Value) FromEventSimulationRequestModifiersValue0(v EventSimulationRequestModifiersValue0) error {
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeEventSimulationRequestModifiersValue0 performs a merge with any union data inside the EventSimulationRequest_Modifiers_Value, using the provided EventSimulationRequestModifiersValue0
func (t *EventSimulationRequest_Modifiers_Value) MergeEventSimulationRequestModifiersValue0(v EventSimulationRequestModifiersValue0) error {
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

// AsEventSimulationRequestModifiersValue1 returns the union data inside the EventSimulationRequest_Modifiers_Value as a EventSimulationRequestModifiersValue1
func (t EventSimulationRequest_Modifiers_Value) AsEventSimulationRequestModifiersValue1() (EventSimulationRequestModifiersValue1, error) {
	var body EventSimulationRequestModifiersValue1
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromEventSimulationRequestModifiersValue1 overwrites any union data inside the EventSimulationRequest_Modifiers_Value as the provided EventSimulationRequestModifiersValue1
func (t *EventSimulationRequest_Modifiers_Value) FromEventSimulationRequestModifiersValue1(v EventSimulationRequestModifiersValue1) error {
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeEventSimulationRequestModifiersValue1 performs a merge with any union data inside the EventSimulationRequest_Modifiers_Value, using the provided EventSimulationRequestModifiersValue1
func (t *EventSimulationRequest_Modifiers_Value) MergeEventSimulationRequestModifiersValue1(v EventSimulationRequestModifiersValue1) error {
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

func (t EventSimulationRequest_Modifiers_Value) MarshalJSON() ([]byte, error) {
	b, err := t.union.MarshalJSON()
	return b, err
}

func (t *EventSimulationRequest_Modifiers_Value) UnmarshalJSON(b []byte) error {
	err := t.union.UnmarshalJSON(b)
	return err
}

// ServerInterface represents all server handlers.
type ServerInterface interface {
	// Применить событие вручную
	// (POST /admin/stocks/events/apply)
	ApplyEventImpact(w http.ResponseWriter, r *http.Request)
	// Симулировать влияние события
	// (POST /admin/stocks/events/simulate)
	SimulateEventImpact(w http.ResponseWriter, r *http.Request)
	// Откатить воздействие события
	// (POST /admin/stocks/events/{impact_id}/reverse)
	ReverseEventImpact(w http.ResponseWriter, r *http.Request, impactId openapi_types.UUID)
	// Получить все активные воздействия
	// (GET /events/impacts/active)
	GetAllActiveImpacts(w http.ResponseWriter, r *http.Request, params GetAllActiveImpactsParams)
	// Получить историю событий акции
	// (GET /stocks/{stock_id}/events/history)
	GetStockEventHistory(w http.ResponseWriter, r *http.Request, stockId openapi_types.UUID, params GetStockEventHistoryParams)
	// Получить активные воздействия на акцию
	// (GET /stocks/{stock_id}/events/impacts)
	GetStockEventImpacts(w http.ResponseWriter, r *http.Request, stockId openapi_types.UUID, params GetStockEventImpactsParams)
}

// Unimplemented server implementation that returns http.StatusNotImplemented for each endpoint.

type Unimplemented struct{}

// Применить событие вручную
// (POST /admin/stocks/events/apply)
func (_ Unimplemented) ApplyEventImpact(w http.ResponseWriter, r *http.Request) {
	w.WriteHeader(http.StatusNotImplemented)
}

// Симулировать влияние события
// (POST /admin/stocks/events/simulate)
func (_ Unimplemented) SimulateEventImpact(w http.ResponseWriter, r *http.Request) {
	w.WriteHeader(http.StatusNotImplemented)
}

// Откатить воздействие события
// (POST /admin/stocks/events/{impact_id}/reverse)
func (_ Unimplemented) ReverseEventImpact(w http.ResponseWriter, r *http.Request, impactId openapi_types.UUID) {
	w.WriteHeader(http.StatusNotImplemented)
}

// Получить все активные воздействия
// (GET /events/impacts/active)
func (_ Unimplemented) GetAllActiveImpacts(w http.ResponseWriter, r *http.Request, params GetAllActiveImpactsParams) {
	w.WriteHeader(http.StatusNotImplemented)
}

// Получить историю событий акции
// (GET /stocks/{stock_id}/events/history)
func (_ Unimplemented) GetStockEventHistory(w http.ResponseWriter, r *http.Request, stockId openapi_types.UUID, params GetStockEventHistoryParams) {
	w.WriteHeader(http.StatusNotImplemented)
}

// Получить активные воздействия на акцию
// (GET /stocks/{stock_id}/events/impacts)
func (_ Unimplemented) GetStockEventImpacts(w http.ResponseWriter, r *http.Request, stockId openapi_types.UUID, params GetStockEventImpactsParams) {
	w.WriteHeader(http.StatusNotImplemented)
}

// ServerInterfaceWrapper converts contexts to parameters.
type ServerInterfaceWrapper struct {
	Handler            ServerInterface
	HandlerMiddlewares []MiddlewareFunc
	ErrorHandlerFunc   func(w http.ResponseWriter, r *http.Request, err error)
}

type MiddlewareFunc func(http.Handler) http.Handler

// ApplyEventImpact operation middleware
func (siw *ServerInterfaceWrapper) ApplyEventImpact(w http.ResponseWriter, r *http.Request) {

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.ApplyEventImpact(w, r)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// SimulateEventImpact operation middleware
func (siw *ServerInterfaceWrapper) SimulateEventImpact(w http.ResponseWriter, r *http.Request) {

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.SimulateEventImpact(w, r)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// ReverseEventImpact operation middleware
func (siw *ServerInterfaceWrapper) ReverseEventImpact(w http.ResponseWriter, r *http.Request) {

	var err error

	// ------------- Path parameter "impact_id" -------------
	var impactId openapi_types.UUID

	err = runtime.BindStyledParameterWithOptions("simple", "impact_id", chi.URLParam(r, "impact_id"), &impactId, runtime.BindStyledParameterOptions{ParamLocation: runtime.ParamLocationPath, Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "impact_id", Err: err})
		return
	}

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.ReverseEventImpact(w, r, impactId)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// GetAllActiveImpacts operation middleware
func (siw *ServerInterfaceWrapper) GetAllActiveImpacts(w http.ResponseWriter, r *http.Request) {

	var err error

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	// Parameter object where we will unmarshal all parameters from the context
	var params GetAllActiveImpactsParams

	// ------------- Optional query parameter "event_type" -------------

	err = runtime.BindQueryParameter("form", true, false, "event_type", r.URL.Query(), &params.EventType)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "event_type", Err: err})
		return
	}

	// ------------- Optional query parameter "min_impact" -------------

	err = runtime.BindQueryParameter("form", true, false, "min_impact", r.URL.Query(), &params.MinImpact)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "min_impact", Err: err})
		return
	}

	// ------------- Optional query parameter "limit" -------------

	err = runtime.BindQueryParameter("form", true, false, "limit", r.URL.Query(), &params.Limit)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "limit", Err: err})
		return
	}

	// ------------- Optional query parameter "offset" -------------

	err = runtime.BindQueryParameter("form", true, false, "offset", r.URL.Query(), &params.Offset)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "offset", Err: err})
		return
	}

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.GetAllActiveImpacts(w, r, params)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// GetStockEventHistory operation middleware
func (siw *ServerInterfaceWrapper) GetStockEventHistory(w http.ResponseWriter, r *http.Request) {

	var err error

	// ------------- Path parameter "stock_id" -------------
	var stockId openapi_types.UUID

	err = runtime.BindStyledParameterWithOptions("simple", "stock_id", chi.URLParam(r, "stock_id"), &stockId, runtime.BindStyledParameterOptions{ParamLocation: runtime.ParamLocationPath, Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "stock_id", Err: err})
		return
	}

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	// Parameter object where we will unmarshal all parameters from the context
	var params GetStockEventHistoryParams

	// ------------- Optional query parameter "event_type" -------------

	err = runtime.BindQueryParameter("form", true, false, "event_type", r.URL.Query(), &params.EventType)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "event_type", Err: err})
		return
	}

	// ------------- Optional query parameter "from_date" -------------

	err = runtime.BindQueryParameter("form", true, false, "from_date", r.URL.Query(), &params.FromDate)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "from_date", Err: err})
		return
	}

	// ------------- Optional query parameter "to_date" -------------

	err = runtime.BindQueryParameter("form", true, false, "to_date", r.URL.Query(), &params.ToDate)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "to_date", Err: err})
		return
	}

	// ------------- Optional query parameter "limit" -------------

	err = runtime.BindQueryParameter("form", true, false, "limit", r.URL.Query(), &params.Limit)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "limit", Err: err})
		return
	}

	// ------------- Optional query parameter "offset" -------------

	err = runtime.BindQueryParameter("form", true, false, "offset", r.URL.Query(), &params.Offset)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "offset", Err: err})
		return
	}

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.GetStockEventHistory(w, r, stockId, params)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

// GetStockEventImpacts operation middleware
func (siw *ServerInterfaceWrapper) GetStockEventImpacts(w http.ResponseWriter, r *http.Request) {

	var err error

	// ------------- Path parameter "stock_id" -------------
	var stockId openapi_types.UUID

	err = runtime.BindStyledParameterWithOptions("simple", "stock_id", chi.URLParam(r, "stock_id"), &stockId, runtime.BindStyledParameterOptions{ParamLocation: runtime.ParamLocationPath, Explode: false, Required: true})
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "stock_id", Err: err})
		return
	}

	ctx := r.Context()

	ctx = context.WithValue(ctx, BearerAuthScopes, []string{})

	r = r.WithContext(ctx)

	// Parameter object where we will unmarshal all parameters from the context
	var params GetStockEventImpactsParams

	// ------------- Optional query parameter "status" -------------

	err = runtime.BindQueryParameter("form", true, false, "status", r.URL.Query(), &params.Status)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "status", Err: err})
		return
	}

	// ------------- Optional query parameter "limit" -------------

	err = runtime.BindQueryParameter("form", true, false, "limit", r.URL.Query(), &params.Limit)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "limit", Err: err})
		return
	}

	// ------------- Optional query parameter "offset" -------------

	err = runtime.BindQueryParameter("form", true, false, "offset", r.URL.Query(), &params.Offset)
	if err != nil {
		siw.ErrorHandlerFunc(w, r, &InvalidParamFormatError{ParamName: "offset", Err: err})
		return
	}

	handler := http.Handler(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		siw.Handler.GetStockEventImpacts(w, r, stockId, params)
	}))

	for _, middleware := range siw.HandlerMiddlewares {
		handler = middleware(handler)
	}

	handler.ServeHTTP(w, r)
}

type UnescapedCookieParamError struct {
	ParamName string
	Err       error
}

func (e *UnescapedCookieParamError) Error() string {
	return fmt.Sprintf("error unescaping cookie parameter '%s'", e.ParamName)
}

func (e *UnescapedCookieParamError) Unwrap() error {
	return e.Err
}

type UnmarshalingParamError struct {
	ParamName string
	Err       error
}

func (e *UnmarshalingParamError) Error() string {
	return fmt.Sprintf("Error unmarshaling parameter %s as JSON: %s", e.ParamName, e.Err.Error())
}

func (e *UnmarshalingParamError) Unwrap() error {
	return e.Err
}

type RequiredParamError struct {
	ParamName string
}

func (e *RequiredParamError) Error() string {
	return fmt.Sprintf("Query argument %s is required, but not found", e.ParamName)
}

type RequiredHeaderError struct {
	ParamName string
	Err       error
}

func (e *RequiredHeaderError) Error() string {
	return fmt.Sprintf("Header parameter %s is required, but not found", e.ParamName)
}

func (e *RequiredHeaderError) Unwrap() error {
	return e.Err
}

type InvalidParamFormatError struct {
	ParamName string
	Err       error
}

func (e *InvalidParamFormatError) Error() string {
	return fmt.Sprintf("Invalid format for parameter %s: %s", e.ParamName, e.Err.Error())
}

func (e *InvalidParamFormatError) Unwrap() error {
	return e.Err
}

type TooManyValuesForParamError struct {
	ParamName string
	Count     int
}

func (e *TooManyValuesForParamError) Error() string {
	return fmt.Sprintf("Expected one value for %s, got %d", e.ParamName, e.Count)
}

// Handler creates http.Handler with routing matching OpenAPI spec.
func Handler(si ServerInterface) http.Handler {
	return HandlerWithOptions(si, ChiServerOptions{})
}

type ChiServerOptions struct {
	BaseURL          string
	BaseRouter       chi.Router
	Middlewares      []MiddlewareFunc
	ErrorHandlerFunc func(w http.ResponseWriter, r *http.Request, err error)
}

// HandlerFromMux creates http.Handler with routing matching OpenAPI spec based on the provided mux.
func HandlerFromMux(si ServerInterface, r chi.Router) http.Handler {
	return HandlerWithOptions(si, ChiServerOptions{
		BaseRouter: r,
	})
}

func HandlerFromMuxWithBaseURL(si ServerInterface, r chi.Router, baseURL string) http.Handler {
	return HandlerWithOptions(si, ChiServerOptions{
		BaseURL:    baseURL,
		BaseRouter: r,
	})
}

// HandlerWithOptions creates http.Handler with additional options
func HandlerWithOptions(si ServerInterface, options ChiServerOptions) http.Handler {
	r := options.BaseRouter

	if r == nil {
		r = chi.NewRouter()
	}
	if options.ErrorHandlerFunc == nil {
		options.ErrorHandlerFunc = func(w http.ResponseWriter, r *http.Request, err error) {
			http.Error(w, err.Error(), http.StatusBadRequest)
		}
	}
	wrapper := ServerInterfaceWrapper{
		Handler:            si,
		HandlerMiddlewares: options.Middlewares,
		ErrorHandlerFunc:   options.ErrorHandlerFunc,
	}

	r.Group(func(r chi.Router) {
		r.Post(options.BaseURL+"/admin/stocks/events/apply", wrapper.ApplyEventImpact)
	})
	r.Group(func(r chi.Router) {
		r.Post(options.BaseURL+"/admin/stocks/events/simulate", wrapper.SimulateEventImpact)
	})
	r.Group(func(r chi.Router) {
		r.Post(options.BaseURL+"/admin/stocks/events/{impact_id}/reverse", wrapper.ReverseEventImpact)
	})
	r.Group(func(r chi.Router) {
		r.Get(options.BaseURL+"/events/impacts/active", wrapper.GetAllActiveImpacts)
	})
	r.Group(func(r chi.Router) {
		r.Get(options.BaseURL+"/stocks/{stock_id}/events/history", wrapper.GetStockEventHistory)
	})
	r.Group(func(r chi.Router) {
		r.Get(options.BaseURL+"/stocks/{stock_id}/events/impacts", wrapper.GetStockEventImpacts)
	})

	return r
}
