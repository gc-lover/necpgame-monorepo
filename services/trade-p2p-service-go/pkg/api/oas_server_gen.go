// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// AddTradeOffer implements addTradeOffer operation.
	//
	// Добавить предложение.
	//
	// POST /economy/trade/sessions/{sessionId}/offer
	AddTradeOffer(ctx context.Context, req *TradeOfferRequest, params AddTradeOfferParams) (AddTradeOfferRes, error)
	// CancelTradeSession implements cancelTradeSession operation.
	//
	// Отменить торговлю.
	//
	// DELETE /economy/trade/sessions/{sessionId}
	CancelTradeSession(ctx context.Context, req OptCancelTradeSessionReq, params CancelTradeSessionParams) (*SuccessResponse, error)
	// CompleteTrade implements completeTrade operation.
	//
	// Завершение сделки (требуется двойное подтверждение).
	//
	// POST /economy/trade/sessions/{sessionId}/complete
	CompleteTrade(ctx context.Context, params CompleteTradeParams) (CompleteTradeRes, error)
	// ConfirmTrade implements confirmTrade operation.
	//
	// Подтвердить предложение.
	//
	// POST /economy/trade/sessions/{sessionId}/confirm
	ConfirmTrade(ctx context.Context, params ConfirmTradeParams) (ConfirmTradeRes, error)
	// GetTradeHistory implements getTradeHistory operation.
	//
	// История торговли.
	//
	// GET /economy/trade/history
	GetTradeHistory(ctx context.Context, params GetTradeHistoryParams) (*GetTradeHistoryOK, error)
	// GetTradeSession implements getTradeSession operation.
	//
	// Получить торговую сессию.
	//
	// GET /economy/trade/sessions/{sessionId}
	GetTradeSession(ctx context.Context, params GetTradeSessionParams) (GetTradeSessionRes, error)
	// InitiateTrade implements initiateTrade operation.
	//
	// Инициировать торговлю.
	//
	// POST /economy/trade/initiate
	InitiateTrade(ctx context.Context, req *InitiateTradeReq) (InitiateTradeRes, error)
	// RemoveTradeOffer implements removeTradeOffer operation.
	//
	// Удалить предложение.
	//
	// DELETE /economy/trade/sessions/{sessionId}/offer
	RemoveTradeOffer(ctx context.Context, params RemoveTradeOfferParams) (*TradeSessionResponse, error)
	// UpdateTradeOffer implements updateTradeOffer operation.
	//
	// Изменить предложение.
	//
	// PUT /economy/trade/sessions/{sessionId}/offer
	UpdateTradeOffer(ctx context.Context, req *TradeOfferRequest, params UpdateTradeOfferParams) (*TradeSessionResponse, error)
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
