// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// CreateTradeListing implements createTradeListing operation.
	//
	// Creates a new marketplace listing for item trading.
	// **BACKEND NOTE:** This operation requires validation of:
	// - Item ownership verification
	// - Price floor/ceiling checks
	// - Anti-cheat pattern analysis
	// - Cross-shard availability.
	//
	// POST /api/v1/economy-domain/trading/listings
	CreateTradeListing(ctx context.Context, req *CreateListingRequest) (CreateTradeListingRes, error)
	// ExecuteTrade implements executeTrade operation.
	//
	// Executes a trade by purchasing a listing.
	// **BACKEND NOTE:** Critical path operation (P99 <5ms required).
	// Requires atomic transaction with inventory updates.
	// Anti-cheat validation mandatory.
	//
	// POST /api/v1/economy-domain/trading/listings/{listing_id}/execute
	ExecuteTrade(ctx context.Context, req *ExecuteTradeRequest, params ExecuteTradeParams) (ExecuteTradeRes, error)
	// GetTradeListings implements getTradeListings operation.
	//
	// Retrieves marketplace listings with filtering and pagination.
	// **BACKEND NOTE:** Hot path endpoint (1000+ RPS).
	// Use Redis caching for popular item categories.
	// Pagination required for performance.
	//
	// GET /api/v1/economy-domain/trading/listings
	GetTradeListings(ctx context.Context, params GetTradeListingsParams) (GetTradeListingsRes, error)
	// TradingCoreHealthCheck implements tradingCoreHealthCheck operation.
	//
	// Trading core service health check.
	//
	// GET /api/v1/economy-domain/trading/health
	TradingCoreHealthCheck(ctx context.Context) (TradingCoreHealthCheckRes, error)
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
