// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// GetDefaultPreferences implements getDefaultPreferences operation.
	//
	// **Default settings endpoint**
	// Provides default preference templates for new users and system defaults.
	// **Performance:** <5ms P95, cached indefinitely.
	//
	// GET /defaults
	GetDefaultPreferences(ctx context.Context) (*DefaultPreferencesResponseHeaders, error)
	// GetGameSettings implements getGameSettings operation.
	//
	// **Game configuration retrieval endpoint**
	// Retrieves game-specific preferences including controls, audio, graphics, and gameplay options.
	// **Performance:** <12ms P95 with optimized queries.
	//
	// GET /game-settings/{user_id}
	GetGameSettings(ctx context.Context, params GetGameSettingsParams) (GetGameSettingsRes, error)
	// GetUISettings implements getUISettings operation.
	//
	// **UI customization retrieval endpoint**
	// Retrieves user interface preferences including themes, layouts, and accessibility settings.
	// **Performance:** <10ms P95 with in-memory caching.
	//
	// GET /ui-settings/{user_id}
	GetUISettings(ctx context.Context, params GetUISettingsParams) (GetUISettingsRes, error)
	// GetUserPreferences implements getUserPreferences operation.
	//
	// **Enterprise-grade preference retrieval endpoint**
	// Retrieves all user preferences and settings for personalized experience. Supports caching and
	// conditional requests for optimal performance.
	// **Performance:** <15ms P95 with Redis caching.
	//
	// GET /preferences/{user_id}
	GetUserPreferences(ctx context.Context, params GetUserPreferencesParams) (GetUserPreferencesRes, error)
	// UpdateGameSettings implements updateGameSettings operation.
	//
	// **Game configuration update endpoint**
	// Updates game-specific preferences with validation for game compatibility.
	// **Performance:** <25ms P95, includes game validation.
	//
	// PUT /game-settings/{user_id}
	UpdateGameSettings(ctx context.Context, req *UpdateGameSettingsRequest, params UpdateGameSettingsParams) (UpdateGameSettingsRes, error)
	// UpdateUISettings implements updateUISettings operation.
	//
	// **UI customization update endpoint**
	// Updates user interface preferences with immediate effect.
	// **Performance:** <20ms P95, real-time updates.
	//
	// PUT /ui-settings/{user_id}
	UpdateUISettings(ctx context.Context, req *UpdateUISettingsRequest, params UpdateUISettingsParams) (UpdateUISettingsRes, error)
	// UpdateUserPreferences implements updateUserPreferences operation.
	//
	// **Enterprise-grade preference update endpoint**
	// Updates user preferences with validation and conflict resolution. Supports partial updates and
	// maintains preference history.
	// **Performance:** <25ms P95, includes validation and persistence.
	//
	// PUT /preferences/{user_id}
	UpdateUserPreferences(ctx context.Context, req *UpdateUserPreferencesRequest, params UpdateUserPreferencesParams) (UpdateUserPreferencesRes, error)
	// UserPreferenceServiceHealthCheck implements userPreferenceServiceHealthCheck operation.
	//
	// **Enterprise-grade health check endpoint**
	// Provides real-time health status of the user preference management microservice.
	// Critical for service discovery, load balancing, and monitoring.
	// **Performance:** <1ms response time, cached for 30 seconds.
	//
	// GET /health
	UserPreferenceServiceHealthCheck(ctx context.Context, params UserPreferenceServiceHealthCheckParams) (UserPreferenceServiceHealthCheckRes, error)
	// NewError creates *ErrRespStatusCode from error returned by handler.
	//
	// Used for common default response.
	NewError(ctx context.Context, err error) *ErrRespStatusCode
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
