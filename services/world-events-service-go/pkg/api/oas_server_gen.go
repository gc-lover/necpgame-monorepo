// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// CreateWorldEvent implements createWorldEvent operation.
	//
	// Creates a new world event (admin/system only).
	//
	// POST /create
	CreateWorldEvent(ctx context.Context, req *CreateEventRequest) (CreateWorldEventRes, error)
	// EndWorldEvent implements endWorldEvent operation.
	//
	// Ends a world event and distributes final rewards.
	//
	// POST /{eventId}/end
	EndWorldEvent(ctx context.Context, params EndWorldEventParams) (EndWorldEventRes, error)
	// GetActiveEvents implements getActiveEvents operation.
	//
	// Retrieves all currently active world events.
	// **BACKEND NOTE:** Hot path - optimized for 1000+ RPS, zero allocations.
	//
	// GET /active
	GetActiveEvents(ctx context.Context, params GetActiveEventsParams) (GetActiveEventsRes, error)
	// GetEventAnalytics implements getEventAnalytics operation.
	//
	// Retrieves analytics and statistics for world events.
	//
	// GET /analytics
	GetEventAnalytics(ctx context.Context, params GetEventAnalyticsParams) (GetEventAnalyticsRes, error)
	// GetEventDetails implements getEventDetails operation.
	//
	// Retrieves detailed information about a specific world event.
	//
	// GET /{eventId}
	GetEventDetails(ctx context.Context, params GetEventDetailsParams) (GetEventDetailsRes, error)
	// GetEventProgress implements getEventProgress operation.
	//
	// Retrieves progress information for a world event.
	//
	// GET /{eventId}/progress
	GetEventProgress(ctx context.Context, params GetEventProgressParams) (GetEventProgressRes, error)
	// GetEventRewards implements getEventRewards operation.
	//
	// Retrieves available rewards for completing event objectives.
	//
	// GET /{eventId}/rewards
	GetEventRewards(ctx context.Context, params GetEventRewardsParams) (GetEventRewardsRes, error)
	// GetPlayerEventStatus implements getPlayerEventStatus operation.
	//
	// Retrieves the player's status in a specific event.
	// **BACKEND NOTE:** Hot path - optimized for 1000+ RPS, zero allocations.
	//
	// GET /{eventId}/status
	GetPlayerEventStatus(ctx context.Context, params GetPlayerEventStatusParams) (GetPlayerEventStatusRes, error)
	// HealthCheck implements healthCheck operation.
	//
	// Service health check.
	//
	// GET /health
	HealthCheck(ctx context.Context) (HealthCheckRes, error)
	// LeaveEvent implements leaveEvent operation.
	//
	// Allows a player to leave a world event.
	//
	// POST /{eventId}/leave
	LeaveEvent(ctx context.Context, params LeaveEventParams) (LeaveEventRes, error)
	// ParticipateInEvent implements participateInEvent operation.
	//
	// Allows a player to participate in a world event.
	// **BACKEND NOTE:** Hot path - optimized for 1000+ RPS, zero allocations.
	//
	// POST /{eventId}/participate
	ParticipateInEvent(ctx context.Context, req *ParticipateRequest, params ParticipateInEventParams) (ParticipateInEventRes, error)
	// UpdateWorldEvent implements updateWorldEvent operation.
	//
	// Updates an existing world event (admin/system only).
	//
	// PUT /{eventId}/update
	UpdateWorldEvent(ctx context.Context, req *UpdateEventRequest, params UpdateWorldEventParams) (UpdateWorldEventRes, error)
	// ValidateEventParticipation implements validateEventParticipation operation.
	//
	// Internal endpoint for anti-cheat and server-side validation of event participation.
	//
	// POST /validate
	ValidateEventParticipation(ctx context.Context, req *EventValidationRequest) (ValidateEventParticipationRes, error)
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
