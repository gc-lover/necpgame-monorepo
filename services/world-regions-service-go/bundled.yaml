openapi: 3.0.3
info:
  title: World Regions API - Enterprise-Grade Template
  description: '**Enterprise-Grade World Regions API for NECPGAME**


    This domain provides comprehensive world regions management with timeline data,
    geographical information, and integration with narrative systems.

    ## Key Features

    - **Enterprise-grade architecture** with proper domain separation

    - **Backend optimization hints** for struct alignment and performance

    - **Complete validation** with redocly and ogen code generation

    - **Security-first approach** with JWT authentication

    - **Performance-optimized** response structures

    - **Comprehensive error handling** with proper HTTP status codes


    ## Domain Purpose

    World Regions domain manages geographical regions of the game world, including
    timeline events, cities, and narrative integration.

    Follows enterprise-grade microservices patterns with clear boundaries.


    ## Performance Targets

    - P99 Latency: <50ms for hot paths

    - Memory: <50KB per region instance

    - Concurrent users: 10,000+ simultaneous connections

    - Data consistency: Event-sourced with CQRS patterns

    '
  version: 1.0.0
  contact:
    name: NECPGAME API Support
    url: https://necpgame.com/support
    email: api@necpgame.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
servers:
- url: https://api.necpgame.com/v1/world-regions
  description: Production server
- url: https://staging-api.necpgame.com/v1/world-regions
  description: Staging server
- url: http://localhost:8080/api/v1/world-regions
  description: Local development server
security:
- BearerAuth: []
tags:
- name: World Regions
  description: Core world regions operations
- name: Health Monitoring
  description: System health and performance monitoring
paths:
  /health:
    $ref: ./paths/health.yaml#/paths/~1health
  /health/batch:
    $ref: ./paths/health-batch.yaml#/paths/~1health~1batch
  /health/ws:
    $ref: ./paths/health-ws.yaml#/paths/~1health~1ws
  /regions:
    $ref: ./paths/regions.yaml#/paths/~1regions
  /regions/{region_id}:
    $ref: ./paths/regions-{region_id}.yaml#/paths/~1regions~1{region_id}
  /regions/{region_id}/timeline:
    $ref: ./paths/regions-{region_id}-timeline.yaml#/paths/~1regions~1{region_id}~1timeline
  /regions/import:
    $ref: ./paths/regions-import.yaml#/paths/~1regions~1import
components:
  schemas:
    Error:
      $ref: ../common/schemas/infrastructure-entities.yaml#/ErrorResponse
    HealthResponse:
      $ref: ../common/schemas/health.yaml#/HealthResponse
    WebSocketHealthMessage:
      type: object
      required:
      - type
      - timestamp
      properties:
        type:
          type: string
          enum:
          - health_update
          - service_alert
        timestamp:
          type: string
          format: date-time
        service:
          type: string
        status:
          type: string
          enum:
          - healthy
          - degraded
          - unhealthy
        details:
          type: object
    WorldRegion:
      type: object
      description: '**PERFORMANCE:** Struct alignment optimized for 64-byte cache
        lines'
      required:
      - id
      - name
      - continent
      - status
      - cities_count
      properties:
        id:
          type: string
          minLength: 1
          maxLength: 100
        name:
          type: string
          minLength: 1
          maxLength: 100
        continent:
          type: string
          enum:
          - africa
          - america
          - asia
          - europe
          - oceania
          - antarctica
          - arctic
          - cis
          - middle-east
        status:
          type: string
          enum:
          - draft
          - ready_for_backend
          - approved
          - published
        cities_count:
          type: integer
          format: int32
          minimum: 0
        description:
          type: string
          maxLength: 500
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    WorldRegionDetail:
      allOf:
      - $ref: '#/components/schemas/WorldRegion'
      - type: object
        properties:
          timeline_periods:
            type: array
            items:
              $ref: '#/components/schemas/TimelinePeriod'
          key_locations:
            type: array
            items:
              $ref: '#/components/schemas/KeyLocation'
          related_systems:
            type: array
            items:
              type: string
    TimelineEvent:
      type: object
      required:
      - period
      - title
      - description
      properties:
        period:
          type: string
          minLength: 1
          maxLength: 20
        title:
          type: string
          minLength: 1
          maxLength: 200
        description:
          type: string
          maxLength: 2000
        mechanics_links:
          type: array
          items:
            type: string
    TimelinePeriod:
      type: object
      required:
      - id
      - title
      - body
      properties:
        id:
          type: string
          minLength: 1
          maxLength: 50
        title:
          type: string
          minLength: 1
          maxLength: 200
        body:
          type: string
          maxLength: 5000
        mechanics_links:
          type: array
          items:
            type: string
        assets:
          type: array
          items:
            type: string
    KeyLocation:
      type: object
      required:
      - name
      - type
      - significance
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 100
        type:
          type: string
          enum:
          - corporate
          - residential
          - commercial
          - military
          - research
          - cultural
        significance:
          type: string
          maxLength: 500
        coordinates:
          type: string
          maxLength: 50
    PaginationParams:
      $ref: ../common/schemas/pagination.yaml#/PaginationParams
    PaginatedResponse:
      $ref: ../common/schemas/pagination.yaml#/PaginatedResponse
  responses:
    OK:
      $ref: ../common/responses/success.yaml#/OK
    Created:
      $ref: ../common/responses/success.yaml#/Created
    BadRequest:
      $ref: ../common/responses/error.yaml#/BadRequest
    Unauthorized:
      $ref: ../common/responses/error.yaml#/Unauthorized
    Forbidden:
      $ref: ../common/responses/error.yaml#/Forbidden
    NotFound:
      $ref: ../common/responses/error.yaml#/NotFound
    Conflict:
      $ref: ../common/responses/error.yaml#/Conflict
    InternalServerError:
      $ref: ../common/responses/error.yaml#/InternalServerError
    HealthOK:
      $ref: ../common/responses/success.yaml#/HealthOK
    HealthBatchSuccess:
      $ref: ../common/responses/success.yaml#/HealthBatchSuccess
  securitySchemes:
    BearerAuth:
      $ref: ../common/security/security.yaml#/BearerAuth
    ApiKeyAuth:
      $ref: ../common/security/security.yaml#/ApiKeyAuth
    ServiceAuth:
      $ref: ../common/security/security.yaml#/ServiceAuth
