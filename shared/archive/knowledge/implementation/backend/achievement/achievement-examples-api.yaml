metadata:
  id: backend-achievement-examples-api
  title: 'Achievement System: Examples & API'
  document_type: implementation
  category: backend
  status: approved
  version: '1.0.0'
  last_updated: 2025-11-08T03:05:00Z
  concept_approved: true
  concept_reviewed_at: 2025-11-07T01:59:00Z
  owners:
    - role: backend_architect
      contact: backend@necp.game
  tags:
    - achievements
    - api
    - analytics
  topics:
    - player-engagement
    - service-contracts
  related_systems:
    - achievement-service
    - player-service
    - analytics-service
  related_documents:
    - id: backend-achievement-core
      relation: references
    - id: backend-achievement-tracking
      relation: complements
  source: shared/docs/knowledge/implementation/backend/achievement/achievement-examples-api.md
  visibility: internal
  audience:
    - backend
    - gameplay
    - analytics
    - frontend
  risk_level: high
review:
  chain:
    - role: backend_lead
      reviewer: ''
      reviewed_at: ''
      status: pending
  next_actions: []
summary:
  problem: Требуются стандартизированные примеры достижений и публичные API для UI, аналитики и сервисов.
  goal: Зафиксировать эталонные JSON-структуры достижений по категориям и определить REST-запросы для получения прогресса и статистики.
  essence: Документ описывает примеры данных, контракты API и ответы для списка достижений, прогресса игрока, лидербордов и статистики.
  key_points:
    - Для каждой категории приведены полные JSON-документы с кодом, условиями и наградами.
    - Определены основные GET-эндпоинты `/achievements`, `/players/{id}/achievements`, `/achievements/leaderboard`, `/achievements/{id}/stats`.
    - Ответы содержат агрегаты (категории, totals, near completion, recent unlocks).
    - Лидерборд и статистика обеспечивают поддержку сезонных и all-time периодов.
content:
  sections:
    - id: example_catalog
      title: 'Каталог примерных достижений'
      body: |
        Приведены JSON-примеры для категорий Combat, Quest, Social, Economy, Exploration, Skills и Hidden, включая коды, редкость, условия и награды. Они используются как эталон для наполнение БД и тестирования.
      mechanics_links: []
      assets: []
    - id: list_endpoint
      title: 'API: Список достижений'
      body: |
        GET `/api/v1/achievements` возвращает коллекцию достижений, агрегаты категорий и общий счёт. Ответ включает идентификаторы, редкость, видимость и показатели для фронтенда.
      mechanics_links: []
      assets: []
    - id: player_progress_endpoint
      title: 'API: Прогресс игрока'
      body: |
        GET `/api/v1/players/{playerId}/achievements` отдаёт текущий статус, проценты выполнения, последние разблокировки и near-completion список. Поля поддерживают интеграцию с уведомлениями и UX подсказками.
      mechanics_links: []
      assets: []
    - id: leaderboard_endpoint
      title: 'API: Лидерборд достижений'
      body: |
        GET `/api/v1/achievements/leaderboard` фильтруется по периоду (all_time, monthly, weekly) и ограничению результатов. Ответ содержит ранги, очки, прогресс и общее количество игроков.
      mechanics_links: []
      assets: []
    - id: stats_endpoint
      title: 'API: Статистика достижения'
      body: |
        GET `/api/v1/achievements/{achievementId}/stats` предоставляет метрики разблокировок, процент получения, среднее время и информацию о первом игроке. Используется аналитикой и балансом.
      mechanics_links: []
      assets: []
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  needs_task: true
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml
  blockers: []
history:
  - version: '1.0.0'
    date: 2025-11-07
    author: ai_brain_manager
    changes: 'Созданы эталонные примеры достижений и описаны REST API для выдачи данных.'
validation:
  checksum: ''
  schema_version: '1.0'


