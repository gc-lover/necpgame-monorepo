metadata:
  id: backend-daily-weekly-reset-system
  title: Daily/Weekly Reset System
  document_type: implementation
  category: backend
  status: approved
  version: '1.0.0'
  last_updated: 2025-11-07T00:18:00Z
  concept_approved: true
  concept_reviewed_at: 2025-11-07T05:20:00Z
  owners:
    - role: world_lead
      contact: world@necp.game
  tags:
    - resets
    - engagement
  topics:
    - gameplay-infra
    - liveops
  related_systems:
    - world-service
    - gameplay-service
    - economy-service
    - social-service
  related_documents:
    - id: backend-leaderboard-system
      relation: references
  source: shared/docs/knowledge/implementation/backend/daily-weekly-reset-system.md
  visibility: internal
  audience:
    - backend
    - world
  risk_level: medium
review:
  chain:
    - role: world_lead
      reviewer: ''
      reviewed_at: 2025-11-07T05:20:00Z
      status: approved
  next_actions: []
summary:
  problem: "Система ежедневных и еженедельных сбросов требовала описания процессов, расписаний и интеграций."
  goal: "Документировать архитектуру reset jobs, типы сбросов, БД и API."
  essence: "Документ охватывает сбросы квестов, логин-вознаграждения, расписания, базы данных и уведомления."
  key_points:
    - Описаны daily/weekly resets, цели и контент.
    - Перечислены системы квестов, логин наград, ограничения.
    - SQL таблицы для пулов квестов, трекинга и логин наград.
    - Cron процессы и уведомления для игроков.
content:
  sections:
    - id: overview
      title: Краткое описание
      body: |
        Reset System управляет ежедневными и еженедельными сбросами для квестов, наград и ограничений, повышая retention.
      mechanics_links: []
    - id: types
      title: Типы сбросов
      body: |
        Расписаны списки daily и weekly сбросов, включая примеры квестов, наград и lockouts.
      mechanics_links: []
    - id: quests
      title: Daily/Weekly Quest Systems
      body: |
        Описаны категории квестов, rotation, награды и weekly/guild задания.
      mechanics_links: []
    - id: login_rewards
      title: Login Rewards
      body: |
        Таблицы дневных/месячных наград и правила сбросов при пропуске дней.
      mechanics_links: []
    - id: database
      title: Структура БД
      body: |
        SQL схемы для `daily_quests_pool`, `player_daily_quests`, `reset_tracking`, `login_rewards_tracking`.
      mechanics_links: []
    - id: processes
      title: Reset процессы и уведомления
      body: |
        Cron задания daily/weekly, шаги обработки, отправка уведомлений и API для статусов.
      mechanics_links: []
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  needs_task: false
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml
  blockers: []
history:
  - version: '1.0.0'
    date: 2025-11-06
    author: world_lead
    changes: Создана документация системы сбросов.
validation:
  checksum: ''
  schema_version: '1.0'

