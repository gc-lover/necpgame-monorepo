metadata:
  id: economy-analytics
  title: Экономика — Аналитика и графики
  document_type: mechanics
  category: economy
  status: approved
  version: '1.0.0'
  last_updated: 2025-11-10T00:00:00Z
  concept_approved: true
  concept_reviewed_at: 2025-11-09T03:22:00Z
  owners:
    - role: concept_director
      contact: concept@necp.game
  tags:
    - analytics
    - economy
    - market
  topics:
    - market-intelligence
    - player-economy
  related_systems:
    - economy-service
    - analytics-service
  related_documents:
    - id: stock-exchange-overview
      relation: references
    - id: economy-overview
      relation: references
    - id: economy-events
      relation: integrates_with
  source: shared/docs/knowledge/mechanics/economy/economy-analytics.md
  visibility: internal
  audience:
    - concept
    - economy
    - analytics
  risk_level: medium
review:
  chain:
    - role: concept_director
      reviewer: ''
      reviewed_at: 2025-11-09T03:22:00Z
      status: approved
  next_actions: []
summary:
  problem: Игрокам нужно принимать торговые решения на основе прозрачных аналитических данных, а текущие интерфейсы не дают глубокой статистики.
  goal: Сформировать набор аналитических инструментов и API, покрывающих графики цен, индикаторы, портфельную аналитику и оповещения.
  essence: Модуль объединяет профессиональные графики, технические индикаторы, тепловые карты и уведомления, используя единый сервис аналитики экономики.
  key_points:
    - Поддержка нескольких типов графиков и индикаторов TradingView-класса.
    - Анализ настроений рынка, тепловые карты и портфельные метрики.
    - Система оповещений и API/БД для интеграции с UI и сервисами.
content:
  sections:
    - id: overview
      title: Введение
      body: |
        Модуль экономической аналитики предоставляет игрокам инструменты визуализации и отслеживания трендов. Интерфейс сочетает профессиональные графики, индикаторы и отчёты, а также подключается к событиям экономики и биржи.
      mechanics_links:
        - shared/docs/knowledge/mechanics/economy/economy-overview.yaml
      assets: []
    - id: chart_types
      title: Типы графиков
      body: |
        Набор графиков охватывает линейные, свечные, OHLC и area-графики, а также гистограммы объёма. Для каждого типа предусмотрены готовые таймфреймы, настройки отображения и сочетание с объемом торгов.
      mechanics_links:
        - shared/docs/knowledge/mechanics/economy/stock-exchange/stock-exchange-overview.yaml
      assets: []
    - id: technical_indicators
      title: Технические индикаторы
      body: |
        Система поддерживает MA, RSI, MACD, Bollinger Bands и другие индикаторы с описанием формул, периодов и сигналов. Переключение индикаторов доступно в UI и влияет на API запросы к аналитическому сервису.
      mechanics_links:
        - shared/docs/knowledge/mechanics/economy/stock-exchange/stock-analytics.yaml
      assets: []
    - id: sentiment_analysis
      title: Анализ настроений
      body: |
        Модуль считает баланс бычьих и медвежьих сигналов, индекс страха и жадности, а также строит тепловые карты по секторам и портфелям, что помогает принимать решения в периоды турбулентности.
      mechanics_links:
        - shared/docs/knowledge/mechanics/economy/economy-events.yaml
      assets: []
    - id: portfolio_and_history
      title: Аналитика портфеля и история сделок
      body: |
        Пользователь отслеживает доходность, риск и историю сделок с ключевыми метриками: total return, Sharpe ratio, win rate и profit factor. Таблицы и графики отражают динамику прибыли и убытков по периодам.
      mechanics_links:
        - shared/docs/knowledge/mechanics/economy/economy-investments.yaml
      assets: []
    - id: alerts
      title: Оповещения и уведомления
      body: |
        Поддерживаются ценовые и событийные оповещения, включая push-уведомления и интеграцию с экономическими событиями. Пользователь настраивает условия и получает рекомендации по реакциям.
      mechanics_links:
        - shared/docs/knowledge/mechanics/economy/economy-events.yaml
      assets: []
    - id: data_layer
      title: Структура данных и API
      body: |
        Описаны таблицы настроек аналитики, истории операций и API маршруты `/analytics/chart`, `/analytics/portfolio`, `/analytics/alerts`. Приведён пример SQL и указаны события для обновлений.
      mechanics_links:
        - shared/docs/knowledge/implementation/backend/progression-backend.yaml
      assets: []
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  needs_task: false
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml#economy-analytics
  blockers: []
history:
  - version: '1.0.0'
    date: 2025-11-10
    author: AI Brain Manager
    changes: Конвертация документа по аналитике экономики в формат YAML.
validation:
  checksum: ''
  schema_version: '1.0'

