metadata:
  id: player-orders-via-npc
  title: Система заказов — каналы через NPC
  document_type: mechanics
  category: social
  status: draft
  version: '1.0.0'
  last_updated: 2025-11-11T01:35:00Z
  concept_approved: false
  concept_reviewed_at: ''
  owners:
    - role: concept_director
      contact: concept@necp.game
  tags:
    - social
    - player-orders
    - npc-integration
  topics:
    - player-economy
    - social-networks
  related_systems:
    - order-service
    - social-service
    - npc-hiring-service
  related_documents:
    - id: player-orders-system
      relation: references
    - id: npc-hiring-system
      relation: complements
    - id: npc-hiring-economy
      relation: references
  source: shared/docs/knowledge/mechanics/social/player-orders-via-npc.md
  visibility: internal
  audience:
    - concept
    - economy
    - social-design
  risk_level: medium
review:
  chain:
    - role: concept_director
      reviewer: ''
      reviewed_at: ''
      status: pending
  next_actions: []
summary:
  problem: Механика делегирования заказов через NPC не была формализована и не имела связей с системой найма.
  goal: Описать роли NPC в размещении и исполнении заказов, указать параметры комиссий и требования к автономности.
  essence: NPC-посредники расширяют доступ к заказам, позволяют делегировать управление и влияют на экономику комиссий.
  key_points:
    - Классы NPC (фиксеры, торговцы, дипломаты) задают различные проценты комиссий и условия.
    - Автономность NPC требует метрик доверия и контроля.
    - Взаимодействие связано с системой найма и общей экономикой заказов.
content:
  sections:
    - id: npc_roles
      title: Роли NPC-посредников
      body: |
        Основные роли: Fixer, Merchant, Diplomat, Broker и специализированные агенты корпораций. Каждый тип определяет доступные категории заказов, глубину рынка и уровень предоставляемой информации.
      mechanics_links:
        - mechanics/social/npc-hiring-system.yaml
      assets: []
    - id: order_channels
      title: Каналы размещения и исполнения
      body: |
        Заказчик может поручить NPC публикацию контракта, подбор исполнителей и контроль прогресса. NPC управляет очередью заказов, фильтрует заявки и передаёт отчёты заказчику.
      mechanics_links:
        - mechanics/social/player-orders-creation.yaml
      assets: []
    - id: economics
      title: Комиссии и выплаты
      body: |
        Комиссия NPC зависит от репутации, уровня риска и объёма заказов. Требуется определить формулы распределения награды между заказчиком, NPC и исполнителем, а также ограничение на минимальные и максимальные комиссии.
      mechanics_links:
        - mechanics/social/npc-hiring-economy.yaml
        - mechanics/social/player-orders-economy.yaml
      assets: []
    - id: autonomy
      title: Автономность и контроль
      body: |
        Делегирование может быть полностью автономным или требовать подтверждения ключевых этапов. Уровень доверия к NPC влияет на доступ к премиум-заказам и скорость обработки. Необходимо определить шкалу доверия и события, которые её изменяют.
      mechanics_links:
        - mechanics/social/npc-hiring-limits.yaml
      assets: []
    - id: reputation
      title: Влияние репутации
      body: |
        Репутация NPC влияет на вероятность успешного подбора исполнителей и размер комиссий. Система должна учитывать отзывы заказчиков и исполнителей, а также взаимодействие с глобальными рейтинговыми таблицами.
      mechanics_links:
        - mechanics/social/player-orders-reputation.yaml
      assets: []
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  needs_task: true
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml#player-orders-via-npc
  blockers: []
history:
  - version: '1.0.0'
    date: 2025-11-11
    author: Concept Director Team
    changes: Конвертация описания каналов заказов через NPC в YAML.
validation:
  checksum: ''
  schema_version: '1.0'


