metadata:
  id: analysis-combat-stealth-brief
  title: Combat Stealth Brief
  document_type: analysis
  category: operations
  status: draft
  version: '1.0.0'
  last_updated: 2025-11-09T14:35:00Z
  concept_approved: false
  concept_reviewed_at: ''
  owners:
    - role: brain_manager
      contact: brain@necp.game
  tags:
    - combat
    - stealth
    - shooter-transition
  topics:
    - gameplay
    - infiltration
  related_systems:
    - gameplay-service
    - combat-hacking
    - quest-engine
  related_documents:
    - id: combat-stealth
      relation: references
  source: shared/docs/knowledge/analysis/tasks/active/CURRENT-WORK/active/2025-11-09-combat-stealth-brief.md
  visibility: internal
  audience:
    - brain-team
    - combat-design
  risk_level: medium
review:
  chain:
    - role: brain_manager
      reviewer: ''
      reviewed_at: ''
      status: pending
  next_actions: []
summary:
  problem: Нужно структурировать черновик для стелс-компоненты шутера с учётом каналов обнаружения и интеграций.
  goal: Зафиксировать REST backlog, события, хранение и зависимости, чтобы оперативно подготовить постановку задач.
  essence: Бриф описывает ключевые API, WebSocket потоки и ограничения системы стелса перед передачей на декомпозицию.
  key_points:
    - Подтверждён readiness базового стелс-документа и привязанных модулей.
    - Составлен REST backlog с приоритетами P0–P2.
    - Определены события, хранилище и интеграции с боевыми и социальными подсистемами.
content:
  sections:
    - id: readiness
      title: Сводка готовности
      body: |
        OpenAPI каталог `api/v1/gameplay/combat/stealth.yaml` и фронтенд `modules/combat/stealth` находятся в статусе ready.
        Документ `combat-stealth.md` версии 1.1.0 подтверждён как `approved` и `api-readiness: ready`. Система охватывает
        каналы обнаружения, импланты, социальную инженерии и киберпространство.
      mechanics_links: []
      assets: []
    - id: rest_backlog
      title: REST backlog
      body: |
        Черновые маршруты включают действия стелса, пересчёт обнаружения, профиль параметров, маскировку, хак сетей, прогресс
        достижений, карту угроз и репутационные последствия. Для каждого маршрута зафиксированы приоритеты и ожидаемые поля ответа.
      mechanics_links: []
      assets: []
    - id: realtime
      title: WebSocket и события
      body: |
        WebSocket `wss://api.necp.game/v1/combat/stealth/{sessionId}` передаёт изменения обнаружения, маскировки и тревог.
        Event Bus включает `combat.stealth.action`, `combat.stealth.detection`, `combat.stealth.disguise`,
        `combat.stealth.hack`, `combat.stealth.achievement` с входящими событиями от hacking, NPC, quest и social сервисов.
      mechanics_links: []
      assets: []
    - id: storage
      title: Хранение
      body: |
        Планируются таблицы `stealth_actions`, `stealth_profiles`, `stealth_detection_state`, `stealth_disguises`,
        `stealth_network_nodes`, `stealth_achievements`, `stealth_reputation_buffs`. Требуется логирование GM и anti-cheat проверок.
      mechanics_links: []
      assets: []
    - id: dependencies
      title: Зависимости и требования
      body: |
        Система опирается на combat hacking, implants, abilities, freerun, quest engine, social-service и analytics.
        Требует поддержки уровней обнаружения, совместимости маскировок, учёта киберпространства и анти-чит валидации.
      mechanics_links: []
      assets: []
    - id: follow_up
      title: Следующие шаги
      body: |
        - Определить формат объединённого или отдельного WebSocket с другими combat потоками.
        - Разбить backlog на этапы P0–P2 перед передачей в ДУАПИТАСК.
        - Обновить сопутствующие журналы и согласовать структуру с combat hacking и quest engine.
      mechanics_links: []
      assets: []
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  needs_task: false
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml#analysis-combat-stealth-brief
  blockers: []
history:
  - version: '1.0.0'
    date: 2025-11-11
    author: Brain Manager
    changes: Конвертация брифа по стелс-системе в YAML.
validation:
  checksum: ''
  schema_version: '1.0'


