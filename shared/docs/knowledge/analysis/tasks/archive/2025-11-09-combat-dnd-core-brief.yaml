metadata:
  id: analysis-2025-11-09-combat-dnd-core-brief
  title: "Combat Shooter Core — план перехода"
  document_type: analysis
  category: combat-transition
  status: deprecated
  version: '1.0.0'
  last_updated: 2025-11-09T15:05:00Z
  concept_approved: false
  concept_reviewed_at: ''
  owners:
    - role: brain_manager
      contact: brain.manager@necp.game
  tags:
    - shooter
    - legacy
    - roadmap
  topics:
    - combat-transition
    - api-planning
  related_systems:
    - gameplay-service
    - session-service
    - anti-cheat
  related_documents: []
  source: shared/docs/knowledge/analysis/tasks/archive/2025-11-09-combat-dnd-core-brief.md
  visibility: internal
  audience:
    - concept
    - gameplay
  risk_level: medium
review:
  chain:
    - role: concept_director
      reviewer: ''
      reviewed_at: ''
      status: skipped
  next_actions: []
summary:
  problem: "После отказа от D&D ядра нужен план перехода к полной шутерной модели."
  goal: "Сформировать контуры API, событий и хранилища для будущего документа `combat-shooter-core`."
  essence: "Бриф фиксирует новую модель стрельбы,	event потоков и зависимостей, служит исторической справкой."
  key_points:
    - "REST покрывает выстрелы, попадания, перезарядку, отдачу и модификаторы."
    - "WebSocket и Event Bus обеспечивают realtime обновления боя."
    - "Хранилище включает каталоги оружия, журналы выстрелов, попаданий и телеметрию."
    - "Зависимости переведены на shooter события для quest-engine и analytics."
content:
  sections:
    - id: context
      title: "Контекст и цели"
      body: |
        Зафиксировано решение перейти от D&D-проверок к полноценному шутеру, обновить связанные пакеты
        и roadmap (WebGL → UE5).
      mechanics_links: []
      assets: []
    - id: rest
      title: "REST backlog"
      body: |
        Таблица описывает основные эндпоинты: fire, hit, reload, recoil, weapon stats, ability modifiers,
        suppression.
      mechanics_links: []
      assets: []
    - id: realtime
      title: "Streaming и события"
      body: |
        Определены WebSocket каналы `session/{sessionId}` и `muzzle-trails/{sessionId}`, а также события
        `combat.shooter.fire`, `combat.shooter.hit`, `combat.shooter.kill` и входящие combat session events.
      mechanics_links: []
      assets: []
    - id: storage
      title: "Хранение и телеметрия"
      body: |
        Включает таблицы `shooter_weapon_catalog`, `shooter_fire_log`, `shooter_hit_log`,
        `shooter_modifiers`, `shooter_telemetry`.
      mechanics_links: []
      assets: []
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  needs_task: false
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml#analysis-2025-11-09-combat-dnd-core-brief
  blockers: []
history:
  - version: '1.0.0'
    date: 2025-11-09
    author: brain_manager
    changes: Бриф по переходу на combat-shooter-core.
validation:
  checksum: ''
  schema_version: '1.0'

