metadata:
  id: narrative-coherence-dev-guide-step-by-step-part3-testing
  title: "Step-by-Step Backend Setup: Part 3 — Testing & Deploy"
  document_type: implementation
  category: backend
  status: draft
  version: '1.0.0'
  last_updated: 2025-11-13T00:00:00Z
  concept_approved: false
  concept_reviewed_at: ''
  owners:
    - role: concept_director
      contact: concept@necp.game
  tags:
    - backend
    - testing
    - deployment
  topics:
    - quality-assurance
    - configuration
  related_systems:
    - narrative-service
  related_documents:
    - id: narrative-coherence-dev-guide-step-by-step-part1-setup
      relation: precedes
    - id: narrative-coherence-dev-guide-step-by-step-part2-code
      relation: precedes
  source: "shared/docs/knowledge/canon/narrative/narrative-coherence/phase6-documentation/dev-guides/step-by-step-part3-testing.md"
  visibility: internal
  audience:
    - backend
    - qa
  risk_level: medium
review:
  chain:
    - role: concept_director
      reviewer: ''
      reviewed_at: ''
      status: pending
  next_actions: []
summary:
  problem: "Нужно зафиксировать процедуру конфигурации, тестирования и итогового контроля narrative-бэкенда."
  goal: "Определить шаги по настройке application.yml, запуску тестов и сверке чеклиста готовности."
  essence: "Документ завершает трёхчастное руководство и переводит команду к готовому квестовому API."
  key_points:
    - "Формализация параметров application.yml для PostgreSQL, Redis и JPA."
    - "Инструкции по запуску сервиса и проверке REST-эндпоинтов."
    - "Финальный чеклист, подтверждающий готовность инфраструктуры и кода."
content:
  sections:
    - id: introduction
      title: "Введение"
      body: |
        Третий этап завершает настройку narrative-сервиса. Он фиксирует конфигурацию приложения, ручное тестирование API и финальный чеклист для перехода к интеграции.
      mechanics_links: []
      assets: []
    - id: step-10-configuration
      title: "Шаг 10 — Конфигурация"
      body: |
        Обновите application.yml, указав параметры подключения к PostgreSQL и Redis, а также режим ddl-auto: validate. Убедитесь, что параметры пула Hikari соответствуют рабочим нагрузкам.
      mechanics_links: []
      assets: []
    - id: step-11-testing
      title: "Шаг 11 — Тестирование API"
      body: |
        Запустите приложение командой ./mvnw spring-boot:run. Проверьте доступные квесты, детали и прохождение выбора через curl-запросы к эндпоинтам /api/v1/narrative/quests/available, /api/v1/narrative/quests/{questId} и /api/v1/narrative/quests/{questId}/choice.
      mechanics_links: []
      assets: []
    - id: final-checklist
      title: "Финальный чеклист"
      body: |
        Подтвердите, что инфраструктура (PostgreSQL, Redis), миграции, JSON-данные, зависимости, сущности, репозитории, сервисы и контроллеры приведены в актуальное состояние. Зафиксируйте успешный прогон smoke-тестов API.
      mechanics_links: []
      assets: []
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  needs_task: false
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml
  blockers: []
history:
  - version: '1.0.0'
    date: 2025-11-13
    author: concept_director
    changes: "Конвертация Part 3 пошагового руководства из MD в YAML."
validation:
  checksum: ''
  schema_version: '1.0'

