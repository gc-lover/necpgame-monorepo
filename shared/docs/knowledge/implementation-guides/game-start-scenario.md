# Сценарий запуска игры

**Статус:** review - детализация завершена  
**Версия:** 1.0.0  
**Дата создания:** 2025-11-05  
**Последнее обновление:** 2025-11-05  
**Приоритет:** высокий

**api-readiness:** ready  
**api-readiness-check-date:** 2025-11-05 10:24
**api-readiness-notes:** Документ готов к созданию API задач. Содержит детальное описание сценария запуска игры после создания персонажа, последовательность экранов и событий. Все необходимые детали для создания API спецификации присутствуют (v1.0.0).

---

- **Status:** created
- **Last Updated:** 2025-11-06 15:30
---

---

## Общее описание

Детальное описание сценария запуска игры после создания персонажа и нажатия кнопки "ИГРАТЬ". Определяет последовательность экранов, событий и первых активностей игрока в начале игры.

**Цель:** Создать четкий и понятный сценарий начала игры, который плавно вводит игрока в мир NECPGAME.

---

## 1. Последовательность событий при запуске

### 1.1. Этап 1: Экран приветствия (0-30 секунд)

**Событие:** Игрок создал персонажа и нажал "ИГРАТЬ"

**Экран:**
- Приветственное сообщение
- Информация о персонаже (имя, класс, уровень)
- Информация о стартовой локации
- Кнопки: "Начать игру" / "Пропустить туториал"

**Действия игрока:**
- Прочитать приветствие
- Выбрать: начать с туториалом или пропустить

**Системные действия:**
- Создание персонажа в БД (если еще не создан)
- Установка стартовой локации (Downtown, Night City)
- Установка начальных характеристик
- Выдача стартового снаряжения
- Выдача стартовых денег (500 eddies)

---

### 1.2. Этап 2: Первое появление в мире (30-60 секунд)

**Событие:** Игрок нажал "Начать игру"

**Экран:** Основной хаб персонажа

**Элементы:**
- Информация о персонаже (здоровье, энергия, человечность)
- Описание текущей локации (Downtown)
- Навигационное меню (Действия, Инвентарь, Квесты и т.д.)

**Системные действия:**
- Персонаж появляется в стартовой локации (Downtown)
- Показывается описание локации
- Доступны базовые действия

**Действия игрока:**
- Изучить интерфейс
- Прочитать описание локации
- Выбрать действие из меню

---

### 1.3. Этап 3: Введение в локацию (1-2 минуты)

**Событие:** Игрок изучил хаб и готов к действиям

**Экран:** Описание локации с доступными действиями

**Элементы:**
- Детальное описание локации (Downtown)
- Доступные действия в локации:
  - Осмотреть окрестности
  - Найти NPC
  - Переместиться в другую локацию
  - Открыть инвентарь
  - Открыть характеристики

**Системные действия:**
- Показывается список доступных NPC в локации
- Показываются связанные локации для перемещения
- Показываются доступные действия

**Действия игрока:**
- Изучить описание локации
- Выбрать действие (например, "Найти NPC")

---

### 1.4. Этап 4: Первое взаимодействие с NPC (2-3 минуты)

**Событие:** Игрок выбрал "Найти NPC" или "Осмотреть окрестности"

**Экран:** Список NPC в локации

**Элементы:**
- Список доступных NPC:
  - Сара Миллер (офицер NCPD) - дает квесты
  - Джейк Арчер (торговец) - продает товары
  - Виктор Вектор (риппердок) - для будущего (импланты)
- Описание каждого NPC
- Кнопка "Поговорить" для каждого NPC

**Системные действия:**
- Показывается список NPC в текущей локации
- Если туториал включен - первый NPC подсвечивается (Сара Миллер)

**Действия игрока:**
- Выбрать NPC для взаимодействия
- Начать диалог

---

### 1.5. Этап 5: Первый диалог (3-5 минут)

**Событие:** Игрок выбрал NPC для разговора

**Экран:** Диалоговое окно

**Элементы:**
- Имя и портрет NPC (текстовое описание)
- Приветствие NPC
- Опции диалога:
  - "Расскажи о городе" (общая информация)
  - "Расскажи о себе" (информация о NPC)
  - "Какие задания у тебя есть?" (квесты)
  - "Покажи товары" (если торговец)
  - "До свидания" (закрыть диалог)

**Системные действия:**
- Если туториал включен - показывается подсказка о первом задании
- Если NPC дает квесты - показывается список доступных квестов

**Действия игрока:**
- Выбрать опцию диалога
- Прочитать ответ NPC
- Принять квест (если есть)

---

### 1.6. Этап 6: Первый квест (5-10 минут)

**Событие:** Игрок принял первый квест

**Экран:** Информация о квесте

**Элементы:**
- Название квеста
- Описание квеста
- Цели квеста (objectives)
- Награды (опыт, деньги, предметы, репутация)
- Кнопка "Начать квест"

**Системные действия:**
- Квест добавляется в активные квесты
- Показывается первая цель квеста
- Если туториал включен - показывается подсказка о выполнении цели

**Действия игрока:**
- Прочитать описание квеста
- Начать выполнение первой цели

**Первый квест (для MVP):**
- **Название:** "Доставка груза"
- **Данный:** Сарой Миллер (NCPD)
- **Цель:** Доставить посылку из Downtown в Watson торговцу Рите Морено
- **Награды:** 100 опыта, 200 eddies, +5 репутации NCPD

---

### 1.7. Этап 7: Выполнение первого квеста (10-20 минут)

**Событие:** Игрок начал выполнять первый квест

**Последовательность действий:**

1. **Перемещение в Watson:**
   - Игрок выбирает "Переместиться" в меню
   - Видит список доступных локаций (Watson доступен)
   - Выбирает Watson
   - Система показывает описание перемещения
   - Персонаж появляется в Watson

2. **Поиск NPC в новой локации:**
   - Игрок видит описание локации Watson
   - Выбирает "Найти NPC"
   - Видит список NPC в Watson (Рита Морено)
   - Выбирает Риту Морено

3. **Взаимодействие с получателем:**
   - Игрок начинает диалог с Ритой Морено
   - Выбирает опцию "Передать посылку" (если квест активен)
   - Система проверяет наличие предмета в инвентаре
   - Предмет передается NPC
   - Квест завершается

4. **Получение награды:**
   - Система выдает награды (опыт, деньги, репутация)
   - Показывается сообщение о завершении квеста
   - Игрок получает опыт и повышает уровень (если достаточно)

---

### 1.8. Этап 8: После первого квеста (20+ минут)

**Событие:** Игрок завершил первый квест

**Экран:** Основной хаб персонажа

**Доступные действия:**
- Принять новый квест (от любого NPC)
- Изучить инвентарь
- Изучить характеристики
- Переместиться в другую локацию
- Торговля с NPC
- Выполнить другие действия в локации

**Системные действия:**
- Если уровень повысился - показывается уведомление
- Если туториал включен - показывается подсказка о следующих шагах

**Действия игрока:**
- Изучить новые возможности
- Продолжить выполнение квестов
- Исследовать мир

---

## 2. Сценарий без туториала

**Если игрок выбрал "Пропустить туториал":**

**Последовательность:**
1. Экран приветствия (5 секунд) - только приветствие
2. Основной хаб персонажа - сразу доступны все действия
3. Нет подсказок и подсветки элементов
4. Игрок сам изучает интерфейс и возможности

**Отличия:**
- Нет подсказок о первом NPC
- Нет подсказок о первом квесте
- Нет подсказок о выполнении целей
- Все действия доступны сразу

---

## 3. Сценарий повторного входа

**Если игрок уже играл и входит снова:**

**Последовательность:**
1. Экран выбора персонажа
2. Игрок выбирает персонажа
3. Персонаж загружается в последней локации
4. Основной хаб персонажа - все действия доступны
5. Активные квесты показываются в меню "Квесты"

**Отличия:**
- Нет экрана приветствия
- Нет туториала
- Персонаж в последней локации
- Сохраняется прогресс

---

## 4. Обработка ошибок и крайних случаев

### 4.1. Ошибка загрузки персонажа

**Проблема:** Персонаж не найден в БД

**Решение:**
- Показывать сообщение об ошибке
- Перенаправлять на экран выбора персонажа
- Предлагать создать нового персонажа

### 4.2. Ошибка загрузки локации

**Проблема:** Локация не найдена

**Решение:**
- Перемещать персонажа в стартовую локацию (Downtown)
- Показывать сообщение о проблеме
- Логировать ошибку

### 4.3. Ошибка загрузки NPC

**Проблема:** NPC не найден в локации

**Решение:**
- Показывать сообщение "NPC временно недоступен"
- Обновлять список NPC
- Позволить выбрать другого NPC

---

## 5. Связанные документы

- [Туториал и первые шаги](./game-tutorial-flow.md) - детальное описание туториала
- [Первый квест и введение](./game-first-quest-intro.md) - детальное описание первого квеста
- [Начало игры (UI)](./ui-game-start.md) - описание интерфейса начала игры
- [Основной интерфейс](./ui-main-game.md) - описание основного интерфейса

---

## 6. TODO

**TODO:** Добавить систему сохранения прогресса туториала - требуется для незавершенных туториалов.

**TODO:** Добавить систему проверки доступности квестов - требуется для предотвращения конфликтов.

**TODO:** Добавить систему уведомлений о новых событиях - требуется для информирования игрока.

---

## История изменений

- v1.0.0 (2025-11-05) - Создание документа с описанием сценария запуска игры
