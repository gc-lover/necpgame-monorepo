metadata:
  id: implementation-global-state-index
  title: "Global State System — навигация"
  document_type: implementation
  category: world
  status: approved
  version: '1.0.1'
  last_updated: 2025-11-07T00:00:00Z
  concept_approved: true
  concept_reviewed_at: 2025-11-07T00:00:00Z
  owners:
    - role: world_service_owner
      contact: world@necp.game
  tags:
    - world-state
    - navigation
    - microservices
  topics:
    - distributed-state
    - event-driven
  related_systems:
    - world-service
    - combat-service
    - guild-service
  related_documents:
    - id: global-state-core
      relation: references
    - id: global-state-management
      relation: references
    - id: global-state-events
      relation: references
    - id: global-state-sync
      relation: references
    - id: global-state-operations
      relation: references
  source: shared/docs/knowledge/implementation/global-state/README.md
  visibility: internal
  audience:
    - backend
    - infrastructure
    - concept
  risk_level: medium
review:
  chain:
    - role: world_service_owner
      reviewer: ''
      reviewed_at: 2025-11-07T00:00:00Z
      status: approved
  next_actions: []
summary:
  problem: "После разделения документации по global-state команде нужен индекс, объединяющий архитектуру и ссылки на главы."
  goal: "Закрепить точку входа в комплекс документов о состоянии мира, описать микросервисные зависимости и синхронизацию."
  essence: "README описывает world-service как центральный узел, перечисляет файлы частей и кратко демонстрирует event-driven поток и распределённое состояние."
  key_points:
    - "world-service (порт 8086) управляет глобальным состоянием и синхронизацией через Redis и Event Bus."
    - "Создано пять детализированных частей: core, management, events, sync, operations."
    - "Документ фиксирует примеры событий и варианты event sourcing для аудита и отладки."
content:
  sections:
    - id: architecture
      title: Микросервисная архитектура
      body: |
        Описывает, что world-service принимает обновления от других сервисов, публикует события `world:state-changed` и
        взаимодействует с API Gateway. Указаны подписки на боевые, гильдейские и квестовые события.
      mechanics_links: []
      assets: []
    - id: distributed-state
      title: Распределённое состояние
      body: |
        Пример потока захвата территории показывает обновление PostgreSQL, кеш Redis и широковещательные события.
        Представлены варианты использования Redis pub/sub и опциональный подход event sourcing.
      mechanics_links: []
      assets: []
    - id: documents
      title: Структура документов
      body: |
        README указывает на пять детализированных файлов (core, management, events, sync, operations), где раскрываются
        структуры данных, механизмы обновлений, синхронизация и CRUD API.
      mechanics_links: []
      assets: []
    - id: examples
      title: Пример реализации
      body: |
        Содержит выдержки кода для Redis-синхронизации и event sourcing, подчёркивает логику рассылки изменений и преимущества
        для аудита и тестирования.
      mechanics_links: []
      assets: []
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  needs_task: false
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml
  blockers: []
history:
  - version: '1.0.1'
    date: 2025-11-07
    author: world_service_owner
    changes: Добавлены сведения о микросервисной архитектуре и распределённом состоянии.
validation:
  checksum: ''
  schema_version: '1.0'

