metadata:
  id: implementation-infrastructure-anti-cheat-system
  title: Anti-Cheat System
  document_type: implementation
  category: infrastructure
  status: approved
  version: '1.0.0'
  last_updated: 2025-11-07T05:20:00Z
  concept_approved: true
  concept_reviewed_at: 2025-11-07T05:20:00Z
  owners:
    - role: concept_director
      contact: concept@necp.game
  tags:
    - anti_cheat
    - security
    - live_ops
  topics:
    - security
    - player_safety
  related_systems:
    - anticheat-service
    - analytics-platform
    - admin-panel-service
  related_documents:
    - id: implementation-infrastructure-admin-moderation-tools
      relation: complements
  source: shared/docs/knowledge/implementation/infrastructure/anti-cheat-system.md
  visibility: internal
  audience:
    - concept
    - security
    - live_ops
  risk_level: high
review:
  chain:
    - role: concept_director
      reviewer: ''
      reviewed_at: 2025-11-07T05:20:00Z
      status: approved
  next_actions: []
summary:
  problem: Необходима многоуровневая защита от читов и эксплойтов с автоматическими санкциями.
  goal: Построить систему обнаружения, предотвращения и реагирования на нарушения по данным клиента и сервера.
  essence: Античит объединяет валидаторы клиента и сервера, поведенческий анализ, контроль целостности и автоматизированную систему банов.
  key_points:
    - Четыре уровня защиты закрывают клиент, сервер, аналитику поведения и целостность.
    - Обнаружение основано на невозможных действиях, статистических аномалиях и паттернах.
    - Система банов поддерживает предупреждения, временные и перманентные блокировки, включая аппаратные.
    - Логи и бан-записи сохраняются в специализированных таблицах для аудита.
content:
  sections:
    - id: introduction
      title: Введение
      body: |
        Античит-система защищает игровой процесс от эксплойтов и автоматизированных читов.
        Она сочетает проверки на клиенте, валидацию на сервере и аналитику поведения игроков.
      mechanics_links: []
      assets: []
    - id: protection_levels
      title: Уровни защиты
      body: |
        Архитектура разделена на четыре уровня:
        1. Client-Side Validation — фильтрует скорость, границы карты и частоту действий.
        2. Server-Side Validation — подтверждает физику, кулдауны и ресурсы.
        3. Behavioral Analysis — анализирует паттерны убийств, движение и время реакции, применяя ML.
        4. System Integrity — выявляет модификации памяти, процессов и файлов клиента.
      mechanics_links: []
      assets: []
    - id: detection_methods
      title: Методы обнаружения
      body: |
        Система сопоставляет действия игрока с допустимыми параметрами, фиксирует статистические аномалии
        и анализирует траектории движения. Явные нарушения автоматически маркируются и приводят к мгновенной реакции.
      mechanics_links: []
      assets: []
    - id: ban_system
      title: Система санкций
      body: |
        Бан-система поддерживает градации: предупреждение, временный бан и перманентная блокировка.
        Аппаратные баны применяются к рецидивистам, а апелляции направляются в очередь ручной проверки.
      mechanics_links: []
      assets: []
    - id: data_storage
      title: Хранение данных
      body: |
        Логи нарушений сохраняются в таблице `anticheat_logs` с деталями, доказательствами и статусом ревью.
        Таблица `player_bans` хранит активные блокировки, причину и результаты апелляций.
      mechanics_links: []
      assets: []
    - id: api_interfaces
      title: API и интеграции
      body: |
        REST-интерфейсы позволяют отправлять репорты, проверять статус блокировки и подавать апелляции.
        Античит интегрирован с панелью администрирования для отображения флагов и действий системы.
      mechanics_links: []
      assets: []
appendix:
  glossary: []
  references:
    - title: Admin & Moderation Tools
      link: ./admin-moderation-tools.md
  decisions: []
implementation:
  needs_task: false
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml#implementation-infrastructure-anti-cheat-system
  blockers: []
history:
  - version: '1.0.0'
    date: 2025-11-06
    author: AI Brain Manager
    changes: Описана многоуровневая система античита и процессы реагирования.
validation:
  checksum: ''
  schema_version: '1.0'

