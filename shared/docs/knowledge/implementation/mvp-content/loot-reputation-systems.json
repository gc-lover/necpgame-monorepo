{
  "lootTables": {
    "description": "Таблицы дропа предметов с врагов, контейнеров и локаций",
    "enemies": {
      "npc-gangster-generic": {
        "name": "Бандит (общий)",
        "level": "1-3",
        "lootPools": [
          {
            "type": "guaranteed",
            "items": [
              { "id": "money-eddies", "min": 20, "max": 80 }
            ]
          },
          {
            "type": "common",
            "chance": 0.7,
            "items": [
              { "id": "item-medkit-basic", "chance": 0.3 },
              { "id": "item-ammo-pistol-basic", "quantity": { "min": 5, "max": 15 }, "chance": 0.5 },
              { "id": "item-electronics-standard", "chance": 0.2 }
            ]
          },
          {
            "type": "uncommon",
            "chance": 0.25,
            "items": [
              { "id": "item-weapon-pistol-basic", "chance": 0.15 },
              { "id": "item-components-basic", "chance": 0.1 }
            ]
          },
          {
            "type": "rare",
            "chance": 0.05,
            "items": [
              { "id": "item-weapon-pistol-rare", "chance": 0.03 },
              { "id": "item-implant-basic", "chance": 0.02 }
            ]
          }
        ]
      },
      "npc-scav": {
        "name": "Скав",
        "level": "2-5",
        "lootPools": [
          {
            "type": "guaranteed",
            "items": [
              { "id": "money-eddies", "min": 30, "max": 100 }
            ]
          },
          {
            "type": "common",
            "chance": 0.8,
            "items": [
              { "id": "item-electronics-standard", "chance": 0.4 },
              { "id": "item-implant-damaged", "chance": 0.3 },
              { "id": "item-medkit-basic", "chance": 0.1 }
            ]
          },
          {
            "type": "uncommon",
            "chance": 0.3,
            "items": [
              { "id": "item-implant-basic", "chance": 0.2 },
              { "id": "item-weapon-parts", "chance": 0.1 }
            ]
          }
        ]
      },
      "npc-corpo-guard": {
        "name": "Корпоративная охрана",
        "level": "4-8",
        "lootPools": [
          {
            "type": "guaranteed",
            "items": [
              { "id": "money-eddies", "min": 100, "max": 250 }
            ]
          },
          {
            "type": "common",
            "chance": 0.75,
            "items": [
              { "id": "item-ammo-smg", "quantity": { "min": 10, "max": 30 }, "chance": 0.5 },
              { "id": "item-armor-basic", "chance": 0.25 }
            ]
          },
          {
            "type": "uncommon",
            "chance": 0.4,
            "items": [
              { "id": "item-weapon-smg-corporate", "chance": 0.25 },
              { "id": "item-corporate-access-card", "chance": 0.15 }
            ]
          },
          {
            "type": "rare",
            "chance": 0.1,
            "items": [
              { "id": "item-corporate-data", "chance": 0.08 },
              { "id": "item-implant-military", "chance": 0.02 }
            ]
          }
        ]
      },
      "npc-ai-combat-proxy": {
        "name": "Боевой прокси (ИИ)",
        "level": "5-10",
        "lootPools": [
          {
            "type": "guaranteed",
            "items": [
              { "id": "xp-bonus", "amount": 50 }
            ]
          },
          {
            "type": "uncommon",
            "chance": 0.5,
            "items": [
              { "id": "item-ai-fragment", "chance": 0.3 },
              { "id": "item-netrunner-software", "chance": 0.2 }
            ]
          },
          {
            "type": "rare",
            "chance": 0.15,
            "items": [
              { "id": "item-ai-core-fragment", "chance": 0.1 },
              { "id": "item-blackwall-data", "chance": 0.05 }
            ]
          }
        ]
      }
      ,
      "npc-elite-guardian": {
        "name": "Элитный страж (эндгейм)",
        "level": "10-12",
        "lootPools": [
          { "type": "guaranteed", "items": [ { "id": "money-eddies", "min": 250, "max": 500 }, { "id": "xp-bonus", "amount": 120 } ] },
          { "type": "uncommon", "chance": 0.6, "items": [ { "id": "item-weapon-elite", "chance": 0.25 }, { "id": "item-armor-advanced", "chance": 0.2 } ] },
          { "type": "rare", "chance": 0.2, "items": [ { "id": "item-implant-military", "chance": 0.12 }, { "id": "item-blackwall-data", "chance": 0.08 } ] }
        ]
      }
      ,
      "npc-relic-carrier": {
        "name": "Носитель Реликта",
        "level": "9-11",
        "lootPools": [
          { "type": "guaranteed", "items": [ { "id": "item-relic-data", "chance": 1.0 } ] },
          { "type": "uncommon", "chance": 0.5, "items": [ { "id": "money-eddies", "min": 200, "max": 600 } ] },
          { "type": "rare", "chance": 0.15, "items": [ { "id": "item-implant-experimental", "chance": 0.1 } ] }
        ]
      }
    },
    "containers": {
      "container-generic-trash": {
        "name": "Мусорный контейнер",
        "lootPools": [
          {
            "type": "common",
            "chance": 0.4,
            "items": [
              { "id": "money-eddies", "min": 5, "max": 20, "chance": 0.3 },
              { "id": "item-junk", "chance": 0.5 },
              { "id": "item-electronics-standard", "chance": 0.1 },
              { "id": "item-medkit-basic", "chance": 0.05 }
            ]
          }
        ]
      },
      "container-corpo-crate": {
        "name": "Корпоративный ящик",
        "lootPools": [
          {
            "type": "guaranteed",
            "items": [
              { "id": "money-eddies", "min": 50, "max": 150 }
            ]
          },
          {
            "type": "common",
            "chance": 0.7,
            "items": [
              { "id": "item-electronics-standard", "chance": 0.4 },
              { "id": "item-components-basic", "chance": 0.3 }
            ]
          },
          {
            "type": "uncommon",
            "chance": 0.3,
            "items": [
              { "id": "item-corporate-data", "chance": 0.2 },
              { "id": "item-weapon-parts", "chance": 0.1 }
            ]
          }
        ]
      }
    },
    "quests": {
      "quest-reward-scaling": {
        "description": "Формулы масштабирования наград за квесты",
        "experience": {
          "base": 100,
          "perLevel": 40,
          "formula": "baseXP + (questLevel * perLevel)",
          "multipliers": {
            "main-quest": 1.2,
            "side-quest": 1.0,
            "faction-quest": 1.1,
            "class-quest": 1.0
          },
          "bonus": {
            "skill-check-success": 0.2,
            "peaceful-resolution": 0.15,
            "speed-completion": 0.1
          }
        },
        "money": {
          "base": 150,
          "perLevel": 50,
          "formula": "baseMoney + (questLevel * perLevel)",
          "multipliers": {
            "main-quest": 1.0,
            "side-quest": 0.9,
            "faction-quest": 1.1,
            "class-quest": 0.95
          }
        }
        ,
        "endgame": {
          "description": "Модификаторы наград поздней игры (уровни 9-12)",
          "experienceMultiplierByLevel": { "9": 1.05, "10": 1.1, "11": 1.15, "12": 1.2 },
          "moneyMultiplierByLevel": { "9": 1.05, "10": 1.1, "11": 1.15, "12": 1.25 },
          "peacefulResolutionBonus": 0.1,
          "highRiskBonus": 0.2
        }
      }
    }
  },
  "reputationSystem": {
    "description": "Система репутации с фракциями и влияние на игровой мир",
    "factions": [
      {
        "id": "ncpd",
        "name": "NCPD",
        "levels": [
          { "threshold": -100, "level": "враг", "effects": { "hostile": true, "arrest-on-sight": true } },
          { "threshold": -50, "level": "подозрительный", "effects": { "increased-patrols": true } },
          { "threshold": 0, "level": "нейтральный", "effects": {} },
          { "threshold": 25, "level": "известный", "effects": { "reduced-fines": 0.1 } },
          { "threshold": 50, "level": "уважаемый", "effects": { "access-ncpd-contracts": true, "reduced-fines": 0.25 } },
          { "threshold": 100, "level": "герой", "effects": { "police-backup": true, "reduced-fines": 0.5 } }
        ],
        "gainSources": [
          { "action": "complete-ncpd-quest", "amount": 10 },
          { "action": "defeat-criminal", "amount": 2 },
          { "action": "report-crime", "amount": 5 }
        ],
        "lossSources": [
          { "action": "attack-officer", "amount": -20 },
          { "action": "commit-crime", "amount": -5 },
          { "action": "help-criminal", "amount": -10 }
        ]
      },
      {
        "id": "valentinos",
        "name": "Valentinos",
        "levels": [
          { "threshold": -100, "level": "враг", "effects": { "hostile": true, "kos-in-heywood": true } },
          { "threshold": -50, "level": "недоверие", "effects": { "increased-toll": 2.0 } },
          { "threshold": 0, "level": "нейтральный", "effects": { "toll-required": true } },
          { "threshold": 25, "level": "уважаемый", "effects": { "reduced-toll": 0.5 } },
          { "threshold": 50, "level": "член семьи", "effects": { "access-safe-houses": true, "no-toll": true } },
          { "threshold": 100, "level": "легенда", "effects": { "valentinos-backup": true, "exclusive-quests": true } }
        ],
        "gainSources": [
          { "action": "complete-valentinos-quest", "amount": 15 },
          { "action": "defeat-rival-gang", "amount": 5 },
          { "action": "show-respect", "amount": 3 }
        ],
        "lossSources": [
          { "action": "attack-valentinos", "amount": -20 },
          { "action": "help-rival-gang", "amount": -15 },
          { "action": "disrespect", "amount": -10 }
        ]
      },
      {
        "id": "maelstrom",
        "name": "Maelstrom",
        "levels": [
          { "threshold": -100, "level": "враг", "effects": { "hostile": true, "kos-in-watson": true } },
          { "threshold": -50, "level": "недоверие", "effects": { "ambushes-likely": true } },
          { "threshold": 0, "level": "нейтральный", "effects": {} },
          { "threshold": 25, "level": "полезный", "effects": { "access-cyberware-market": true } },
          { "threshold": 50, "level": "своей", "effects": { "discount-implants": 0.15, "safe-passage": true } },
          { "threshold": 100, "level": "металлический брат", "effects": { "maelstrom-backup": true, "military-implants-access": true } }
        ],
        "gainSources": [
          { "action": "complete-maelstrom-quest", "amount": 15 },
          { "action": "install-cyberware", "amount": 3 },
          { "action": "share-tech", "amount": 5 }
        ],
        "lossSources": [
          { "action": "attack-maelstrom", "amount": -20 },
          { "action": "help-valentinos", "amount": -15 },
          { "action": "refuse-cyberware", "amount": -5 }
        ]
      },
      {
        "id": "nomads",
        "name": "Nomads (Aldecaldos)",
        "levels": [
          { "threshold": -100, "level": "враг", "effects": { "hostile": true } },
          { "threshold": -50, "level": "нежеланный", "effects": { "no-services": true } },
          { "threshold": 0, "level": "нейтральный", "effects": {} },
          { "threshold": 25, "level": "друг дороги", "effects": { "access-nomad-merchants": true } },
          { "threshold": 50, "level": "член семьи", "effects": { "vehicle-services": true, "safe-travel": true } },
          { "threshold": 100, "level": "легенда пустоши", "effects": { "nomad-convoy-support": true, "exclusive-vehicles": true } }
        ],
        "gainSources": [
          { "action": "complete-nomad-quest", "amount": 15 },
          { "action": "help-convoy", "amount": 10 },
          { "action": "share-supplies", "amount": 5 }
        ],
        "lossSources": [
          { "action": "attack-nomad", "amount": -20 },
          { "action": "betray-family", "amount": -50 },
          { "action": "refuse-help", "amount": -5 }
        ]
      },
      {
        "id": "corporations",
        "name": "Корпорации (общий)",
        "levels": [
          { "threshold": -100, "level": "террорист", "effects": { "corpo-bounty": true, "kos-in-corpo-zones": true } },
          { "threshold": -50, "level": "подозрительный", "effects": { "denied-access": true } },
          { "threshold": 0, "level": "нейтральный", "effects": {} },
          { "threshold": 25, "level": "контрактор", "effects": { "access-corpo-contracts": true } },
          { "threshold": 50, "level": "доверенный агент", "effects": { "corpo-gear-discount": 0.1, "high-clearance": true } },
          { "threshold": 100, "level": "корпоративная элита", "effects": { "executive-access": true, "exclusive-implants": true } }
        ],
        "gainSources": [
          { "action": "complete-corpo-quest", "amount": 10 },
          { "action": "eliminate-corpo-enemy", "amount": 5 },
          { "action": "provide-intel", "amount": 8 }
        ],
        "lossSources": [
          { "action": "attack-corpo-personnel", "amount": -15 },
          { "action": "steal-corpo-data", "amount": -20 },
          { "action": "sabotage", "amount": -30 }
        ]
      },
      {
        "id": "independent",
        "name": "Независимые",
        "levels": [
          { "threshold": 0, "level": "неизвестный", "effects": {} },
          { "threshold": 25, "level": "знакомый", "effects": { "better-prices": 0.05 } },
          { "threshold": 50, "level": "друг улиц", "effects": { "access-fixers": true, "better-prices": 0.1 } },
          { "threshold": 100, "level": "легенда", "effects": { "exclusive-contracts": true, "street-respect": true, "better-prices": 0.2 } }
        ],
        "gainSources": [
          { "action": "complete-independent-quest", "amount": 5 },
          { "action": "help-civilians", "amount": 3 },
          { "action": "fair-trade", "amount": 2 }
        ],
        "lossSources": [
          { "action": "betray-trust", "amount": -10 },
          { "action": "harm-innocent", "amount": -15 }
        ]
      }
    ],
    "formulas": {
      "reputation-gain": {
        "base": "actionAmount",
        "multipliers": {
          "quest-completion": 1.0,
          "critical-success": 1.5,
          "repeated-action": 0.5,
          "endgame-choice-truth": 1.3,
          "endgame-choice-stability": 1.2
        },
        "caps": {
          "daily-max-per-faction": 50,
          "single-action-max": 25
        }
      },
      "reputation-conversion": {
        "description": "Учет конфликтов фракций: прирост одной снижает прирост другой",
        "rules": [
          { "gainFaction": "corporations", "affectedFaction": "nomads", "factor": 0.7 },
          { "gainFaction": "ncpd", "affectedFaction": "valentinos", "factor": 0.5 },
          { "gainFaction": "ncpd", "affectedFaction": "maelstrom", "factor": 0.5 }
        ]
      },
      "reputation-decay": {
        "enabled": false,
        "description": "Репутация не убывает со временем в MVP. Может быть добавлено позже."
      },
      "faction-conflict": {
        "description": "Некоторые фракции конфликтуют друг с другом",
        "conflicts": [
          { "faction1": "ncpd", "faction2": "valentinos", "multiplier": 0.5 },
          { "faction1": "ncpd", "faction2": "maelstrom", "multiplier": 0.5 },
          { "faction1": "valentinos", "faction2": "maelstrom", "multiplier": 0.3 },
          { "faction1": "corporations", "faction2": "nomads", "multiplier": 0.7 }
        ],
        "effect": "Gain reputation with one faction reduces reputation gain with conflicting faction by multiplier"
      }
    }
  },
  "metadata": {
    "version": "1.0.0",
    "created": "2025-11-05",
    "description": "Таблицы лута и система репутации для NECPGAME. Определяет дроп предметов, награды за квесты и механику репутации с фракциями."
  }
}




