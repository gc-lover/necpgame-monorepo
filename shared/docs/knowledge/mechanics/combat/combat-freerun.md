# Боевая система - FREERUN (Паркур)

**api-readiness:** ready  
**api-readiness-check-date:** 2025-11-09 03:20
**api-readiness-notes:** Перепроверено 2025-11-09 03:20: паркур и боевые манёвры (атаки с воздуха, стрельба в движении, импланты, мобильные комбо) остаются готовыми к постановке API задач gameplay-service (v1.1.0); балансные TODO не блокируют.

**target-domain:** gameplay-combat  
**target-microservice:** gameplay-service (8083)  
**target-frontend-module:** modules/combat/movement

**Статус:** approved  
**Приоритет:** Высокий  
**Дата создания:** 2025-11-03

---

- **Status:** approved
- **Last Updated:** 2025-11-09 02:50
---

---

## Концепция FREERUN

### Важность паркура

Паркур в NECPGAME добавляет свободу передвижения и вертикальность игровому миру. Он интегрируется с боевой системой и является важной частью киберпанк сеттинга.

**Вдохновение:** Assassin's Creed, Mirror's Edge, Dying Light

---

## Определенные решения

### 1. Тип паркура

**Решение:** Вариант В - Смешанный (автоматический + ручной контроль)
- Игрок может гибко настраивать уровень автоматизации
- Автоматический паркур для доступности
- Ручной контроль для точности и вызова
- Возможность гибко всё настраивать!

---

### 2. Элементы паркура

**Решение:** Все элементы кроме джетпака:
- ✅ Прыжки между крышами
- ✅ Лазание по стенам
- ✅ Скольжение по веревкам/проводам
- ✅ Скалолазание
- ✅ Зацепление крюками
- ✅ Гравиботы (из лора)
- ✅ Импланты для ног (из лора)
- ❌ Джетпак (под вопросом, но возможны гравиботы и импланты для ног)

**Киберпанк контекст:**
- Импланты для паркура (ноги, руки)
- Вертикальные города
- Крыши как альтернативные пути
- Гравиботы как технология из лора

---

### 3. Ограничения паркура

**Решение:** Выносливость (не энергия)
- Паркур расходует выносливость персонажа
- Не энергия (как для способностей), а физическая выносливость
- Выносливость восстанавливается со временем
- Может быть улучшена через импланты и навыки

---

### 4. Интеграция с боем

**✅ Решение:** Комбинация (контекстные + имплантные связки) + уклонения + различные приёмы

**Атаки с воздуха:**
- **Базовый бонус:** малый бонус урона/крита при падении выше порога (высота > N метров)
- **Усиление имплантами:** импланты (например, ноги/руки) открывают усиленные приёмы (финишеры, критические атаки с воздуха)
- **Усиление навыками:** навыки паркура увеличивают бонус урона/крита
- **Усиление атрибутами:** атрибуты персонажа (сила, ловкость) влияют на урон атак с воздуха

**Стрельба в движении:**
- **Динамические штрафы:** штрафы к точности/отдаче зависят от скорости/направления движения (прыжок/скольжение хуже, чем бег)
- **Смягчение перками/модами:** перки и моды оружия/имплантов смягчают штрафы
- **Влияние навыков и атрибутов:** навыки стрельбы и атрибуты персонажа могут повлиять на качество стрельбы в движении

**Влияние на способности:**
- **Мобильные версии:** разблокировка "мобильных" версий способностей (касты на слайде, в прыжке)
- **Модификаторы стоимости/кд:** использование способностей в движении может изменять стоимость/кулдаун
- **Влияние навыков и атрибутов:** навыки способностей и атрибуты персонажа могут повлиять на эффективность мобильных способностей

**Комбо паркур+бой:**
- **Контекстные атаки:** перепрыгивание укрытий, таран, контекстные атаки при паркуре
- **Имплантные связки:** связки с имплантами (рывок-удар, захват, быстрые перемещения)
- **Уклонения:** использование паркура для уклонения от атак (прыжки, слайды, перекаты)
- **Приёмы для дальнего и ближнего боя:**
  - **Дальний бой:** атаки с воздуха, стрельба в движении, уклонения через паркур
  - **Ближний бой:** контекстные атаки при паркуре, имплантные связки (рывок-удар), таран

**Интеграция:** `combat-implants.md` (импланты), система навыков и атрибутов

---

## Вопросы для дальнейшей проработки

1. **Должен ли паркур быть обязательным или опциональным?**
   - Нужно определить: может ли игрок обойтись без паркура?
   - Или паркур необходим для прохождения контента?

2. **Могут ли игроки строить свои паркур-маршруты?**
   - Система закладки маршрутов?
   - Поделиться маршрутами с другими игроками?

3. **Должны ли быть специальные паркур-зоны или паркур везде?**
   - Паркур доступен во всех зонах?
   - Или есть специальные паркур-зоны с более сложными маршрутами?

---

## TODO для дальнейшей проработки

**TODO:** Детальная проработка механик паркура:
- Проработать систему выносливости (скорость восстановления, максимум)
- Детализировать интеграцию с боем (урон от атак с воздуха, штрафы за стрельбу в движении)
- Проработать механики для каждого элемента паркура (прыжки, лазание, скольжение)
- Детализировать влияние имплантов на паркур
- Балансировка всех значений будет сделана позже в процессе разработки

---

## История изменений

- v1.0.0 (2025-11-03) - Создан первый брейншторм паркура
  - Определен тип паркура: Смешанный
  - Определены элементы паркура: Все кроме джетпака
  - Определено ограничение: Выносливость
  - Определены механики интеграции с боем
- v1.1.0 (2025-11-03) - Решены вопросы интеграции паркура с боем
  - ✅ Атаки с воздуха: Базовый бонус + усиление имплантами/навыками/атрибутами
  - ✅ Стрельба в движении: Динамические штрафы + смягчение перками/модами + влияние навыков/атрибутов
  - ✅ Влияние на способности: Мобильные версии + модификаторы стоимости/кд + влияние навыков/атрибутов
  - ✅ Комбо паркур+бой: Контекстные + имплантные связки + уклонения + приёмы для дальнего/ближнего боя
  - Интеграция: `combat-implants.md` (импланты), система навыков и атрибутов
