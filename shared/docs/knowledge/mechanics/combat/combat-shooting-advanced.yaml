metadata:
  id: combat-shooting-advanced
  title: Система стрельбы — расширенные механики
  document_type: mechanics
  category: combat
  status: approved
  version: '1.0.0'
  last_updated: 2025-11-08T09:37:00Z
  concept_approved: true
  concept_reviewed_at: 2025-11-09T03:21:00Z
  owners:
    - role: concept_director
      contact: concept@necp.game
  tags:
    - combat
    - shooting
    - ballistic
  topics:
    - weapon_systems
    - customisation
  related_systems:
    - gameplay-service
    - economy-service
    - analytics-service
  related_documents:
    - id: combat-shooting
      relation: references
    - id: economy-crafting
      relation: complements
    - id: combat-loadouts-system
      relation: complements
  source: shared/docs/knowledge/mechanics/combat/combat-shooting-advanced.md
  visibility: internal
  audience:
    - concept
    - gameplay
    - economy
  risk_level: high
review:
  chain:
    - role: concept_director
      reviewer: ''
      reviewed_at: 2025-11-09T03:21:00Z
      status: approved
  next_actions: []
summary:
  problem: Требуется расширить базовую систему стрельбы, чтобы учитывать дистанцию, рикошеты и модульность оружия.
  goal: Описать баллистику на дистанции, систему Smart Ricochet/Curved Shot, крафт модов и API интеграции.
  essence: Расширенная стрельба вводит профили оружия по дальности, продвинутые траектории и модульную кастомизацию, поддерживаемые сервисами экономики и аналитики.
  key_points:
    - Каждое оружие имеет профиль эффективности с формулами падения урона и отклонения.
    - Рикошеты и закрученные выстрелы требуют специализированных имплантов, навыков и модов.
    - Кастомизация реализована через модульные слоты и крафт, интегрированные с economy-service и REST/Async API.
content:
  sections:
    - id: distance_profiles
      title: Профили дистанции и урона
      body: |
        Оружие разделено на классы с оптимальными дистанциями и коэффициентами падения урона. Формула урона учитывает
        дистанцию, тип боеприпаса и статусные бонусы от имплантов или модов. После оптимальной дистанции траектория
        использует конус отклонения, зависящий от модификаций и навыков.
      mechanics_links:
        - mechanics/combat/combat-shooting.yaml
      assets: []
    - id: advanced_ballistics
      title: Рикошеты и закрученные выстрелы
      body: |
        Smart Ricochet 2.0 использует смарт-прицелы, специальные патроны и перки для расчёта отскоков. Навык Curved Shot
        доступен при комбинации имплантов и модов, позволяя обходить укрытия по bezier-траектории. Система ограничивает
        количество рикошетов и урон, повышая статусные эффекты.
      mechanics_links:
        - mechanics/combat/combat-implants-mechanics.yaml
      assets: []
    - id: weapon_customisation
      title: Кастомизация и крафт оружия
      body: |
        Модульная структура оружия включает слоты стволов, прицелов, прикладов, чипов и патронников. Моды имеют уровни
        MK I–III и требуют материалы, рецепты и навыки. Распыление оружия даёт ресурсы, а сервисные станции позволяют
        перенастраивать модули без потерь.
      mechanics_links:
        - mechanics/economy/economy-crafting.yaml
      assets: []
    - id: skills_implants
      title: Навыки и импланты
      body: |
        Навыки Trajectory Sculptor, Tactical Bounce и Ballistic Engineer усиливают точность, рикошеты и крафт. Импланты
        Smart Wrist Tendons, Neuro-Gyro Coupler и Ballistic Processor повышают контроль траекторий и скорость
        кастомизации. Сочетания поддерживают разные боевые роли.
      mechanics_links:
        - mechanics/progression/progression-skills-mapping.yaml
      assets: []
    - id: api_integration
      title: API и события
      body: |
        REST эндпоинты включают симуляцию баллистики, обновление модов и создание крафтовых задач. Асинхронные события
        `combat.ballistics.events` и `economy.crafting.jobs` подключают аналитику, мониторинг и достижения.
        Описаны требования безопасности и лимиты нагрузки.
      mechanics_links:
        - mechanics/api/gameplay/combat/ballistics.yaml
      assets: []
    - id: telemetry_balance
      title: Метрики и баланс
      body: |
        Введены KPI по точности, падению урона, использованию рикошетов и adoption модов. Данные публикуются в
        telemetry-service для последующей балансировки и анализа популярности билдов.
      mechanics_links:
        - mechanics/gameplay/telemetry/shooting-metrics.yaml
      assets: []
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  needs_task: true
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml#CON-2025-239
  blockers: []
history:
  - version: '1.0.0'
    date: 2025-11-08
    author: concept_director
    changes: Конвертировано из combat-shooting-advanced.md, добавлены разделы по дистанциям, рикошетам, кастомизации и API.
validation:
  checksum: ''
  schema_version: '1.0'


