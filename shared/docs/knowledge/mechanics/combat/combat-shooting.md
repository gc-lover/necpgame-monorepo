# Боевая система - Стрельба и основы боя

**api-readiness:** ready  
**api-readiness-check-date:** 2025-11-09 01:37
**api-readiness-notes:** Перепроверено 2025-11-09 01:37. Документ фиксирует TTK, отдачу, имплант-модификаторы и боевые сценарии; TODO по тонкой настройке отдачи не блокирует задачи.

**target-domain:** gameplay-combat  
**target-microservice:** gameplay-service (8083)  
**target-frontend-module:** modules/combat/shooting

**Статус:** approved - готов к созданию API задач  
**Приоритет:** Высокий  
**Дата создания:** 2025-11-03

---

- **Status:** approved
- **Last Updated:** 2025-11-09 01:37
---



## Концепция стрельбы

### Важность механик стрельбы

Механики стрельбы определяют ядро боевой системы NECPGAME. Они сочетают в себе:
- **MMORPG элементы** (прокачка, снаряжение)
- **Шутер механики** (стрельба, прицеливание, отдача)
- **Киберпанк стиль** (импланты, технологии)

**Вдохновение:** VALORANT, TARKOV, Destiny 2, Division 2

---

## Основные вопросы для проработки

### 1. Сочетание шутера и MMORPG

**Варианты:**
- **Вариант А:** Шутер как основа, MMORPG элементы добавляют глубину
  - *Пример:* Destiny 2 - бой как шутер, но с прокачкой и лутом
  - *Плюсы:* Быстрый экшен, доступность для шутер-игроков
  - *Минусы:* Может быть сложнее для MMORPG аудитории

- **Вариант Б:** MMORPG как основа, шутер добавляет экшен
  - *Пример:* WOW с боевой системой шутера
  - *Плюсы:* Глубокая прокачка и развитие, больше стратегии
  - *Минусы:* Может быть медленнее для шутер-игроков

- **Вариант В:** Равное сочетание обеих механик
  - *Пример:* Division 2 - баланс между экшеном и прогрессией
  - *Плюсы:* Привлекает обе аудитории
  - *Минусы:* Сложнее сбалансировать

**✅ Решение:** Подтверждено - Вариант Б (MMORPG как основа, шутер добавляет экшен)

---

### 2. Стиль стрельбы и боевой системы

**Реалистичная стрельба:**
- Прицеливание критически важно
- Отдача влияет на точность
- Пули имеют траекторию и падение
- *Примеры:* ARMA, TARKOV, Escape from Tarkov

**Аркадная стрельба:**
- Быстрый, отзывчивый геймплей
- Минимальная отдача или предсказуемая
- Прямолинейные пули
- *Примеры:* CS, VALORANT, Overwatch

**Смешанная:**
- Элементы реализма для глубины
- Элементы аркады для доступности
- *Примеры:* Division 2, Destiny 2

**✅ Решение:** Комбинация вариантов Б, В, Г
- **Базовая стрельба:** Аркадная (CS/Valorant стиль) - быстрая, минимальная/предсказуемая отдача, прямолинейные пули
- **Элементы реализма:** Добавлены для глубины (как Division 2/Destiny 2)
- **Зависимость от оружия/ситуации:** Разное оружие = разный стиль стрельбы (ближний бой = аркадный, дальний = реалистичный)
- **Результат:** Смешанная система с акцентом на аркаду, но с элементами реализма, которые зависят от оружия и ситуации

---

### 3. TTK (Time To Kill) - время убийства

**Высокий TTK:**
- Много пуль для убийства
- Больше времени на реакцию
- Акцент на точности и позиционировании
- *Примеры:* Halo, Overwatch, Apex Legends

**Низкий TTK:**
- Мало пуль для убийства (1-3)
- Быстрая смерть, важна реакция
- Акцент на позиционировании и сюрпризе
- *Примеры:* CS, Valorant, Rainbow Six Siege

**Переменный TTK:**
- Зависит от оружия, экипировки, расстояния
- Разное оружие = разный TTK
- *Примеры:* TARKOV, Escape from Tarkov

**✅ Решение:** Вариант Г (зависит от зоны/режима) с учетом развития персонажа
- **Открытый мир (PvE):** Высокий TTK (5-10+ пуль) - Halo/Overwatch/Apex стиль
  - Развитие персонажа влияет на TTK (прокачка, экипировка, импланты снижают получаемый урон или увеличивают здоровье)
  - Более длительные бои, тактическая глубина
  - Меньше реализма для доступности
- **Определенные режимы (PvP, арены, тактические зоны):** Низкий TTK (1-3 пули) - CS/Valorant/Rainbow Six стиль
  - Высокая напряженность
  - Быстрые, смертельные бои
  - Акцент на позиционировании и сюрпризе
- **Результат:** Разные зоны/режимы = разный TTK, развитие персонажа влияет на TTK в открытом мире

---

### 4. Дополнительные механики стрельбы

#### 4.1 Система урона

**✅ Решение:** Вариант Г (комбинация: слабые точки + разные части тела + кибер-части + типы урона + типы оружия)

##### Части тела и модификаторы урона

**✅ Решение:** Вариант Г (комбинация: основные части + кибер-варианты)
- **Органические части:** Голова, торс, руки, ноги
  - Модификаторы: Голова = x2, Торс = x1, Конечности = x0.7
- **Кибер-части:** Кибер-голова, кибер-торс, кибер-руки, кибер-ноги (отдельные части при установке имплантов)
  - Модификаторы: Кибер-голова = x1.5, Кибер-торс = x0.8, Кибер-конечности = x0.5 (защита), но уязвимы к EMP/кибер-урону
- **Кибер vs органика:** Разные модификаторы и сопротивление типам урона
- **Важно:** Система работает в физическом мире. В киберпространстве (симуляциях) части тела могут быть виртуальными/абстрактными

##### Типы урона

**✅ Решение:** Вариант Г (комбинация: базовые + киберпанк специфичные)
- **Базовые типы:** Физический, энергетический, химический, термический
- **Киберпанк специфичные:** EMP, кибер-урон, яд, электромагнитный
- **Взаимодействие:**
  - Физический: Работает на всех частях тела (кинетическое оружие)
  - Энергетический: Больше урон по органике, может выводить из строя кибер-части
  - Химический: Больше урон по органике, меньше по кибер-частям
  - Термический: Работает на всех частях тела (огненный урон)
  - EMP: Только по кибер-частям и имплантам (выводит из строя)
  - Кибер-урон: Только по кибер-частям и имплантам (специальный урон по кибер)
  - Яд: Только по органике (отравление, эффекты)
  - Электромагнитный: Больше урон по кибер-частям (электромагнитное оружие)
- **Влияние на киберпсихоз:** Кибер-урон и EMP = больше потери человечности (повреждение имплантов)
- **Важно:** В киберпространстве (симуляциях) типы урона могут быть виртуальными

##### Типы оружия и их влияние на урон

**✅ Решение:** Вариант Г (комбинация: стандартные + киберпанк специфичные)
- **Базовые типы:** Кинетическое (пистолеты, автоматы, снайперские), энергетическое (лазеры, плазма), взрывное (гранаты, ракеты), ближний бой (мечи, ножи)
- **Киберпанк специфичные:** Умное оружие (автонаведение), химическое, EMP, кибер-оружие, имплантированное оружие
- **Влияние на урон по частям тела:**
  - Кинетическое = больше урон по органике, меньше по кибер-частям
  - Энергетическое = больше урон по органике, может выводить из строя кибер-части
  - Взрывное = работает на всех частях тела (физический + термический урон)
  - Ближний бой = физический урон, зависит от оружия и части тела
  - Умное оружие = автонаведение, больше шанс попадания в слабые точки
  - Химическое = только по органике (химический урон)
  - EMP = только по кибер-частям (электромагнитный урон)
  - Кибер-оружие = только по кибер-частям (кибер-урон)
  - Имплантированное оружие = зависит от импланта (кибер-руки с оружием)

##### Импланты и система урона

**✅ Решение:** Вариант Г (комбинация: базовая + детальные элементы)
- **Импланты влияют на систему урона:**
  - Защита частей тела (броня на части тела, усиление части)
  - Кибер-части = отдельные части тела с разными модификаторами
  - Качественные импланты = лучше защита (влияет на защиту части)
  - Кибер-части уязвимы к EMP/кибер-урону, но защищены от физического урона

##### Слабые точки и критические попадания

**✅ Решение:** Вариант Г (комбинация: базовая + детальные элементы)
- **Базовая система:** Голова = слабая точка (больше урон), другие части = разный урон
- **Детальные элементы:** Разные слабые точки для разных врагов, критические попадания увеличивают урон

##### Соответствие лору CYBERPUNK

**✅ Решение:** Вариант Г (комбинация: базовое + специальные эффекты для лора) + в зависимости от режима
- **Элементы лора:** Кибер-урон, EMP, биология vs кибер (из CYBERPUNK 2077 и настольной игры)
- **Специальные эффекты для лора:**
  - EMP: Временное отключение имплантов, потеря способностей, риск потери человечности
  - Кибер-урон: Повреждение имплантов, временное отключение функций, риск киберпсихоза
  - Биология vs кибер: Органика уязвима к физическому/химическому урону, кибер уязвим к EMP/кибер-урону
- **Интеграция с киберпсихозом:** Критический урон по кибер-частям = риск киберпсихоза
- **Важно:** Эффекты лора работают в физическом мире. В киберпространстве (симуляциях) эффекты могут быть виртуальными. В зависимости от режима и TTK влияние эффектов лора может различаться

**Статус:** Решено, детальная проработка завершена

#### 4.2 Движение и стрельба

**✅ Решение:** Вариант Г (зависит от оружия/навыков)
- **Базовый подход:** Как в оригинальной игре CYBERPUNK 2077
  - Разное оружие = разные штрафы/бонусы при движении и стрельбе
  - Пистолеты = меньшие штрафы при движении, винтовки = большие штрафы
  - Импланты могут уменьшать штрафы при движении и стрельбе
- **Прокачка:** Возможность более глубокой и болезненной прокачки как в KENSHI
  - Прокачка через использование оружия в бою
  - Сложность боя влияет на скорость прокачки навыков стрельбы
  - "Прокачка через боль" - использование оружия в сложных ситуациях дает больше опыта
  - Более опытные игроки = меньше штрафов при движении и стрельбе, больше точности на ходу
  - Навыки стрельбы снижают штрафы при движении для соответствующего типа оружия

**Статус:** Решено

#### 4.3 Покрытие и укрытия

**✅ Решение:** Вариант Г (комбинация: проникающие пули + разрушаемые укрытия)
- **Проникающие пули:** Некоторые типы оружия/боеприпасов могут проникать через укрытия
  - Зависит от типа оружия (пулеметы, снайперские винтовки)
  - Зависит от типа боеприпасов (бронебойные, энергетические)
  - Зависит от материала укрытия (дерево, металл, бетон)
  - Реалистичная система проникновения (толщина, материал укрытия влияет на проникновение)
- **Разрушаемые укрытия:** Укрытия можно разрушать при обстреле
  - Разные материалы = разная прочность (дерево < металл < бетон)
  - Разные типы оружия = разная эффективность против укрытий (гранаты > пулеметы > пистолеты)
  - Визуальное разрушение укрытий при обстреле (частичное/полное разрушение)
  - Укрытия могут частично защищать даже при разрушении
- **Результат:** Гибкая система укрытий с элементами реализма и тактической глубины

**Статус:** Решено

---

## TODO для дальнейшей проработки

**TODO:** Детальная проработка механик стрельбы:
- ✅ Определить конкретные решения для всех вопросов - **Завершено (v1.1.0)**
- ✅ Детализировать систему урона и хитбоксов - **Завершено (v1.1.0)**
- [ ] Проработать механику отдачи и прицеливания - **Отложено на детальную проработку**
- ✅ Детализировать систему укрытий и покрытия - **Завершено (v1.1.0)**
- [ ] Балансировка всех значений будет сделана позже в процессе разработки

---

## История изменений

- v1.0.0 (2025-11-03) - Создан первый брейншторм механик стрельбы
  - Определены основные вопросы для проработки
  - Структурированы варианты решений
- v1.1.0 (2025-11-03) - Решены критические вопросы механик стрельбы
  - ✅ Сочетание шутера и MMORPG: MMORPG как основа, шутер добавляет экшен
  - ✅ Стиль стрельбы: Аркадная база + элементы реализма + зависимость от оружия
  - ✅ TTK: Зависит от зоны/режима + влияние развития персонажа
  - ✅ Система урона: Комбинация слабых точек + разные части тела (TODO: детальная проработка)
  - ✅ Движение и стрельба: Зависит от оружия/навыков (CYBERPUNK 2077 + KENSHI стиль прокачки)
  - ✅ Покрытие и укрытия: Проникающие пули + разрушаемые укрытия
