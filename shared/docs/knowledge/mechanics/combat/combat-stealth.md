# Боевая система - STEALTH (Скрытность)

**api-readiness:** ready  
**api-readiness-check-date:** 2025-11-09 02:49
**api-readiness-notes:** Перепроверено 2025-11-09 02:49. Каналы обнаружения, импланты и социальная инженерия подтверждены; документ готов к постановке задач.

**target-domain:** gameplay-combat  
**target-microservice:** gameplay-service (8083)  
**target-frontend-module:** modules/combat/stealth

- **API Tasks Status:**
  - Status: created
  - Tasks:
    - API-TASK-405: api/v1/gameplay/combat/stealth/stealth.yaml (2025-11-09)
  - Last Updated: 2025-11-09 23:25
---

**Статус:** approved - готов к созданию API задач  
**Приоритет:** Высокий  
**Дата создания:** 2025-11-03

---

- **Status:** approved
- **Last Updated:** 2025-11-09 02:49
---

---

## Концепция STEALTH

### Важность скрытности

Скрытность в NECPGAME является важной альтернативой прямому бою. Она интегрируется с хакерством, киберпространством и социальными механиками, создавая множество путей прохождения.

**Вдохновение:** Assassin's Creed, Dishonored, Hitman

---

## Определенные решения

### 1. Тип стелса

**Решение:** Система ачивок для квестов прохождения по стелсу!
- ✅ Если проходишь задачи незаметно и без обнаружения трупов, то штрафов репутации от противников не будет
- ✅ Никто не знает кто навредил!
- ✅ Система ачивок/наград за стелс-прохождение
- ✅ Полный стелс возможен для всего контента

**Ключевая механика:**
- Стелс-прохождение = отсутствие репутационных последствий
- Ачивки и награды за полное стелс-прохождение
- Разные уровни наград в зависимости от качества стелса

---

### 2. Элементы стелса

**Решение:** Все элементы + взаимодействие с киберпространством:
- ✅ Скрытность в укрытиях
- ✅ Скрытность в тени
- ✅ Маскировка под NPC
- ✅ Убийства из засады
- ✅ Отключение камер/охранных систем через хакерство
- ✅ Отвлечение врагов
- ✅ Скрытность через толпу
- ✅ Взаимодействие с киберпространством (новый элемент!)

**Киберпанк контекст:**
- Импланты для стелса (скрытность, невидимость)
- Хакерство для отключения камер/охранных систем
- Социальная инженерия
- Технологии маскировки
- Киберпространство для удаленного стелса

---

### 3. Обнаружение

**✅ Решение:** Комбинация (по классам/зонам) + варианты из оригинальной настольной игры Cyberpunk и Cyberpunk 2077

**Каналы обнаружения:**
- **Визуальное:** зрение, камеры, системы распознавания
- **Аудиальное:** слух, микрофоны, звуковые датчики
- **Технологическое:** сенсоры, тепловизоры, ЭМП-сигнатуры, сканеры
- **Сетевое:** слежение через камеры/сеть, ретрансляция между врагами, киберпространство
- **Зависит от класса врага/зоны:** разные враги/зоны имеют разные каналы обнаружения

**Профили врагов:**
- **Гибридные враги:** комбинация каналов обнаружения в зависимости от роли/зоны
- **Охранники:** визуальное + аудиальное (человеческие враги)
- **Роботы/дроны:** технологическое + сетевое (тех-скан, камеры, датчики)
- **Хакеры/Netrunners:** сетевое + технологическое (сигнатуры имплантов, киберпространство)
- **Охранные системы:** все каналы (камеры, датчики, системы распознавания, сети)

**Влияние имплантов игрока на скрытность:**
- **Пассивные бонусы:** импланты дают постоянные бонусы к скрытности
- **Активные маскировки:** кратковременные маскировки через импланты
- **Снижение сигнатур:** снижение тепло/ЭМП/сетевых сигнатур ценой энергии/перегрева
- **Интеграция:** `combat-implants.md` (энергобюджет, перегрев)

**Улучшение скрытности:**
- **Все источники:** навыки/перки, экипировка/моды (тихие подошвы, глушители, ткань), импланты (оптика/кожа/сердце)
- **Капы и конфликты:** некоторые улучшения могут конфликтовать или иметь капы эффективности

**Сети камер/датчиков:**
- **Сети по зонам/фракциям:** камеры/датчики объединены в сети (ретрансляция тревог, усиление обнаружения)
- **Локальные сети:** небольшие сети без выхода в глобальную сеть (изолированные системы)
- **Взламываемые узлы:** узлы сети можно взломать для отключения обнаружения — интеграция с `combat-hacking.md`

**Интеграция:** `combat-hacking.md` (взлом узлов), `combat-implants.md` (импланты), варианты из оригинальной настольной игры Cyberpunk и Cyberpunk 2077

---

### 4. Наказания за обнаружение

**Решение:** Разные наказания (зависит от ситуации)
- Зависит от типа врага
- Зависит от уровня обнаружения (подозрение vs полное обнаружение)
- Зависит от контекста (боевая зона vs безопасная зона)
- Возможность скрыться снова после обнаружения
- Эскалация (больше врагов при обнаружении) в зависимости от ситуации

**Варианты:**
- Подозрение: враги ищут, но не атакуют
- Частичное обнаружение: ограниченная реакция
- Полное обнаружение: мгновенный бой или эскалация
- Возможность скрыться зависит от ситуации

---

### 5. Интеграция с боем

**Решение:** Все варианты + возможность придумать ещё механики интеграции
- ✅ Убийства из засады (критические удары)
- ✅ Стелс-атаки (бонус урон при стелсе)
- ✅ Возможность скрыться после атаки
- ✅ Другие варианты (можно придумать ещё!)

**Детали:**
- Критические удары из засады имеют увеличенный урон
- Стелс-атаки могут иметь специальные эффекты
- Возможность скрыться после атаки зависит от навыков и имплантов
- Интеграция с паркуром для побега после атаки

---

## Вопросы для дальнейшей проработки

1. **Должен ли стелс быть обязательным или опциональным?**
   - Могут ли игроки пройти игру полностью без стелса?
   - Или есть обязательные стелс-секции?

2. **Должны ли быть специальные стелс-миссии или стелс всегда доступен?**
   - Стелс доступен везде?
   - Или есть специальные стелс-миссии?

3. **Как работает система маскировки?**
   - Предметы для маскировки?
   - Импланты для маскировки?
   - Навыки для маскировки?
   - Комбинация всего?

---

## TODO для дальнейшей проработки

**TODO:** Детальная проработка механик стелса:
- Детализировать систему обнаружения для разных типов врагов
- Проработать механики маскировки (предметы, импланты, навыки)
- Детализировать систему ачивок и наград за стелс
- Проработать интеграцию с киберпространством для стелса
- Детализировать критический урон и стелс-атаки
- Балансировка всех значений будет сделана позже в процессе разработки

---

## История изменений

- v1.0.0 (2025-11-03) - Создан первый брейншторм стелса
  - Определен тип стелса: Система ачивок для квестов
  - Определены элементы стелса: Все + киберпространство
  - Определена система обнаружения: Разная, зависит от противника
  - Определены наказания: Разные, зависят от ситуации
  - Определены механики интеграции с боем: Все варианты
- v1.1.0 (2025-11-03) - Решены вопросы системы обнаружения
  - ✅ Каналы обнаружения: Комбинация (визуальное/аудиальное/технологическое/сетевое) по классам/зонам + варианты из оригинальной настольной игры Cyberpunk и Cyberpunk 2077
  - ✅ Профили врагов: Гибридные враги по роли/зоне (охранники, роботы/дроны, хакеры/Netrunners, охранные системы)
  - ✅ Влияние имплантов: Пассивы + активки + снижение сигнатур с ценой энергии/перегрева
  - ✅ Улучшение скрытности: Все источники (навыки/перки, экипировка/моды, импланты) с капами/конфликтами
  - ✅ Сети камер/датчиков: Сети по зонам/фракциям + локальные сети без выхода в глобальную + взламываемые узлы
  - Интеграция: `combat-hacking.md` (взлом узлов), `combat-implants.md` (импланты), варианты из оригинальной настольной игры Cyberpunk и Cyberpunk 2077
