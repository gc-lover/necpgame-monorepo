metadata:
  id: stock-indices
  title: Биржа акций — фондовые индексы
  document_type: mechanics
  category: economy
  status: approved
  version: '1.1.0'
  last_updated: 2025-11-07T16:19:00Z
  concept_approved: true
  concept_reviewed_at: 2025-11-09T11:21:00Z
  owners:
    - role: concept_director
      contact: concept@necp.game
  tags:
    - stock-exchange
    - indices
    - analytics
  topics:
    - financial-markets
    - economy-analytics
  related_systems:
    - economy-service
    - analytics-service
    - guild-system
  related_documents:
    - id: stock-exchange-overview
      relation: references
    - id: stock-analytics
      relation: complements
    - id: economy-investments
      relation: complements
  source: shared/docs/knowledge/mechanics/economy/stock-exchange/stock-indices.md
  visibility: internal
  audience:
    - concept
    - economy
    - analytics
  risk_level: medium
review:
  chain:
    - role: concept_director
      reviewer: ''
      reviewed_at: 2025-11-09T11:21:00Z
      status: approved
  next_actions: []
summary:
  problem: Требовалось задокументировать структуру фондовых индексов и их применение в экономике NECPGAME.
  goal: Описать состав, расчёт, ребалансировку и API индексов для дальнейшей автоматизации.
  essence: Документ вводит корпоративные, региональные и отраслевые индексы, обеспечивая их расчёт и распространение данных.
  key_points:
    - Индексы CORP100, NC50, ASIA25 и EURO30 отражают состояние ключевых сегментов рынка.
    - Секторальные индексы поддерживают аналитику гильдий и инвест-фондов.
    - REST и событийные интерфейсы обеспечивают доступ к значениям и управлению ребалансом.
content:
  sections:
    - id: index-catalog
      title: 'Каталог индексов'
      body: |
        Описаны CORP100, NC50, ASIA25, EURO30 и секторальные индексы. Для каждого указаны методика расчёта, состав и текущие показатели.
      mechanics_links:
        - mechanics/economy/stock-exchange/stock-exchange-overview.yaml
      assets: []
    - id: usage
      title: 'Использование индексов'
      body: |
        Индексы позволяют отслеживать настроение рынка, различать bull/bear фазы и формировать индексные фонды. Документ включает примеры расчёта доходности.
      mechanics_links:
        - mechanics/economy/economy-investments.yaml
      assets: []
    - id: data-structures
      title: 'Структуры данных'
      body: |
        Таблицы `stock_indices`, `stock_index_constituents` и `stock_index_history` хранят состав, веса и историю значений, обеспечивая гибкое управление.
      mechanics_links:
        - mechanics/implementation/backend/database/schema.yaml
      assets: []
    - id: rebalancing
      title: 'Ребалансировка'
      body: |
        Квартальные процедуры и divisor adjustment поддерживают непрерывность индекса, а отчёты публикуют изменения состава.
      mechanics_links:
        - mechanics/economy/stock-exchange/stock-protection.yaml
      assets: []
    - id: api
      title: 'API и события'
      body: |
        REST эндпоинты предоставляют список индексов, историю и состав, а события `economy.indices.*` информируют сервисы о ребалансе и изменениях.
      mechanics_links:
        - mechanics/implementation/infrastructure/api-gateway-architecture.yaml
      assets: []
    - id: integrations
      title: 'Интеграции'
      body: |
        Индексы используются в stock-analytics, economy-events, экономических отчётах гильдий и инвестиционных продуктах.
      mechanics_links:
        - mechanics/economy/stock-analytics.yaml
      assets: []
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  needs_task: false
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml#CON-2025-229
  blockers: []
history:
  - version: '1.1.0'
    date: 2025-11-07
    author: concept_director
    changes: Добавлены структуры данных, ребаланс и API индексов.
  - version: '1.0.0'
    date: 2025-11-06
    author: concept_director
    changes: Первичное описание фондовых индексов биржи.
validation:
  checksum: ''
  schema_version: '1.0'

