# Система Лиг — Игровая механика сезонов

**Версия:** 1.0.0  
**Дата создания:** 2025-11-06  
**Последнее обновление:** 2025-11-06 18:50

**api-readiness:** ready  
**api-readiness-check-date:** 2025-11-09 11:21
**api-readiness-notes:** Перепроверено 2025-11-09 11:21: цикл лиги, сброс, мета-прогресс и API контуры остаются согласованными, блокеров нет.

**Статус:** approved  
**Приоритет:** critical

---

- **Status:** created
- **Last Updated:** 2025-11-07 01:50
---

---

## Краткое описание

Система Лиг (Seasons) в NECPGAME — цикличная структура игры, где каждая лига = полное прохождение timeline 2020-2093 с глобальным сбросом и перезапуском.

**Философия:** "Вечное возвращение" (Ницше) + "Groundhog Day" + Path of Exile Leagues.

---

## Параметры Лиги

### **Длительность:**

**Игровое время:** 73 года 6 месяцев 27 дней (2020-01-01 до 2093-07-27)

**Реальное время:** 3-6 месяцев (зависит от активности)

**Ускорение времени:**  
- 1 реальный день = ~15-30 игровых дней (настраиваемо)
- Ключевые события (войны, кризисы) могут замедлять время (для драмы)

---

### **Цикл Лиги:**

**Фаза 1: Start (месяц 1)**
- Создание персонажей
- Ранняя эра (2020-2030)
- Фокус: exploration, leveling, faction choice

**Фаза 2: Rise (месяцы 2-3)**
- Середина timeline (2030-2060)
- Фокус: корпоративные войны, банды, построение империй

**Фаза 3: Crisis (месяц 4-5)**
- Поздняя эра (2060-2090)
- Фокус: Blackwall кризис, Пятая война, глобальные конфликты

**Фаза 4: Endgame (последние 2 недели)**
- Финал (2090-2093)
- Главный сюжет кульминация
- Подготовка к концу лиги

**Фаза 5: Finale (27 июля 2093)**
- Финальный эвент (концерт Архитектора)
- Глобальный сброс (wipe)
- Награды и статистика

---

## Глобальный сброс (Wipe)

### **Что происходит 27 июля 2093, 00:00:00:**

**Сбрасывается:**
- ❌ Все персонажи (удаляются)
- ❌ Прогресс квестов
- ❌ Снаряжение, деньги, ресурсы
- ❌ Репутация фракций текущей лиги
- ❌ Построенные базы (если есть строительство)
- ❌ Clans/Guilds (расформировываются, но участники могут воссоздать в новой лиге)

**Сохраняется (мета-прогресс):**
- ✅ Аккаунт игрока
- ✅ Глобальный рейтинг (MMR, ELO)
- ✅ Достижения (Achievements)
- ✅ Титулы (например, "Destroyer of Arasaka - League 3")
- ✅ Косметика (скины, эмоции, эффекты)
- ✅ Legacy Items (уникальные награды за прошлые лиги)
- ✅ Hall of Fame (статистика лучших игроков каждой лиги)

---

## Мета-прогресс (между лигами)

### **1. Достижения (Achievements):**

**Примеры:**
- "First Blood" — первое убийство (любая лига)
- "Saburo's Bane" — убить Saburo Arasaka
- "Blackwall Diver" — проникнуть за барьер и выжить
- "Corpo Rat" — достичь топ-позиции в корпорации
- "Street Legend" — максимальная репутация на улицах
- "League Champion" — закончить главный сюжет (8 разных достижений по концовкам)

**Награды за достижения:** Титулы, косметика, очки для Legacy Shop.

---

### **2. Титулы (Titles):**

**Система:**  
Игрок выбирает титул (отображается в профиле, над головой в игре).

**Примеры:**
- "Architect's Chosen" (закончил главный сюжет Лига 1)
- "War Hero of the Fifth" (участие в Пятой войне)
- "Blackwall Survivor" (выжил после погружения за барьер)
- "King/Queen of Night City" (максимальная репутация всех фракций NC)

**Престиж:** Редкие титулы = статус в сообществе.

---

### **3. Косметика (Cosmetics):**

**Типы:**
- **Скины оружия/брони** (визуальные, не влияют на стат)
- **Эмоции/Эмоуты** (анимации танцев, жестов)
- **Эффекты** (аура, trail при движении, особые визуальные эффекты имплантов)
- **Голос-пак** (изменение голоса персонажа)

**Получение:** За достижения, за Legacy Points, за участие в эвентах.

---

### **4. Legacy Items (Легаси-предметы):**

**Что это:**  
Уникальные предметы, которые игрок получает в **новую лигу** за достижения прошлой.

**Примеры:**
- **"Клинок Архитектора"** (катана, уникальная): За закончённый главный сюжет
- **"Amulet of Saburo"** (амулет): За убийство Saburo
- **"Blackwall Fragment"** (чип): За погружение за барьер

**Баланс:**  
Legacy Items мощные, но **не pay-to-win**. Дают преимущество в начале лиги (первые 10-20 уровней), затем обычные предметы догоняют.

**Цель:** Престиж + небольшое преимущество.

---

### **5. Глобальный рейтинг (Persistent MMR/ELO):**

**Система:**  
Рейтинг игрока (PvP, PvE, квесты, репутация) сохраняется между лигами.

**Использование:**
- Matchmaking (PvP/PvE группировка)
- Hall of Fame (топ-100 игроков каждой лиги)
- Престиж

**Сброс:** Частичный (80% рейтинга сохраняется, 20% сбрасывается — мягкий reset для новых игроков).

---

## Hall of Fame (Зал Славы)

### **Что это:**

Постоянный монумент (в Night City, Corpo Plaza) с именами лучших игроков каждой лиги.

**Категории:**
- **"First to Finish"** — первый закончивший главный сюжет
- **"Richest Player"** — самый богатый (на момент конца лиги)
- **"Most Kills"** — больше всего PvP убийств
- **"Peacemaker"** — закончил без единого убийства (pacifist run)
- **"Corpo King"** — высшая позиция в корпорации
- **"Street Legend"** — максимальная репутация на улицах
- **"Blackwall Pioneer"** — первый, кто проник за барьер и выжил

**Награда:** Бессмертная слава (имя в Hall of Fame навсегда) + уникальная косметика.

---

## Изменения между лигами

### **Random Seed система:**

Каждая лига генерируется с **Random Seed** — изменяет детали мира.

**Постоянное (канон):**
- Основные события (DataKrash, войны, кризисы)
- Ключевые NPC (Saburo, Johnny, V, фиксеры)
- Фракции (корпорации, банды)
- География (Night City, мировые города)

**Переменное (каждая лига разная):**
- **Побочные NPC** (новые фиксеры, торговцы, враги генерируются)
- **Побочные квесты** (процедурная генерация + авторские пулы)
- **Детали событий** (кто победил в битве — зависит от игроков)
- **Лут распределение** (RNG)
- **Фракционные войны** (результаты зависят от игроков)

**Пример:**
- Лига 3: Игроки массово поддержали Militech → Militech доминирует, Arasaka ослаблена
- Лига 4: Игроки поддержали Arasaka → Arasaka сильна, Militech в кризисе
- Финал одинаков (27 июля сброс), но **мир каждой лиги уникален**

---

## Награды конца лиги

### **Автоматические награды (все игроки):**

- **Legacy Points** (валюта для покупки косметики в Legacy Shop)
  - Базовая награда: 100 LP (за участие)
  - +10 LP за каждый уровень персонажа
  - +50 LP за закончённые квесты
  - +500 LP за закончённый главный сюжет

- **Cosmetic Crate** (случайная косметика, 1 гарантированно)

---

### **Рейтинговые награды (топ-игроки):**

**Топ-100:** Уникальный титул "Legend of League X"  
**Топ-10:** + Уникальная аура (visual effect)  
**Топ-1:** + Статуя в Hall of Fame (3D-модель персонажа)

---

### **Квестовые награды:**

**За главный сюжет (8 концовок):**
- Концовка A ("Усилить Blackwall"): "Клинок Архитектора" (катана Legacy)
- Концовка B ("Уничтожить NET"): "Omega Nuke" (граната Legacy)
- Концовка C1 ("Мир с ИИ"): "Harmony Chip" (имплант Legacy)
- Концовка D ("Жертва Элизы"): "Eliza's Tear" (амулет Legacy)
- И т.д. для каждой концовки

---

## Интеграция с лором (мета-загадки)

### **Вопросы, которые игроки будут задавать:**

**Q1: "Кто Архитектор на самом деле?"**  
**A1:** Лига 1-3: неизвестно. Лига 7+: возможно узнать (квест "За Чёрным Заслоном").

**Q2: "Кто убивает админа?"**  
**A2:** Меняется каждую лигу. Намёки в квестах. Полная правда — ???

**Q3: "Можно ли предотвратить сброс?"**  
**A3:** Нет (пока). Но легенда: "Если 10,000 игроков одновременно выберут концовку C1 (Мир с ИИ), система сломается, сброса не будет." (Easter egg? или реальная механика?).

**Q4: "Мы люди или ИИ?"**  
**A4:** Философский вопрос. Ответ зависит от Лиги и квеста "За Чёрным Заслоном".

---

## Для разработчиков

### **API requirements:**

**Endpoints:**
- `GET /api/v1/league/current` — текущая лига (номер, даты, фаза)
- `GET /api/v1/league/{leagueId}/statistics` — статистика лиги
- `GET /api/v1/league/countdown` — таймер до конца лиги
- `POST /api/v1/league/end-event/register` — регистрация на финальный эвент
- `GET /api/v1/player/legacy-progress` — мета-прогресс игрока (достижения, титулы, Legacy Items)

**Data models:**
- League (id, number, startDate, endDate, phase, seed)
- PlayerLegacy (accountId, achievements[], titles[], legacyItems[], legacyPoints, globalRating)
- LeagueStatistics (topPlayers, hallOfFame, globalEvents)

---

## Связанные документы

- `../../01-concepts/simulation-reality-truth.md` (философия симуляции)
- `../../04-narrative/main-story/NECPGAME-MAIN-STORY-2090-2093.md` (главный сюжет)
- `final-event-concert-scenario.md` (создать далее — сценарий концерта)

---

## История изменений

- v1.0.0 (2025-11-06 18:50) — Создание системы лиг с мета-прогрессом и сбросом
