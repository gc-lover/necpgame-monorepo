# Система наставничества — детальная версия

**Статус:** approved  
**Версия:** 1.0.0  
**Дата создания:** 2025-11-07  
**Последнее обновление:** 2025-11-09 01:28  
**Приоритет:** высокий

**target-domain:** social  
**target-microservice:** social-service (8084)  
**target-microservice-secondary:** economy-service (8089), world-service (8092), gameplay-service (8086)  
**target-frontend-module:** modules/social/mentorship, modules/world/academies

**api-readiness:** ready  
**api-readiness-check-date:** 2025-11-09 11:21  
**api-readiness-notes:** Перепроверено 2025-11-09 11:21: программы, контракты, академии и REST/Kafka контуры остаются готовыми к постановке API задач.

---

## 1. Методика детализации

- **Слои:** тип наставничества, структура обучения, механики контента, монетизация, репутация, цепочки.
- **Роли:** Наставник (Mentor), Ученик (Mentee), Куратор (Curator), Академия (Academy).
- **Модули:** `social-service` (отношения, репутация, договоры), `economy-service` (оплаты, награды), `world-service` (события, академии), `gameplay-service` (навыки, прогресс), `content-service` (пользовательский контент), `character-service` (Teacher класс и NPC-наставники).
- **Интерфейсы:** панель наставничества, расписание уроков, библиотеки контента, шкалы прогресса, рейтинги наставников.

---

## 2. Типы наставничества — расширенные схемы

- **Игрок → Игрок:** обучение навыкам, совместные квесты, личные договоры, групповые занятия.
- **Игрок → NPC:** создание персонализированных NPC (игрок-наставник обучает своего персонального NPC), миссии по тренингу NPC.
- **NPC → Игрок:** сюжетные учителя, функциональные тренеры, романтические наставники, фракционные лидеры.
- **NPC → NPC (симуляция):** для живого мира — NPC могут обучать друг друга, влияя на открытие новых возможностей.
- **Академии:** формализованные образовательные центры (корпоративные, бандитские, независимые). Игроки и NPC участвуют в расписании.

---

## 3. Пайплайн наставничества

1. **Инициирование:** игрок/корпорация/фракция создаёт предложение наставничества.
2. **Договор:** условия (тип обучения, длительность, оплата, требования репутации/доверия).
3. **Планирование:** расписание занятий (теория, практика, миссии, создание контента).
4. **Исполнение:** уроки, задания, эксперименты, практики, контрольные.
5. **Оценка:** итоговая аттестация, выдача сертификатов, рост навыков.
6. **Продолжение/разрыв:** выбор нового уровня, подтверждение или завершение.

### 3.1 Договоры наставничества

- **Типы договора:** базовый (бесплатный), премиальный (оплата), корпоративный (контракт фракции), академический (сертификации).
- **Параметры:** цели, продолжительность, ресурсы, штрафы за нарушение, бонусы за успех.
- **Арбитраж:** `social-service` и `economy-service` отслеживают исполнение, штрафуют за нарушения.

---

## 4. Форматы обучения

- **Теоретическое обучение:** лекции, презентации, VR-курсы, материалы контента.
- **Практика:** совместные рейды, миссии, эскорт, дуэли, хакерские сценарии, мастер-классы.
- **Создание контента:** учебные материалы, симуляции, VR-песочницы, учебные миссии.
- **Экзамены/аттестации:** тесты, практические проверки, задания на время.
- **Групповое обучение:** классы, семинары, конференции.
- **Виртуальные кампусы:** VR-залы, дистанционное обучение, потоковые лекции.

---

## 5. Навыки, прогресс и награды

- **Навыковые треки:** боевые (оружие, импланты), социальные (переговоры, дипломатия), технические (хакерство, инженерия), экономические (торговля, логистика).
- **Очки опыта:** распределяются между наставником и учеником, зависят от качества обучения.
- **Бонусы:** эксклюзивные способности, открытие новых квестов, доступ к ресурсам наставника, гильдейские привилегии.
- **Достижения:** медали, титулы, визуальные эффекты.

---

## 6. Репутация наставника

- **Рейтинги:** опыт, отзывы, успешные выпускники, отсутствие жалоб.
- **Влияние:** доступ к элитным ученикам, академиям, контрактам.
- **Штрафы:** жалобы, проваленные договоры, обман.
- **UI:** профиль наставника, портфолио, список выпускников, публичные отзывы.

---

## 7. Наставничество и отношения

- **Связь с `relationships-system-детально.md`:** наставничество влияет на доверие, эмоции, репутацию.
- **Эффекты:** ученики становятся союзниками, NPC-учителя открывают новые сюжетные линии.
- **Романтика:** некоторые наставники могут перейти в романтический статус при выполнении условий.

---

## 8. Учебный контент

- **Виды:** гайды, симуляции, VR-сцены, записи боев, аналитика, задания.
- **Создание:** наставник подготавливает материал, загружает в `content-service`.
- **Модерация:** автоматические проверки, модераторы, отзывы.
- **Монетизация:** платный доступ, подписки, фракционные лицензии.
- **Ротации:** лучшие курсы получают место в официальных академиях.

---

## 9. Академии и образовательные центры

- **Корпоративные:** Arasaka Academy, Militech War College (тематические окраски).
- **Бандитские:** Voodoo Enclave, Nomad Forge.
- **Независимые:** университеты, VR-колледжи, кибер-академии.
- **Функции:** расписания занятий, набор студентов, рейтинги, выпуск.
- **События:** фестивали, чемпионаты наставников, экзамены.

---

## 10. Цепочки наставничества

- **Линейные цепочки:** наставник → ученик → ученик становится наставником.
- **Сети:** множественные наставники и ученики, сотрудничество, обмен знаниями.
- **Фракционные цепочки:** обучение внутри корпораций/банд.
- **Академии:** объединяют цепочки, обеспечивают инфраструктуру.

---

## 11. Монетизация и экономика

- **Платные курсы:** фиксированная плата, процент от успеха, подписки.
- **Фракционные гранты:** субсидии, стажировки, стипендии.
- **Очки влияния:** бонусы гильдиям за успешных наставников.
- **Ресурсы:** доступ к мастерским, базам, лабораториям.

---

## 12. Использование документа

- Использовать при создании API для наставничества, контрактов, академий.
- Связывать с `relationships-system-детально.md`, `npc-relationships-system-детально.md`, `visual-style-assets-детально.md` (Teacher эстетика).
- UX панели наставничества, расписания и профили согласованы с фронтендом.
- Телеметрия и модерационные процессы настроены совместно с analytics и content-service.

---

## 13. REST API и JSON схемы

- `POST /social/mentorship/programs` — создание программы наставничества (`MentorshipProgramCreateRequest`).
- `GET /social/mentorship/programs/{programId}` — детали программы (`MentorshipProgram`).
- `POST /social/mentorship/contracts` — заключение договора наставничества (`MentorshipContractRequest`).
- `GET /social/mentorship/contracts/{contractId}` — статус и прогресс (`MentorshipContract`).
- `POST /world/academies/events` — планирование событий академий (`AcademyEventRequest`).
- `GET /social/mentorship/reputation/{mentorId}` — показатели наставника (`MentorReputation`).
- `GET /social/mentorship/schedule/{programId}` — расписание занятий (`MentorshipSchedule`).

**JSON схемы:**  
- `schemas/social/mentorship-program.schema.json`  
- `schemas/social/mentorship-contract.schema.json`  
- `schemas/world/academy-event.schema.json`  
- `schemas/social/mentorship-schedule.schema.json`  
- `schemas/social/mentor-reputation.schema.json`

---

## 14. Kafka события и очереди

| Topic | Producer | Payload | Консьюмеры |
|-------|----------|---------|-----------|
| `social.mentorship.contract.signed` | social-service | `{ contractId, mentorId, menteeId, programId, startAt }` | economy-service, notification-service, gameplay-service |
| `social.mentorship.lesson.completed` | social-service | `{ contractId, lessonId, xpAwarded, masteryDelta }` | gameplay-service, telemetry, notification-service |
| `world.academy.event.published` | world-service | `{ eventId, academyId, eventType, schedule, capacity }` | social-service, ui-service |
| `social.mentorship.contract.terminated` | social-service | `{ contractId, reason, penaltiesApplied }` | economy-service, factions-service |

- Очередь `mentorship-content-review` (content-service) обрабатывает пользовательские материалы.

---

## 15. Метрики и аналитика

- `MentorSatisfactionScore` — агрегирует отзывы учеников, влияет на выдачу новых контрактов.
- `LessonCompletionRate` — процент завершенных уроков, threshold 85% для получила бонусов.
- `MenteeSkillDelta` — прирост навыков по трекам, хранится в gameplay-service.
- `AcademyUtilization` — заполненность академий, используется world-service для событий.
- `ContentModerationLatency` — скорость проверки контента, мониторится content-service.

---

## 16. UX, QA и согласование

- UI макеты утверждены: PR `FW-MENTORSHIP-014`, включает дашборд наставника и расписание.
- QA чеклист:  
  - [x] JSON схемы валидированы.  
  - [x] Kafka payloadы документированы.  
  - [x] UX flow протестирован на edge-кейсах корпоративных академий.
- Воркшоп 2025-11-08 09:40: social/world команды синхронизировали метрики и события.

---

## 17. История изменений

- 2025-11-08 — добавлены API задачи, REST/Kafka контуры, метрики и UX согласование; статус `approved`, готовность `ready`.
- 2025-11-07 — первичный драфт системы наставничества.