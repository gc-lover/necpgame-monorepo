# Система наставничества — влияние на мир (детально)

- **Status:** queued
- **Last Updated:** 2025-11-08 19:25
---


**Статус:** approved  \\n**Версия:** 1.0.0  \\n**Дата создания:** 2025-11-07  \\n**Последнее обновление:** 2025-11-08 19:25  \\n**Приоритет:** высокий

**target-domain:** world  \\n**target-microservice:** world-service (port 8092)  \\n**target-microservice-secondary:** social-service (port 8084), economy-service (port 8089)  \\n**target-frontend-module:** modules/world/insights, modules/social/mentorship

**api-readiness:** ready  \\n**api-readiness-check-date:** 2025-11-09 11:21  \\n**api-readiness-notes:** Перепроверено 2025-11-09 11:21: индексы, world-events и REST/Kafka контуры остаются согласованными, блокеров нет.

---

## 1. Социальные экосистемы наставничества

- **Академии и школы:** игроки и NPC формируют центры обучения (корпоративные, гильдейские, независимые). Расписание занятий, рейтинги наставников.
- **Сообщества выпускников:** сети выпускников поддерживают друг друга (доступ к ресурсам, совместные миссии).
- **Конкурсы и фестивали:** сезонные мероприятия для наставников и учеников, призы, трансляции (`visual-style-locations-детально.md`).
- **Медиа-покрытие:** социальные сети, VR-стримы, рейтинги преподавателей, интервью.
- **Репутационная экономика:** успехи наставников публикуются, влияют на доверие и бренды (`economy-service`).
- **Программа адаптации новичков:** обученные игроки помогают новичкам, получая бонусы и репутацию в `social-service`.

---

## 2. Влияние на экономику

- **Рынок знаний:** курсы, лицензии, подписки на обучение; платовые VR-классы, учебные материалы.
- **Трудоустройство NPC:** выпускники становятся наёмными специалистами (`npc-hiring-system-детально.md`).
- **Субсидии:** фракции предоставляют гранты на обучение, выпускают сертификаты.
- **Инвестиции:** наставники создают академии, привлекают финансирование.
- **Финансовые инструменты:** страховки, контракты, опционы на будущие доходы.
- **Налоги:** фракции облагают доходы наставников; `economy-service` отслеживает.

---

## 3. Влияние на фракции и города

- **Корпорации:** создают элитные школы (Arasaka Academy, Militech College) для подготовки кадров. Успех увеличивает влияние на территории.
- **Банды и кланы:** обучают бойцов, техников, хакеров (Nomad Forge, Voodoo Enclave).
- **Города:** выполняют роль образовательных хабов (Night City — техноакадемии, Neo Tokyo — VR-институты). Влияет на туристический поток и экономику.
- **Дипломатия:** наставники участвуют в переговорах, помогают заключать союзы, повышают доверие.
- **Политика:** наставники становятся лидерами мнений, влияют на события (`world-service`).

---

## 4. Влияние на геймплей и прогресс

- **Навыковые эффекты:** ускоренное освоение навыков, открытие новых веток, доступ к элитным способностям.
- **Эскалация сложности:** выпускники открывают более сложные квесты, рейды.
- **Долгосрочные кампании:** многосезонные истории наставник ↔ ученик (превращение ученика в наставника).
- **Трансфер знаний:** массовое обучение усиливает кланы, корпорации, создаёт новые метагейм сценарии.
- **PvP:** наставники организуют спарринги, лиги, повышая качество PvP-сцены.

---

## 5. События и мировые новости

- **Обучающие марафоны:** длительные мероприятия с рейтингами и призами.
- **Экзамены и лицензии:** сезонные экзамены для получения рангов наставника (bronze → silver → gold → platinum).
- **Санкции:** наставники могут быть заблокированы за мошенничество, неправомерное поведение.
- **Влияние медиа:** интервью, documentaries, VR-шоу о наставниках и учениках.
- **Истории успеха:** сюжеты о выпускниках, изменивших мир (влияет на фракции, NPC, экономику).

---

## 6. Механики влияния на NPC и мир

- **NPC-наставники:** улучшают навыки ученика, увеличивают доверие. NPC может уйти в другую фракцию, если его учеников обидели.
- **NPC-ученики:** после обучения вступают в ряды игрока, помогают в миссиях.
- **Наследование знаний:** обученный NPC обучает других, создавая цепочку (`npc-hiring-system-детально.md`).
- **События перерождения:** ученики становятся антагонистами/союзниками в зависимости от выбора игрока.
- **Глобальные эффекты:** обученные хакеры запускают сетевые войны, инженеры создают новые технологии.
- **Индексы:** `MentorshipImpactIndex`, `AcademyPrestigeScore`, `KnowledgeDiffusionRate`.

---

## 7. Индикаторы и пороги

| Индикатор | Описание | Порог действия | Интеграция |
|-----------|----------|----------------|------------|
| `MentorshipImpactIndex` | Общий эффект наставничества на регион (0..1) | >0.75 — активирует world-event «Innovation Surge» | world-service |
| `AcademyPrestigeScore` | Престиж академии (0..100) | >85 — открывает элитные курсы, <40 — запускает аудит | social-service |
| `KnowledgeDiffusionRate` | Скорость распространения навыков | >1.2 — снижает стоимость найма NPC в регионе | economy-service |
| `MentorReputationDelta` | Изменение репутации наставников | ±15% — корректирует доступ к гос. грантам | economy-service, social-service |

---

## 8. UX и визуализация

- **Карта влияния:** отображает образовательные центры, направления притока учеников.
- **Сводка сезона:** графики успеваемости, рейтинги наставников/академий.
- **Журнал событий:** новости о выпускниках, наградах, скандалах.
- **VR-галерея:** архив лекций, историй, записей экзаменов.
- **Оповещения:** приглашения на обучение, открытие курсов, кризисы в академиях.
- **Dashboard академий:** панели `AcademyPrestigeScore`, `MentorshipImpactIndex`, `KnowledgeDiffusionRate`.

---

## 9. REST API и JSON схемы

- `GET /world/mentorship/effects` — агрегированное влияние наставничества (`MentorshipImpact`).
- `POST /world/mentorship/effects/recalculate` — пересчёт индексов, генерация world-events.
- `GET /economy/mentorship/index` — экономические показатели образования по регионам.
- `GET /social/mentorship/news` — дайджест событий наставничества.
- `POST /social/mentorship/highlights` — публикация историй успеха и наград.

**JSON схемы:**  
- `schemas/world/mentorship-impact.schema.json`  
- `schemas/world/mentorship-event.schema.json`  
- `schemas/economy/mentorship-index.schema.json`  
- `schemas/social/mentorship-news.schema.json`  
- `schemas/social/mentorship-highlight.schema.json`

---

## 10. Kafka события и очереди

| Topic | Producer | Payload | Консьюмеры |
|-------|----------|---------|-----------|
| `world.mentorship.impact` | world-service | `{ regionId, mentorshipImpactIndex, academyPrestigeScore, issuedAt }` | telemetry, notification, quest-service |
| `economy.mentorship.index` | economy-service | `{ regionId, knowledgeDiffusionRate, grantPool, subsidyLevel }` | analytics, finance, trading-service |
| `social.mentorship.news` | social-service | `{ newsId, headline, tags[], publishedAt }` | UI, monitoring, factions-service |
| `world.mentorship.crisis` | world-service | `{ crisisId, academyId, severity, requiredActions[] }` | npc-service, social-service, world-events |

- Очередь `mentorship-story-review` модерации контента, `mentorship-event-forecast` для аналитики world-service.

---

## 11. Метрики и аналитика

- `MentorshipImpactIndex` — суммарный эффект наставничества на регион, влияет на world-events.
- `AcademyPrestigeScore` — престиж академий, используется при выдаче лицензий и грантов.
- `KnowledgeDiffusionRate` — коэффициент распространения навыков, корректирует стоимость найма и обучения.
- `MentorRetentionRate` — удержание наставников, влияет на стабильность программ.
- `NewMentorPipeline` — поток новых наставников, отражает успешность программы адаптации.
- Метрики визуализируются в monitoring dashboards и попадают в telemetry (`TickDuration p95`, `mentorship-impact-latency`).

---

## 12. Использование документа

- Использовать при разработке API влияния наставничества (события, экономика, рейтинги).
- Связывать с `mentorship-system-детально.md`, `relationships-system-детально.md`, `npc-hiring-system-детально.md`, `player-orders-system-детально.md`.
- UX макеты (карта влияния, дашборды, уведомления) утверждены с фронтендом.
- Баланс и индексы синхронизированы с economy/world/service аналитикой.

---

## 13. Проверка и согласование

- World/Economy sync 2025-11-08 10:10 — подтверждены индексы и пороги.
- UI review PR `FW-MENTORSHIP-016` — визуализация карты влияния и новостей.
- QA чеклист:  
  - [x] JSON схемы валидированы `schema-test`.  
  - [x] Kafka payloadы задокументированы.  
  - [x] UX сценарии протестированы на академиях разных фракций.
- Security ticket `SEC-MENTOR-003` — санкции и блокировки наставников согласованы.

---

## 14. История изменений

- 2025-11-08 — добавлены API задачи, индексы, REST/Kafka контуры и UX согласование; статус `approved`, готовность `ready`.
- 2025-11-07 — первичный драфт влияния наставничества.


