metadata:
  id: personal-npc-tool
  title: 'Инструмент персональных NPC — Каркас'
  document_type: mechanics
  category: social
  status: approved
  version: '1.0.0'
  last_updated: 2025-11-11T00:00:00Z
  concept_approved: true
  concept_reviewed_at: 2025-11-03T20:05:00Z
  owners:
    - role: concept_director
      contact: concept@necp.game
  tags:
    - npc
    - automation
    - social
  topics:
    - personal-npc
    - scenario-automation
  related_systems:
    - social-service
    - economy-service
  related_documents:
    - id: npc-hiring-process
      relation: complements
    - id: player-orders-economy
      relation: references
    - id: npc-hiring-economy
      relation: complements
  source: shared/docs/knowledge/mechanics/social/personal-npc-tool.md
  visibility: internal
  audience:
    - concept
    - systems
    - social-design
  risk_level: high
review:
  chain:
    - role: concept_director
      reviewer: ''
      reviewed_at: ''
      status: approved
  next_actions: []
summary:
  problem: Игрокам и организациям нужен формализованный инструмент для конфигурации персональных NPC с безопасностью и аудитом.
  goal: Описать область применения, структуры данных и процессы автоматизации персональных NPC.
  essence: Система управляет владением, ролями, сценариями и лицензиями NPC, включая рынок сценариев и контроль рисков.
  key_points:
    - Формализованы модели данных (Owner, PersonalNPC, ScenarioBlueprint и др.).
    - Описаны роли, специализации и KPI персональных NPC.
    - Предусмотрены лицензии, сертификаты и аудит для безопасности.
content:
  sections:
    - id: scope
      title: 'Цели и область'
      body: |
        Инструмент покрывает личных и организационных NPC, их роли, специализации, автоматизацию и экономику содержания.
        Поддерживает интеграции с economy/social/combat сервисами.
      mechanics_links:
        - mechanics/social/npc-hiring-economy.yaml
      assets: []
    - id: data_model
      title: 'Схемы данных'
      body: |
        Перечислены сущности Owner, PersonalNPC, RoleAssignment, NPCStats, NPCCosts, RoleSet и др. с ключевыми полями.
        Структуры готовы к генерации контрактов и миграций в social-service.
      mechanics_links:
        - mechanics/social/npc-hiring-management.yaml
      assets: []
    - id: scenarios
      title: 'Сценарии и KPI'
      body: |
        Описаны ScenarioBlueprint, ScenarioInstance, KPI и параметры управления сценариями, включая marketplace и верификацию.
      mechanics_links:
        - mechanics/social/player-orders-economy.yaml
      assets: []
    - id: contracts
      title: 'Контракты и лицензии'
      body: |
        Детализация структур Contract, ContractTerms, License, Certificate и AuditLog для контроля прав и обязательств.
      mechanics_links:
        - mechanics/social/npc-hiring-process.yaml
      assets: []
    - id: automation
      title: 'Автоматизация и безопасность'
      body: |
        Описаны правила, расписания, KPI, безопасность, логи аудита и анти-абуз механики.
        Подчёркивается интеграция с экономическими расходами и лицензиями.
      mechanics_links:
        - mechanics/social/npc-hiring-limits.yaml
      assets: []
appendix:
  glossary: []
  references: []
implementation:
  needs_task: false
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml
  blockers: []
history:
  - version: '1.0.0'
    date: 2025-11-03
    author: concept_director
    changes: 'Формализованы модели данных, роли и процессы персональных NPC.'
validation:
  checksum: ''
  schema_version: '1.0'

