metadata:
  id: player-orders-reputation-detailed
  title: Система заказов — репутация и рейтинг (детально)
  document_type: mechanics
  category: social
  status: approved
  version: '1.0.0'
  last_updated: 2025-11-08T18:52:00Z
  concept_approved: true
  concept_reviewed_at: 2025-11-08T09:55:00Z
  owners:
    - role: concept_director
      contact: concept@necp.game
  tags:
    - player-orders
    - reputation
    - ratings
  topics:
    - order_system
    - social-reputation
  related_systems:
    - social-service
    - economy-service
    - factions-service
  related_documents:
    - id: player-orders-system-detailed
      relation: references
    - id: player-orders-creation-detailed
      relation: complements
    - id: npc-hiring-system-detailed
      relation: complements
  source: shared/docs/knowledge/mechanics/social/player-orders-reputation-детально.md
  visibility: internal
  audience:
    - concept
    - systems
    - analytics
  risk_level: high
review:
  chain:
    - role: concept_director
      reviewer: ''
      reviewed_at: 2025-11-08T09:55:00Z
      status: approved
  next_actions: []
summary:
  problem: Необходимо формализовать рейтинги заказчиков и исполнителей для системы заказов.
  goal: Описать метрики, формулы, REST/Kafka контракты и UX визуализации рейтингов.
  essence: Документ задаёт шкалы, decay, отзывы и санкции, связывая социальные и экономические сервисы.
  key_points:
    - Приведены метрики и формулы рейтингов для исполнителей и заказчиков.
    - Описаны отзывы, категории, decay и арбитражные процессы.
    - Зафиксированы REST/Kafka контракты, JSON схемы и UX требования для отображения рейтингов.
content:
  sections:
    - id: rating_model
      title: 'Схема рейтингов'
      body: |
        Общая шкала 0–100, категории Bronze–Platinum и механика decay задают основу рейтингов. Диапазоны интегрируются в social-service.
      mechanics_links:
        - mechanics/social/player-orders-system-detailed.yaml
      assets: []
    - id: executor_metrics
      title: 'Метрики исполнителя'
      body: |
        Метрики CR, TL, QL, RL и CB с весами и decay формируют Score_executor. Документирует нормализацию и роль-специфичные модификаторы.
      mechanics_links:
        - mechanics/social/player-orders-reputation.yaml
      assets: []
    - id: client_metrics
      title: 'Метрики заказчика'
      body: |
        PR, BQ, DR, RF и RB образуют Score_client с весами и штрафами. Описаны penalty overrides при арбитражах.
      mechanics_links:
        - mechanics/social/player-orders-creation-detailed.yaml
      assets: []
    - id: reviews_feedback
      title: 'Отзывы и оценки'
      body: |
        Зафиксированы текстовые отзывы, флаги, верификация и влияние жалоб. Арбитраж запускает корректировки рейтинга и санкции.
      mechanics_links:
        - mechanics/social/player-orders-system.yaml
      assets: []
    - id: categories_privileges
      title: 'Категории и привилегии'
      body: |
        Описаны привилегии Bronze–Platinum, сезонные сбросы, фракционные влияния и санкции за низкий рейтинг.
      mechanics_links:
        - mechanics/social/player-orders-world-impact.yaml
      assets: []
    - id: arbitration_security
      title: 'Арбитраж и безопасность'
      body: |
        Документирует процесс разбирательств, штрафы и логирование, а также защиту через escrow и страхование.
      mechanics_links:
        - mechanics/social/security-compliance.yaml
      assets: []
    - id: ux_visuals
      title: 'UX и визуализация'
      body: |
        Определены компоненты профиля, бейджи, рейтинговые диаграммы и уведомления, синхронизированные с визуальными ассетами.
      mechanics_links:
        - mechanics/social/player-orders-ui.yaml
      assets: []
    - id: api_contracts
      title: 'API и события'
      body: |
        Описаны REST эндпоинты рейтингов, отзывы, штрафы и конфигурации категорий, а также Kafka события обновлений и штрафов.
      mechanics_links:
        - mechanics/social/player-orders-system-detailed.yaml
      assets: []
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  needs_task: false
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml#CON-2025-224
  blockers: []
history:
  - version: '1.0.0'
    date: 2025-11-08
    author: concept_director
    changes: Детализированы метрики рейтингов, категории, арбитраж и API; документ готов к постановке задач.
validation:
  checksum: ''
  schema_version: '1.0'

