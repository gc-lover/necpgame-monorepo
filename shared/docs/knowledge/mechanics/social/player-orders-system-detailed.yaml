metadata:
  id: player-orders-system-detailed
  title: Система заказов от игроков — детальная версия
  document_type: mechanics
  category: social
  status: approved
  version: '1.0.0'
  last_updated: 2025-11-08T09:51:00Z
  concept_approved: true
  concept_reviewed_at: 2025-11-09T02:50:00Z
  owners:
    - role: concept_director
      contact: concept@necp.game
  tags:
    - player-orders
    - contracts
    - social-economy
  topics:
    - order_system
    - live_operations
  related_systems:
    - social-service
    - economy-service
    - world-service
    - gameplay-service
  related_documents:
    - id: player-orders-creation-detailed
      relation: complements
    - id: player-orders-reputation-detailed
      relation: complements
    - id: npc-hiring-system-detailed
      relation: references
  source: shared/docs/knowledge/mechanics/social/player-orders-system-детально.md
  visibility: internal
  audience:
    - concept
    - systems
    - economy
  risk_level: high
review:
  chain:
    - role: concept_director
      reviewer: ''
      reviewed_at: 2025-11-09T02:50:00Z
      status: approved
  next_actions: []
summary:
  problem: Система player orders требовала комплексной детализации по типам, процессам, экономике и интеграциям.
  goal: Зафиксировать полный цикл заказов, роли участников и API взаимодействия между сервисами.
  essence: Документ описывает экосистему заказов с типами, экономикой, рейтингами, NPC-брокерами и арбитражом.
  key_points:
    - Детализированы типы заказов, каналы публикации и процесс выполнения.
    - Описана экономика, escrow, комиссии и влияние заказов на мир.
    - Зафиксированы REST/Kafka контуры, DTO и UX инструменты для доски заказов.
content:
  sections:
    - id: methodology
      title: 'Методика детализации'
      body: |
        Описаны слои системы, роли и сервисы, обеспечивающие создание, выполнение и анализ заказов. Приведены интерфейсы и структуру данных.
      mechanics_links:
        - mechanics/social/player-orders-system.yaml
      assets: []
    - id: order_types
      title: 'Типы заказов'
      body: |
        Каталог боевых, хакерских, логистических, политических, исследовательских, социальных, творческих и комбинированных заказов с параметрами сложности и риска.
      mechanics_links:
        - mechanics/social/player-orders-creation-detailed.yaml
      assets: []
    - id: order_process
      title: 'Процесс заказа'
      body: |
        Описан цикл от создания и публикации до исполнения, расчёта наград, отзывов и арбитража. Поддержаны разные каналы и формат контрактов.
      mechanics_links:
        - mechanics/social/player-orders-system.yaml
      assets: []
    - id: contracts_channels
      title: 'Контракты и каналы'
      body: |
        Различаются доска заказов, NPC-брокеры, фракционные каналы, прямые сделки, VR-конференции и аукционные режимы.
      mechanics_links:
        - mechanics/social/player-orders-creation.yaml
      assets: []
    - id: order_economy
      title: 'Экономика заказов'
      body: |
        Зафиксированы модели оплаты, депозиты, комиссии, бонусы и штрафы, а также исторические данные и индексы для аналитики.
      mechanics_links:
        - mechanics/economy/economy-events.yaml
      assets: []
    - id: reputation_roles
      title: 'Рейтинги и репутация'
      body: |
        Рейтинги исполнителей, заказчиков, фракций и санкционные механики формируют доверие и доступ к заказам.
      mechanics_links:
        - mechanics/social/player-orders-reputation-detailed.yaml
      assets: []
    - id: npc_role
      title: 'Роль NPC'
      body: |
        NPC выступают заказчиками, исполнителями, брокерами и арбитрами. Описано их влияние на события и мир.
      mechanics_links:
        - mechanics/social/npc-hiring-system-detailed.yaml
      assets: []
    - id: world_influence
      title: 'Влияние на мир'
      body: |
        Заказы меняют влияние фракций, экономики городов и социальные связи. Связаны с city-life и визуальными гайдами.
      mechanics_links:
        - mechanics/social/player-orders-world-impact.yaml
      assets: []
    - id: ux_tools
      title: 'UX и инструменты'
      body: |
        Описаны доска заказов, панель создания, трекер статуса, уведомления и VR-панели.
      mechanics_links:
        - mechanics/social/player-orders-ui.yaml
      assets: []
    - id: arbitration_security
      title: 'Арбитраж и безопасность'
      body: |
        Приведены механики жалоб, доказательств, решений и интеграции с security-service.
      mechanics_links:
        - mechanics/social/security-compliance.yaml
      assets: []
    - id: api_events
      title: 'API и события'
      body: |
        Документирует REST эндпоинты, JSON схемы и Kafka топики для заказов, заявок, статусов, escrow и отзывов.
      mechanics_links:
        - mechanics/social/player-orders-creation-detailed.yaml
      assets: []
    - id: dto_frontend
      title: 'DTO и фронтенд'
      body: |
        Перечислены DTO для фронтенда, генерация клиентов и фигма-макеты доски и escrow панелей.
      mechanics_links:
        - mechanics/social/player-orders-ui.yaml
      assets: []
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  needs_task: false
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml#CON-2025-225
  blockers: []
history:
  - version: '1.0.0'
    date: 2025-11-08
    author: concept_director
    changes: Детализирована экосистема player orders с типами, процессами, экономикой, рейтингами и API; документ готов к постановке задач.
validation:
  checksum: ''
  schema_version: '1.0'

