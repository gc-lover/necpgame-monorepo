metadata:
  id: player-orders-system-detailed
  title: Система заказов от игроков — детальная версия
  document_type: mechanics
  category: social
  status: approved
  version: '1.0.0'
  last_updated: 2025-11-10T00:00:00Z
  concept_approved: true
  concept_reviewed_at: 2025-11-08T09:51:00Z
  owners:
    - role: concept_director
      contact: concept@necp.game
  tags:
    - player-orders
    - social-economy
    - contracts
  topics:
    - social-interactions
    - player-economy
  related_systems:
    - social-service
    - economy-service
    - world-service
  related_documents:
    - id: economy-contracts
      relation: complements
    - id: economy-logistics
      relation: integrates_with
    - id: social-mechanics-overview
      relation: references
  source: shared/docs/knowledge/mechanics/social/player-orders-system-детально.md
  visibility: internal
  audience:
    - concept
    - economy
    - social
  risk_level: medium
review:
  chain:
    - role: concept_director
      reviewer: ''
      reviewed_at: 2025-11-08T09:51:00Z
      status: approved
  next_actions: []
summary:
  problem: Игрокам нужен комплексный механизм заказов с безопасными контрактами, логистикой и влиянием на мир.
  goal: Зафиксировать расширенную модель заказов, типы контрактов, экономику, рейтинги и интеграции.
  essence: Документ задаёт полный цикл заказов с ролями, доверительными договорами, рейтингами и API для social/economy/world сервисов.
  key_points:
    - Каталог типов заказов и каналов публикации с условиями выплат и рисков.
    - Экономическая модель с депозитами, комиссиями, бонусами и штрафами.
    - Многослойная репутация, доверие, арбитраж и история взаимодействий.
content:
  sections:
    - id: methodology
      title: Методика детализации
      body: |
        Документ описывает слои системы заказов: роли, типы заданий, каналы, экономику, рейтинги и интеграции с сервисами. Для каждого уровня указаны данные, интерфейсы и события.
      mechanics_links:
        - shared/docs/knowledge/mechanics/social/social-mechanics-overview.yaml
      assets: []
    - id: order_types
      title: Типы заказов
      body: |
        Детализированы боевые, хакерские, логистические, политические, исследовательские, социальные, творческие и комбинированные заказы. Каждому типу назначены параметры сложности, риска и требования по репутации.
      mechanics_links:
        - shared/docs/knowledge/mechanics/economy/economy-logistics.yaml
      assets: []
    - id: order_process
      title: Процесс заказа
      body: |
        Цикл включает создание, публикацию, выбор исполнителя, выполнение, проверку результата, расчёты и отзывы. Арбитраж и история взаимодействий обеспечивают безопасность и прозрачность.
      mechanics_links:
        - shared/docs/knowledge/mechanics/economy/economy-contracts.yaml
      assets: []
    - id: channels
      title: Каналы и контракты
      body: |
        Заказы распространяются через доску, NPC-брокеров, фракционные каналы, прямые сделки и VR-конференции. Описаны форматы публичных, закрытых, автоматизированных и аукционных контрактов.
      mechanics_links:
        - shared/docs/knowledge/mechanics/social/npc-hiring-process.yaml
      assets: []
    - id: economy
      title: Экономика заказов
      body: |
        Модель оплаты включает фиксированные суммы, проценты, предметы, бонусы и штрафы. Депозиты и комиссии обрабатываются economy-service, а аналитика доступна через биржевые инструменты.
      mechanics_links:
        - shared/docs/knowledge/mechanics/economy/economy-analytics.yaml
      assets: []
    - id: reputation_and_trust
      title: Репутация, доверие и рейтинг
      body: |
        Описаны шкалы репутации, доверия и рейтингов для заказчиков, исполнителей и фракций. Интеграция с `reputation-formulas.yaml` обеспечивает взаимное влияние социальных структур.
      mechanics_links:
        - shared/docs/knowledge/mechanics/social/relationships-system.yaml
      assets: []
    - id: history_and_arbitration
      title: История и арбитраж
      body: |
        Система сохраняет контракты, торговые и боевые операции, отзывы и предательства. Арбитраж social-service обрабатывает жалобы, применяя санкции и корректируя рейтинги.
      mechanics_links:
        - shared/docs/knowledge/mechanics/social/player-orders-reputation.yaml
      assets: []
    - id: world_impact
      title: Влияние на мир
      body: |
        Заказы влияют на фракции, городские районы и экономику. Связь с `world/events` и `city-life` определяет доступ к контенту и динамику цен.
      mechanics_links:
        - shared/docs/knowledge/mechanics/economy/economy-events.yaml
      assets: []
    - id: api_and_schemas
      title: API, схемы и события
      body: |
        Перечислены REST маршруты `/social/player-orders`, `/economy/player-orders/escrow`, `/world/player-orders/effects`, JSON схемы и Kafka события для синхронизации сервисов.
      mechanics_links:
        - shared/docs/knowledge/implementation/backend/trade-system.yaml
      assets: []
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  needs_task: false
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml#player-orders-system-detailed-update
  blockers: []
history:
  - version: '1.0.0'
    date: 2025-11-10
    author: AI Brain Manager
    changes: Конвертация детальной системы заказов игроков в YAML.
validation:
  checksum: ''
  schema_version: '1.0'

