metadata:
  id: player-orders-system-detailed
  title: 'Система заказов от игроков — детально'
  document_type: mechanics
  category: social
  status: approved
  version: '1.0.0'
  last_updated: 2025-11-11T00:00:00Z
  concept_approved: true
  concept_reviewed_at: 2025-11-09T02:50:00Z
  owners:
    - role: concept_director
      contact: concept@necp.game
  tags:
    - player-orders
    - contracts
    - economy
  topics:
    - social-contracts
    - multiplayer-economy
  related_systems:
    - social-service
    - economy-service
    - world-service
    - gameplay-service
  related_documents:
    - id: player-orders-economy
      relation: references
    - id: player-orders-advanced
      relation: complements
    - id: player-orders-execution
      relation: complements
  source: shared/docs/knowledge/mechanics/social/player-orders-system-детально.md
  visibility: internal
  audience:
    - concept
    - systems
    - social-design
  risk_level: high
review:
  chain:
    - role: concept_director
      reviewer: ''
      reviewed_at: 2025-11-09T02:50:00Z
      status: approved
  next_actions: []
summary:
  problem: Требовалось описать комплексную систему заказов игроков с интеграцией сервисов и UX.
  goal: Зафиксировать типы заказов, жизненный цикл, экономику, рейтинги и API взаимодействия.
  essence: Модуль объединяет процессы создания и выполнения заказов, экономические механики и влияние на мир.
  key_points:
    - Каталог типов заказов покрывает боевые, хакерские, логистические и социальные сценарии.
    - Жизненный цикл включает создание, заявки, исполнение, расчёт и арбитраж.
    - Определены интеграции REST, Kafka и UX-компоненты.
content:
  sections:
    - id: methodology
      title: 'Методика детализации'
      body: |
        Документ структурирует заказы по слоям: тип, процесс, экономика, исполнители, арбитраж.
        Описаны роли участников и сервисы, которые обрабатывают данные (social, economy, world, gameplay, npc, factions).
      mechanics_links:
        - mechanics/social/player-orders-advanced.yaml
      assets: []
    - id: order_types
      title: 'Расширенный каталог заказов'
      body: |
        Боевые, хакерские, торговые, политические, исследовательские, социальные, творческие и комбинированные заказы.
        Для каждого типа задана сложность, риск, требования к репутации и рекомендуемые исполнители.
      mechanics_links:
        - mechanics/social/player-orders-types.yaml
      assets: []
    - id: lifecycle
      title: 'Процесс и этапы'
      body: |
        Жизненный цикл включает создание, параметризацию, публикацию, отбор исполнителей, выполнение, подтверждение и расчёт.
        Определены шаги для отзывов и арбитража при спорах.
      mechanics_links:
        - mechanics/social/player-orders-execution.yaml
      assets: []
    - id: channels_contracts
      title: 'Контракты и каналы'
      body: |
        Описаны доски заказов, NPC-брокеры, фракционные и прямые сделки, VR-конференции и форматы контрактов.
        Поддерживаются публичные, закрытые, аукционные и автоматизированные назначения исполнителей.
      mechanics_links:
        - mechanics/social/player-orders-via-npc.yaml
      assets: []
    - id: economy
      title: 'Экономика и расчёты'
      body: |
        Оплата, депозиты, комиссии, бонусы и штрафы обрабатываются economy-service и завязаны на историческую аналитику.
        Маркетплейсы предоставляют индексы цен и рекомендации по наградам.
      mechanics_links:
        - mechanics/social/player-orders-economy.yaml
      assets: []
    - id: ratings
      title: 'Рейтинги и репутация'
      body: |
        Рейтинги исполнителей и заказчиков учитывают выполнение, сроки, качество и жалобы.
        Категории Bronze–Platinum влияют на комиссии, доступ к заказам и награды.
      mechanics_links:
        - mechanics/social/player-orders-reputation-детально.yaml
      assets: []
    - id: npc_role
      title: 'Роль NPC'
      body: |
        NPC выступают заказчиками, исполнителями, брокерами и арбитрами, обеспечивая живой рынок.
        Функции распределены между npc-service и factions-service.
      mechanics_links:
        - mechanics/social/npc-hiring-system.yaml
      assets: []
    - id: world_impact
      title: 'Влияние на мир'
      body: |
        Заказы меняют влияние фракций, города, экономику и социальные связи.
        Описаны связки с city-life и визуальными гайдами для размещения досок.
      mechanics_links:
        - mechanics/social/player-orders-world-impact.yaml
        - mechanics/social/player-orders-creation.yaml
      assets: []
    - id: ux_api
      title: 'UX, API и события'
      body: |
        Зафиксированы UX-паттерны, REST эндпоинты, JSON схемы и Kafka топики для синхронизации сервисов.
        UI компоненты и фигма-макеты синхронизируются с modules/social/player-orders.
      mechanics_links:
        - mechanics/social/player-orders-advanced.yaml
      assets: []
appendix:
  glossary: []
  references:
    - title: 'Player Order Schemas'
      path: schemas/social/player-order.schema.json
    - title: 'Escrow Schema'
      path: schemas/economy/player-order-escrow.schema.json
implementation:
  needs_task: false
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml
  blockers: []
history:
  - version: '1.0.0'
    date: 2025-11-07
    author: concept_director
    changes: 'Детализирован жизненный цикл заказов, экономика и интеграции.'
  - version: '1.0.1'
    date: 2025-11-11
    author: concept_director
    changes: 'Конвертация в YAML, структурирование разделов UX и API.'
validation:
  checksum: ''
  schema_version: '1.0'

