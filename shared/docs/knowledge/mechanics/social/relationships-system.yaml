metadata:
  id: relationships-system
  title: 'Система отношений и репутации'
  document_type: mechanics
  category: social
  status: draft
  version: '1.0.0'
  last_updated: 2025-11-11T00:00:00Z
  concept_approved: false
  concept_reviewed_at: ''
  owners:
    - role: concept_director
      contact: concept@necp.game
  tags:
    - relationships
    - reputation
    - social
  topics:
    - social-structures
    - trust-systems
  related_systems:
    - social-service
    - factions-service
    - economy-service
  related_documents:
    - id: reputation-formulas
      relation: complements
    - id: npc-hiring-system
      relation: references
    - id: player-orders-system-detailed
      relation: complements
  source: shared/docs/knowledge/mechanics/social/relationships-system.md
  visibility: internal
  audience:
    - concept
    - systems
    - social-design
  risk_level: high
review:
  chain:
    - role: concept_director
      reviewer: ''
      reviewed_at: ''
      status: pending
  next_actions: []
summary:
  problem: Социальные взаимодействия требовали формализованной системы отношений с многослойной репутацией и доверием.
  goal: Определить шкалы репутации, доверия, союзы и рейтинги для игроков, кланов и фракций.
  essence: Модуль объединяет шкалу репутации -100…+100, уровни доверия, союзные статусы и рейтинги, влияющие на доступ и экономику.
  key_points:
    - Формализованы базовые отношения игрок-игрок и игрок-клан.
    - Описана шкала доверия с влиянием на контракты и ресурсы.
    - Определены типы союзов, рейтинги и история взаимодействий.
content:
  sections:
    - id: concept_overview
      title: 'Концепция и задачи системы'
      body: |
        Система отношений поддерживает живой социальный мир, связывая игроков, кланы и фракции.
        Она задаёт стандарты доступа к контенту, экономическим преимуществам и кооперативным сценариям.
      mechanics_links:
        - mechanics/social/reputation-formulas.yaml
      assets: []
    - id: player_relationships
      title: 'Базовые отношения игроков'
      body: |
        Игроки классифицируют друг друга как друзей или врагов, что влияет на видимость, координацию и триггеры безопасности.
        Шкала репутации -100…+100 регулирует доступ к территориям, ценам, квестам и реакции охраны.
      mechanics_links:
        - mechanics/social/mentorship-system.yaml
      assets: []
    - id: trust_system
      title: 'Система доверия и контракты'
      body: |
        Уровни доверия 0–100 определяют лимиты торговли, совместных ресурсов и глубину контрактов.
        Балансировка скоростей изменения доверия привязана к совместным операциям и истории предательств.
      mechanics_links:
        - mechanics/social/player-orders-reputation-детально.yaml
      assets: []
    - id: alliances_and_ratings
      title: 'Союзы и рейтинги'
      body: |
        Боевые, торговые, клановые и фракционные союзы предоставляют бонусы к репутации и совместным операциям.
        Рейтинги игроков (общий, боевой, торговый, надёжность, социальный) формируют доступ к контенту и бонусам.
      mechanics_links:
        - mechanics/social/player-orders-system-детально.yaml
      assets: []
    - id: interaction_history
      title: 'История взаимодействий'
      body: |
        Журнал фиксирует торговые сделки, боевые встречи, контракты и квесты, формируя доказательную базу для споров.
        История доступна через социальный профиль и влияет на расчёт доверия и репутации.
      mechanics_links:
        - mechanics/social/player-orders-execution.yaml
      assets: []
    - id: social_hierarchy
      title: 'Иерархия репутации и интеграции'
      body: |
        Репутация агрегируется от связей игрок-игрок до фракций и глобального standing.
        Связи с фракциями обновляют доступ к территориям, экономике и городским событиям.
      mechanics_links:
        - mechanics/social/relationships-system-детально.md
      assets: []
appendix:
  glossary: []
  references: []
implementation:
  needs_task: false
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml
  blockers: []
history:
  - version: '1.0.0'
    date: 2025-11-03
    author: concept_director
    changes: 'Определены отношения, доверие и рейтинги.'
  - version: '1.0.1'
    date: 2025-11-11
    author: concept_director
    changes: 'Конвертация в YAML, консолидация союзов и иерархий.'
validation:
  checksum: ''
  schema_version: '1.0'

