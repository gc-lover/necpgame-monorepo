metadata:
  id: mechanics-dungeon-bosses-catalog
  title: "Dungeon Bosses Catalog — Инстансовые лидеры"
  document_type: mechanics
  category: world
  status: approved
  version: '1.1.0'
  last_updated: 2025-11-13T00:00:00Z
  concept_approved: true
  concept_reviewed_at: 2025-11-08T12:20:00Z
  owners:
    - role: gameplay_lead
      contact: gameplay@necp.game
  tags:
    - dungeons
    - bosses
    - instanced-content
  topics:
    - encounter-design
    - progression
  related_systems:
    - world-service
    - economy-service
    - progression-service
  related_documents:
    - id: mechanics-dungeons-scenarios-catalog
      relation: complements
    - id: mechanics-combat-ai-enemies
      relation: references
  source: "shared/docs/knowledge/mechanics/world/dungeons/dungeon-bosses-catalog.md"
  visibility: internal
  audience:
    - gameplay
    - systems
    - live-ops
  risk_level: medium
review:
  chain:
    - role: mechanics_director
      reviewer: ''
      reviewed_at: ''
      status: pending
  next_actions: []
summary:
  problem: "Нужно структурировать данные по боссам подземелий для world-service и балансных команд."
  goal: "Определить фазы, уникальные навыки, награды, API и телеметрию для всех ключевых боссов."
  essence: "Каталог описывает инстансовых лидеров, их поведение по сложностям, награды и интеграции с сервисами."
  key_points:
    - "Покрыты 7 основных боссов с таблицами сложностей и фаз."
    - "REST и WebSocket контракты world-service зафиксированы."
    - "Содержит схемы данных и аналитические метрики."
    - "Ротация инстансов синхронизирована с прогрессией и событиями."
content:
  sections:
    - id: instance-structure
      title: "Структура инстанса"
      body: |
        Подземелья рассчитаны на 4–10 игроков на Normal, 8–16 на Hard и 10–20 на Apex. Каждый босс связан с сюжетной
        веткой, выдаёт ключи для Hard Mode и комбинирует шутерные фазы, D&D-проверки и взломы. Победа открывает новые
        сценарии и влияет на мировые события.
      mechanics_links:
        - mechanics/world/dungeons/dungeon-scenarios-catalog.yaml
      assets: []
    - id: boss-table
      title: "Каталог боссов"
      body: |
        | ID | Подземелье | Тип | Сложность | Лор |
        | --- | --- | --- | --- | --- |
        | db-echo-guardian | Blackwall Echo | Ritual | Gold → Diamond | Guardian AI NetWatch |
        | db-void-maestro | Neon Trials | Gauntlet | Platinum | Maestro арены Night City |
        | db-bio-harvester | Substructure 77 | Overrun | Gold | Hydra Biotechnica |
        | db-specter-warden | Data Reliquary | Heist | Platinum | Arasaka Shadow Ops |
        | db-rail-tyrant | Ghost Freight | Escort | Gold | Nomad renegade |
        | db-glass-reaper | Aurora Vault | Heist | Platinum → Diamond | Cult of the Wave |
        | db-cinder-archon | Reactor Depths | Gauntlet | Mythic | Petrochem Black Ops |
      mechanics_links:
        - mechanics/world/dungeons/dungeon-bosses-catalog.yaml
      assets: []
    - id: boss-details
      title: "Фазы и уникальные навыки"
      body: |
        Каждому боссу назначены фазы с обязательными проверками: Resonance Shield противодействует ударным build'ам,
        Algorithm Shift требует нетраннеров, Biohazard Cloud проверяет выживаемость, а Neon Crescendo нагружает команду
        синхронными уклонениями. Apex-модификаторы добавляют новые волны, де-баффы и элитных противников. Таблица
        сложностей перечисляет навыки для Normal, Hard, Apex и Apex+ режимов.
      mechanics_links:
        - mechanics/world/dungeons/dungeon-bosses-abilities.yaml
      assets: []
    - id: rest-api
      title: "REST и WebSocket"
      body: |
        REST API world-service включает `GET /world/dungeons/{dungeonId}/bosses`, `GET /world/dungeons/{dungeonId}/bosses/{bossId}`,
        `POST /world/dungeons/bosses/{bossId}/checkpoint`, `PUT /world/dungeons/bosses/{bossId}/difficulty` и `POST /world/dungeons/bosses/{bossId}/rewards`.
        WebSocket `wss://api.necp.game/v1/world/dungeons/{instanceId}/boss` публикует события фаз, триггеры способностей и результаты проверок.
      mechanics_links:
        - mechanics/world/dungeons/dungeon-scenarios-catalog.yaml
      assets: []
    - id: data-schemas
      title: "Схемы данных"
      body: |
        Каталог фиксирует SQL-схемы `dungeon_bosses`, `dungeon_boss_phases` и `dungeon_boss_difficulties`, а также
        Kafka-топики для телеметрии: `dungeon.boss.telemetry`, `dungeon.boss.outcome`, `dungeon.boss.progress`. Системы
        аналитики используют метрики clear rate, fail rate и time to kill.
      mechanics_links:
        - mechanics/world/dungeons/dungeon-scenarios-catalog.yaml
      assets: []
    - id: rotation
      title: "Ротация инстансов"
      body: |
        План ротации покрывает восьминедельный цикл с бонусными модификаторами: NetWatch репутация, Arena Fame, удвоенные
        биокомпоненты, Arasaka чертежи, Nomad Tokens, Wave Cult Favor и Petrochem Credits. После восьмой недели ротация
        повторяется с усиленными аффиксами.
      mechanics_links:
        - mechanics/world/events/world-events-framework.yaml
      assets: []
appendix:
  glossary: []
  references: []
  decisions: []
implementation:
  needs_task: false
  queue_reference:
    - shared/trackers/queues/concept/queued.yaml
  blockers: []
history:
  - version: '1.1.0'
    date: 2025-11-13
    author: mechanics_team
    changes: "Конвертация каталога боссов подземелий из MD в YAML."
validation:
  checksum: ''
  schema_version: '1.0'

